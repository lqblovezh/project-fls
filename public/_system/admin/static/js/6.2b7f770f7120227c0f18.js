/*!
 * {
 *   "buildtime": "2019-05-31 16:22:54",
 *   "workspace": "F:\\X-BOOK\\xcloud\\x-book4\\js",
 *   "username": "LQB",
 *   "hostname": "DESKTOP-QL56OJS",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "fbc007935",
 *     "message": [
 *       "commit fbc00793544e5767db1868f95f89c64b93f3aa79",
 *       "Author: 骆秋波 <1277678760@qq.com>",
 *       "Date:   Fri May 31 15:21:03 2019 +0800",
 *       "    打包上传"
 *     ],
 *     "user": "骆秋波",
 *     "email": "1277678760@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{201:function(e,t,n){"use strict";n.r(t);var r=n(368),s=n(266);for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);n(341);var a=n(2),o=Object(a.a)(s.default,r.a,r.b,!1,null,"86d57a30",null);t.default=o.exports},210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.event_terminal_verison=t.event_terminal=void 0,t.cb=function(e){e&&!e.status&&console.warn(e)},t.getUserId=function(){var e=window.sessionStorage.getItem("userInfo");if(e)return e._id||e.id;return""};var r,s=n(217);(r=s)&&r.__esModule;var i=(0,n(220).detect)(),a=i.name,o=i.version;t.event_terminal=a,t.event_terminal_verison=o},213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserInfo=function(){return r.default.parse(window.sessionStorage.getItem("userInfo"))},t.getDefaultCover=function(){return(0,s.request_get)(restUrl_publish+"/api/videos/images")},t.commonPreview=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)(l(e))},t.commonPreviewCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)(restUrl_publish+"/api/preview",e)},t.platInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.default.compile(restUrl_publish+"/api/current");return(0,s.request_get)(t(e)).then(function(e){return i.default.app_id=e.data.id,sessionStorage.app_id=e.data.id,document.title=e.data.application?e.data.application.name:e.data.publisher.name,e})},t.fileExport=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)(u(e))},t.groupsDelete=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)(restUrl_publish+"/api/groups/delete",e)};var r=o(n(67)),s=n(65),i=o(n(94)),a=(n(214),o(n(66)));function o(e){return e&&e.__esModule?e:{default:e}}var l=a.default.compile(restUrl_publish+"/api/preview/:id");var u=a.default.compile(restUrl_publish+"/api/content/export/:id")},214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.suance=t.loginListener=t.createProListener=t.educeResListener=t.addResListener=void 0;var r=l(n(216)),s=l(n(222)),i=l(n(223)),a=l(n(224)),o=l(n(225));function l(e){return e&&e.__esModule?e:{default:e}}t.addResListener=r.default,t.educeResListener=s.default,t.createProListener=i.default,t.loginListener=a.default,t.suance=o.default},216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.res_id,n=e.res_type,s=e.res_name,i=e.res_exp,a=e.res_author,o=void 0===a?"佚名":a,l=e.res_author_id,u=void 0===l?[]:l,c=e.res_tree,_=void 0===c?[]:c,v=e.res_lables,d=void 0===v?[]:v,p=e.res_attr,f=void 0===p?[]:p,m=e.user_id,g=void 0===m?"":m;if(window.DBI){g=g||(0,r.getUserId)();var h=new DBI.createEvent({event_class:"Resources",event_data:{Resources:[{res_id:t,res_type:n,res_name:s,res_exp:i,res_author:o,res_author_id:u,res_tree:_,res_lables:d,res_attr:f,user_id:g,res_total_play:0,res_total_order:0}]},event_target:"",event_type:"创建",event_source:"WEB",event_sources:r.origin,event_operator:g,event_temporary:"",event_system:"",event_system_verison:"",event_terminal:r.event_terminal,event_terminal_verison:r.event_terminal_verison});DBI.declare(h,r.cb)}};var r=n(210)},222:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.res_url,n=e.user_id,s=void 0===n?"":n;window.DBI&&(s=s||(0,r.getUserId)(),DBI.declare({event_class:"Resources",event_data:{Resources:[{res_url:t}]},event_target:"",event_type:"导出",event_source:"Web",event_sources:r.origin,event_operator:s,event_temporary:"",event_system:"",event_system_version:"",event_terminal:r.event_terminal,event_terminal_verison:r.event_terminal_verison},r.cb))};var r=n(210)},223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.res_id,n=e.res_type,s=e.res_name,i=e.res_cover,a=e.res_covers,o=e.res_exp,l=e.res_author,u=e.res_author_id,c=e.res_Interpreter,_=e.res_Interpreter_id,v=e.res_lables,d=e.res_money,p=e.res_isbn,f=e.res_isbn_ext,m=e.user_id,g=void 0===m?"":m;if(window.DBI){g=g||(0,r.getUserId)();var h=new DBI.createEvent({event_class:"PDAMBook",event_data:{Resources:[{res_id:t,res_type:n,res_name:s,res_cover:i,res_covers:a,res_exp:o,res_author:l,res_author_id:u,res_Interpreter:c,res_Interpreter_id:_,res_lables:v,res_money:d,res_isbn:p,res_isbn_ext:f}]},event_target:t,event_type:"创建",event_source:"WEB",event_sources:r.origin,event_operator:g,event_temporary:"",event_system:"",event_system_verison:"",event_terminal:r.event_terminal,event_terminal_verison:r.event_terminal_verison});DBI.declare(h,r.cb)}};var r=n(210)},224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.user_id,n=e.user_name,s=e.user_nick_name,i=e.user_phone,a=e.user_picture,o=e.user_picture_absolute,l=e.user_email,u=e.user_sex,c=e.user_date_of_birth,_=e.user_address,v=e.user_city;t=t||(0,r.getUserId)(),window.DBI&&DBI.declare({event_class:"User",event_data:{User:[{user_id:t,user_nick_name:s,user_name:n,user_sex:u,user_email:l,user_phone:i,user_picture:a,user_picture_absolute:o,user_address:_,user_city:v,user_date_of_birth:c}]},event_target:"",event_type:"登录",event_source:"",event_sources:r.origin,event_operator:t,event_temporary:"",event_system:"",event_system_version:"",event_terminal:r.event_terminal,event_terminal_verison:r.event_terminal_verison},r.cb)};var r=n(210)},225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.id,n=e.info,s=e.user_id,i=void 0===s?"":s;i=i||(0,r.getUserId)(),window.DBI&&DBI.declare({event_class:"PDAMBook",event_data:{PDAMBook:[n]},event_target:t,event_type:"分发",event_source:"web",event_sources:r.origin,event_operator:i,event_temporary:"",event_system:"",event_system_version:"",event_terminal:r.event_terminal,event_terminal_verison:r.event_terminal_verison},r.cb)};var r=n(210)},266:function(e,t,n){"use strict";n.r(t);var r=n(267),s=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=s.a},267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(18)),s=(a(n(211)),i(n(213)),i(n(338)),n(339),n(93));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{info:{},loginInfo:null,contact:null,outlink:[],ewm:[]}},mounted:function(){this.getloginInfo()},methods:{upload:function(e,t){if("ewm"==e)return this.$refs[e+t][0].click();this.$refs[e].click()},getUrl:function(e,t,n){var r=this;(0,s.getTask)(t.target.files[0]).then(function(t){var s=void 0;(s="ewm"==e?r.ewm[n]:r.loginInfo[e]).value=t.data.path,s.lsUrl=t.data.url,r.push(s)})},getloginInfo:function(){var e,t=this;return(e=r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.getInfo)().then(function(e){t.loginInfo=e.loginInfo,t.outlink=e.outlink,t.contact=e.contact,t.ewm=e.ewm});case 2:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(s,i){try{var a=t[s](i),o=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}("next")})})()},add:function(){this.outlink.push({name:"outlink",key:"",value:"",type:1})},adderm:function(){this.ewm.push({name:"ewm",key:"",value:"",type:2})},del:function(e,t){this[t][e].id&&(0,s.del)({id:this[t][e].id}),this[t].splice(e,1)},push:function(e){var t=this;e.key&&e.value&&(0,s.save)(e).then(function(e){t.$message.success("保存成功"),t.getloginInfo()},function(e){t.$message.error("保存失败")})}}}},268:function(e,t,n){},338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInfo=function(){return(0,o.platInfo)({id:"current"})},t.setting=function(e){return(0,s.request_put)(l(e),e)},t.publisherSetting=function(e){return(0,s.request_put)("/common/api/publisher/setting",e)};var r,s=n(65),i=n(66),a=(r=i)&&r.__esModule?r:{default:r},o=n(213);var l=a.default.compile("/common/api/publisher/setting/app/:id")},341:function(e,t,n){"use strict";var r=n(268);n.n(r).a},368:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loginInfo?n("div",{staticClass:"content"},[e._m(0),n("div",{staticClass:"box"},[n("div",{staticClass:"part"},[n("div",{staticClass:"title"},[n("el-input",{attrs:{value:1,width:"300",placeholder:"请输入内容"},on:{blur:function(t){return e.push(e.loginInfo.title)}},model:{value:e.loginInfo.title.value,callback:function(t){e.$set(e.loginInfo.title,"value",t)},expression:"loginInfo.title.value"}},[n("template",{slot:"prepend"},[e._v("标题：")])],2)],1),n("div",{staticClass:"logo"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.upload("ico")}}},[e._v("网站 ICO 上传")]),n("input",{ref:"ico",staticClass:"hidden",attrs:{type:"file"},on:{change:function(t){return e.getUrl("ico",t)}}}),n("br"),e.loginInfo.ico?n("img",{attrs:{src:e.loginInfo.ico.value}}):e._e()],1),n("div",{staticClass:"logo"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.upload("logo")}}},[e._v("Logo 上传")]),n("input",{ref:"logo",staticClass:"hidden",attrs:{type:"file"},on:{change:function(t){return e.getUrl("logo",t)}}}),n("br"),e.loginInfo.logo?n("img",{attrs:{src:e.loginInfo.logo.value}}):e._e()],1),n("div",{staticClass:"banner"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.upload("banner")}}},[e._v("Banner 上传")]),n("input",{ref:"banner",staticClass:"hidden",attrs:{type:"file"},on:{change:function(t){return e.getUrl("banner",t)}}}),n("br"),e.loginInfo.banner?n("img",{attrs:{src:e.loginInfo.banner.value}}):e._e()],1),n("div",{staticClass:"title"},[n("el-input",{attrs:{value:1,width:"300",placeholder:"请输入内容"},on:{blur:function(t){return e.push(e.contact.phone)}},model:{value:e.contact.phone.value,callback:function(t){e.$set(e.contact.phone,"value",t)},expression:"contact.phone.value"}},[n("template",{slot:"prepend"},[e._v("电话：")])],2)],1),n("div",{staticClass:"title"},[n("el-input",{attrs:{value:1,width:"300",placeholder:"请输入内容"},on:{blur:function(t){return e.push(e.contact.email)}},model:{value:e.contact.email.value,callback:function(t){e.$set(e.contact.email,"value",t)},expression:"contact.email.value"}},[n("template",{slot:"prepend"},[e._v("邮箱：")])],2)],1),n("div",{staticClass:"title"},[n("el-input",{attrs:{value:1,width:"300",placeholder:"请输入内容"},on:{blur:function(t){return e.push(e.contact.qq)}},model:{value:e.contact.qq.value,callback:function(t){e.$set(e.contact.qq,"value",t)},expression:"contact.qq.value"}},[n("template",{slot:"prepend"},[e._v("QQ：")])],2)],1)]),n("div",{staticClass:"part outline"},[n("div",{staticClass:"info"},[e._v("注：登录页-联系我们")]),e._l(e.ewm,function(t,r){return e.ewm.length?n("div",{staticClass:"group"},[n("el-input",{staticClass:"link",attrs:{placeholder:"联系我们相关名称",size:"small"},on:{blur:function(n){return e.push(t)}},model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"item.key"}}),t.lsUrl?n("img",{staticStyle:{height:"30px",margin:"0","margin-right":"20px"},attrs:{src:t.lsUrl}}):n("img",{staticStyle:{height:"30px",margin:"0","margin-right":"20px"},attrs:{src:t.value}}),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.upload("ewm",r)}}},[e._v("二维码上传")]),n("input",{ref:"ewm"+r,refInFor:!0,staticClass:"hidden",attrs:{type:"file"},on:{change:function(t){return e.getUrl("ewm",t,r)}}}),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.del(r,"ewm")}}},[e._v("删除")])],1):e._e()}),n("div",{staticClass:"group add"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.adderm}},[e._v("添加")])],1)],2),n("div",{staticClass:"part outline"},[n("div",{staticClass:"info"},[e._v("注：登录页-外链地址")]),e._l(e.outlink,function(t,r){return n("div",{staticClass:"group"},[n("el-input",{staticClass:"link",attrs:{placeholder:"外链名称",size:"small"},on:{blur:function(n){return e.push(t)}},model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"item.key"}}),n("el-input",{staticClass:"link",attrs:{placeholder:"外链地址",size:"small"},on:{blur:function(n){return e.push(t)}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}}),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.del(r,"outlink")}}},[e._v("删除")])],1)}),n("div",{staticClass:"group add"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.add}},[e._v("添加")])],1)],2)])]):e._e()},s=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"titleWrap loginSetting"},[t("div",{staticClass:"tableTop"},[t("div",{staticClass:"title vel-line"},[t("span",{staticClass:"titleText"},[this._v("登录页设置")])])])])}];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s})}}]);