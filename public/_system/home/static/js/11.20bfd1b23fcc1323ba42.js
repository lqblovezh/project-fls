/*!
 * {
 *   "buildtime": "2019-05-31 16:22:54",
 *   "workspace": "F:\\X-BOOK\\xcloud\\x-book4\\js",
 *   "username": "LQB",
 *   "hostname": "DESKTOP-QL56OJS",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "fbc007935",
 *     "message": [
 *       "commit fbc00793544e5767db1868f95f89c64b93f3aa79",
 *       "Author: 骆秋波 <1277678760@qq.com>",
 *       "Date:   Fri May 31 15:21:03 2019 +0800",
 *       "    打包上传"
 *     ],
 *     "user": "骆秋波",
 *     "email": "1277678760@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{203:function(t,e,a){"use strict";a.r(e);var o=a(599),s=a(265);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);a(397);var r=a(3),n=Object(r.a)(s.default,o.a,o.b,!1,null,"308f0d34",null);e.default=n.exports},265:function(t,e,a){"use strict";a.r(e);var o=a(266),s=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);e.default=s.a},266:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},s=a(88),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(396));e.default={components:{},data:function(){return{isActive:!0,dialogVisible:!1,state:{txt:"获取验证码",t:""},isSend:!1,formData:{publisher_name:"",publisher_subdomain:"",liaisons:"",user_name:"",user_pass:"",user_pass_confirmation:"",email:"",address:"",phone:"",code_id:"",code_val:""},code:{code_id:"",code_val:"",code_img:""}}},methods:o({change:function(t){this.leftMenu.forEach(function(e,a){e.isActive=a==t})},open:function(){/^1[34578]\d{9}$/.test(this.formData.phone)?(this.state,""==this.state.t&&(this.dialogVisible=!0,this.code.code_val="",this.getCode())):this.$message.error("请先填入正确的手机号码")},getCode:function(){var t=this;i.getCode().then(function(e){t.code.code_id=e.data.code_id,t.code.code_img=e.data.code_img})},getPhoneCode:function(){var t=this;i.msg({phone:this.formData.phone,code_id_img:this.code.code_id,code_val_img:this.code.code_val,not_check_user_exist:1}).then(function(e){e.data&&(t.$message.success("验证短信已发送,请注意查收"),t.formData.code_id=e.data.code_id,t.dialogVisible=!1),""==t.state.t&&(t.state={txt:"秒后可重发",t:60},t.clock())},function(e){t.$message.error(e.payload.message)})},clock:function(){var t=this;setTimeout(function(e){--t.state.t,t.state.t>0?t.clock():t.state={txt:"重新发送",t:""}},1e3)},send:function(){var t=this;i.save(this.formData).then(function(e){t.$go("/home"),t.setLoginDialog(!0)},function(e){var a=e.payload;t.$alert(a)})}},(0,s.mapMutations)(["setLoginDialog"]))}},267:function(t,e,a){},396:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(t){return(0,s.request_get)("/system/api/cooperations/apply",t)},e.audit=function(t){return(0,s.request_post)(r(t),t)},e.save=function(t){return(0,s.request_post)("/system/api/cooperations/apply",t)},e.getCode=function(t){return(0,s.request_get)("/system/api/captcha/image",t)},e.checkCode=function(t){return(0,s.request_post)("/system/api/captcha/check",t)},e.msg=function(t){return(0,s.request_post)("/system/api/captcha/mobile",t)};var o,s=a(62),i=a(63);var r=((o=i)&&o.__esModule?o:{default:o}).default.compile("/system/api/cooperations/audit/:id")},397:function(t,e,a){"use strict";var o=a(267);a.n(o).a},599:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demo"},[a("el-dialog",{attrs:{visible:t.dialogVisible,width:"300px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("请输入验证码")]),a("div",{staticClass:"checkCode"},[a("el-input",{attrs:{placeholder:"请填入右侧侧验证码",width:"200"},model:{value:t.code.code_val,callback:function(e){t.$set(t.code,"code_val",e)},expression:"code.code_val"}}),a("img",{attrs:{src:t.code.code_img,width:"100"},on:{click:t.getCode}})],1),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{background:"#ffbf33",border:"1px solid #ffbf33"},attrs:{type:"primary",size:"small"},on:{click:t.getPhoneCode}},[t._v("确定")])],1)]),a("div",{staticClass:"dy"},[t._m(0),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[t._v("用户注册")]),t.isSend?a("div",{staticClass:"success"},[a("h2",{staticClass:"title"},[t._v("注册成功")])]):a("form",{staticClass:"form"},[a("div",{staticClass:"group"},[a("label",{attrs:{for:"pwd"}},[t._v("用户名：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.user_name,expression:"formData.user_name"}],attrs:{id:"pwd"},domProps:{value:t.formData.user_name},on:{input:function(e){e.target.composing||t.$set(t.formData,"user_name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("label",{attrs:{for:"rpwd"}},[t._v("密码：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.user_pass,expression:"formData.user_pass"}],attrs:{id:"rpwd",type:"password"},domProps:{value:t.formData.user_pass},on:{input:function(e){e.target.composing||t.$set(t.formData,"user_pass",e.target.value)}}})]),a("div",{staticClass:"group"},[a("label",{attrs:{for:"phone"}},[t._v("密码确认：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.user_pass_confirmation,expression:"formData.user_pass_confirmation"}],attrs:{id:"phone",type:"password"},domProps:{value:t.formData.user_pass_confirmation},on:{input:function(e){e.target.composing||t.$set(t.formData,"user_pass_confirmation",e.target.value)}}})]),a("div",{staticClass:"group"},[a("label",{attrs:{for:"account"}},[t._v("尊姓大名：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.liaisons,expression:"formData.liaisons"}],attrs:{id:"account"},domProps:{value:t.formData.liaisons},on:{input:function(e){e.target.composing||t.$set(t.formData,"liaisons",e.target.value)}}})]),a("div",{staticClass:"group"},[a("label",{attrs:{for:"linkman"}},[t._v("二级域名：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.publisher_subdomain,expression:"formData.publisher_subdomain"}],attrs:{id:"linkman"},domProps:{value:t.formData.publisher_subdomain},on:{input:function(e){e.target.composing||t.$set(t.formData,"publisher_subdomain",e.target.value)}}})]),a("div",{staticClass:"group"},[a("label",{attrs:{for:"name"}},[t._v("出版社名称：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.publisher_name,expression:"formData.publisher_name"}],attrs:{id:"name"},domProps:{value:t.formData.publisher_name},on:{input:function(e){e.target.composing||t.$set(t.formData,"publisher_name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("label",{attrs:{for:"codes"}},[t._v("手机号：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],attrs:{id:"codes"},domProps:{value:t.formData.phone},on:{input:function(e){e.target.composing||t.$set(t.formData,"phone",e.target.value)}}})]),a("div",{staticClass:"group"},[a("label",{attrs:{for:"code"}},[t._v("验证码：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.code_val,expression:"formData.code_val"}],attrs:{id:"code"},domProps:{value:t.formData.code_val},on:{input:function(e){e.target.composing||t.$set(t.formData,"code_val",e.target.value)}}}),a("input",{staticClass:"getCode button",attrs:{type:"button",value:this.state.t+t.state.txt},on:{click:t.open}})]),a("div",{staticClass:"group"},[a("label"),a("input",{staticClass:"button",attrs:{type:"button",value:"提交"},on:{click:t.send}})])])])])],1)},s=[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"crumbs"},[e("li",[this._v("X-BOOK云平台")]),e("li",[this._v("/")]),e("li",{staticClass:"ops"},[this._v("用户注册")])])}];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return s})}}]);