/*!
 * {
 *   "buildtime": "2019-05-31 16:22:54",
 *   "workspace": "F:\\X-BOOK\\xcloud\\x-book4\\js",
 *   "username": "LQB",
 *   "hostname": "DESKTOP-QL56OJS",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "fbc007935",
 *     "message": [
 *       "commit fbc00793544e5767db1868f95f89c64b93f3aa79",
 *       "Author: 骆秋波 <1277678760@qq.com>",
 *       "Date:   Fri May 31 15:21:03 2019 +0800",
 *       "    打包上传"
 *     ],
 *     "user": "骆秋波",
 *     "email": "1277678760@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{199:function(t,n,e){"use strict";e.r(n);var o=e(597),s=e(249);for(var i in s)"default"!==i&&function(t){e.d(n,t,function(){return s[t]})}(i);e(388);var a=e(3),r=Object(a.a)(s.default,o.a,o.b,!1,null,"bd0808ca",null);n.default=r.exports},249:function(t,n,e){"use strict";e.r(n);var o=e(250),s=e.n(o);for(var i in o)"default"!==i&&function(t){e.d(n,t,function(){return o[t]})}(i);n.default=s.a},250:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0});var o=u(e(15)),s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},i=e(65),a=(u(e(0)),e(88)),r=u(e(89)),l=u(e(64)),c=u(e(92));function u(t){return t&&t.__esModule?t:{default:t}}n.default={data:function(){return{info:null,menu:[{name:"首页",isActive:!1,url:"/home"},{name:"平台介绍",isActive:!1,url:"/introduce"},{name:"文档与培训",isActive:!1,url:"/about"},{name:"火鸟转档助手",isActive:!1,url:""},{name:"个人作品",isActive:!1,url:"/personal"}],contactDialog:!1,form:{user_name:"",user_pass:""},loginInfo:null,scrollTop:0}},mounted:function(){var t,n=this;return(t=o.default.mark(function t(){var e,s;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.scrollTop=document.documentElement.scrollTop||document.body.scrollTop,window.addEventListener("scroll",n.handleScroll,!0),n.change(n.$route.path),e=sessionStorage.getItem("loginInfo")?l.default.parse(sessionStorage.getItem("loginInfo")):null,s=sessionStorage.getItem("token"),(0,i.getInfo)().then(function(t){n.info=t}),!e&&!s){t.next=9;break}return t.next=9,(0,i.isLogin)().then(function(t){n.loginInfo=t.data;var e=n.loginInfo.publishers[0],o=e.apps.find(function(t){return"publish"==t.type}).base_url;restUrl_publish=e.base_url+o}).catch(function(t){sessionStorage.clear()});case 9:case"end":return t.stop()}},t,n)}),function(){var n=t.apply(this,arguments);return new Promise(function(t,e){return function o(s,i){try{var a=n[s](i),r=a.value}catch(t){return void e(t)}if(!a.done)return Promise.resolve(r).then(function(t){o("next",t)},function(t){o("throw",t)});t(r)}("next")})})()},computed:s({},(0,a.mapState)({loginDialog:function(t){return t.loginDialog}})),watch:{"$route.path":function(t,n){this.init(t)}},methods:s({init:function(t){this.change(this.$route.path)},scroll:function(t){var n=document.documentElement.scrollTop||document.body.scrollTop;this.scrollAnimation(n,t)},scrollAnimation:function(t,n){var e=this,o=document.documentElement||document.body,s=n-t,i=t;setTimeout(function(){var a=Math.ceil(s/10);i+=a,o.scrollTop=t,s>10||s<-10?e.scrollAnimation(i,n):o.scrollTop=t},1)},change:function(t){t.includes("/")||(t=(0,r.default)("/",t)),this.$router.push({path:t}),this.menu.forEach(function(n){n.isActive=(0,r.default)("/",n.url)==t})},send:function(){var n=this;(0,i.sendInfo)(this.form).then(function(e){if(e.data.publishers){n.$message.success(e.message);var o=e.data,s=o.token,i=o.expire_time;n.loginInfo=l.default.parse(e.data),window.sessionStorage.setItem("token",s),window.sessionStorage.setItem("loginInfo",l.default.stringify(e.data)),window.sessionStorage.setItem("userInfo",l.default.stringify(e.data.user)),c.default.set("token",s,{expires:new Date(i),path:"/",domain:t.restUrl_system.replace("http://",".")});var a=e.data.publishers[0],r=a.apps.find(function(t){return"publish"==t.type}).base_url;restUrl_publish=a.base_url+r,n.setLoginDialog(!1)}else n.$message.error("请先开通应用")},function(t){n.$refs.user.focus(),n.$message.error("账号或密码错误")})},loginOut:function(){var t=this;this.$confirm("是否确认退出?").then(function(n){(0,i.loginOut)().then(function(n){sessionStorage.clear(),t.loginInfo=null,t.$route.path.includes("home")||t.$go("/home")})}).catch(function(t){})},register:function(){this.$go("/cooperate"),this.setLoginDialog(!1)},backstage:function(){var t=this.loginInfo.publishers[0],n=t.base_url,e=t.apps;location.href=n+e[0].base_url+"/admin"},navChange:function(t){if(!t)return this.$message.warning("开发中...敬请期待");this.change(t)},handleScroll:function(){this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop}},(0,a.mapMutations)(["setLoginDialog"]))}}).call(this,e(5))},251:function(t,n,e){},388:function(t,n,e){"use strict";var o=e(251);e.n(o).a},597:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"box"},[e("div",{ref:"head",staticClass:"head",class:{fadeIn:t.scrollTop>70}},[e("div",{staticClass:"header"},[e("div",{staticClass:"logo",on:{click:function(n){return t.change("/home")}}},[e("img",{attrs:{src:t.info&&t.info.loginInfo.logo.value}}),e("span",[t._v(t._s(t.info&&t.info.loginInfo.title.value))])]),e("div",{staticClass:"right"},[e("div",{staticClass:"menu"},t._l(t.menu,function(n,o){return e("span",["/personal"!=n.url||t.loginInfo?e("span",{staticClass:"goPath",class:{active:n.isActive},on:{click:function(e){return t.navChange(n.url)}}},[t._v(t._s(n.name))]):t._e()])}),0),e("div",{staticClass:"btns"},[t.loginInfo?e("el-button",{attrs:{type:"primary"},on:{click:t.backstage}},[t._v("控制台")]):t._e(),t.loginInfo?e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.loginOut}},[t._v("退出")]):t._e(),t.loginInfo?t._e():e("el-button",{attrs:{plain:""},on:{click:function(n){return t.setLoginDialog(!0)}}},[t._v("登录")])],1)])])]),e("router-view",{staticClass:"container-box"}),e("div",{staticClass:"footer"},[e("div",{staticClass:"footer-box"},[t.info?e("div",{staticClass:"outLink"},t._l(t.info.outlink,function(n){return e("a",{attrs:{href:n.value}},[t._v(t._s(n.key))])}),0):t._e(),e("div",{staticClass:"contact"},[e("div",{staticClass:"title"},[t._v("关注我们")]),t.info?e("div",{staticClass:"list"},t._l(t.info.ewm,function(n){return e("div",{staticClass:"ewm"},[e("div",{staticClass:"txt"},[t._v(t._s(n.key))]),e("img",{attrs:{src:n.value}})])}),0):t._e()])])]),e("div",{staticClass:"sideBar"},[e("div",{staticClass:"concatBox",on:{mouseenter:function(n){t.contactDialog=!0},mouseleave:function(n){t.contactDialog=!1}}},[t.contactDialog?e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v("咨询联系")]),t.info?e("div",{staticClass:"way"},[e("p",{staticClass:"phone"},[t._v(" "+t._s(t.info.contact.phone.value))]),e("p",{staticClass:"email"},[t._v(" "+t._s(t.info.contact.email.value))]),e("p",{staticClass:"qq"},[t._v(" "+t._s(t.info.contact.qq.value))])]):t._e()]):t._e()]),e("div",{staticClass:"goBack",on:{click:function(n){return t.scroll(0)}}})]),t.loginDialog?e("div",{ref:"dialog",staticClass:"dialog"},[e("form",{staticClass:"loginInfo"},[e("div",{attrs:{id:"close"},on:{click:function(n){return t.setLoginDialog(!1)}}}),e("div",{staticClass:"title"}),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user_name,expression:"form.user_name"}],ref:"user",staticClass:"user",attrs:{placeholder:"请输入用户名"},domProps:{value:t.form.user_name},on:{input:function(n){n.target.composing||t.$set(t.form,"user_name",n.target.value)}}})]),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user_pass,expression:"form.user_pass"}],staticClass:"pwd",attrs:{placeholder:"请输入密码",type:"password"},domProps:{value:t.form.user_pass},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.send(n)},input:function(n){n.target.composing||t.$set(t.form,"user_pass",n.target.value)}}})]),e("p",[e("input",{staticClass:"button",attrs:{type:"button",value:"登录"},on:{click:t.send}})]),e("p",{staticClass:"register",on:{click:t.register}},[t._v("注册试用账户")])])]):t._e()],1)},s=[];e.d(n,"a",function(){return o}),e.d(n,"b",function(){return s})}}]);