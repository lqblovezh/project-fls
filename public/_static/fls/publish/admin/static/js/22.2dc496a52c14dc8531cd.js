/*!
 * {
 *   "buildtime": "2019-07-19 15:01:49",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "b17f442a6",
 *     "message": [
 *       "commit b17f442a62eb78bc9ab78ffe68e3afb76c3e3548",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Fri Jul 19 14:48:13 2019 +0800",
 *       "    xxxxxx"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1322:function(t,e,a){"use strict";var i=a(941);a.n(i).a},1342:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"index clearfix"},[i("Top",{attrs:{currentPlant:"X-PUBLISH"}}),i("Menu",{attrs:{curr:"/contentLibrary/digitalBook"}}),i("div",{staticClass:"mainRight"},[i("div",{staticClass:"contentWrap"},[i("div",{staticClass:"contentLeft"},[i("div",{staticClass:"maindata"},[i("div",{staticClass:"serachWrap",on:{keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.query()}}},[i("div",{staticClass:"title"}),i("form",{attrs:{id:"mainForm"}},[i("span",{staticClass:"group-inline"},[i("el-input",{attrs:{placeholder:"请输入名称",name:"name",clearable:""},model:{value:a.searchQuery.name,callback:function(t){a.$set(a.searchQuery,"name",t)},expression:"searchQuery.name"}})],1),i("span",{staticClass:"group-inline"},[i("el-input",{attrs:{placeholder:"所属用户",name:"onwer_name",clearable:""},model:{value:a.searchQuery.onwer_name,callback:function(t){a.$set(a.searchQuery,"onwer_name",t)},expression:"searchQuery.onwer_name"}})],1),i("span",{staticClass:"group-inline"},[i("TimePick",{attrs:{inputsName:["start_time","end_time"],placeholder:["分发起始时间","分发结束时间"]}})],1),i("span",{staticClass:"group-inline"},[i("select",{staticClass:"form-control",staticStyle:{width:"110px"},attrs:{placeholder:"状态",name:"status"}},[i("option",{attrs:{value:""}},[a._v("审核状态")]),a._l(a.status,function(t,e){return i("option",{domProps:{value:e}},[a._v(a._s(t))])})],2)]),i("span",{staticClass:"group-inline"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:a.query}},[a._v("搜索")]),i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return a.opneDetailDialog("info")}}},[a._v("新建")])],1)])]),i("div",{staticClass:"tableWrap"},[i("div",{staticClass:"tableTop"},[i("div",{staticClass:"title vel-line"},[i("span",[a._v("全部 "),a.page?i("span",{staticClass:"totalNum"},[a._v("("+a._s(a.page.total)+")")]):a._e()]),i("div",{staticClass:"btns"},[i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:a.urgentDigital}},[a._v("加急审核")]),i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:a.moveToOther}},[a._v("移动分组")]),i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return a.delChoosen(!1)}}},[a._v("删除")])],1)])]),i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",{staticClass:"allBtn"},[i("input",{attrs:{type:"checkbox"},on:{click:function(t){return a.checkAll(t)}}})]),i("th",[a._v("名称")]),i("th",[a._v("所属用户")]),"practices"==a.product_type?i("th",[a._v("总分值")]):a._e(),"practices"==a.product_type?i("th",[a._v("题型数量汇总")]):a._e(),i("th",[a._v("审核状态")]),i("th",[a._v("发布状态")]),i("th",{staticClass:"time"},[a._v("分发时间")]),i("th",{staticClass:"operate"},[a._v("操作")])])]),a.list?i("tbody",a._l(a.list,function(e){return i("tr",{key:e.id},[i("th",[i("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids"},domProps:{value:e.id}})]),i("th",[i("img",{staticClass:"cover-photo",attrs:{src:e.img_src}}),i("div",{staticClass:"th-name bookName",attrs:{title:e.name}},[a._v(a._s(e.name))])]),i("th",[i("div",{staticClass:"th-name",attrs:{title:e.owner_name}},[a._v(a._s(e.owner_name))])]),"practices"==a.product_type?i("td",[a._v(a._s(e.total))]):a._e(),"practices"==a.product_type?i("td",[e.content?i("ul",{staticClass:"contList"},a._l(e.content,function(t){return t.count?i("li",[i("span",{domProps:{textContent:a._s(t.name)}}),i("span",{domProps:{textContent:a._s(t.count)}})]):a._e()}),0):a._e()]):a._e(),i("td",{class:a.getColor(e.status)},[a._v(a._s(e.status))]),i("th",[i("div",{staticClass:"th-name"},[a._v(a._s(e.release_status_name))])]),i("th",[i("div",{staticClass:"th-name"},[a._v(a._s(e.create_time||"-"))])]),i("th",[i("div",{staticClass:"btns"},[i("Icon",{attrs:{size:"mini",title:"详情",type:"icon-detail",plain:""},on:{click:function(t){return a.opneDetailDialog("info",e)}}}),1!=e.audits_status?i("Icon",{attrs:{size:"mini",title:"审核",type:"icon-menu-publish",plain:""},on:{click:function(t){return a.audits(e.id)}}}):a._e(),3==e.audits_status?i("Icon",{attrs:{size:"mini",title:"分发",type:"icon-fenfa",plain:""},on:{click:function(t){return a.opnePublishDialog(e)}}}):a._e(),1!=e.audits_status?i("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(t){return a.delChoosen(e.id)}}}):a._e()],1)])])}),0):a._e()]),a.page?i("div",{staticClass:"pageWrap"},[i("el-pagination",{attrs:{small:!1,background:"","current-page":a.page.num,"page-sizes":[10,50,100],"page-size":a.page.offset,layout:"total, sizes, prev, pager, next, jumper",total:a.page.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1):a._e()]),i("div",{staticClass:"gruopList"},[i("GroupList",{attrs:{groupList:a.groupList,currGroup:a.currGroup},on:{addGroup:a.addGroup,updateGroup:a.updateGroup,delGroup:a.delGroup,groupChange:a.groupChange}})],1)])])])]),i("div",{staticClass:"dialogs"},[i("el-dialog",{attrs:{center:!1,visible:a.detailDialog,"close-on-click-modal":!1,top:"50px",width:"1000px"},on:{"update:visible":function(t){a.detailDialog=t}}},[i("div",{staticClass:"content",attrs:{slot:"title"},slot:"title"},[a.detailDialog?i("Detail",{attrs:{type:a.detailDialogType,detailDialog:a.detailDialog,readOnly:a.readOnly,detailData:a.detailData,detailType:a.product_type},on:{detailBack:a.detailBack,"update:detailDialog":function(t){a.detailDialog=t},"update:detail-dialog":function(t){a.detailDialog=t},saveok:a.saveOk}}):a._e()],1)]),a.publishDialog?i("Dispense",{attrs:{publishDialog:a.publishDialog,item:a.detailData,is_release:!1},on:{"update:publishDialog":function(t){a.publishDialog=t},"update:publish-dialog":function(t){a.publishDialog=t},dispenseOk:a.dispenseOk}}):a._e(),i("Examine",{attrs:{examineDialog:a.examineDialog},on:{"update:examineDialog":function(t){a.examineDialog=t},"update:examine-dialog":function(t){a.examineDialog=t},saveExamine:a.saveExamine}}),i("el-dialog",{attrs:{center:!1,visible:a.moveToOtherDiaolog,"close-on-click-modal":!1,title:"移动分组",width:"500px"},on:{"update:visible":function(t){a.moveToOtherDiaolog=t}}},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("移动到")]),i("select",{ref:"moveToId",staticClass:"form-control",attrs:{placeholder:"请选择"}},a._l(a.groupList,function(t,e){return t.id!=a.currGroup&&""!=t.id?i("option",{domProps:{value:t.id,textContent:a._s(t.name)}}):a._e()}),0)]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.moveToOtherDiaolog=!1}}},[a._v("返回")]),i("el-button",{attrs:{type:"primary"},on:{click:a.moveToSubmit}},[a._v(" 确定")])],1)])],1)],1)}var n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},366:function(t,e,a){"use strict";a.r(e);var i=a(1342),n=a(939);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(1322);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"581d9077",null);e.default=o.exports},375:function(t,e,a){"use strict";a.r(e);var i=a(376),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},376:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["groupList","currGroup"],data:function(){return{newGroupDialogOpen:!1,updateGroupDialogOpen:!1,currEditGroup:null}},created:function(){},computed:{},methods:{groupChange:function(t){this.$emit("groupChange",t)},addGroupDialog:function(){},delGroup:function(e){var a=this;this.$confirm("是否删除分组:"+e.name).then(function(t){dir(t),a.$emit("delGroup",e.id)}).catch(function(t){dir(t)})},updateGroupDialog:function(t){this.updateGroupDialogOpen=!0,this.currEditGroup=t},addGroup:function(){if(this.$refs.addGroupForm.valiAll()){var t=document.querySelector("#addGroupForm");this.$emit("addGroup",t),this.newGroupDialogOpen=!1}},updateGroup:function(){if(this.$refs.updateGroupForm.valiAll()){var t=document.querySelector("#updateGroupForm");this.$emit("updateGroup",t),this.updateGroupDialogOpen=!1}}}}},377:function(t,e,a){},378:function(t,e,a){"use strict";a.r(e);var i=a(379),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},379:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(126),n=a(127);e.default={mixins:[i.getIconStyle],props:{publishDialog:{type:Boolean,default:!1},item:{type:Object,default:{}},is_release:Boolean},data:function(){return{list:null,coverDialog:!1,choiceDialog:!1,currentItem:null,currentVersion:null}},created:function(){this.getList()},methods:{getList:function(){var i=this;(0,n.getDispense)({entity_type:this.item.type_number||this.item.type,id:this.item.id}).then(function(t){i.list=t.data}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},colse:function(){this.$emit("update:publishDialog",!1)},save:function(){var e=[];this.$refs.dispense.querySelectorAll("input[type=checkbox]:checked").forEach(function(t){e.push(t.value)}),e.length?this.$emit("dispenseSave",e):this.$message.error("请选择你要发布的平台")},pushTime:function(t){return t?"最近"+t+"发布过":"最近暂无分发"},push:function(e){var a=this;this.currentItem=e,this.is_release&&e.release_msg.length?this.$confirm("信息不全是否分发?").then(function(t){e.version?a.coverDialog=!0:a.dispense()},function(t){var e=t.payload;log(e.message)}).catch(function(t){log("cancel")}):e.version&&e.version.length?this.coverDialog=!0:this.dispense()},dispense:function(t,e){var i=this;(0,n.dispense)({platform_id:this.currentItem.id,audits_id:this.item.audits_id,is_cover:t,version_id:e}).then(function(t){i.$message.success("分发提交成功,请稍后查看结果!"),i.$emit("dispenseOk")}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},getdefect:function(t){return"缺失字段: "+t.release_msg.join("/")},getBtnName:function(t){return this.is_release&&!t.is_release?"缺少关键信息不能分发":t.release_msg&&t.release_msg.length?"确认分发":"分发"},coverDispense:function(){var e=this;if(!this.currentVersion)return this.$message.warning("请选择你要覆盖的版本号!");var t=this.currentItem.version.find(function(t){return t.xread_book_id===e.currentVersion}).version_id;this.dispense(this.currentVersion,t)}}}},380:function(t,e,a){},381:function(t,e,a){"use strict";a.r(e);var i=a(382),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},382:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=n(a(5)),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=a(387),i=(n(a(84)),a(395));function n(t){return t&&t.__esModule?t:{default:t}}function v(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={props:{resourceDialog:{type:Boolean,default:!1},singleElection:{type:Boolean,default:!0},type:{type:[String,Number],default:"1"},curSoucesList:{type:Array,default:[]},isShowType:{type:Boolean,default:!1},idName:String,isShowSearch:Boolean,isShowResource:Boolean,isDebris:{default:!1},parameter:Object},data:function(){return{dataList:[],page:null,currentType:null,contentType:[{name:"电子书",value:"1"},{name:"图片",value:"3"},{name:"音频",value:"4"},{name:"视频",value:"5"},{name:"3D内容",value:"6"},{name:"VR",value:"7"},{name:"AR",value:"8"}],query:{},answerLevel:[{label:"简单",value:"easy"},{label:"一般",value:"general"},{label:"困难",value:"difficulty"}],groupList:[]}},created:function(){this.currentType=this.type||"1",this.isShowResource&&this.contentType.push({name:"共享资源",value:"22"}),this.type.includes("20")&&(this.contentType=[{name:"权威案例",value:"20-1"},{name:"法律法规",value:"20-2"},{name:"法律观点",value:"20-3"},{name:"裁判文书",value:"20-4"},{name:"图书",value:"20-6"},{name:"文书范本",value:"20-7"}]),31==this.type&&this.getGroupList()},methods:{getList:function(t,e){var a=this,i=0<arguments.length&&void 0!==t?t:this.page&&this.page.num||1,n=1<arguments.length&&void 0!==e?e:this.page&&this.page.offset||10;(0,r._addBooks)(f({pageNum:i,pageOffset:n,type:this.currentType||this.type},this.parameter,this.query)).then(function(t){a.dataList=t.data||[],a.page=t.page})},colse:function(){this.$emit("update:resourceDialog",!1)},save:function(){var e=[];this.$refs.dispense.querySelectorAll("input[type=checkbox]:checked").forEach(function(t){e.push(t.value)}),e.length?this.$emit("dispenseSave",e):this.$message.error("请选择你要发布的平台")},search:function(){this.getList(1,this.page.offset)},addSelection:function(){var d=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(r,s){return function e(t,a){try{var i=o[t](a),n=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(n).then(function(t){e("next",t)},function(t){e("throw",t)});r(n)}("next")})}}(p.default.mark(function t(){var e,a,i,n,r,s,o,l,u,c;return p.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.querySelector(".addBookForm"),a=e.querySelectorAll('input[name="ids"]:checked'),i=[],a.length){t.next=5;break}return t.abrupt("return",d.$message.warning("请选择添加内容"));case 5:n=function(e){if(-1<d.curSoucesList.findIndex(function(t){return t.id==e.value||t.b_id==e.value}))return"continue";i.push(f({},d.dataList.find(function(t){return t.id==e.value}),{action:"add"}))},s=!(r=!0),o=void 0,t.prev=9,l=a[Symbol.iterator]();case 11:if(r=(u=l.next()).done){t.next=19;break}if(c=u.value,"continue"===n(c))return t.abrupt("continue",16);t.next=16;break;case 16:r=!0,t.next=11;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(9),s=!0,o=t.t0;case 25:t.prev=25,t.prev=26,!r&&l.return&&l.return();case 28:if(t.prev=28,s)throw o;t.next=31;break;case 31:return t.finish(28);case 32:return t.finish(25);case 33:d.$emit("select",[].concat(i,v(d.curSoucesList)));case 34:case"end":return t.stop()}},t,d,[[9,21,25,33],[26,,28,32]])}))()},checkAll:function(i,t){var n=this;document.querySelector("."+t).querySelectorAll('input[name="ids"]').forEach(function(e,t){var a=n.curSoucesList.findIndex(function(t){return t.id==e.value||t.b_id==e.value});i.target.checked?-1==a&&n.curSoucesList.push(f({},n.dataList.find(function(t){return t.id==e.value}),{action:"add"})):n.curSoucesList.splice(a,1),e.checked=i.target.checked})},uncheckedAll:function(t,e){var a=this,i=this.curSoucesList.findIndex(function(t){return a.idName?t[a.idName]==e[a.idName]:t.id==e.id||t.b_id==e.id});t.target.checked?-1==i&&this.curSoucesList.push(e):this.curSoucesList.splice(i,1),this.singleElection||(this.$refs.ids.forEach(function(t){return t.checked=!1}),t.target.checked=!0)},isChecked:function(e){var a=this;return-1<this.curSoucesList.findIndex(function(t){return a.idName?t[a.idName]==e[a.idName]:t.id===e.id||t.b_id===e.id})},handleSizeChange:function(t){this.getList(1,t)},handleCurrentChange:function(t){this.getList(t,this.page.offset)},getGroupList:function(){var e=this;(0,i.listGroup)().then(function(t){e.groupList=t.data})}},watch:{currentType:function(t){this.getList()}}}},383:function(t,e,a){},384:function(t,e,a){"use strict";a.r(e);var i=a(386),n=a(375);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(385);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"82bd0f98",null);e.default=o.exports},385:function(t,e,a){"use strict";var i=a(377);a.n(i).a},386:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("div",{staticClass:"groupWrap"},[i("div",{staticClass:"list"},[i("ul",a._l(a.groupList,function(e){return i("li",{staticClass:"licontent",class:{red:e.id==a.currGroup}},[i("div",{staticClass:"name ellipsis",attrs:{title:e.name+"("+e.num+")"},on:{click:function(t){return a.groupChange(e.id)}}},[i("span",{staticClass:"title"},[a._v(a._s(e.name))]),i("span",[a._v(a._s("("+e.num+")"))])]),""!=e.id&&"non"!=e.id?i("div",{staticClass:"btns"},[i("span",{on:{click:function(t){return a.updateGroupDialog(e)}}},[i("i",{staticClass:"el-icon-edit"})]),i("span",{on:{click:function(t){return a.delGroup(e)}}},[i("i",{staticClass:"el-icon-delete"})])]):a._e()])}),0)]),i("div",{staticClass:"addGroupBtnWrap"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){a.newGroupDialogOpen=!0}}},[i("i",{staticClass:"el-icon-plus"},[a._v("新建分组")])])],1)]),i("div",{staticClass:"dialogs"},[a.newGroupDialogOpen?i("el-dialog",{attrs:{title:"新增",visible:a.newGroupDialogOpen,width:"500px"},on:{"update:visible":function(t){a.newGroupDialogOpen=t}}},[i("div",{staticClass:"formWrap"},[i("VaForm",{ref:"addGroupForm"},[i("form",{attrs:{id:"addGroupForm"}},[i("div",{staticClass:"group"},[i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"}})])])])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.newGroupDialogOpen=!1}}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:a.addGroup}},[a._v("确定")])],1)]):a._e(),a.updateGroupDialogOpen?i("el-dialog",{attrs:{title:"修改",visible:a.updateGroupDialogOpen,width:"500px"},on:{"update:visible":function(t){a.updateGroupDialogOpen=t}}},[i("div",{staticClass:"formWrap"},[i("VaForm",{ref:"updateGroupForm"},[a.currEditGroup?i("form",{attrs:{id:"updateGroupForm"}},[i("div",{staticClass:"group"},[i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"},domProps:{value:a.currEditGroup.name}}),i("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:a.currEditGroup.id}})])]):a._e()])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.updateGroupDialogOpen=!1}}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:a.updateGroup}},[a._v("确定")])],1)]):a._e()],1)])}var n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},388:function(t,e,a){"use strict";a.r(e);var i=a(389),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},389:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(160),n(a(84)),function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);e.default=t}}(a(392));var i=n(a(420));function n(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","infoData","infoDialog","isAuthor"],data:function(){return{readerDialog:!1,readerId:null}},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{handleClick:function(t,e){this.$emit("infoClick",t)},openReader:function(t){log(t),this.readerId=t.b_id,this.readerDialog=!0}},components:{Reader:i.default}}},390:function(t,e,a){},391:function(t,e,a){"use strict";a.r(e);var i=a(406),n=a(381);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(405);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"6c0c32d9",null);e.default=o.exports},393:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addTheme=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/themes",t).then(function(t){var e=t.data,a=e.id,i=e.name,n=e.type_name,r=e.abs,s=e.tag;return(0,f.addResListener)({res_id:a,res_type:n,res_name:i,res_exp:r,res_lables:[s]}),t})},e.modifyTheme=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=m(t,["id"]),i=h.default.compile(restUrl_publish+"/api/themes/:id");return(0,n.request_put)(i({id:e}),a)},e.ListTheme=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(restUrl_publish+"/api/themes",t)},e.del=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/themes/delete",t)},e.modifyGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=m(t,["id"]),i=h.default.compile(restUrl_publish+"/api/themes/groups/:id");return(0,n.request_put)(i({id:e}),a)},e.listGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(restUrl_publish+"/api/themes/groups",t)},e.deleteGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/themes/groups/delete",t)},e.addGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/themes/groups",t)},e.moveGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)(restUrl_publish+"/api/themes/groups",t)},e.deleteThemeBook=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/themes/book_remove",t)},e.detailTheme=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=m(t,["id"]),i=h.default.compile(restUrl_publish+"/api/themes/:id");return(0,n.request_get)(i({id:e}),a)},e.audits=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)(restUrl_publish+"/api/themes/issuance",e).then(function(t){return(0,f.suance)({id:e.id,info:t.data}),t})},e.detailUrgent=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)(restUrl_publish+"/api/themes/urgent",t)},e.backups=g,e._themeAdd=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.type,a=void 0===e?"book":e,i=m(t,["type"]);{if("book"==a)return(0,r.listBooks)(i);if("audio"==a)return(0,s.listAudio)(i);if("video"==a)return(0,o.listVideo)(i);if("3d"==a)return(0,u.listContent)(i);if("ar"==a)return(0,c.listLibraries)(i);if("product"==a)return(0,d.listDigitalBook)(i);if("release"==a)return(0,p.getList)(i)}},e._themeDetail=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.type,a=void 0===e?1:e,i=t.c_id,n=m(t,["type","c_id"]);{if(1==a)return i?g(n):(0,r.detailBooks)(n);if(3==a)return(0,l.detailPicture)(n);if(4==a)return(0,s.detailAudio)(n);if(5==a)return(0,o.detailVideo)(n);if(6==a)return(0,u.detailContent)(n);if(8==a)return(0,c.detailLibraries)(n);if(10==a)return(0,d.detailDigitalBook)(n);if(13==a);else if(31==a)return}};var i,n=a(7),r=a(394),s=a(408),o=a(392),l=a(407),u=a(417),c=a(418),d=a(387),p=a(416),f=a(85),v=a(9),h=(i=v)&&i.__esModule?i:{default:i};function m(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function g(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=m(t,["id"]),i=h.default.compile(restUrl_publish+"/api/themes/book/:id");return(0,n.request_get)(i({id:e}),a)}},396:function(t,e,a){"use strict";a.r(e);var i=a(404),n=a(378);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(403);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"cb351288",null);e.default=o.exports},403:function(t,e,a){"use strict";var i=a(380);a.n(i).a},404:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",[i("el-dialog",{attrs:{center:!1,visible:a.coverDialog,top:"50px",width:"500px","show-close":!1,title:"x-read系统中已有该产品，选择你的操作"}},[i("div",{staticClass:"coverContent"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){a.choiceDialog=!0}}},[a._v("覆盖原有产品")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return a.dispense()}}},[a._v("创建新的产品版本")])],1),i("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.coverDialog=!1}}},[a._v("取消")])],1)]),a.choiceDialog?i("el-dialog",{attrs:{center:!1,visible:a.choiceDialog,top:"50px",width:"500px","show-close":!1,title:"选择版本号"}},[i("div",{staticClass:"coverContent"},[i("el-radio-group",{model:{value:a.currentVersion,callback:function(t){a.currentVersion=t},expression:"currentVersion"}},a._l(a.currentItem.version,function(t){return i("el-radio",{key:t.xread_book_id,attrs:{label:t.xread_book_id}},[a._v(a._s(t.version_id))])}),1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:a.coverDispense}},[a._v("确定")]),i("el-button",{attrs:{type:"info"},on:{click:function(t){a.choiceDialog=!1}}},[a._v("取消")])],1)]):a._e(),i("el-dialog",{attrs:{center:!1,visible:a.publishDialog,top:"50px",width:"1000px","show-close":!1}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"el-icon-close",on:{click:a.colse}}),i("el-tabs",{attrs:{value:"ff"}},[i("el-tab-pane",{attrs:{label:"分发",name:"ff"}})],1)],1),i("ul",{ref:"dispense",staticClass:"content modular"},a._l(a.list,function(e){return i("li",[i("div",{staticClass:"icon"},[i("div",{class:a.getStyle(e.type)}),i("span",{domProps:{textContent:a._s(e.name)}})]),i("ul",{staticClass:"defect"},[e.release_msg&&!e.release_msg.length?i("li",{staticClass:"pass"},[a._v("可正常分发")]):a._e(),e.release_msg&&e.release_msg.length?i("li",{domProps:{textContent:a._s(a.getdefect(e))}}):a._e()]),i("el-button",{attrs:{type:!a.is_release||e.is_release?"primary":"info",size:"mini",plain:""},domProps:{textContent:a._s(a.getBtnName(e))},on:{click:function(t){a.is_release&&!e.is_release||a.push(e)}}})],1)}),0),i("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:a.colse}},[a._v("取消")])],1)])],1)}var n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},405:function(t,e,a){"use strict";var i=a(383);a.n(i).a},406:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",[i("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:a.resourceDialog,width:"1200px",top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"append-to-body":""},on:{"update:visible":function(t){a.resourceDialog=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("i",{staticClass:"el-icon-close",on:{click:a.colse}}),i("el-tabs",{attrs:{value:"detail"}},[i("el-tab-pane",{attrs:{label:"添加",name:"detail"}})],1)],1),i("el-form",{staticClass:"addBookForm"},[a.isShowType?i("span",{staticClass:"group-inline",staticStyle:{margin:"20px","margin-top":"0"}},[i("el-radio-group",{model:{value:a.currentType,callback:function(t){a.currentType=t},expression:"currentType"}},a._l(a.contentType,function(t){return i("el-radio-button",{key:t.id,attrs:{label:t.value}},[a._v(a._s(t.name))])}),1)],1):a._e(),a.isShowSearch?a._e():i("div",{staticClass:"serachWrap"},[i("form",{attrs:{id:"detailSearchForm"}},[i("span",{staticClass:"group-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:a.query.name,expression:"query.name"}],staticClass:"form-control",attrs:{placeholder:"输入名称",name:"name"},domProps:{value:a.query.name},on:{input:function(t){t.target.composing||a.$set(a.query,"name",t.target.value)}}})]),31!=a.currentType?i("span",{staticClass:"group-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:a.query.tag,expression:"query.tag"}],staticClass:"form-control",attrs:{placeholder:"输入标签",name:"tag"},domProps:{value:a.query.tag},on:{input:function(t){t.target.composing||a.$set(a.query,"tag",t.target.value)}}})]):a._e(),31==a.currentType?i("span",{staticClass:"group-inline"},[i("el-select",{attrs:{placeholder:"标签分组",clearable:""},model:{value:a.query.group_id,callback:function(t){a.$set(a.query,"group_id",t)},expression:"query.group_id"}},a._l(a.groupList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1):a._e(),i("span",{staticClass:"group-inline"},[i("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),i("span",{staticClass:"group-inline"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:a.search}},[a._v("搜索")]),i("el-button",{attrs:{type:"primary",plain:""},on:{click:a.addSelection}},[a._v("添加选中")])],1)])]),i("table",{staticClass:"table",attrs:{width:"100%"}},[i("thead",[i("tr",[i("th",{attrs:{width:"80"}},[a.singleElection?i("input",{attrs:{type:"checkbox"},on:{click:function(t){return a.checkAll(t,"addBookForm")}}}):a._e(),i("span",{domProps:{textContent:a._s(a.singleElection?"全选":"选择")}})]),i("th",[a._v("名称")]),31!=a.currentType&&"coures"!=a.currentType?i("th",[a._v(a._s(22==a.currentType?"所属资源":"标签"))]):a._e(),31==a.currentType?i("th",[a._v("难易程度")]):a._e(),31==a.currentType?i("th",[a._v("分值")]):a._e(),"coures"==a.currentType?i("th",[a._v("所属教师")]):a._e(),i("th",[a._v("类型")]),i("th",[a._v("创建时间")])])]),a.dataList.length?i("tbody",a._l(a.dataList,function(e,t){return i("tr",[i("td",[i("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox","data-type":e.status,name:"ids"},domProps:{value:e.id,checked:a.isChecked(e)},on:{click:function(t){return a.uncheckedAll(t,e)}}})]),i("td",{staticClass:"namess",domProps:{innerHTML:a._s(e.name||e.title||e.question)}}),31!=a.currentType?i("td",[a._v(a._s(22==a.currentType?e.share_resource_name:e.tag))]):a._e(),31==a.currentType?i("td",[a._v(a._s(e.level_name))]):a._e(),31==a.currentType?i("td",[a._v(a._s(e.score))]):a._e(),"coures"==a.currentType?i("td",[a._v(a._s(e.teacher_name))]):a._e(),i("td",[a._v(a._s(e.type_name))]),i("td",[a._v(a._s(e.create_time))])])}),0):i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[a._v("暂无数据")])])])]),a.page?i("div",{staticClass:"pageWrap"},[i("el-pagination",{attrs:{small:!1,background:"","current-page":a.page.num,"page-sizes":[10,50,100],"page-size":a.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:a.page.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1):a._e()]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:a.colse}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:a.addSelection}},[a._v("确定")])],1)],1)],1)}var n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},409:function(t,e,a){"use strict";a.r(e);var i=a(410),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},410:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=f(a(5)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},s=p(a(422)),i=f(a(391)),o=a(25),l=f(a(433)),u=p(a(393)),c=f(a(419)),d=f(a(468));function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","detailData","detailDialog","readOnly","defaultData","detailType"],components:{Resource:i.default,Info:c.default,PracticeInfo:d.default},data:function(){return{infoData:this.detailData||{},resourceData:this.detailData,checkedSeries:[],file:null,types:null,series:null,previewImgUrl:null,resourceDialog:!1,resList:[],page:null,currentType:null,proType:l.default,infoDialog:!1,practiceDialog:!1,infoDetail:{},infoValue:"info"}},computed:{getType:function(){var e=this;return this.proType.find(function(t){return t.value==e.detailType||t.detailType==e.detailType}).label},sourceType:function(){var e=this;return this.proType.find(function(t){return t.value==e.detailType||t.detailType==e.detailType}).type}},created:function(){this.$props,this.detailData&&this.detailData.id?this.getDetail():this.infoData.constitute=[],this.defaultData&&(this.defaultData.info?this.infoData=this.defaultData.info:this.infoData=this.defaultData,this.infoData.constitute=this.infoData.components)},methods:{submitDetail:function(){var i=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(r,s){return function e(t,a){try{var i=o[t](a),n=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(n).then(function(t){e("next",t)},function(t){e("throw",t)});r(n)}("next")})}}(n.default.mark(function t(){var e,a;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(e=i.$refs.fenmian.files[0],a=i.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,e)return i.oldBlob&&(e=i.oldBlob),t.next=11,(0,o.getTask)(e).then(function(t){i.infoData.img=t.data.path});t.next=11;break;case 11:return t.next=13,s.save(r({},i.infoData,{product_type:i.detailType})).then(function(t){a.close(),i.$emit("saveok",t.data)});case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(6),i.$message.error(t.t0.message),a.close();case 19:case"end":return t.stop()}},t,i,[[6,15]])}))()},getDetail:function(){var e=this;s.detail({id:this.detailData.id}).then(function(t){e.infoData=t.data,e.$set(e.infoData,"constitute",e.infoData.constitutes)})},previewImg:function(t){var e=t.target.files[0];this.previewImgUrl=URL.createObjectURL(e)},detailTopHandle:function(){var i=this;log(this.infoData.constitute);var n=[],t=document.querySelector(".detailForm");if(t.querySelectorAll("[name='ids']:checked").forEach(function(t){n.push(t.value)}),!n.length)return this.$message.error("请确认你要置顶的内容！");for(var e=function(e){var t=i.infoData.constitute.findIndex(function(t){return t.id==n[e]}),a=i.infoData.constitute[t];i.infoData.constitute.splice(t,1),i.infoData.constitute.unshift(a)},a=n.length-1;0<=a;a--)e(a);t.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailRemoveHandle:function(t,e){var a=this,i=0<arguments.length&&void 0!==t?t:[],n=e,r={},s=this.$refs.detailForm.$el,o=s.querySelectorAll("[name='ids']:checked");if(i.length?r[i]=n:o.forEach(function(t){r[t.value]=t.getAttribute("data-type"),i.push(t.value)}),!i.length)return this.$message.error("请确认你要移除的内容！");i.forEach(function(e){var t=a.infoData.constitute.findIndex(function(t){return t.c_id==e||t.id==e});-1<t&&a.infoData.constitute.splice(t,1)}),s.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailSort:function(t,e){var a=this.detail.constitute.findIndex(function(t){return t.id==e}),i="up"==t?-1:1,n=this.detail.constitute;n.splice.apply(n,[a,1].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(n.splice(a+i,1,n[a]))))},bookDetailInfo:function(t,e,a){var i=this;if(31==e)return this.practiceDialog=!0,void(this.infoDetail=t);if(this.defaultData)return this.infoDetail=t,this.infoValue=a,void(this.infoDialog=!0);var n=t.id,r=t.c_id;u._themeDetail({c_id:r,id:n,type:e}).then(function(t){i.infoDetail=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;i.$message.error(e.message)})},detailAddHandle:function(){this.resourceDialog=!0},addSelcet:function(t){this.resourceDialog=!1},previewCropper:function(t){this.previewImgUrl=URL.createObjectURL(t),this.oldBlob=t}},watch:{}}},411:function(t,e,a){"use strict";a.r(e);var i=a(412),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},412:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["detailData","detailDialog"],components:{},created:function(){this.detailData},data:function(){return{}},mounted:function(){},destroyed:function(){},methods:{numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]},close:function(){this.$emit("close",!1)},getActive:function(t){return this.detailData.answer.split(",").includes(this.numberToLetter(t))}},computed:{},watch:{}}},413:function(t,e,a){},414:function(t,e,a){},416:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(restUrl_publish+"/api/comproduct/list",t)},e.getDetail=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(restUrl_publish+"/api/comproduct",t)},e.del=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/comproduct/delete",t)},e.urgentDigitalBook=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)(restUrl_publish+"/api/comproduct/urgent",t)},e.audits=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)(restUrl_publish+"/api/comproduct/audits",t)},e.issuance=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=function(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}(t,["id"]),i=s.default.compile(restUrl_publish+"/api/comproduct/:id/issuance");return(0,n.request_put)(i({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})},e.addGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/comproduct/groups",t)},e.modifyGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/comproduct/groups/:id");return(0,n.request_put)(e(t),t)},e.deleteGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/themes/groups/delete",t)},e.listGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(restUrl_publish+"/api/comproduct/groups",t)},e.moveGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.rel_id=t.id,delete t.id,(0,n.request_put)(restUrl_publish+"/api/groups/comproduct",t)};var i,n=a(7),r=a(9),s=(i=r)&&i.__esModule?i:{default:i},o=a(85)},418:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/librariess",t).then(function(t){var e=t.data,a=e._id,i=e.name,n=e.abs,r=e.author,s=e.tag,o=e.type_name;return(0,l.addResListener)({res_id:a,res_type:o,res_name:i,res_exp:n,res_author:r,res_lables:[s]}),t})},e.modify=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=r.default.compile(restUrl_publish+"/api/librariess/:id");return(0,n.request_put)(i({id:e}),a)},e.listLibraries=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(restUrl_publish+"/api/librariess",t)},e.educe=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.educeResListener)({res_url:(0,n.getFullPath)(restUrl_publish+"/api/librariess/export"+i.default.stringify(t,{addQueryPrefix:!0}))}),(0,n.request_get)(restUrl_publish+"/api/librariess/export",t)},e.putin=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/librariess/import",t)},e.deleteLibraries=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/librariess/delete",t)},e.detailLibraries=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=r.default.compile(restUrl_publish+"/api/librariess/:id");return(0,n.request_get)(e(t))},e.modifyGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=r.default.compile(restUrl_publish+"/api/librariess/groups/:id");return(0,n.request_put)(i({id:e}),a)},e.deleteGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/librariess/groups/delete",t)},e.addGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(restUrl_publish+"/api/librariess/groups",t)},e.listGroup=function(){return(0,n.request_get)(restUrl_publish+"/api/librariess/groups")},e.moveGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)(restUrl_publish+"/api/librariess/groups",t)};var n=a(7),i=s(a(10)),r=s(a(9)),l=a(85);function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},419:function(t,e,a){"use strict";a.r(e);var i=a(424),n=a(388);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(423);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"5c869a99",null);e.default=o.exports},421:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={0:"未审核",1:"待审核",2:"未通过",3:"已通过"}},423:function(t,e,a){"use strict";var i=a(390);a.n(i).a},424:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("div",{staticClass:"dialogs"},[a.readerDialog?i("Reader",{attrs:{readerDialog:a.readerDialog,readerId:a.readerId,version:"draft"},on:{"update:readerDialog":function(t){a.readerDialog=t},"update:reader-dialog":function(t){a.readerDialog=t}}}):a._e()],1),i("el-tabs",{attrs:{value:a.type},on:{"tab-click":a.handleClick}},[i("el-tab-pane",{attrs:{label:"详情",name:"info"}},[i("div",{staticClass:"div"},[i("form",{ref:"infoForm",staticClass:"infoForm"},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("名称:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:a.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.infoData.name},on:{input:function(t){t.target.composing||a.$set(a.infoData,"name",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("类型:")]),i("span",{staticClass:"types"},[i("span",[a._v(" "+a._s(a.infoData.type_name))]),i("span",[a._v(" 创建时间: "+a._s(a.infoData.create_time))])])]),a.isAuthor?a._e():i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("作者:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:a.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.infoData.author},on:{input:function(t){t.target.composing||a.$set(a.infoData,"author",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("标签:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:a.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.infoData.tag},on:{input:function(t){t.target.composing||a.$set(a.infoData,"tag",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("简介:")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:a.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:a.infoData.abs},on:{input:function(t){t.target.composing||a.$set(a.infoData,"abs",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("详情:")]),1==a.infoData.type?i("el-button",{attrs:{title:"预览",size:"mini",type:"primary",plain:""},on:{click:function(t){return a.openReader(a.infoData)}}},[a._v("预览")]):a._e()],1),a.detailType&&3!=a.infoData.type?i("div",{staticClass:"group wailianinput"},[i("div",{staticClass:"label"}),i("span",[i("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:a.infoData.preview}})])]):a._e(),a.hassVideo||4==a.infoData.type?i("div",{staticClass:"group detailmain wailian"},[i("div",{staticClass:"label"}),i("div",{staticClass:"left"},[i("img",{staticClass:"coverImg",attrs:{src:a.infoData.img_src||a.infoData.img}}),3==a.infoData.type?i("img",{staticClass:"coverImg",attrs:{src:a.infoData.preview_path}}):a._e()]),i("div",{staticClass:"right"},[i("span",{staticClass:"wrap"},[a.hassVideo?i("video",{attrs:{src:a.infoData.preview,controls:""}}):a._e(),4==a.infoData.type?i("audio",{attrs:{src:a.infoData.preview,controls:""}}):a._e()]),i("span",{staticClass:"msg"},[i("div",{staticClass:"type"},[a._v("格式:"),i("span",{staticClass:"val",domProps:{textContent:a._s(a.infoData.format)}})]),i("div",{staticClass:"size"},[a._v("大小:"),i("span",{staticClass:"val",domProps:{textContent:a._s((a.infoData.size/1024).toFixed(2)+"KB")}})])])])]):i("div",{staticClass:"group detailmain"},[i("div",{staticClass:"label"}),i("span",{staticClass:"wrap"},[i("img",{staticClass:"coverImg",attrs:{src:a.infoData.img_src||a.infoData.img}}),3==a.infoData.type?i("img",{staticClass:"coverImg",attrs:{src:a.infoData.preview_path}}):a._e()])]),10==a.infoData.type?i("div",{staticClass:"group"},[i("table",{staticClass:"table border",attrs:{width:"100%"}},[i("thead",[i("tr",[i("th",[a._v("名称")]),i("th",[a._v("标签")]),i("th",[a._v("作者")]),i("th",[a._v("发布时间")])])]),i("tbody",a._l(a.infoData.constitute,function(t,e){return i("tr",[i("td",{domProps:{textContent:a._s(t.name)}}),i("td",{domProps:{textContent:a._s(t.tag)}}),i("td",{domProps:{textContent:a._s(t.author)}}),i("td",{domProps:{textContent:a._s(t.create_time)}})])}),0)])]):a._e()])])]),i("el-tab-pane",{attrs:{label:"扩展属性",name:"data"}},[i("MetaData",{attrs:{metadata:a.infoData.attributes,isShowBtn:!1,readOnly:!0}})],1)],1)],1)}var n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},433:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{type:"1",label:"数字图书集",value:"books",detailType:"17"},{type:"2",label:"文章集",value:"articles",detailType:"16"},{type:"3",label:"图集",value:"pictures",detailType:"13"},{type:"4",label:"音频集",value:"audios",detailType:"15"},{type:"5",label:"视频集",value:"videos",detailType:"14"},{type:"31",label:"习题集",value:"practices",detailType:"18"}]},467:function(t,e,a){"use strict";a.r(e);var i=a(471),n=a(409);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(470);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"7acc2b4a",null);e.default=o.exports},468:function(t,e,a){"use strict";a.r(e);var i=a(472),n=a(411);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(469);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"56504b12",null);e.default=o.exports},469:function(t,e,a){"use strict";var i=a(413);a.n(i).a},470:function(t,e,a){"use strict";var i=a(414);a.n(i).a},471:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[a.resourceDialog?i("Resource",{attrs:{resourceDialog:a.resourceDialog,curSoucesList:a.infoData.constitute,type:a.sourceType},on:{"update:resourceDialog":function(t){a.resourceDialog=t},"update:resource-dialog":function(t){a.resourceDialog=t},select:a.addSelcet}}):a._e(),i("el-dialog",{attrs:{visible:a.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(t){a.infoDialog=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("Info",{attrs:{type:a.infoValue,infoDialog:a.infoDialog,isAuthor:!0,infoData:a.infoDetail}})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.infoDialog=!1}}},[a._v("取消")])],1)]),a.practiceDialog?i("PracticeInfo",{attrs:{detailData:a.infoDetail,detailDialog:a.practiceDialog},on:{"update:detailDialog":function(t){a.practiceDialog=t},"update:detail-dialog":function(t){a.practiceDialog=t},close:function(t){a.practiceDialog=!1}}}):a._e(),i("el-tabs",{attrs:{value:"info"}},[i("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[i("div",{staticClass:"div"},[i("VaForm",{ref:"detailForm"},[i("form",{staticClass:"detailForm"},[i("fieldset",{attrs:{disabled:a.readOnly}},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*名称:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{vali:"",name:"name",type:"text",disabled:a.readOnly},domProps:{value:a.infoData.name},on:{input:function(t){t.target.composing||a.$set(a.infoData,"name",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("类型:")]),i("span",{domProps:{textContent:a._s(a.getType)}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*标签:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:a.readOnly},domProps:{value:a.infoData.tag},on:{input:function(t){t.target.composing||a.$set(a.infoData,"tag",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*简介:")]),i("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{maxlength:a.$config.ABS_MAX_LENGTH,name:"abs",type:"text",disabled:a.readOnly},domProps:{value:a.infoData.abs},on:{input:function(t){t.target.composing||a.$set(a.infoData,"abs",t.target.value)}}}),a.readOnly?a._e():i("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[a._v("您还可以输入"+a._s(a.$config.ABS_MAX_LENGTH-(a.infoData.abs?a.infoData.abs.length:0)))])]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*价格:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.price,expression:"infoData.price"}],staticClass:"form-control price",attrs:{name:"price",type:"text",disabled:a.readOnly},domProps:{value:a.infoData.price},on:{input:function(t){t.target.composing||a.$set(a.infoData,"price",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*设置封面:")]),a.readOnly?a._e():i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:function(t){return a.$refs.fenmian.click()}}},[a._v("上传")])],1),i("div",{staticClass:"group fenmian"},[i("div",{staticClass:"label fenmain"}),i("img",{staticClass:"previewImgUrl",attrs:{src:a.previewImgUrl||a.infoData.img_src}}),i("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return a.previewImg(t)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("构成:")]),a.readOnly?a._e():i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:a.detailTopHandle}},[a._v("置顶")]),i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){return a.detailRemoveHandle()}}},[a._v("移除")]),i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){return a.detailAddHandle()}}},[a._v("添加")])],1)]),i("div",{staticClass:"group"},[i("table",{staticClass:"table border",attrs:{width:"100%"}},[i("thead",[i("tr",[i("th",{attrs:{width:"55"}},[i("input",{attrs:{type:"checkbox",name:"checkAll"},on:{click:function(t){return a.$checkAll(t)}}}),i("span",[a._v("全选")])]),i("th",[a._v("名称")]),31!=a.sourceType?i("th",[a._v("标签")]):a._e(),31==a.sourceType?i("th",[a._v("难易程度")]):a._e(),31==a.sourceType?i("th",[a._v("分值")]):a._e(),i("th",[a._v("类型")]),i("th",[a._v("创建时间")]),a.readOnly?a._e():i("th",{attrs:{width:"100"}},[a._v("调序")]),i("th",{attrs:{width:"100"}},[a._v("操作")])])]),i("tbody",a._l(a.infoData.constitute,function(e,t){return i("tr",[i("td",[i("input",{attrs:{type:"checkbox",name:"ids","data-type":e.type},domProps:{value:e.id}})]),i("td",[i("div",{staticClass:"th-name",attrs:{title:e.name||e.question},domProps:{innerHTML:a._s(e.name||e.question)}})]),31!=a.sourceType?i("td",[a._v(a._s(e.tag))]):a._e(),31==a.sourceType?i("th",[a._v(a._s(e.level_name))]):a._e(),31==a.sourceType?i("th",[a._v(a._s(e.score))]):a._e(),i("td",[a._v(a._s(e.type_name))]),i("td",[a._v(a._s(e.create_time))]),a.readOnly?a._e():i("td",[i("i",{staticClass:"el-icon-sort-up el-icon-sort",on:{click:function(t){return a.detailSort("up",e.id)}}}),t!=a.infoData.constitute.length-1?i("i",{staticClass:"el-icon-sort-down el-icon-sort",on:{click:function(t){return a.detailSort("down",e.id)}}}):a._e()]),i("td",[i("Icon",{attrs:{title:"详情",type:"icon-detail",size:"mini",plain:""},on:{click:function(t){return a.bookDetailInfo(e,e.type,"info")}}}),a.readOnly?a._e():i("Icon",{attrs:{title:"移除","data-id":e.c_id,type:"icon-delete",size:"mini",plain:""},on:{click:function(t){return a.detailRemoveHandle([e.c_id||e.id],e.type)}}})],1)])}),0)])])])])])],1),a.readOnly?a._e():i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){return a.$emit("update:detailDialog",!1)}}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:a.submitDetail}},[a._v("确定")])],1)])],1)],1)}var n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},472:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("el-dialog",{attrs:{center:!1,visible:a.detailDialog,"close-on-click-modal":!1,"before-close":a.close,"append-to-body":"",top:"50px",width:"1000px"},on:{"update:visible":function(t){a.detailDialog=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("el-tabs",{attrs:{value:"detail"}},[i("el-tab-pane",{attrs:{label:"查看题目",name:"detail"}})],1)],1),i("div",{staticClass:"content"},[i("div",{staticClass:"topic-title",domProps:{innerHTML:a._s(a.detailData.question)}}),i("ul",{staticClass:"answer-area"},a._l(a.detailData.option,function(t,e){return i("li",{staticClass:"answer-item"},[i("span",{staticClass:"answer-title",class:{active:a.getActive(e)}},[a._v(a._s(a.numberToLetter(e)))]),i("div",{staticClass:"answer-content-wrap"},[i("div",{staticClass:"answer-content",domProps:{innerHTML:a._s(t.title)}}),t.img?i("img",{staticClass:"img",attrs:{src:t.img}}):a._e()])])}),0),i("div",{staticClass:"analysis-area"},[i("p",{staticClass:"analysis-title"},[a._v("题目解析")]),i("div",{staticClass:"analysis",domProps:{innerHTML:a._s(a.detailData.analysis||"暂无解析")}})])]),i("div",{staticClass:"btns",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){return a.$emit("update:detailDialog",!1)}}},[a._v("取消")])],1)])],1)}var n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},558:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.qrcodeMixins=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},i=p(a(433)),n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(422)),r=p(a(158)),s=p(a(157)),l=p(a(384)),u=p(a(396)),c=p(a(467)),d=p(a(421));function p(t){return t&&t.__esModule?t:{default:t}}e.qrcodeMixins={components:{Menu:r.default,Top:s.default,GroupList:l.default,Dispense:u.default,Detail:c.default},data:function(){return{services:n,list:null,page:null,groupList:null,detailDialog:!1,detailDialogType:"info",detailData:null,publishDialog:!1,moveToOtherDiaolog:!1,proType:i.default,status:d.default}},methods:{getList:function(t,e,a){var i=0<arguments.length&&void 0!==t?t:this.page&&this.page.num||1,n=this,r=1<arguments.length&&void 0!==e?e:this.page&&this.page.offset||10,s=2<arguments.length&&void 0!==a?a:null;this.services.getList(o({pageNum:i,pageOffset:r,group_id:this.currGroup,product_type:this.product_type},s)).then(function(t){n.list=t.data,n.page=t.page})},addSeries:function(t,e){this.detailDialog=!0,this.detailData={},this.metadata=null},delGroup:function(e){var a=this;this.services.deleteGroup({id:e}).then(function(t){e===a.currGroup&&a.$router.push({path:a.$route.path,query:{id:"non"}}),a.getGroupList()})},urgentDigital:function(){for(var e=this,t=this.getChecked(),a=0,i=t.length;a<i;a++)for(var n=0,r=this.list.length;n<r;n++)if(this.list[n].id==t[a]&&1!=this.list[n].audits_status)return void this.$message.error("只能勾选待审核数据");t&&this.services.urgentDigital({id:t}).then(function(t){return e.$message.success("已提交加急审核")})},saveOk:function(t){this.detailData.id||(this.detailData=t),this.getList(),this.getGroupList()},opnePublishDialog:function(t){this.detailData=t,this.publishDialog=!0}}}},939:function(t,e,a){"use strict";a.r(e);var i=a(940),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},940:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(126),n=a(558);e.default={mixins:[i.main,n.qrcodeMixins],data:function(){return{product_type:"books"}},methods:{}}},941:function(t,e,a){}}]);