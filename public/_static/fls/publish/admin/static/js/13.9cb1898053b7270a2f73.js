/*!
 * {
 *   "buildtime": "2019-07-19 15:01:49",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "b17f442a6",
 *     "message": [
 *       "commit b17f442a62eb78bc9ab78ffe68e3afb76c3e3548",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Fri Jul 19 14:48:13 2019 +0800",
 *       "    xxxxxx"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[13,3],{1315:function(e,t,i){"use strict";i.r(t);var r=i(1398),a=i(923);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);i(1316);var s=i(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,"f44fd9d8",null);t.default=o.exports},1316:function(e,t,i){"use strict";var r=i(925);i.n(r).a},1317:function(e,t,i){"use strict";var r=i(926);i.n(r).a},1347:function(e,t,i){"use strict";function r(){var i=this,e=i.$createElement,r=i._self._c||e;return r("div",{staticClass:"index clearfix"},[r("Top",{attrs:{currentPlant:"X-PUBLISH"}}),r("Menu",{attrs:{curr:"/contentLibrary/digitalBook"}}),r("div",{staticClass:"mainRight"},[r("div",{staticClass:"contentWrap"},[r("div",{staticClass:"contentLeft"},[r("div",{staticClass:"maindata"},[r("div",{staticClass:"serachWrap",on:{keyup:function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"enter",13,e.key,"Enter")?null:i.query()}}},[r("div",{staticClass:"title"}),r("form",{attrs:{id:"mainForm"}},[r("span",{staticClass:"group-inline"},[r("el-input",{attrs:{placeholder:"请输入名称",name:"name",clearable:""},model:{value:i.searchQuery.name,callback:function(e){i.$set(i.searchQuery,"name",e)},expression:"searchQuery.name"}})],1),r("span",{staticClass:"group-inline"},[r("el-select",{attrs:{placeholder:"类别"},model:{value:i.options.value,callback:function(e){i.$set(i.options,"value",e)},expression:"options.value"}},i._l(i.options,function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1)],1),r("span",{staticClass:"group-inline"},[r("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),r("span",{staticClass:"group-inline"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:i.query}},[i._v("搜索")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:i.openDetailDialogAdd}},[i._v("新建")])],1)])]),r("div",{staticClass:"tableWrap"},[r("div",{staticClass:"tableTop"},[r("div",{staticClass:"title vel-line"},[r("span",[i._v("全部 "),i.page?r("span",{staticClass:"totalNum"},[i._v("("+i._s(i.page.total)+")")]):i._e()]),r("div",{staticClass:"btns"},[r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:i.urgentDigital}},[i._v("加急审核")]),r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:i.moveToOther}},[i._v("移动分组")]),r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return i.delChoosen(!1)}}},[i._v("删除")])],1)])]),r("table",{staticClass:"table"},[r("thead",[r("tr",[r("th",{staticClass:"allBtn"},[r("input",{attrs:{type:"checkbox"},on:{click:function(e){return i.checkAll(e)}}})]),r("th",[i._v("名称")]),r("th",[i._v("类别")]),r("th",{attrs:{width:"70"}},[i._v("审核状态")]),r("th",{attrs:{width:"70"}},[i._v("发布状态")]),r("th",{staticClass:"time"},[i._v("分发时间")]),r("th",{staticClass:"operate"},[i._v("操作")])])]),i.list?r("tbody",i._l(i.list,function(t){return r("tr",[r("td",[r("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids"},domProps:{value:t.id}})]),r("td",[r("img",{staticClass:"cover-photo",attrs:{src:t.img_src}}),r("div",{staticClass:"bookName",attrs:{title:t.name}},[i._v(i._s(t.name))])]),r("td",[r("div",{staticClass:"th-name",attrs:{title:t.tag}},[i._v(i._s(t.type_name))])]),r("td",[r("div",{staticClass:"th-name"},[i._v(i._s(t.status))])]),r("td",[r("div",{staticClass:"th-name"},[i._v(i._s(t.release_status_name))])]),r("td",[r("div",{staticClass:"th-name"},[i._v(i._s(t.release_time||"_"))])]),r("td",[r("div",{staticClass:"btns"},[r("Icon",{attrs:{size:"mini",title:"详情",type:"icon-detail",plain:""},on:{click:function(e){return i.openDialogOwn(t)}}}),1!=t.audits_status?r("Icon",{attrs:{size:"mini",title:"审核",type:"icon-menu-publish",plain:""},on:{click:function(e){return i.audits(t.id)}}}):i._e(),3==t.audits_status?r("Icon",{attrs:{size:"mini",title:"分发",type:"icon-fenfa",plain:""},on:{click:function(e){return i.opnePublishDialog(t)}}}):i._e(),1!=t.audits_status?r("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(e){return i.delChoosen(t.id)}}}):i._e()],1)])])}),0):i._e()]),i.page?r("div",{staticClass:"pageWrap"},[r("el-pagination",{attrs:{small:!1,background:"","current-page":i.page.num,"page-sizes":[10,50,100],"page-size":i.page.offset,layout:"total, sizes, prev, pager, next, jumper",total:i.page.total},on:{"size-change":i.handleSizeChange,"current-change":i.handleCurrentChange}})],1):i._e()]),r("div",{staticClass:"gruopList"},[r("GroupList",{attrs:{groupList:i.groupList,currGroup:i.currGroup},on:{addGroup:i.addGroup,updateGroup:i.updateGroup,delGroup:i.delGroup,groupChange:i.groupChange}})],1)])])])]),r("div",{staticClass:"dialogs"},[r("el-dialog",{attrs:{center:!1,visible:i.detailDialog,"close-on-click-modal":!1,top:"50px",width:"1000px"},on:{"update:visible":function(e){i.detailDialog=e}}},[r("div",{staticClass:"content",attrs:{slot:"title"},slot:"title"},[i.detailDialog?r("Detail",{attrs:{type:i.detailDialogType,detailDialog:i.detailDialog,detailData:i.detailData,detailType:i.detailType,services:i.services,defaultData:i.resourceDate,readOnly:i.readOnly},on:{detailBack:i.detailBack,"update:detailDialog":function(e){i.detailDialog=e},"update:detail-dialog":function(e){i.detailDialog=e}}}):i._e()],1)]),r("el-dialog",{attrs:{center:!1,visible:i.VideodetailDialog,"close-on-click-modal":!1,top:"50px",width:"1000px"},on:{"update:visible":function(e){i.VideodetailDialog=e}}},[r("div",{staticClass:"content",attrs:{slot:"title"},slot:"title"},[i.VideodetailDialog?r("VideoDetail",{attrs:{type:"info",isNewVideo:!0,detailDialog:i.VideodetailDialog,detailData:i.detailData,readOnly:i.readOnly},on:{"update:detailDialog":function(e){i.VideodetailDialog=e},"update:detail-dialog":function(e){i.VideodetailDialog=e},addVideo:i.SendVideo,upList:i.getList}}):i._e()],1)]),r("el-dialog",{attrs:{center:!1,visible:i.addDialog,"close-on-click-modal":!1,top:"50px",width:"700px"},on:{"update:visible":function(e){i.addDialog=e}}},[r("AddResource",{on:{slecet:i.slecet,addVideos:i.addVideos}})],1),r("Examine",{attrs:{examineDialog:i.examineDialog},on:{"update:examineDialog":function(e){i.examineDialog=e},"update:examine-dialog":function(e){i.examineDialog=e},saveExamine:i.saveExamine}}),i.publishDialog?r("Dispense",{attrs:{publishDialog:i.publishDialog,item:i.detailData,is_release:!1},on:{"update:publishDialog":function(e){i.publishDialog=e},"update:publish-dialog":function(e){i.publishDialog=e},dispenseOk:i.dispenseOk}}):i._e(),r("el-dialog",{attrs:{center:!1,visible:i.moveToOtherDiaolog,"close-on-click-modal":!1,title:"移动分组",width:"500px"},on:{"update:visible":function(e){i.moveToOtherDiaolog=e}}},[r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("移动到")]),r("select",{ref:"moveToId",staticClass:"form-control",attrs:{placeholder:"请选择"}},i._l(i.groupList,function(e,t){return e.id!=i.currGroup&&""!=e.id?r("option",{domProps:{value:e.id,textContent:i._s(e.name)}}):i._e()}),0)]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){i.moveToOtherDiaolog=!1}}},[i._v("返回")]),r("el-button",{attrs:{type:"primary"},on:{click:i.moveToSubmit}},[i._v(" 确定")])],1)])],1)],1)}var a=[];i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a})},1398:function(e,t,i){"use strict";function r(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[t.resourceDialog?i("SelResource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:[],type:"20-"+t.currentType,singleElection:!1},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),i("div",{staticClass:"type"},[i("span",[t._v("新建类型")]),i("el-select",{model:{value:t.types.value,callback:function(e){t.$set(t.types,"value",e)},expression:"types.value"}},t._l(t.types,function(e){return i("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})}),1)],1),i("div",{staticClass:"btn"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:t.selResource}},[t._v("选择资源")])],1)],1)}var a=[];i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a})},361:function(e,t,i){"use strict";i.r(t);var r=i(1347),a=i(921);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);i(1317);var s=i(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,"383e0c0d",null);t.default=o.exports},375:function(e,t,i){"use strict";i.r(t);var r=i(376),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,function(){return r[e]})}(n);t.default=a.a},376:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["groupList","currGroup"],data:function(){return{newGroupDialogOpen:!1,updateGroupDialogOpen:!1,currEditGroup:null}},created:function(){},computed:{},methods:{groupChange:function(e){this.$emit("groupChange",e)},addGroupDialog:function(){},delGroup:function(t){var i=this;this.$confirm("是否删除分组:"+t.name).then(function(e){dir(e),i.$emit("delGroup",t.id)}).catch(function(e){dir(e)})},updateGroupDialog:function(e){this.updateGroupDialogOpen=!0,this.currEditGroup=e},addGroup:function(){if(this.$refs.addGroupForm.valiAll()){var e=document.querySelector("#addGroupForm");this.$emit("addGroup",e),this.newGroupDialogOpen=!1}},updateGroup:function(){if(this.$refs.updateGroupForm.valiAll()){var e=document.querySelector("#updateGroupForm");this.$emit("updateGroup",e),this.updateGroupDialogOpen=!1}}}}},377:function(e,t,i){},378:function(e,t,i){"use strict";i.r(t);var r=i(379),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,function(){return r[e]})}(n);t.default=a.a},379:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(126),a=i(127);t.default={mixins:[r.getIconStyle],props:{publishDialog:{type:Boolean,default:!1},item:{type:Object,default:{}},is_release:Boolean},data:function(){return{list:null,coverDialog:!1,choiceDialog:!1,currentItem:null,currentVersion:null}},created:function(){this.getList()},methods:{getList:function(){var r=this;(0,a.getDispense)({entity_type:this.item.type_number||this.item.type,id:this.item.id}).then(function(e){r.list=e.data}).catch(function(e){var t=e.payload;for(var i in t.messages){r.$message.error(t.messages[i]);break}})},colse:function(){this.$emit("update:publishDialog",!1)},save:function(){var t=[];this.$refs.dispense.querySelectorAll("input[type=checkbox]:checked").forEach(function(e){t.push(e.value)}),t.length?this.$emit("dispenseSave",t):this.$message.error("请选择你要发布的平台")},pushTime:function(e){return e?"最近"+e+"发布过":"最近暂无分发"},push:function(t){var i=this;this.currentItem=t,this.is_release&&t.release_msg.length?this.$confirm("信息不全是否分发?").then(function(e){t.version?i.coverDialog=!0:i.dispense()},function(e){var t=e.payload;log(t.message)}).catch(function(e){log("cancel")}):t.version&&t.version.length?this.coverDialog=!0:this.dispense()},dispense:function(e,t){var r=this;(0,a.dispense)({platform_id:this.currentItem.id,audits_id:this.item.audits_id,is_cover:e,version_id:t}).then(function(e){r.$message.success("分发提交成功,请稍后查看结果!"),r.$emit("dispenseOk")}).catch(function(e){var t=e.payload;for(var i in t.messages){r.$message.error(t.messages[i]);break}})},getdefect:function(e){return"缺失字段: "+e.release_msg.join("/")},getBtnName:function(e){return this.is_release&&!e.is_release?"缺少关键信息不能分发":e.release_msg&&e.release_msg.length?"确认分发":"分发"},coverDispense:function(){var t=this;if(!this.currentVersion)return this.$message.warning("请选择你要覆盖的版本号!");var e=this.currentItem.version.find(function(e){return e.xread_book_id===t.currentVersion}).version_id;this.dispense(this.currentVersion,e)}}}},380:function(e,t,i){},381:function(e,t,i){"use strict";i.r(t);var r=i(382),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,function(){return r[e]})}(n);t.default=a.a},382:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=a(i(5)),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},n=i(387),r=(a(i(84)),i(395));function a(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}t.default={props:{resourceDialog:{type:Boolean,default:!1},singleElection:{type:Boolean,default:!0},type:{type:[String,Number],default:"1"},curSoucesList:{type:Array,default:[]},isShowType:{type:Boolean,default:!1},idName:String,isShowSearch:Boolean,isShowResource:Boolean,isDebris:{default:!1},parameter:Object},data:function(){return{dataList:[],page:null,currentType:null,contentType:[{name:"电子书",value:"1"},{name:"图片",value:"3"},{name:"音频",value:"4"},{name:"视频",value:"5"},{name:"3D内容",value:"6"},{name:"VR",value:"7"},{name:"AR",value:"8"}],query:{},answerLevel:[{label:"简单",value:"easy"},{label:"一般",value:"general"},{label:"困难",value:"difficulty"}],groupList:[]}},created:function(){this.currentType=this.type||"1",this.isShowResource&&this.contentType.push({name:"共享资源",value:"22"}),this.type.includes("20")&&(this.contentType=[{name:"权威案例",value:"20-1"},{name:"法律法规",value:"20-2"},{name:"法律观点",value:"20-3"},{name:"裁判文书",value:"20-4"},{name:"图书",value:"20-6"},{name:"文书范本",value:"20-7"}]),31==this.type&&this.getGroupList()},methods:{getList:function(e,t){var i=this,r=0<arguments.length&&void 0!==e?e:this.page&&this.page.num||1,a=1<arguments.length&&void 0!==t?t:this.page&&this.page.offset||10;(0,n._addBooks)(f({pageNum:r,pageOffset:a,type:this.currentType||this.type},this.parameter,this.query)).then(function(e){i.dataList=e.data||[],i.page=e.page})},colse:function(){this.$emit("update:resourceDialog",!1)},save:function(){var t=[];this.$refs.dispense.querySelectorAll("input[type=checkbox]:checked").forEach(function(e){t.push(e.value)}),t.length?this.$emit("dispenseSave",t):this.$message.error("请选择你要发布的平台")},search:function(){this.getList(1,this.page.offset)},addSelection:function(){var c=this;return function(e){return function(){var o=e.apply(this,arguments);return new Promise(function(n,s){return function t(e,i){try{var r=o[e](i),a=r.value}catch(e){return void s(e)}if(!r.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});n(a)}("next")})}}(p.default.mark(function e(){var t,i,r,a,n,s,o,l,u,d;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector(".addBookForm"),i=t.querySelectorAll('input[name="ids"]:checked'),r=[],i.length){e.next=5;break}return e.abrupt("return",c.$message.warning("请选择添加内容"));case 5:a=function(t){if(-1<c.curSoucesList.findIndex(function(e){return e.id==t.value||e.b_id==t.value}))return"continue";r.push(f({},c.dataList.find(function(e){return e.id==t.value}),{action:"add"}))},s=!(n=!0),o=void 0,e.prev=9,l=i[Symbol.iterator]();case 11:if(n=(u=l.next()).done){e.next=19;break}if(d=u.value,"continue"===a(d))return e.abrupt("continue",16);e.next=16;break;case 16:n=!0,e.next=11;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(9),s=!0,o=e.t0;case 25:e.prev=25,e.prev=26,!n&&l.return&&l.return();case 28:if(e.prev=28,s)throw o;e.next=31;break;case 31:return e.finish(28);case 32:return e.finish(25);case 33:c.$emit("select",[].concat(r,v(c.curSoucesList)));case 34:case"end":return e.stop()}},e,c,[[9,21,25,33],[26,,28,32]])}))()},checkAll:function(r,e){var a=this;document.querySelector("."+e).querySelectorAll('input[name="ids"]').forEach(function(t,e){var i=a.curSoucesList.findIndex(function(e){return e.id==t.value||e.b_id==t.value});r.target.checked?-1==i&&a.curSoucesList.push(f({},a.dataList.find(function(e){return e.id==t.value}),{action:"add"})):a.curSoucesList.splice(i,1),t.checked=r.target.checked})},uncheckedAll:function(e,t){var i=this,r=this.curSoucesList.findIndex(function(e){return i.idName?e[i.idName]==t[i.idName]:e.id==t.id||e.b_id==t.id});e.target.checked?-1==r&&this.curSoucesList.push(t):this.curSoucesList.splice(r,1),this.singleElection||(this.$refs.ids.forEach(function(e){return e.checked=!1}),e.target.checked=!0)},isChecked:function(t){var i=this;return-1<this.curSoucesList.findIndex(function(e){return i.idName?e[i.idName]==t[i.idName]:e.id===t.id||e.b_id===t.id})},handleSizeChange:function(e){this.getList(1,e)},handleCurrentChange:function(e){this.getList(e,this.page.offset)},getGroupList:function(){var t=this;(0,r.listGroup)().then(function(e){t.groupList=e.data})}},watch:{currentType:function(e){this.getList()}}}},383:function(e,t,i){},384:function(e,t,i){"use strict";i.r(t);var r=i(386),a=i(375);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);i(385);var s=i(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,"82bd0f98",null);t.default=o.exports},385:function(e,t,i){"use strict";var r=i(377);i.n(r).a},386:function(e,t,i){"use strict";function r(){var i=this,e=i.$createElement,r=i._self._c||e;return r("div",{staticClass:"div"},[r("div",{staticClass:"groupWrap"},[r("div",{staticClass:"list"},[r("ul",i._l(i.groupList,function(t){return r("li",{staticClass:"licontent",class:{red:t.id==i.currGroup}},[r("div",{staticClass:"name ellipsis",attrs:{title:t.name+"("+t.num+")"},on:{click:function(e){return i.groupChange(t.id)}}},[r("span",{staticClass:"title"},[i._v(i._s(t.name))]),r("span",[i._v(i._s("("+t.num+")"))])]),""!=t.id&&"non"!=t.id?r("div",{staticClass:"btns"},[r("span",{on:{click:function(e){return i.updateGroupDialog(t)}}},[r("i",{staticClass:"el-icon-edit"})]),r("span",{on:{click:function(e){return i.delGroup(t)}}},[r("i",{staticClass:"el-icon-delete"})])]):i._e()])}),0)]),r("div",{staticClass:"addGroupBtnWrap"},[r("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){i.newGroupDialogOpen=!0}}},[r("i",{staticClass:"el-icon-plus"},[i._v("新建分组")])])],1)]),r("div",{staticClass:"dialogs"},[i.newGroupDialogOpen?r("el-dialog",{attrs:{title:"新增",visible:i.newGroupDialogOpen,width:"500px"},on:{"update:visible":function(e){i.newGroupDialogOpen=e}}},[r("div",{staticClass:"formWrap"},[r("VaForm",{ref:"addGroupForm"},[r("form",{attrs:{id:"addGroupForm"}},[r("div",{staticClass:"group"},[r("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"}})])])])],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){i.newGroupDialogOpen=!1}}},[i._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:i.addGroup}},[i._v("确定")])],1)]):i._e(),i.updateGroupDialogOpen?r("el-dialog",{attrs:{title:"修改",visible:i.updateGroupDialogOpen,width:"500px"},on:{"update:visible":function(e){i.updateGroupDialogOpen=e}}},[r("div",{staticClass:"formWrap"},[r("VaForm",{ref:"updateGroupForm"},[i.currEditGroup?r("form",{attrs:{id:"updateGroupForm"}},[r("div",{staticClass:"group"},[r("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"},domProps:{value:i.currEditGroup.name}}),r("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:i.currEditGroup.id}})])]):i._e()])],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){i.updateGroupDialogOpen=!1}}},[i._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:i.updateGroup}},[i._v("确定")])],1)]):i._e()],1)])}var a=[];i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a})},387:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/digital_books/groups",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=x(e,["id"]),r=s.default.compile(restUrl_publish+"/api/digital_books/:id/groups");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=x(e,["id"]),r=s.default.compile(restUrl_publish+"/api/digital_books/groups/:id");return(0,a.request_delete)(r({id:t}),i)},t.listGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/digital_books/groups",e)},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rel_id=e.id,delete e.id,(0,a.request_put)(restUrl_publish+"/api/groups/digital_books",e)},t.detailDigitalBook=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=x(e,["id"]),r=s.default.compile(restUrl_publish+"/api/digital_books/:id");return(0,a.request_get)(r({id:t}),i)},t.deleteDigitalBook=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/digital_books/delete",e)},t.add=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/digital_books",e).then(function(e){var t=e.data,i=t._id,r=t.name,a=t.abs,n=t.author,s=t.tag,o=t.type_name;return(0,k.addResListener)({res_id:i,res_type:o,res_name:r,res_exp:a,res_author:n,res_lables:[s]}),e})},t.listDigitalBook=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/digital_books",e)},t.modify=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=x(e,["id"]),r=s.default.compile(restUrl_publish+"/api/digital_books/:id");return(0,a.request_put)(r({id:t}),i)},t.urgentDigitalBook=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/digital_books/urgent",e)},t.issuance=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=(x(e,["id"]),s.default.compile(restUrl_publish+"/api/digital_books/:id/issuance"));return(0,a.request_put)(i({id:t})).then(function(e){return(0,k.suance)({id:t,info:e.data}),e})},t.removeConstitute=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/digital_books/constitute",e)},t.synchronization=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=(x(e,["id"]),s.default.compile(restUrl_publish+"/api/digital_books/:id/sync"));return(0,a.request_get)(i({id:t}))},t.reordering=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/digital_books/sort",e)},t.stick=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/digital_books/top",e)},t.listAnchor=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/nowledge_info",e)},t.delAnchor=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/nowledge_info/delete",e)},t._addBooks=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i={},t=e.type,i=x(e,["type"]);switch(log(t,i),t){case"1":return(0,c.listBooks)(i);case"2":return(0,u.listArticle)(i);case"3":return(0,o.listPicture)(i);case"4":return(0,l.listAudio)(i);case"5":return(0,d.listVideo)(i);case"6":return(0,p.listContent)(i);case"8":return(0,_.listLibraries)(i);case"7":return(0,m.listLibraries)(i);case"9":return(0,f.debrisList)(i);case"10":return(0,v.recomList)(i);case"22":return(0,b.getResource)(i);case"19":return(0,y.getResource)(i);case"25":return listQrcodeResource(i);case"20-1":case"20-2":case"20-3":case"20-4":case"20-6":case"20-7":return(0,g.resourceList)(r({type:t},i));case"31":return(0,h.getList)(i);default:return(0,c.listBooks)(i)}},t.distribute=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=x(e,["id"]),r=s.default.compile(restUrl_publish+"/api/digital_books/:id/issuance");return(0,a.request_put)(r({id:t}),i).then(function(e){(0,k.suance)({id:t,info:e.data})})},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,k.educeResListener)({res_url:(0,a.getFullPath)("/publish/books/export"+n.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)("publish/books/export",e)};var a=i(7),n=C(i(10)),s=C(i(9)),o=i(407),l=i(408),u=i(451),d=i(392),c=i(394),p=i(417),f=i(452),v=i(477),h=i(395),g=(i(422),i(476)),_=i(474),m=i(475),b=i(480),y=i(453),k=i(85);function C(e){return e&&e.__esModule?e:{default:e}}function x(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},388:function(e,t,i){"use strict";i.r(t);var r=i(389),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,function(){return r[e]})}(n);t.default=a.a},389:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i(160),a(i(84)),function(e){{if(e&&e.__esModule)return;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);t.default=e}}(i(392));var r=a(i(420));function a(e){return e&&e.__esModule?e:{default:e}}t.default={props:["type","infoData","infoDialog","isAuthor"],data:function(){return{readerDialog:!1,readerId:null}},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{handleClick:function(e,t){this.$emit("infoClick",e)},openReader:function(e){log(e),this.readerId=e.b_id,this.readerDialog=!0}},components:{Reader:r.default}}},390:function(e,t,i){},391:function(e,t,i){"use strict";i.r(t);var r=i(406),a=i(381);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);i(405);var s=i(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,"6c0c32d9",null);t.default=o.exports},392:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return log("add",e),(0,a.request_post)(restUrl_publish+"/api/videos",e).then(function(e){var t=e.data,i=t._id,r=t.name,a=t.author,n=t.abs,s=t.tag,o=t.type_name;return(0,l.addResListener)({res_id:i,res_author:a,res_name:r,res_exp:n,res_type:o,res_lables:[s]}),e})},t.modify=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/videos/:id");return(0,a.request_put)(r({id:t}),i)},t.listVideo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/videos",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/videos/export"+r.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/videos/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/videos/import",e)},t.deleteVideo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/videos/delete",e)},t.detailVideo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.default.compile(restUrl_publish+"/api/videos/:id");return(0,a.request_get)(t(e))},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/videos/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/videos/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/videos/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/videos/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/videos/groups",e)};var a=i(7),r=s(i(10)),n=s(i(9)),l=i(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},393:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTheme=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/themes",e).then(function(e){var t=e.data,i=t.id,r=t.name,a=t.type_name,n=t.abs,s=t.tag;return(0,f.addResListener)({res_id:i,res_type:a,res_name:r,res_exp:n,res_lables:[s]}),e})},t.modifyTheme=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=g(e,["id"]),r=h.default.compile(restUrl_publish+"/api/themes/:id");return(0,a.request_put)(r({id:t}),i)},t.ListTheme=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/themes",e)},t.del=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/themes/delete",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=g(e,["id"]),r=h.default.compile(restUrl_publish+"/api/themes/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.listGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/themes/groups",e)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/themes/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/themes/groups",e)},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/themes/groups",e)},t.deleteThemeBook=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/themes/book_remove",e)},t.detailTheme=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=g(e,["id"]),r=h.default.compile(restUrl_publish+"/api/themes/:id");return(0,a.request_get)(r({id:t}),i)},t.audits=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/themes/issuance",t).then(function(e){return(0,f.suance)({id:t.id,info:e.data}),e})},t.detailUrgent=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/themes/urgent",e)},t.backups=_,t._themeAdd=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.type,i=void 0===t?"book":t,r=g(e,["type"]);{if("book"==i)return(0,n.listBooks)(r);if("audio"==i)return(0,s.listAudio)(r);if("video"==i)return(0,o.listVideo)(r);if("3d"==i)return(0,u.listContent)(r);if("ar"==i)return(0,d.listLibraries)(r);if("product"==i)return(0,c.listDigitalBook)(r);if("release"==i)return(0,p.getList)(r)}},t._themeDetail=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.type,i=void 0===t?1:t,r=e.c_id,a=g(e,["type","c_id"]);{if(1==i)return r?_(a):(0,n.detailBooks)(a);if(3==i)return(0,l.detailPicture)(a);if(4==i)return(0,s.detailAudio)(a);if(5==i)return(0,o.detailVideo)(a);if(6==i)return(0,u.detailContent)(a);if(8==i)return(0,d.detailLibraries)(a);if(10==i)return(0,c.detailDigitalBook)(a);if(13==i);else if(31==i)return}};var r,a=i(7),n=i(394),s=i(408),o=i(392),l=i(407),u=i(417),d=i(418),c=i(387),p=i(416),f=i(85),v=i(9),h=(r=v)&&r.__esModule?r:{default:r};function g(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}function _(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=g(e,["id"]),r=h.default.compile(restUrl_publish+"/api/themes/book/:id");return(0,a.request_get)(r({id:t}),i)}},394:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modifyBooks=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=l(e,["id"]),r=n.default.compile(restUrl_publish+"/api/books/:id");return(0,a.request_put)(r({id:t}),i)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/books/export"+r.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/books/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/books/import",e)},t.fabu=function(e){return(0,a.request_post)(restUrl_publish+"/api/mult_books",e)},t.getProgress=function(e){return(0,a.request_get)(restUrl_publish+"/api/mult_book/progress/"+e)},t.deleteBooks=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/books/delete",e)},t.listBooks=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/books",e)},t.detailBooks=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=l(e,["id"]),r=n.default.compile(restUrl_publish+"/api/books/:id");return(0,a.request_get)(r({id:t}),i)},t.addBooks=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/books",t).then(function(e){(0,s.createProListener)({res_id:e.data.task_id,res_type:"数字图书",res_cover:t.img,res_covers:"",res_exp:t.abs,res_author:t.author,res_author_id:"",res_Interpreter:"",res_Interpreter_id:"",res_lables:"",res_currency:"",res_money:"",res_isbn:"",res_isbn_ext:"",res_publication:""})})},t.getBookCatalog=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=l(e,["id"]),r=n.default.compile(restUrl_publish+"/api/books/:id/catalogs");return(0,a.request_get)(r({id:t}),i)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=l(e,["id"]),r=n.default.compile(restUrl_publish+"/api/books/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=l(e,["id"]),r=n.default.compile(restUrl_publish+"/api/books/groups/:id");return(0,a.request_delete)(r({id:t}),i)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/books/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/books/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/groups/books",e)},t.siblingSort=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=l(e,["id"]),r=n.default.compile(restUrl_publish+"/api/catalogs/sort/:id");return(0,a.request_put)(r({id:t}),i)},t.moveCatalog=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(e.id,l(e,["id"]));return(0,a.request_put)(restUrl_publish+"/api/catalogs/outline",t)},t.products=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/books/products",e)},t.fastAdd=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/comproduct/fast/add",e)},t.fastPrevew=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audits/fast",e)},t.fastLibrary=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/databook/temp",e)},t.bookAdd=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/databook/add",e)},t.dataFast=function i(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/data_fast",r).then(function(e){return 2==e.data.data?new Promise(function(e,t){setTimeout(function(){e(i(r))},2e3)}):e})};var a=i(7),n=o(i(9)),r=o(i(10)),s=i(85);i(573);function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},395:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/practice",e)},t.detail=function(e){var t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/practice/:id");return(0,a.request_get)(r({id:t}),i)},t.del=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/practice/delete",e)},t.save=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]);if(t)return(0,a.request_put)(restUrl_publish+"/api/practice/"+t,i);return(0,a.request_post)(restUrl_publish+"/api/practice",i)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/practice/groups")},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/practice/groups",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,a.request_delete)(r({id:t}),i)},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/groups/chapters",e)};var r,a=i(7),n=i(9),s=(r=n)&&r.__esModule?r:{default:r};function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},396:function(e,t,i){"use strict";i.r(t);var r=i(404),a=i(378);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);i(403);var s=i(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,"cb351288",null);t.default=o.exports},397:function(e,t,i){"use strict";i.r(t);var r=i(398),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,function(){return r[e]})}(n);t.default=a.a},398:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(i(5)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},a=c(i(84)),r=c(i(159)),n=c(i(446)),s=c(i(420)),u=d(i(432));d(i(387));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}function p(e){return function(){var o=e.apply(this,arguments);return new Promise(function(n,s){return function t(e,i){try{var r=o[e](i),a=r.value}catch(e){return void s(e)}if(!r.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});n(a)}("next")})}}var f="章节锚点",v="内容锚点";t.default={components:{VaForm:r.default,AnchorList:n.default,Reader:s.default},props:["type","constitute","detailData","readOnly","defaultData"],created:function(){var t=this;return p(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.defaultData){e.next=7;break}if(t.glist=t.defaultData.knowledge,t.glist){e.next=4;break}return e.abrupt("return");case 4:t.currGroupId=t.glist[0].id,t.currGroup=t.glist[0],t.list=t.glist[0].nowledge_info;case 7:return e.prev=7,e.next=10,t.getGlist();case 10:return e.next=12,t.getProgress();case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(7);case 16:case"end":return e.stop()}},e,t,[[7,14]])}))()},data:function(){return{list:null,glist:null,anchorsList:[],page:null,Anchors_chapter:f,Anchors_content:v,Anchors_audio:"音频锚点",Anchors_video:"视频锚点",checkedAll:!1,currGroupId:null,currknowledgeId:null,currGroup:{},openAnchorList:!1,anchorType:f,anchorList:null,bookInfo:{value:"",lsit:[]},groupDialog:!1,knowledgeDialog:!1,addAnchorDialog:!1,readerDialog:!1,readerId:null,editGroup:{},editKnowledge:{},anchorCheckedAll:!1,mount:{number:0}}},computed:{isBook:function(){return this.anchorType==f||this.anchorType==v}},methods:{getGlist:function(){var r=this;return p(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.detailData.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u.listGroup({id:r.detailData.id}).then(function(e){var t=e.data.findIndex(function(e){return r.currGroupId===e.id}),i=-1<t?t:0;r.glist=e.data,r.glist&&0<r.glist.length?(r.currGroupId=e.data[i].id,r.currGroup=e.data[i],r.anchorType=f,r.getList()):(r.list=r.glist=r.currGroupId=null,r.currGroup={})}).catch(function(e){var t=e.payload;for(var i in t.messages){r.$message.error(t.messages[i]);break}});case 4:case"end":return e.stop()}},e,r)}))()},getList:function(e,t,i){var r=0<arguments.length&&void 0!==e?e:1,a=this,n=1<arguments.length&&void 0!==t?t:10,s=i;return p(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.anchorCheckedAll=!1,e.next=3,u.listKnowledge(l({pageNum:r,pageOffset:n},s,{id:a.detailData.id,group_id:a.currGroupId})).then(function(e){a.list=e.data,a.page=e.page}).catch(function(e){var t=e.payload;for(var i in t.messages){a.$message.error(t.messages[i]);break}});case 3:if(t=a.$refs.mainListWrap){e.next=6;break}return e.abrupt("return");case 6:t.querySelectorAll("input[type='checkbox']").forEach(function(e){e.checked=!1});case 8:case"end":return e.stop()}},e,a)}))()},groupDel:function(t){var i=this;this.$confirm("是否删除该知识结构?").then(function(e){u.deleteGroup({id:[t.id],type:i.detailData.type_number,pid:i.detailData.id}).then(function(e){i.getGlist(),i.$emit("saveok")}).catch(function(e){for(var t in payload.messages){i.$message.error(payload.messages[t]);break}})})},groupEdit:function(e){if(!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");this.editGroup=e,this.groupDialog=!0},KnowledgeEdit:function(e){this.editKnowledge=e,this.knowledgeDialog=!0},groupCommit:function(){var r=this;return p(o.default.mark(function e(){var t,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.$refs.groupFormVa.valiAll()){e.next=2;break}return e.abrupt("return");case 2:if(t=(0,a.default)(r.$refs.groupForm,{hash:!0}),e.prev=3,t.id){e.next=10;break}return t.id=r.detailData.id,e.next=8,u.addGroup(l({},t,{type:r.detailData.type_number,pid:r.detailData.id})).then(function(e){r.groupDialog=!1,r.getGlist(),r.$emit("saveok")});case 8:e.next=12;break;case 10:return e.next=12,u.modifyGroup(l({},t,{type:r.detailData.type_number,pid:r.detailData.id})).then(function(e){r.groupDialog=!1,r.getGlist(),r.$emit("saveok")});case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),i=e.t0.message,r.$message.error(i);case 18:case"end":return e.stop()}},e,r,[[3,14]])}))()},guaZai:function(){var r=this;return p(o.default.mark(function e(){var t,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.mount({id:r.detailData.id});case 3:return e.next=5,r.getProgress();case 5:e.next=17;break;case 7:e.prev=7,e.t0=e.catch(0),t=e.t0.payload,e.t1=o.default.keys(t.messages);case 11:if((e.t2=e.t1()).done){e.next=17;break}return i=e.t2.value,r.$message.error(t.messages[i]),e.abrupt("break",17);case 17:case"end":return e.stop()}},e,r,[[0,7]])}))()},getProgress:function(){var t=this;return p(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.mountSchedule({id:t.detailData.id},function(e){"100"==e.data.number&&t.getList(),t.mount=l({},e.data,{number:parseInt(e.data.number)})}).then(function(e){t.mount=e.data});case 2:case"end":return e.stop()}},e,t)}))()},KnowledgeCommit:function(){var t=this;if(this.$refs.KnowledgeFormVa.valiAll()){var e=(0,a.default)(this.$refs.KnowledgeForm,{hash:!0});try{e.id?u.modifyNowledges(l({},e,{type:this.detailData.type_number,pid:this.detailData.id})).then(function(e){t.knowledgeDialog=!1,t.getList(),t.$emit("saveok")}):(e.t_id=this.detailData.id,e.group_id=this.currGroupId,u.addNowledges(l({},e,{type:this.detailData.type_number,pid:this.detailData.id})).then(function(e){t.knowledgeDialog=!1,t.getGlist(),t.getList(),t.$emit("saveok")}))}catch(e){var i=e.payload;for(var r in i.messages){this.$message.error(i.messages[r]);break}}}},toTop:function(){var r=this,t=[];if(this.$refs.mainListWrap.querySelectorAll("[name='ids']:checked").forEach(function(e){t.push(e.value)}),!t.length)return this.$message.error("请确认你要置顶的内容！");u.upNowledges({id:t}).then(function(e){r.getList()}).catch(function(e){var t=e.payload;for(var i in t.messages){r.$message.error(t.messages[i]);break}})},knowDel:function(e){var r=this,t=0<arguments.length&&void 0!==e?e:[],i=this.$refs.mainListWrap.querySelectorAll("[name='ids']:checked");if(t.length||i.forEach(function(e){t.push(e.value)}),!t.length)return this.$message.error("请确认你要删除的内容！");this.$confirm("是否删除选中知识点?").then(function(e){u.deleteNowledges({id:t,type:r.detailData.type_number,pid:r.detailData.id}).then(function(e){r.getGlist(),r.$emit("saveok")}).catch(function(e){var t=e.payload;for(var i in t.messages){r.$message.error(t.messages[i]);break}})})},removeAnchor:function(e){var r=this,t=0<arguments.length&&void 0!==e?e:[],i=this.$refs.anchorList.querySelectorAll("[name='ids']:checked");if(t.length||i.forEach(function(e){t.push(e.value)}),!t.length)return this.$message.error("请确认你要删除的锚点！");this.$confirm("是否删除选中锚点?").then(function(e){u.delAnchor({id:t,type:r.detailData.type_number,pid:r.detailData.id}).then(function(e){r.getAnchorList(),r.$emit("saveok")}).catch(function(e){var t=e.payload;for(var i in t.messages){r.$message.error(t.messages[i]);break}})})},handleSizeChange:function(e){this.getList(1,e)},handleCurrentChange:function(e){this.getList(e,this.page.offset)},changeGroup:function(t){if(this.checkedAll=!1,this.anchorCheckedAll=!1,this.currGroupId=t.id,this.currGroup=t,this.openAnchorList=!1,this.defaultData){var e=this.glist.findIndex(function(e){return e.id===t.id});this.list=this.glist[e].nowledge_info}else this.getList()},getbookList:function(){var r=this;return p(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.listNowledges({id:r.detailData.id}).then(function(e){r.bookInfo.list=e.data}).catch(function(e){var t=e.payload;for(var i in t.messages){r.$message.error(t.messages[i]);break}});case 2:case"end":return e.stop()}},e,r)}))()},getBtn:function(){var t,r=this;u.nowledge_btn({id:this.detailData.id}).then((t=p(o.default.mark(function e(t){var i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.anchorsList=t.data,e.t0=o.default.keys(r.anchorsList);case 2:if((e.t1=e.t0()).done){e.next=9;break}if(i=e.t1.value,r.anchorsList[i])return r.anchorType=r["Anchors_"+i],e.abrupt("break",9);e.next=7;break;case 7:e.next=2;break;case 9:return e.next=11,r.getbookList();case 11:return e.next=13,r.getAnchorList();case 13:r.openAnchorList=!0;case 14:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)}))},addAnchor:function(){this.addAnchorDialog=!0},setAnchor:function(t){var i=this;return p(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.currknowledgeId=t,i.anchorList=[],e.next=4,i.getBtn();case 4:case"end":return e.stop()}},e,i)}))()},changeAnchorType:function(e){this.anchorType=this["Anchors_"+e],this.anchorList=[],this.getAnchorList()},getAnchorList:function(){var t=this;u.nowledge_info({type:this.anchorType,id:this.currknowledgeId}).then(function(e){t.anchorList=e.data}),this.getList()},bookinfoChange:function(e){if(this.anchorType==v)return this.readerId=e,void(this.readerDialog=!0);this.addAnchorDialog=!0},bookinfoBlur:function(e){this.bookInfo.value&&!e&&this.anchorType==f?this.addAnchorDialog=!0:this.bookInfo.value&&!e&&this.anchorType==v&&(this.readerId||(this.readerId=this.bookInfo.value),this.readerDialog=!0)},anchorListCancle:function(){this.addAnchorDialog=!1,this.getAnchorList(),this.$emit("saveok")},addAnchorSuccess:function(){this.$message.success("添加锚点成功!"),this.getAnchorList()},isShowAnchors:function(e){return this.anchorType==this["Anchors_"+e]},getAnchorsText:function(e){return this["Anchors_"+e]},checkedAllBtn:function(e,t){this[t]=e.target.checked}}}},399:function(e,t,i){"use strict";i.r(t);var r=i(400),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,function(){return r[e]})}(n);t.default=a.a},400:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(i(5)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},a=s(i(84)),n=s(i(159)),l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(i(432));function s(e){return e&&e.__esModule?e:{default:e}}t.default={components:{VaForm:n.default},props:["type","bookInfo","themeId","currknowledgeId","detailData"],created:function(){var t=this;return function(e){return function(){var o=e.apply(this,arguments);return new Promise(function(n,s){return function t(e,i){try{var r=o[e](i),a=r.value}catch(e){return void s(e)}if(!r.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});n(a)}("next")})}}(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.getList();case 1:case"end":return e.stop()}},e,t)}))()},data:function(){return{list:null,page:null,query:null,obj:{}}},computed:{},methods:{getList:function(e,t,i){var r=0<arguments.length&&void 0!==e?e:this.page&&this.page.num||1,a=this,n=1<arguments.length&&void 0!==t?t:this.page&&this.page.offset||10,s=i;return l.NowledgesList(o({pageNum:r,pageOffset:n},s,{id:"章节锚点"==this.type?this.bookInfo.value:this.themeId,type:this.type})).then(function(e){a.list=e.data,a.page=e.page})},checkedAll:function(t){var i=this;t.target.checked?this.list.forEach(function(e){i.obj[e.id]=e}):this.list.forEach(function(e){i.obj[e.id]=null}),this.$refs.ids.forEach(function(e){e.checked=t.target.checked}),log(this.obj)},choose:function(e,t){e.target.checked?this.obj[t.id]=t:this.obj[t.id]=null},addAnchorCommit:function(){var r=this,e=[];for(var t in this.obj)this.obj.hasOwnProperty(t)&&this.obj[t]&&e.push(this.obj[t]);l.addAnchor({n_id:this.currknowledgeId,b_id:"章节锚点"==this.type?e.map(function(e){return e.id}):"",c_id:"章节锚点"==this.type?[this.bookInfo.value]:e.map(function(e){return e.id}),type:this.type,name:e.map(function(e){return e.chapter_name||e.name}),ptype:this.detailData.type_number,pid:this.detailData.id}).then(function(e){r.$message.success("添加成功"),r.$emit("anchorListCancle")}).catch(function(e){var t=e.payload;for(var i in t.messages){r.$message.error(t.messages[i]);break}})},handleSizeChange:function(e){this.getList(1,e)},handleCurrentChange:function(e){this.getList(e,this.page.offset)},seareHandeler:function(){this.query=(0,a.default)(this.$refs.mainForm,{hash:!0}),log(this.query),this.getList(1,10,this.query)}},filters:{formatHolder:function(e){return e.substr(0,2)+"名称"}}}},401:function(e,t,i){},402:function(e,t,i){},403:function(e,t,i){"use strict";var r=i(380);i.n(r).a},404:function(e,t,i){"use strict";function r(){var i=this,e=i.$createElement,r=i._self._c||e;return r("div",[r("el-dialog",{attrs:{center:!1,visible:i.coverDialog,top:"50px",width:"500px","show-close":!1,title:"x-read系统中已有该产品，选择你的操作"}},[r("div",{staticClass:"coverContent"},[r("el-button",{attrs:{type:"primary"},on:{click:function(e){i.choiceDialog=!0}}},[i._v("覆盖原有产品")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return i.dispense()}}},[i._v("创建新的产品版本")])],1),r("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){i.coverDialog=!1}}},[i._v("取消")])],1)]),i.choiceDialog?r("el-dialog",{attrs:{center:!1,visible:i.choiceDialog,top:"50px",width:"500px","show-close":!1,title:"选择版本号"}},[r("div",{staticClass:"coverContent"},[r("el-radio-group",{model:{value:i.currentVersion,callback:function(e){i.currentVersion=e},expression:"currentVersion"}},i._l(i.currentItem.version,function(e){return r("el-radio",{key:e.xread_book_id,attrs:{label:e.xread_book_id}},[i._v(i._s(e.version_id))])}),1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:i.coverDispense}},[i._v("确定")]),r("el-button",{attrs:{type:"info"},on:{click:function(e){i.choiceDialog=!1}}},[i._v("取消")])],1)]):i._e(),r("el-dialog",{attrs:{center:!1,visible:i.publishDialog,top:"50px",width:"1000px","show-close":!1}},[r("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[r("div",{staticClass:"el-icon-close",on:{click:i.colse}}),r("el-tabs",{attrs:{value:"ff"}},[r("el-tab-pane",{attrs:{label:"分发",name:"ff"}})],1)],1),r("ul",{ref:"dispense",staticClass:"content modular"},i._l(i.list,function(t){return r("li",[r("div",{staticClass:"icon"},[r("div",{class:i.getStyle(t.type)}),r("span",{domProps:{textContent:i._s(t.name)}})]),r("ul",{staticClass:"defect"},[t.release_msg&&!t.release_msg.length?r("li",{staticClass:"pass"},[i._v("可正常分发")]):i._e(),t.release_msg&&t.release_msg.length?r("li",{domProps:{textContent:i._s(i.getdefect(t))}}):i._e()]),r("el-button",{attrs:{type:!i.is_release||t.is_release?"primary":"info",size:"mini",plain:""},domProps:{textContent:i._s(i.getBtnName(t))},on:{click:function(e){i.is_release&&!t.is_release||i.push(t)}}})],1)}),0),r("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:i.colse}},[i._v("取消")])],1)])],1)}var a=[];i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a})},405:function(e,t,i){"use strict";var r=i(383);i.n(r).a},406:function(e,t,i){"use strict";function r(){var i=this,e=i.$createElement,r=i._self._c||e;return r("div",[r("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:i.resourceDialog,width:"1200px",top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"append-to-body":""},on:{"update:visible":function(e){i.resourceDialog=e}}},[r("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-close",on:{click:i.colse}}),r("el-tabs",{attrs:{value:"detail"}},[r("el-tab-pane",{attrs:{label:"添加",name:"detail"}})],1)],1),r("el-form",{staticClass:"addBookForm"},[i.isShowType?r("span",{staticClass:"group-inline",staticStyle:{margin:"20px","margin-top":"0"}},[r("el-radio-group",{model:{value:i.currentType,callback:function(e){i.currentType=e},expression:"currentType"}},i._l(i.contentType,function(e){return r("el-radio-button",{key:e.id,attrs:{label:e.value}},[i._v(i._s(e.name))])}),1)],1):i._e(),i.isShowSearch?i._e():r("div",{staticClass:"serachWrap"},[r("form",{attrs:{id:"detailSearchForm"}},[r("span",{staticClass:"group-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:i.query.name,expression:"query.name"}],staticClass:"form-control",attrs:{placeholder:"输入名称",name:"name"},domProps:{value:i.query.name},on:{input:function(e){e.target.composing||i.$set(i.query,"name",e.target.value)}}})]),31!=i.currentType?r("span",{staticClass:"group-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:i.query.tag,expression:"query.tag"}],staticClass:"form-control",attrs:{placeholder:"输入标签",name:"tag"},domProps:{value:i.query.tag},on:{input:function(e){e.target.composing||i.$set(i.query,"tag",e.target.value)}}})]):i._e(),31==i.currentType?r("span",{staticClass:"group-inline"},[r("el-select",{attrs:{placeholder:"标签分组",clearable:""},model:{value:i.query.group_id,callback:function(e){i.$set(i.query,"group_id",e)},expression:"query.group_id"}},i._l(i.groupList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1):i._e(),r("span",{staticClass:"group-inline"},[r("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),r("span",{staticClass:"group-inline"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:i.search}},[i._v("搜索")]),r("el-button",{attrs:{type:"primary",plain:""},on:{click:i.addSelection}},[i._v("添加选中")])],1)])]),r("table",{staticClass:"table",attrs:{width:"100%"}},[r("thead",[r("tr",[r("th",{attrs:{width:"80"}},[i.singleElection?r("input",{attrs:{type:"checkbox"},on:{click:function(e){return i.checkAll(e,"addBookForm")}}}):i._e(),r("span",{domProps:{textContent:i._s(i.singleElection?"全选":"选择")}})]),r("th",[i._v("名称")]),31!=i.currentType&&"coures"!=i.currentType?r("th",[i._v(i._s(22==i.currentType?"所属资源":"标签"))]):i._e(),31==i.currentType?r("th",[i._v("难易程度")]):i._e(),31==i.currentType?r("th",[i._v("分值")]):i._e(),"coures"==i.currentType?r("th",[i._v("所属教师")]):i._e(),r("th",[i._v("类型")]),r("th",[i._v("创建时间")])])]),i.dataList.length?r("tbody",i._l(i.dataList,function(t,e){return r("tr",[r("td",[r("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox","data-type":t.status,name:"ids"},domProps:{value:t.id,checked:i.isChecked(t)},on:{click:function(e){return i.uncheckedAll(e,t)}}})]),r("td",{staticClass:"namess",domProps:{innerHTML:i._s(t.name||t.title||t.question)}}),31!=i.currentType?r("td",[i._v(i._s(22==i.currentType?t.share_resource_name:t.tag))]):i._e(),31==i.currentType?r("td",[i._v(i._s(t.level_name))]):i._e(),31==i.currentType?r("td",[i._v(i._s(t.score))]):i._e(),"coures"==i.currentType?r("td",[i._v(i._s(t.teacher_name))]):i._e(),r("td",[i._v(i._s(t.type_name))]),r("td",[i._v(i._s(t.create_time))])])}),0):r("tbody",[r("tr",[r("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[i._v("暂无数据")])])])]),i.page?r("div",{staticClass:"pageWrap"},[r("el-pagination",{attrs:{small:!1,background:"","current-page":i.page.num,"page-sizes":[10,50,100],"page-size":i.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:i.page.total},on:{"size-change":i.handleSizeChange,"current-change":i.handleCurrentChange}})],1):i._e()]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:i.colse}},[i._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:i.addSelection}},[i._v("确定")])],1)],1)],1)}var a=[];i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a})},407:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPicture=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/pictures",e).then(function(e){var t=e.data,i=t._id,r=t.name,a=t.abs,n=t.author,s=t.tag,o=t.type_name;return(0,l.addResListener)({res_id:i,res_type:o,res_name:r,res_exp:a,res_author:n,res_lables:[s]}),e})},t.modifyPicture=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/pictures/:id");return(0,a.request_put)(r({id:t}),i)},t.listPicture=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/pictures",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/pictures/export"+r.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/pictures/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/pictures/import",e)},t.deletePicture=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/pictures/delete",e)},t.detailPicture=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.default.compile(restUrl_publish+"/api/pictures/:id");return(0,a.request_get)(t(e))},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/pictures/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/pictures/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/pictures/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/pictures/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/pictures/groups",e)};var a=i(7),r=s(i(10)),n=s(i(9)),l=i(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},408:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audios",e).then(function(e){var t=e.data,i=t._id,r=t.name,a=t.abs,n=t.author,s=t.tag,o=t.type_name;return(0,l.addResListener)({res_id:i,res_type:o,res_name:r,res_exp:a,res_author:n,res_lables:[s]}),e})},t.modify=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/audios/:id");return(0,a.request_put)(r({id:t}),i)},t.listAudio=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/audios",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/audios/export"+r.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/audios/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audios/import",e)},t.deleteAudio=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audios/delete",e)},t.detailAudio=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.default.compile(restUrl_publish+"/api/audios/:id");return(0,a.request_get)(t(e),e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/audios/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audios/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audios/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/audios/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/audios/groups",e)};var a=i(7),r=s(i(10)),n=s(i(9)),l=i(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},416:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/comproduct/list",e)},t.getDetail=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/comproduct",e)},t.del=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/comproduct/delete",e)},t.urgentDigitalBook=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/comproduct/urgent",e)},t.audits=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/comproduct/audits",e)},t.issuance=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=function(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}(e,["id"]),r=s.default.compile(restUrl_publish+"/api/comproduct/:id/issuance");return(0,a.request_put)(r({id:t}),i).then(function(e){return(0,o.suance)({id:t,info:e.data}),e})},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/comproduct/groups",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=s.default.compile(restUrl_publish+"/api/comproduct/groups/:id");return(0,a.request_put)(t(e),e)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/themes/groups/delete",e)},t.listGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/comproduct/groups",e)},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rel_id=e.id,delete e.id,(0,a.request_put)(restUrl_publish+"/api/groups/comproduct",e)};var r,a=i(7),n=i(9),s=(r=n)&&r.__esModule?r:{default:r},o=i(85)},417:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modify=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/contents/:id");return(0,a.request_put)(r({id:t}),i)},t.listContent=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/contents",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/contents/export"+r.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/contents/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/contents/import",e)},t.deleteContent=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/contents/delete",e)},t.detailContent=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.default.compile(restUrl_publish+"/api/contents/:id");return(0,a.request_get)(t(e))},t.add=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/contents",e).then(function(e){var t=e.data,i=t._id,r=t.name,a=t.abs,n=t.author,s=t.tag,o=t.type_name;return(0,l.addResListener)({res_id:i,res_type:o,res_name:r,res_author:n,res_exp:a,res_lables:[s]}),e})},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/contents/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/contents/groups")},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/contents/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/contents/groups",e)},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/contents/groups",e)};var a=i(7),r=s(i(10)),n=s(i(9)),l=i(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},418:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess",e).then(function(e){var t=e.data,i=t._id,r=t.name,a=t.abs,n=t.author,s=t.tag,o=t.type_name;return(0,l.addResListener)({res_id:i,res_type:o,res_name:r,res_exp:a,res_author:n,res_lables:[s]}),e})},t.modify=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess/:id");return(0,a.request_put)(r({id:t}),i)},t.listLibraries=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/librariess",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/librariess/export"+r.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/librariess/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess/import",e)},t.deleteLibraries=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess/delete",e)},t.detailLibraries=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.default.compile(restUrl_publish+"/api/librariess/:id");return(0,a.request_get)(t(e))},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/librariess/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/librariess/groups",e)};var a=i(7),r=s(i(10)),n=s(i(9)),l=i(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},419:function(e,t,i){"use strict";i.r(t);var r=i(424),a=i(388);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);i(423);var s=i(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,"5c869a99",null);t.default=o.exports},422:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/qrcode",e)},t.urgentDigital=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/qrcode/urgent",e)},t.audits=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/qrcode/audits",e)},t.save=function(e){var t=e.id,i=o(e,["id"]);if(t){var r=s.default.compile(restUrl_publish+"/api/qrcode/:id");return(0,a.request_put)(r({id:t}),i)}return(0,a.request_post)(restUrl_publish+"/api/qrcode",i)},t.detail=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=s.default.compile(restUrl_publish+"/api/qrcode/:id");return(0,a.request_get)(t(e),e)},t.del=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/qrcode/delete",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/qrcode/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.listGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/qrcode/groups",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/qrcode/groups",e)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/qrcode/groups/:id");return(0,a.request_delete)(r({id:t}),i)},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.rel_id=e.id,delete e.id,(0,a.request_put)(restUrl_publish+"/api/groups/qrcode",e)};var r,a=i(7),n=i(9),s=(r=n)&&r.__esModule?r:{default:r};function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},423:function(e,t,i){"use strict";var r=i(390);i.n(r).a},424:function(e,t,i){"use strict";function r(){var i=this,e=i.$createElement,r=i._self._c||e;return r("div",{staticClass:"div"},[r("div",{staticClass:"dialogs"},[i.readerDialog?r("Reader",{attrs:{readerDialog:i.readerDialog,readerId:i.readerId,version:"draft"},on:{"update:readerDialog":function(e){i.readerDialog=e},"update:reader-dialog":function(e){i.readerDialog=e}}}):i._e()],1),r("el-tabs",{attrs:{value:i.type},on:{"tab-click":i.handleClick}},[r("el-tab-pane",{attrs:{label:"详情",name:"info"}},[r("div",{staticClass:"div"},[r("form",{ref:"infoForm",staticClass:"infoForm"},[r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("名称:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:i.infoData.name},on:{input:function(e){e.target.composing||i.$set(i.infoData,"name",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("类型:")]),r("span",{staticClass:"types"},[r("span",[i._v(" "+i._s(i.infoData.type_name))]),r("span",[i._v(" 创建时间: "+i._s(i.infoData.create_time))])])]),i.isAuthor?i._e():r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("作者:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:i.infoData.author},on:{input:function(e){e.target.composing||i.$set(i.infoData,"author",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("标签:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:i.infoData.tag},on:{input:function(e){e.target.composing||i.$set(i.infoData,"tag",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("简介:")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:i.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:i.infoData.abs},on:{input:function(e){e.target.composing||i.$set(i.infoData,"abs",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("详情:")]),1==i.infoData.type?r("el-button",{attrs:{title:"预览",size:"mini",type:"primary",plain:""},on:{click:function(e){return i.openReader(i.infoData)}}},[i._v("预览")]):i._e()],1),i.detailType&&3!=i.infoData.type?r("div",{staticClass:"group wailianinput"},[r("div",{staticClass:"label"}),r("span",[r("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:i.infoData.preview}})])]):i._e(),i.hassVideo||4==i.infoData.type?r("div",{staticClass:"group detailmain wailian"},[r("div",{staticClass:"label"}),r("div",{staticClass:"left"},[r("img",{staticClass:"coverImg",attrs:{src:i.infoData.img_src||i.infoData.img}}),3==i.infoData.type?r("img",{staticClass:"coverImg",attrs:{src:i.infoData.preview_path}}):i._e()]),r("div",{staticClass:"right"},[r("span",{staticClass:"wrap"},[i.hassVideo?r("video",{attrs:{src:i.infoData.preview,controls:""}}):i._e(),4==i.infoData.type?r("audio",{attrs:{src:i.infoData.preview,controls:""}}):i._e()]),r("span",{staticClass:"msg"},[r("div",{staticClass:"type"},[i._v("格式:"),r("span",{staticClass:"val",domProps:{textContent:i._s(i.infoData.format)}})]),r("div",{staticClass:"size"},[i._v("大小:"),r("span",{staticClass:"val",domProps:{textContent:i._s((i.infoData.size/1024).toFixed(2)+"KB")}})])])])]):r("div",{staticClass:"group detailmain"},[r("div",{staticClass:"label"}),r("span",{staticClass:"wrap"},[r("img",{staticClass:"coverImg",attrs:{src:i.infoData.img_src||i.infoData.img}}),3==i.infoData.type?r("img",{staticClass:"coverImg",attrs:{src:i.infoData.preview_path}}):i._e()])]),10==i.infoData.type?r("div",{staticClass:"group"},[r("table",{staticClass:"table border",attrs:{width:"100%"}},[r("thead",[r("tr",[r("th",[i._v("名称")]),r("th",[i._v("标签")]),r("th",[i._v("作者")]),r("th",[i._v("发布时间")])])]),r("tbody",i._l(i.infoData.constitute,function(e,t){return r("tr",[r("td",{domProps:{textContent:i._s(e.name)}}),r("td",{domProps:{textContent:i._s(e.tag)}}),r("td",{domProps:{textContent:i._s(e.author)}}),r("td",{domProps:{textContent:i._s(e.create_time)}})])}),0)])]):i._e()])])]),r("el-tab-pane",{attrs:{label:"扩展属性",name:"data"}},[r("MetaData",{attrs:{metadata:i.infoData.attributes,isShowBtn:!1,readOnly:!0}})],1)],1)],1)}var a=[];i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a})},425:function(e,t,i){"use strict";i.r(t);var r=i(449),a=i(397);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);i(448);var s=i(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,"4e328e7a",null);t.default=o.exports},446:function(e,t,i){"use strict";i.r(t);var r=i(450),a=i(399);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);i(447);var s=i(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,"2628d7d4",null);t.default=o.exports},447:function(e,t,i){"use strict";var r=i(401);i.n(r).a},448:function(e,t,i){"use strict";var r=i(402);i.n(r).a},449:function(e,t,i){"use strict";function r(){var i=this,e=i.$createElement,r=i._self._c||e;return r("div",{staticClass:"div"},[i.readerDialog?r("Reader",{attrs:{readerDialog:i.readerDialog,currId:i.currknowledgeId,readerId:i.readerId,detailData:i.detailData,version:"production",markBtn:"锚点"},on:{"update:readerDialog":function(e){i.readerDialog=e},"update:reader-dialog":function(e){i.readerDialog=e},addAnchorSuccess:i.addAnchorSuccess}}):i._e(),r("div",{staticClass:"dialogs"},[r("el-dialog",{attrs:{center:!1,visible:i.groupDialog,"close-on-click-modal":!1,top:"50px",width:"500px","append-to-body":""},on:{"update:visible":function(e){i.groupDialog=e}}},[r("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[r("el-tabs",{attrs:{value:"detail"}},[r("el-tab-pane",{attrs:{label:"知识点结构",name:"detail"}})],1)],1),r("VaForm",{ref:"groupFormVa"},[r("form",{ref:"groupForm"},[r("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:i.editGroup.id}}),i.groupDialog?r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("名称:")]),r("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name",type:"text"},domProps:{value:i.editGroup.name}})]):i._e(),r("div",{staticClass:"btns"},[r("el-button",{attrs:{size:"mediu",type:"primary"},on:{click:i.groupCommit}},[i._v("确定")]),r("el-button",{attrs:{size:"mediu",type:"info"},on:{click:function(e){i.groupDialog=!1}}},[i._v("取消")])],1)])])],1),r("el-dialog",{attrs:{center:!1,visible:i.knowledgeDialog,"close-on-click-modal":!1,top:"50px",width:"500px","append-to-body":""},on:{"update:visible":function(e){i.knowledgeDialog=e}}},[r("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[r("el-tabs",{attrs:{value:"detail"}},[r("el-tab-pane",{attrs:{label:"知识点",name:"detail"}})],1)],1),r("VaForm",{ref:"KnowledgeFormVa"},[r("form",{ref:"KnowledgeForm"},[r("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:i.editKnowledge.id}}),i.knowledgeDialog?r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("名称:")]),r("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name",type:"text"},domProps:{value:i.editKnowledge.name}})]):i._e(),r("div",{staticClass:"btns"},[r("el-button",{attrs:{size:"mediu",type:"primary"},on:{click:i.KnowledgeCommit}},[i._v("确定")]),r("el-button",{attrs:{size:"mediu",type:"info"},on:{click:function(e){i.knowledgeDialog=!1}}},[i._v("取消")])],1)])])],1),r("el-dialog",{attrs:{center:!1,visible:i.addAnchorDialog,"close-on-click-modal":!1,top:"50px",width:"80%","append-to-body":"",title:"锚点添加"},on:{"update:visible":function(e){i.addAnchorDialog=e}}},[i.addAnchorDialog?r("AnchorList",{attrs:{type:i.anchorType,bookInfo:i.bookInfo,themeId:i.detailData.id,currknowledgeId:i.currknowledgeId,detailData:i.detailData},on:{anchorListCancle:i.anchorListCancle}}):i._e()],1)],1),r("div",{staticClass:"topWrap"},[i.mount&&0<i.mount.number&&100!=i.mount.number&&!i.readOnly?r("div",{staticClass:"mount"},[r("el-progress",{staticClass:"mountProgress",attrs:{"text-inside":!0,"stroke-width":18,percentage:i.mount.number}}),100<=i.mount.number?r("span",[i._v("挂载完成")]):r("span",[i._v('正在挂载"'+i._s(i.mount.name)+'"')])],1):i._e(),r("div",{staticClass:"btns"},[i.readOnly?i._e():r("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return i.groupEdit({})}}},[i._v("新增知识结构")]),i.currGroupId&&!i.readOnly?r("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:i.guaZai}},[i._v("一键挂载")]):i._e()],1)]),i.currGroupId?r("div",{staticClass:"content clearfix"},[r("div",{staticClass:"left"},[r("ul",i._l(i.glist,function(t){return r("div",{staticClass:"li",class:{currGroup:t.id==i.currGroupId},on:{click:function(e){return i.changeGroup(t)}}},[r("span",{staticClass:"name",attrs:{title:t.name+"(100)"},domProps:{textContent:i._s(t.name+"("+t.num+")")}}),i.readOnly?i._e():r("div",{staticClass:"btns"},[r("Icon",{attrs:{type:"icon-menu-publish"},on:{click:function(e){return e.stopPropagation(),i.groupEdit(t)}}}),r("Icon",{attrs:{type:"el-icon-delete"},on:{click:function(e){return e.stopPropagation(),i.groupDel(t)}}})],1)])}),0)]),r("div",{staticClass:"tableWrap"},[r("div",{staticClass:"nav clearfix"},[r("div",{staticClass:"name",domProps:{textContent:i._s(i.currGroup.name)}}),i.openAnchorList?r("div",{staticClass:"btns"},[r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){i.openAnchorList=!1}}},[i._v("返回")]),i.isBook?i._e():r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:i.addAnchor}},[i._v("增加锚点")]),!i.bookInfo||i.anchorType!=i.Anchors_chapter&&i.anchorType!=i.Anchors_content?i._e():r("el-select",{attrs:{placeholder:"书籍设置",size:"small"},on:{change:i.bookinfoChange,"visible-change":i.bookinfoBlur},model:{value:i.bookInfo.value,callback:function(e){i.$set(i.bookInfo,"value",e)},expression:"bookInfo.value"}},i._l(i.bookInfo.list,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return i.removeAnchor()}}},[i._v("移除")])],1):r("div",{staticClass:"btns"},[i.readOnly?i._e():r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return i.KnowledgeEdit({})}}},[i._v("新增知识点")]),i.readOnly?i._e():r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:i.toTop}},[i._v("置顶")]),i.readOnly?i._e():r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return i.knowDel()}}},[i._v("删除")])],1)]),i.openAnchorList?i._e():r("div",{ref:"mainListWrap",staticClass:"mainListWrap"},[r("table",{staticClass:"table"},[r("thead",[r("tr",[i.readOnly?i._e():r("th",[i._v("全选"),r("input",{attrs:{type:"checkbox"},on:{click:function(e){return i.checkedAllBtn(e,"checkedAll")}}})]),r("th",[i._v("名称")]),r("th",[i._v("数量")]),r("th",{attrs:{width:"160"}},[i._v("创建时间")]),i.readOnly?i._e():r("th",{staticStyle:{"text-align":"center"},attrs:{width:"250"}},[i._v("操作")])])]),r("tbody",i._l(i.list,function(t){return r("tr",[i.readOnly?i._e():r("th",[r("input",{attrs:{type:"checkbox",name:"ids"},domProps:{checked:i.checkedAll,value:t.id}})]),r("th",[i._v(i._s(t.name))]),r("th",[i._v(i._s(t.num))]),r("th",[i._v(i._s(t.create_time))]),i.readOnly?i._e():r("th",[r("div",{staticClass:"btns"},[r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return i.KnowledgeEdit(t)}}},[i._v("重命名")]),r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return i.setAnchor(t.id)}}},[i._v("设置锚点")]),r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return i.knowDel([t.id])}}},[i._v("删除")])],1)])])}),0)]),i.page?r("div",{staticClass:"pageWrap"},[r("el-pagination",{attrs:{small:!1,background:"","current-page":i.page.num,"page-sizes":[10,50,100],"page-size":i.page.offset,layout:"sizes,prev, pager, next, jumper",total:i.page.total},on:{"size-change":i.handleSizeChange,"current-change":i.handleCurrentChange}})],1):i._e(),r("div",{staticClass:"btns"})]),i.openAnchorList?r("div",{staticClass:"anchorListWrap"},[r("div",{staticClass:"article"},[i.openAnchorList?r("table",{ref:"anchorList",staticClass:"table"},[r("thead",[r("tr",[r("th",{attrs:{width:"50"}},[i._v("全选"),r("input",{attrs:{type:"checkbox"},on:{click:function(e){return i.checkedAllBtn(e,"anchorCheckedAll")}}})]),r("th",[r("div",{staticClass:"title"},[r("span",{staticClass:"btns"},i._l(i.anchorsList,function(e,t){return e?r("span",{class:{currAnchorType:i.isShowAnchors(t)},domProps:{textContent:i._s(i.getAnchorsText(t))},on:{click:function(e){return i.changeAnchorType(t)}}}):i._e()}),0)])]),r("th",{directives:[{name:"show",rawName:"v-show",value:i.isBook,expression:"isBook"}],attrs:{width:"180"}},[i._v("所属图书")]),r("th",{staticClass:"btns",staticStyle:{"padding-right":"30px"},attrs:{width:"50"}},[i._v("操作")])])]),r("tbody",{staticClass:"contentAnchors"},i._l(i.anchorList,function(t){return r("tr",[r("td",[r("div",{staticClass:"input"},[r("input",{attrs:{type:"checkbox",name:"ids"},domProps:{checked:i.anchorCheckedAll,value:t.id}})])]),r("td",{staticClass:"point"},[i.anchorType==i.Anchors_content?r("div",{staticClass:"div"},[i._v(i._s(t.point))]):r("div",{staticClass:"div"},[i._v(i._s(t.name))])]),i.isBook?r("td",[i._v(i._s(t.book_name))]):i._e(),r("td",[r("div",{staticClass:"btns"},[r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return i.removeAnchor([t.n_info_id])}}},[i._v("移除")])],1)])])}),0)]):i._e()])]):i._e()])]):i._e()],1)}var a=[];i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a})},450:function(e,t,i){"use strict";function r(){var i=this,e=i.$createElement,r=i._self._c||e;return r("div",{staticClass:"div"},[r("div",{staticClass:"serachWrapd"},[r("div",{staticClass:"title"}),r("form",{ref:"mainForm"},[r("span",{staticClass:"group-inline"},[i.bookInfo&&"章节锚点"==i.type?r("el-select",{attrs:{placeholder:"选择所属书籍",size:"small",clearable:""},model:{value:i.bookInfo.value,callback:function(e){i.$set(i.bookInfo,"value",e)},expression:"bookInfo.value"}},i._l(i.bookInfo.list,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1):i._e()],1),r("span",{staticClass:"group-inline"},[r("input",{staticClass:"form-control",attrs:{placeholder:i._f("formatHolder")(i.type),name:"name"}})]),r("span",{staticClass:"group-inline btn"},[r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search",plain:""},on:{click:i.seareHandeler}},[i._v("搜索")]),r("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:i.addAnchorCommit}},[i._v("添加选中")])],1)])]),r("div",{staticClass:"tableWrap"},[r("table",{staticClass:"table"},[r("thead",[r("tr",[r("th",[i._v("全选"),r("input",{attrs:{type:"checkbox"},on:{click:i.checkedAll}})]),r("th",[i._v("名称")]),r("th",[i._v("创建时间")])])]),r("tbody",i._l(i.list,function(t){return r("tr",[r("th",[r("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids"},domProps:{checked:!!i.obj[t.id],value:t.id},on:{click:function(e){return i.choose(e,t)}}})]),r("th",[i._v(i._s(t.chapter_name||t.name))]),r("th",[i._v(i._s(t.create_time))])])}),0)]),i.page?r("div",{staticClass:"pageWrap"},[r("el-pagination",{attrs:{small:!1,background:"","current-page":i.page.num,"page-sizes":[10,50,100],"page-size":i.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:i.page.total},on:{"size-change":i.handleSizeChange,"current-change":i.handleCurrentChange}})],1):i._e()]),r("div",{staticClass:"btns"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){return i.$emit("anchorListCancle")}}},[i._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:i.addAnchorCommit}},[i._v("确定")])],1)])}var a=[];i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a})},451:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles",e).then(function(e){var t=e.data,i=t._id,r=t.name,a=t.abs,n=t.author,s=t.tag,o=t.type_name;return(0,l.addResListener)({res_id:i,res_type:o,res_name:r,res_exp:a,res_author:n,res_lables:[s]}),e})},t.modifyArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/articles/:id");return(0,a.request_put)(r({id:t}),i)},t.listArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/articles",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/articles/export"+r.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/articles/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles/import",e)},t.deleteArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles/delete",e)},t.detailArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/articles/:id");return(0,a.request_get)(r({id:t}),i)},t.pushArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles/push",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/articles/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/articles/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/articles/groups",e)};var a=i(7),r=s(i(10)),n=s(i(9)),l=i(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},452:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debrisList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/chapters",e)},t.addDebris=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/chapters",e)},t.modifyDebris=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=s.default.compile(restUrl_publish+"/api/chapters/:id");return(0,a.request_put)(t(e),e)},t.publishWork=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=s.default.compile(restUrl_publish+"/api/chapters/books");return(0,a.request_post)(t(e),e)},t.deleteDbris=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/chapters/delete",e)},t.detailDebris=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/chapters/:id");return(0,a.request_get)(r({id:t}),i)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/chapters/groups")},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/chapters/groups",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,a.request_delete)(r({id:t}),i)},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/groups/chapters",e)};var r,a=i(7),n=i(9),s=(r=n)&&r.__esModule?r:{default:r};function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},453:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=s.default.compile(restUrl_publish+"/api/course_examination_paper/:id");return(0,a.request_get)(t(e))},t.save=function(e){var t=e.id,i=function(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}(e,["id"]);if(t){var r=s.default.compile(restUrl_publish+"/api/course_examination_paper/:id");return(0,a.request_put)(r({id:t}),i)}return(0,a.request_post)(restUrl_publish+"/api/course_examination_paper",i)},t.getInfo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=s.default.compile(restUrl_publish+"/api/course_examination_paper/paper/:id");return(0,a.request_get)(t(e))},t.getInfos=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=s.default.compile(restUrl_publish+"/api/course_examination_paper/paper_info/:id");return(0,a.request_get)(t(e))},t.del=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_delete)(restUrl_publish+"/api/course_examination_paper/"+e.id)},t.saveExercise=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/course_examination_paper/practice",e)},t.saveExercises=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/course_examination_paper/practice_update",e)},t.getResource=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=s.default.compile(restUrl_publish+"/api/course_examination_paper/get_tp_list/:id");return(0,a.request_get)(t({id:e.course_id}))};var r,a=i(7),n=i(9),s=(r=n)&&r.__esModule?r:{default:r}},454:function(e,t,i){"use strict";i.r(t);var r=i(455),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,function(){return r[e]})}(n);t.default=a.a},455:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(i(5)),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o=i(160),l=r(i(25)),a=r(i(394));u(i(2));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(){var o=e.apply(this,arguments);return new Promise(function(n,s){return function t(e,i){try{var r=o[e](i),a=r.value}catch(e){return void s(e)}if(!r.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});n(a)}("next")})}}t.default={props:["type","detailData","detailDialog","detailType","defaultData","services","readOnly"],created:function(){if(this.readOnly,this.detailType,!this.defaultData&&this.detailData)this.detailData.id&&(this.getDetail(),this.getMulu(this.detailData.id));else{var e=Object.entries(this.defaultData).length?this.defaultData:this.detailData,t=e.attributes,i=e.chapters,r=e.components||this.defaultData;if(this.getMainList&&this.getMainList.forEach(function(e){for(var t in r)t!==e.label&&t!==e.name||(e.value=r[t])}),6==this.detailType?this.detailDataOwn.封面=r.封面:this.detailDataOwn.资源地址=r.资源地址,this.metadata=t||[],this.readOnly&&i){var a=(0,o.recursionTree)(i,"pid","root");this.ml=a,this.currMulu=a}else this.getMulu(this.defaultData.id)}},data:function(){return{detailDataOwn:{attributes:[]},metadata:[],ml:null,defaultProps:{children:"children",label:"chapter_name"},currMulu:null,previewImgUrl:null,file:null,detailReadOnly:!1,viewpoint:[{label:"标题",value:"",required:!0},{label:"副标题"},{label:"作者"},{label:"品类维度"},{label:"品类维度编号"},{label:"专业类别"},{label:"专业类别编号"},{label:"文集类别"},{label:"文集来源ID"},{label:"文献出处"},{label:"文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],statute:[{label:"标题",value:"",required:!0},{label:"发文字号"},{label:"发布单位"},{label:"效力状态"},{label:"品类维度"},{label:"品类维度编号"},{label:"法规类别"},{label:"法规类别编号"},{label:"学科分类"},{label:"学科分类编号"},{label:"法规来源ID"},{label:"文献出处"},{label:"法规文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],case:[{label:"标题",value:"",required:!0},{label:"主要问题(副标题)",name:"副标题"},{label:"案件类别"},{label:"案件类别编号"},{label:"案例编号"},{label:"效力状态"},{label:"品类维度"},{label:"品类维度编号"},{label:"案例来源ID"},{label:"案例(文献)出处",name:"出处"},{label:"文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],referee:[{label:"标题",value:"",required:!0},{label:"案号"},{label:"品类维度"},{label:"品类维度编号"},{label:"案件类别"},{label:"案件类别编号"},{label:"审理法院"},{label:"裁判来源ID"},{label:"裁判文献出处"},{label:"裁判文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],book:[{label:"标题",value:"",required:!0},{label:"副标题"},{label:"出版者"},{label:"ISBN"},{label:"出版日期"},{label:"作者"},{label:"责任方式"},{label:"专业类别"},{label:"专业类别编号"},{label:"品类维度"},{label:"品类维度编号"},{label:"简介"},{label:"归属套系"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],ModelEssay:[{label:"标题",value:"",required:!0},{label:"作者"},{label:"资源出处"},{label:"发表时间"},{label:"资源说明"},{label:"适用场景"},{label:"流程类别"},{label:"价格"},{label:"资源类别"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],ClassVideo:[{label:"标题",value:"",required:!0},{label:"专辑演播者"},{label:"专辑责任者"},{label:"专辑简介"},{label:"专业类别"},{label:"专业类别编号"},{label:"内容原作者"},{label:"出版时间"},{label:"关联资源"},{label:"节目数"},{label:"品类维度"},{label:"品类维度编号"},{label:"节目内容来源"},{label:"价格"}]}},methods:{getDetail:function(){var e=this;this.services.detailResource({id:this.detailData.id}).then(function(i){e.detailDataOwn=i.data,e.getMainList&&e.getMainList.forEach(function(e){for(var t in i.data)t!==e.label&&t!==e.name||(e.value=i.data[t])}),e.metadata=i.data.attributes||[]})},getMulu:function(e){var i=this;a.getBookCatalog({id:e}).then(function(e){var t=(0,o.recursionTree)(e.data,"pid","root");i.ml=t,i.currMulu=t})},handleClick:function(e,t){"ml"==e.name&&(this.currMulu=this.ml)},handleNodeClick:function(e,t,i){this.currMulu=t.data.children},muluSort:function(e,t,i){var r=this.currMulu;"up"===i?0<t&&(r.splice(t,1),r.splice(t-1,0,e)):(r.splice(t,1),r.splice(t+1,0,e)),a.siblingSort({id:e.id,sort:i})},submitDetail:function(e){var a=this;return d(n.default.mark(function e(){var t,i,r;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.$refs.detailForm.valiAll()){e.next=3;break}return e.abrupt("return");case 3:if(t=a.$progress(),e.prev=4,i=void 0,a.imgFile)return e.next=9,l.getTask(a.imgFile).then(function(e){i=e.data.path});e.next=9;break;case 9:return r={},6==a.detailType?r["封面"]=i||a.detailDataOwn.封面:r["资源地址"]=i||a.detailDataOwn.资源地址,a.getMainList&&a.getMainList.forEach(function(e){e.name?r[e.name]=e.value:r[e.label]=e.value}),e.next=14,a.services.save(s({id:a.detailData?a.detailData.id:null},r,{attributes:a.metadata,type:a.detailType,link_id:a.defaultData?a.defaultData.id:null}));case 14:a.$emit("detailBack"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),e.t0;case 20:t.close();case 21:case"end":return e.stop()}},e,a,[[4,17]])}))()},previewImg:function(e){var t=e.target.files[0];this.imgFile=t,this.previewImgUrl=URL.createObjectURL(t)},upLoadXml:function(){var i=this;return d(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.file)return t=i.$progress(),e.next=4,l.getTask(i.file,{is_chunk:!0,size:1048576},function(e){t.percentage=e}).then(function(e){i.detailDataOwn.preview=e.data.path});e.next=5;break;case 4:t.close();case 5:case"end":return e.stop()}},e,i)}))()},previewBook:function(e){var t=e.target.files[0];this.file=t,dir(t,"file")}},computed:{getMainList:function(){switch(Number(this.detailType)){case 1:return this.case;case 2:return this.statute;case 3:return this.viewpoint;case 4:return this.referee;case 6:return this.book;case 7:return this.ModelEssay;case 8:return this.ClassVideo}}}}},456:function(e,t,i){},474:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess_ar",e).then(function(e){var t=e.data,i=t._id,r=t.name,a=t.abs,n=t.author,s=t.tag,o=t.type_name;return(0,l.addResListener)({res_id:i,res_type:o,res_name:r,res_exp:a,res_author:n,res_lables:[s]}),e})},t.modify=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess_ar/:id");return(0,a.request_put)(r({id:t}),i)},t.listLibraries=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/librariess_ar",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/librariess_ar/export"+r.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/librariess_ar/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess_ar/import",e)},t.deleteLibraries=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess_ar/delete",e)},t.detailLibraries=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.default.compile(restUrl_publish+"/api/librariess_ar/:id");return(0,a.request_get)(t(e))},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess_ar/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess_ar/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess_ar/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/librariess_ar/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/librariess_ar/groups",e)};var a=i(7),r=s(i(10)),n=s(i(9)),l=i(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},475:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess_vr",e).then(function(e){var t=e.data,i=t._id,r=t.name,a=t.abs,n=t.author,s=t.tag,o=t.type_name;return(0,l.addResListener)({res_id:i,res_type:o,res_name:r,res_exp:a,res_author:n,res_lables:[s]}),e})},t.modify=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess_vr/:id");return(0,a.request_put)(r({id:t}),i)},t.listLibraries=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/librariess_vr",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/librariess_vr/export"+r.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/librariess_vr/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess_vr/import",e)},t.deleteLibraries=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess_vr/delete",e)},t.detailLibraries=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.default.compile(restUrl_publish+"/api/librariess_vr/:id");return(0,a.request_get)(t(e))},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess_vr/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess_vr/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/librariess_vr/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/librariess_vr/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/librariess_vr/groups",e)};var a=i(7),r=s(i(10)),n=s(i(9)),l=i(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},476:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resourceList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.type;t&&t.indexOf("-")&&(e.type=t.split("-")[1]);return(0,a.request_get)(restUrl_publish+"/api/databooks",e)},t.save=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]);if(t){var r=s.default.compile(restUrl_publish+"/api/databooks/:id");return(0,a.request_put)(r({id:t}),i)}return(0,a.request_post)(restUrl_publish+"/api/databooks",i)},t.detailResource=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/databooks/:id");return(0,a.request_get)(r({id:t}),i)},t.del=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/databooks/delete",e)},t.listGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/databooks/groups",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/databooks/groups",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/databooks/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/databooks/groups/:id");return(0,a.request_delete)(r({id:t}),i)},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/groups/databooks",e)};var r,a=i(7),n=i(9),s=(r=n)&&r.__esModule?r:{default:r};function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},477:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recomList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/rechapters",e)},t.detailRecom=function(e){var t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/rechapters/:id");return(0,a.request_get)(r({id:t}),i)},t.deleteRecom=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/rechapters/delete",e)},t.updateRecom=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s.default.compile(restUrl_publish+"/api/rechapters/:id");return(0,a.request_put)(put(e),e)},t.addRecom=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/rechapters",e)},t.save=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]);if(t)return(0,a.request_put)(restUrl_publish+"/api/rechapters/"+t,i);return(0,a.request_post)(restUrl_publish+"/api/rechapters",i)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/rechapters/groups")},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/rechapters/groups",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,a.request_delete)(r({id:t}),i)},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/groups/chapters",e)};var r,a=i(7),n=i(9),s=(r=n)&&r.__esModule?r:{default:r};function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}},480:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/shared_resource",e)},t.getResource=function(){return(0,a.request_get)(restUrl_publish+"/api/shared_resource/list")},t.save=function(e){var t=e.id,i=function(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}(e,["id"]);if(t){var r=s.default.compile(restUrl_publish+"/api/shared_resource/:id");return(0,a.request_put)(r({id:t}),i)}return(0,a.request_post)(restUrl_publish+"/api/shared_resource",i)},t.getInfo=function(e){var t=s.default.compile(restUrl_publish+"/api/shared_resource/:id");return(0,a.request_get)(t({id:e}))},t.del=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/shared_resource/delete",e)},t.urgentDigital=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/shared_resource/urgent",e)},t.audits=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/shared_resource/audits",e)};var r,a=i(7),n=i(9),s=(r=n)&&r.__esModule?r:{default:r};i(85)},574:function(e,t){},585:function(e,t,i){"use strict";i.r(t);var r=i(603),a=i(454);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);i(586);var s=i(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,"2befa019",null);t.default=o.exports},586:function(e,t,i){"use strict";var r=i(456);i.n(r).a},599:function(e,t,i){"use strict";i.r(t);var r=i(600),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,function(){return r[e]})}(n);t.default=a.a},600:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=f(i(5)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r=f(i(159)),a=p(i(699)),l=(i(568),i(25)),u=p(i(393)),n=f(i(84)),d=f(i(425)),c=f(i(419));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function v(e){return function(){var o=e.apply(this,arguments);return new Promise(function(n,s){return function t(e,i){try{var r=o[e](i),a=r.value}catch(e){return void s(e)}if(!r.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});n(a)}("next")})}}function h(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}t.default={props:["type","detailData","detailDialog","readOnly","isNewVideo"],data:function(){return{Knowledge:{},VideoDetail:{},detail:{type:"混合主题",constitute:[]},page:null,attributes:[],previewImgUrl:null,imgUrl:null,detailAddDialog:!1,infoDialog:!1,infoData:{},dataList:{},searchValue:null,infoValue:"info",themeType:{value:"",list:["混合主题","阅读主题","视频主题","音频主题"]},contentType:[{name:"数字图书",value:"book"},{name:"3D内容",value:"3d"},{name:"音频",value:"audio"},{name:"视频",value:"video"},{name:"AR和VR内容",value:"ar"}],currentType:"book",isShowAuthor:!1,chocesArray:[]}},created:function(){if(this.detailData.id)switch(this.type){case"info":case"data":this.getDetail();default:this.getDetail()}else log("进入新建")},mounted:function(){this.$nextTick(function(){Array.from(document.querySelectorAll("input[type=text]")).forEach(function(e){e.autocomplete="off"})})},methods:{getDetail:function(){var t=this;(this.isNewVideo?a.detailResource:u.detailTheme)({id:this.detailData.id}).then(function(e){t.detail=e.data,t.previewImgUrl=e.data.img_src||e.data.封面,t.imgUrl=e.data.path,t.attributes=e.data.attributes,t.detail.img=e.data.path,t.$set(t.detail,"constitute",e.data.constitute||e.data.resource),t.chocesArray=[].concat(h(e.data.constitute))})},handleClick:function(e,t){e.name},addattributes:function(){this.attributes.push({name:"",value:""})},delattributes:function(e){this.attributes.splice(e,1)},submitDetail:function(){var n=this;return v(s.default.mark(function e(){var t,i,r,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.$refs.detailForm.valiAll()){e.next=4;break}return log("验证失败"),e.abrupt("return");case 4:if(t=n.$refs.fenmian.files[0],i=n.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),e.prev=6,t)return e.next=10,(0,l.getTask)(t).then(function(e){n.detail.封面=e.data.path});e.next=10;break;case 10:if(n.detail.attributes=n.attributes,1==n.isNewVideo)return n.$emit("addVideo",n.detail,n.detail.封面),n.$nextTick(function(){i.close(),n.$emit("update:detailDialog",!1)}),e.abrupt("return");e.next=15;break;case 15:if(n.detail.id)return e.next=18,u.modifyTheme(n.detail).then(function(e){n.$emit("updateList")});e.next=20;break;case 18:e.next=22;break;case 20:return e.next=22,u.addTheme(n.detail).then(function(e){n.$emit("updateList")});case 22:n.$nextTick(function(){i.close(),n.$emit("update:detailDialog",!1)}),e.next=36;break;case 25:e.prev=25,e.t0=e.catch(6),r=e.t0.payload,i.close(),e.t1=s.default.keys(r.messages);case 30:if((e.t2=e.t1()).done){e.next=36;break}return a=e.t2.value,n.$message.error(r.messages[a]),e.abrupt("break",36);case 36:case"end":return e.stop()}},e,n,[[6,25]])}))()},previewImg:function(e){var t=e.target.files[0];this.previewImgUrl=URL.createObjectURL(t)},detailTopHandle:function(){var r=this;log(this.detail.constitute);var a=[],e=document.querySelector(".detailForm");if(list.forEach(function(e){a.push(e.value)}),!a.length)return this.$message.error("请确认你要置顶的内容！");for(var t=function(t){var e=r.detail.constitute.findIndex(function(e){return e.id==a[t]}),i=r.detail.constitute[e];r.detail.constitute.splice(e,1),r.detail.constitute.unshift(i)},i=a.length-1;0<=i;i--)t(i);e.querySelectorAll("input[type='checkbox']").forEach(function(e){e.checked=!1})},detailRemoveHandle:function(e,t){var r=this,i=0<arguments.length&&void 0!==e?e:[],a=t,n={},s=this.$refs.detailForm.$el,o=s.querySelectorAll("[name='ids']:checked");if(i.length?n[i]=a:o.forEach(function(e){n[e.value]=e.getAttribute("data-type"),i.push(e.value)}),!i.length)return this.$message.error("请确认你要移除的内容！");i.forEach(function(t){var e=r.detail.constitute.findIndex(function(e){return e.c_id==t||e.id==t}),i=r.chocesArray.findIndex(function(e){return e.c_id==t||e.id==t});-1<e&&(r.detail.constitute,r.detail.constitute.splice(e,1)),-1<i&&r.chocesArray.splice(e,1)}),s.querySelectorAll("input[type='checkbox']").forEach(function(e){e.checked=!1})},detailAddHandle:function(){var t=this;return v(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return log(t.detail.constitute),e.next=3,t.getAddList();case 3:t.detailAddDialog=!0;case 4:case"end":return e.stop()}},e,t)}))()},getAddList:function(e,t,i){var r=this,a=o({pageNum:0<arguments.length&&void 0!==e?e:1,pageOffset:1<arguments.length&&void 0!==t?t:10},i,{type:this.currentType||this.contentType[0].value});u._themeAdd(a).then(function(e){r.dataList=e.data,r.page=e.page})},detailSort:function(e,t){var i=this.detail.constitute.findIndex(function(e){return e.id==t}),r="up"==e?-1:1,a=this.detail.constitute;a.splice.apply(a,[i,1].concat(h(a.splice(i+r,1,a[i]))))},checkAll:function(r,a){var n=this;document.querySelector("."+a).querySelectorAll('input[name="ids"]').forEach(function(t,e){if("addBookForm"==a){var i=n.chocesArray.findIndex(function(e){return e.id==t.value||e.b_id==t.value});r.target.checked?-1==i&&n.chocesArray.push(o({},n.dataList.find(function(e){return e.id==t.value}),{action:"add"})):n.chocesArray.splice(i,1)}t.checked=r.target.checked})},singeCheck:function(e,t){var i=this.chocesArray.findIndex(function(e){return e.id==t.id||e.b_id==t.id});e.target.checked?-1==i&&this.chocesArray.push(t):this.chocesArray.splice(i,1)},bookDetailInfo:function(e,t,i){var r=this;log("1"==t),this.isShowAuthor="1"!=t;var a=e.id,n=e.c_id;u._themeDetail({c_id:n,id:a,type:t}).then(function(e){r.infoData=e.data,r.infoValue=i,r.infoDialog=!0}).catch(function(e){var t=e.payload;for(var i in t.messages){r.$message.error(t.messages[i]);break}})},query:function(){var e=(0,n.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(1,this.page.offset,e)},addSelection:function(){this.detail.constitute=[].concat(h(this.chocesArray)),this.detailAddDialog=!1},isChecked:function(t){return!!this.chocesArray.find(function(e){return e.id===t||e.b_id===t})},handleSizeChange:function(e){var t=(0,n.default)(document.querySelector("#mainForm"),{hash:!0});this.getAddList(1,e,t)},handleCurrentChange:function(e){var t=(0,n.default)(document.querySelector("#mainForm"),{hash:!0});this.getAddList(e,this.page.offset,t)},infoHandleClick:function(e){this.infoValue=e.name},clear:function(){document.getElementById("text").value=""},clear2:function(){document.getElementById("text2").value=""}},components:{VaForm:r.default,Knowledge:d.default,Info:c.default},watch:{currentType:function(e){this.getAddList()}}}},601:function(e,t,i){},603:function(e,t,i){"use strict";function r(){var r=this,e=r.$createElement,a=r._self._c||e;return a("div",{staticClass:"div"},[!r.readOnly&&r.detailReadOnly?a("el-button",{staticClass:"modifyBtn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){r.detailReadOnly=!1}}},[r._v("修改")]):r._e(),a("el-tabs",{attrs:{value:r.type},on:{"tab-click":r.handleClick}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"info"}},[a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:r.readOnly||r.detailReadOnly}},[r._l(r.getMainList,function(t){return a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.required,expression:"item.required"}]},[r._v("*")]),r._v(r._s(t.label)+":")]),"标题"===t.label?a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{type: 'required'}"},{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"text",disabled:t.isDdisabled&&t.value&&10<=t.value.length},domProps:{value:t.value},on:{input:function(e){e.target.composing||r.$set(t,"value",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"text",disabled:t.isDdisabled&&t.value&&10<=t.value.length},domProps:{value:t.value},on:{input:function(e){e.target.composing||r.$set(t,"value",e.target.value)}}})])}),(Number(r.detailType),a("div",[a("div",{staticClass:"group",staticStyle:{width:"50%",float:"left"}},[a("div",{staticClass:"label"},[r._v("封面:")]),a("label",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return r.$refs.fenmian.click()}}},[r._v("导入封面")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:r.previewImg}})],1)]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:r.detailDataOwn.封面}})])])),7===Number(r.detailType)?a("div",[a("div",{staticClass:"group",staticStyle:{float:"left"}},[a("div",{staticClass:"label"},[r._v("资源地址:")]),a("label",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return r.$refs.dizhi.click()}}},[r._v("上传")]),a("input",{ref:"dizhi",staticClass:"hide",attrs:{type:"file",accept:"*"},on:{change:r.previewImg}})],1)]),a("div",{staticClass:"group"},[a("a",{attrs:{href:r.detailDataOwn.资源地址,download:"File"}},[r._v("下载")])])]):r._e(),8===Number(r.detailType)?a("div"):r._e()],2),r.readOnly?r._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{ype:"info"},on:{click:function(e){return r.$emit("update:detailDialog",!1)}}},[r._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return r.submitDetail()}}},[r._v("确定")])],1)])])],1)]),a("el-tab-pane",{attrs:{label:"扩展属性",name:"data"}},[a("MetaData",{attrs:{metadata:r.metadata,readOnly:r.readOnly||r.detailReadOnly},on:{submit:function(e){return r.submitDetail()},back:function(e){return r.$emit("update:detailDialog",!1)}}})],1),a("el-tab-pane",{attrs:{label:"目录",name:"ml"}},[a("div",{staticClass:"muluWrap"},[a("div",{staticClass:"left"},[a("el-tree",{staticClass:"muluList",attrs:{data:r.ml,props:r.defaultProps,"node-key":"id"},on:{"node-click":r.handleNodeClick}})],1),a("div",{staticClass:"right"},[a("fieldset",{attrs:{disabled:r.readOnly||r.detailReadOnly}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[r._v("序号")]),a("th",[r._v(" 名称")]),r.readOnly?r._e():a("th",{attrs:{width:"110"}},[r._v(" 调序")])])]),a("tbody",r._l(r.currMulu,function(t,i){return a("tr",[a("th",{domProps:{textContent:r._s(i+1)}}),a("th",{staticClass:"th-name",domProps:{textContent:r._s(t.chapter_name)}}),r.readOnly?r._e():a("th",[a("div",{staticClass:"div"},[a("el-button",{staticClass:"iconRotate up",attrs:{disabled:0==i,icon:"el-icon-back",size:"mini"},on:{click:function(e){0!=i&&r.muluSort(t,i,"up")}}}),a("el-button",{staticClass:"iconRotate down",attrs:{disabled:i+1==r.currMulu.length,icon:"el-icon-back",size:"mini"},on:{click:function(e){i+1!=r.currMulu.length&&r.muluSort(t,i,"down")}}})],1)])])}),0)])])])])])],1)],1)}var a=[];i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a})},699:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/dataarticles/groups",e)},t.getList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/dataarticles",e)},t.detailResource=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]);return(0,a.request_get)(l({id:t}),i)},t.urgentDigital=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/dataarticles/urgent",e)},t.audits=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/dataarticles/audits",e)},t.issuance=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]);return(0,a.request_put)(toPathIssuance({id:t}),i).then(function(e){return suance({id:t,info:e.data}),e})},t.save=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]);if(t)return(0,a.request_put)(restUrl_publish+"/api/dataarticles/"+t,i);return(0,a.request_post)(restUrl_publish+"/api/dataarticles",i)},t.del=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/dataarticles/delete",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/dataarticles/groups/:id");return(0,a.request_put)(r({id:t}),i)},t.listGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/dataarticles/groups",e)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=o(e,["id"]),r=s.default.compile(restUrl_publish+"/api/dataarticles/groups/:id");return(0,a.request_delete)(r({id:t}),i)},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/groups/dataarticles",e)};var r,a=i(7),n=i(9),s=(r=n)&&r.__esModule?r:{default:r};function o(e,t){var i={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}var l=s.default.compile(restUrl_publish+"/api/dataarticles/:id")},865:function(e,t,i){"use strict";i.r(t);var r=i(970),a=i(599);for(var n in a)"default"!==n&&function(e){i.d(t,e,function(){return a[e]})}(n);i(868);var s=i(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,"0b8043ac",null);t.default=o.exports},868:function(e,t,i){"use strict";var r=i(601);i.n(r).a},921:function(e,t,i){"use strict";i.r(t);var r=i(922),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,function(){return r[e]})}(n);t.default=a.a},922:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(i(5)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r=h(i(158)),a=h(i(157)),s=h(i(384)),l=h(i(585)),u=h(i(865)),d=h(i(1315)),c=i(126),p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(i(699)),f=i(476),v=h(i(396));function h(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Menu:r.default,Top:a.default,GroupList:s.default,Dispense:v.default,Detail:l.default,VideoDetail:u.default,AddResource:d.default},mixins:[c.main],data:function(){return{services:p,list:null,page:null,groupList:null,detailDialog:!1,VideodetailDialog:!1,detailDialogType:"info",detailData:null,publishDialog:!1,moveToOtherDiaolog:!1,moveIds:null,toId:null,addDialog:!1,options:[{name:"权威实务集刊",value:"0"},{name:"地方实务集刊",value:"1"}],detailType:null,resourceDate:null}},methods:{getList:function(e,t,i){var r=0<arguments.length&&void 0!==e?e:this.page&&this.page.num||1,a=this,n=1<arguments.length&&void 0!==t?t:this.page&&this.page.offset||10,s=2<arguments.length&&void 0!==i?i:null;this.services.getList(o({pageNum:r,pageOffset:n,group_id:this.currGroup},s)).then(function(e){a.list=e.data,a.page=e.page})},openDetailDialogAdd:function(){this.addDialog=!0},saveok:function(e){this.getList(),this.getGroupList()},urgentDigital:function(){for(var t=this,e=this.$getChecked(),i=0,r=e.length;i<r;i++)for(var a=0,n=this.list.length;a<n;a++)if(this.list[a].id==e[i]&&1!=this.list[a].audits_status)return void this.$message.error("只能勾选待审核数据");e&&this.services.urgentDigital({id:e}).then(function(e){return t.$message.success("已提交加急审核")})},opnePublishDialog:function(e){this.detailData=e,this.publishDialog=!0},addVideos:function(e){this.detailData={},this.detailType=e,this.VideodetailDialog=!0,this.addDialog=!1},slecet:function(e,t){var i=this;(0,f.detailResource)({id:e[0].id}).then(function(e){i.addDialog=!1,i.detailType=t,i.detailData={},i.detailDialog=!0,i.resourceDate=e.data})},SendVideo:function(i,r){var a=this;return function(e){return function(){var o=e.apply(this,arguments);return new Promise(function(n,s){return function t(e,i){try{var r=o[e](i),a=r.value}catch(e){return void s(e)}if(!r.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});n(a)}("next")})}}(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.constitute.map(function(e){return{res_id:e.id,type:5==e.type?"video":"audio"}}),e.next=4,a.services.save(o({},i,{"标题":i.标题||"","专辑演播者":i.专辑演播者||"","专辑责任者":i.专辑责任者||"","专辑简介":i.专辑简介||"","专业类别":i.专业类别||"","专业类别编号":i.专业类别编号||"","内容原作者":i.内容原作者||"","出版时间":i.出版时间||"","关联资源":i.关联资源||"","节目数":i.节目数||"","品类维度":i.品类维度||"","品类维度编号":i.品类维度编号||"","节目内容来源":i.节目内容来源||"","价格":i.价格||"",type:8,"封面":r||"",resource:t}));case 4:a.getList();case 5:case"end":return e.stop()}},e,a)}))()},openDialogOwn:function(e){8==e.type?(this.readOnly=!(!e||1!=e.audits_status),this.detailData=e||{},this.detailDialoaType="info",this.resourceDate=null,this.detailType=e&&e.info,this.VideodetailDialog=!0):this.opneDetailDialog("info",e)}}}},923:function(e,t,i){"use strict";i.r(t);var r=i(924),a=i.n(r);for(var n in r)"default"!==n&&function(e){i.d(t,e,function(){return r[e]})}(n);t.default=a.a},924:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=i(391),n=(r=a)&&r.__esModule?r:{default:r};t.default={props:["addDialog"],components:{SelResource:n.default},data:function(){return{resourceDialog:!1,types:[{name:"权威案例",value:"1"},{name:"法律法规",value:"2"},{name:"法律观点",value:"3"},{name:"裁判文书",value:"4"},{name:"图书",value:"6"},{name:"文书范本",value:"7"},{name:"课程影音",value:"8"}],currentType:null}},methods:{selResource:function(){if(this.types.value){if(8==this.types.value)return void this.$emit("addVideos",8);this.currentType=this.types.value,this.resourceDialog=!0}else this.$message.error("请选择类型")},addSelcet:function(e){this.curSoucesList=e,this.resourceDialog=!1,this.$emit("slecet",e,this.currentType)}}}},925:function(e,t,i){},926:function(e,t,i){},970:function(e,t,i){"use strict";function r(){var i=this,e=i.$createElement,r=i._self._c||e;return r("div",{staticClass:"div"},[r("el-dialog",{attrs:{visible:i.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(e){i.infoDialog=e}}},[r("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[r("Info",{attrs:{type:i.infoValue,infoDialog:i.infoDialog,isAuthor:i.isShowAuthor,infoData:i.infoData},on:{infoClick:i.infoHandleClick}})],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){i.infoDialog=!1}}},[i._v("取消")])],1)]),r("el-dialog",{attrs:{center:!1,visible:i.detailAddDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(e){i.detailAddDialog=e}}},[r("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[r("el-tabs",{attrs:{value:"detail"}},[r("el-tab-pane",{attrs:{label:"添加",name:"detail"}})],1)],1),r("el-form",{staticClass:"addBookForm"},[r("span",{staticClass:"group-inline",staticStyle:{margin:"20px","margin-top":"0"}},[r("el-radio-group",{model:{value:i.currentType,callback:function(e){i.currentType=e},expression:"currentType"}},i._l(i.contentType,function(e){return r("el-radio-button",{key:e.id,attrs:{label:e.value}},[i._v(i._s(e.name))])}),1)],1),r("div",{staticClass:"serachWrap"},[r("form",{attrs:{id:"detailSearchForm"}},[r("span",{staticClass:"group-inline"},[r("input",{staticClass:"form-control",attrs:{placeholder:"输入名称",name:"name",id:"text"}}),r("span",{staticClass:"clear",on:{click:function(e){return i.clear()}}},[i._v("x")])]),r("span",{staticClass:"group-inline"},[r("input",{staticClass:"form-control",attrs:{placeholder:"输入标签",name:"tag",id:"text2"}}),r("span",{staticClass:"clear2",on:{click:function(e){return i.clear2()}}},[i._v("x")])]),r("span",{staticClass:"group-inline"},[r("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),r("span",{staticClass:"group-inline"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:i.query}},[i._v("搜索")]),r("el-button",{attrs:{type:"primary",plain:""},on:{click:i.addSelection}},[i._v("添加选中")])],1)])]),r("table",{staticClass:"table",attrs:{width:"100%"}},[r("thead",[r("tr",[r("th",[r("input",{attrs:{type:"checkbox"},on:{click:function(e){return i.checkAll(e,"addBookForm")}}}),r("span",[i._v("全选")])]),r("th",[i._v("名称")]),r("th",[i._v("标签")]),r("th",[i._v("类型")]),r("th",[i._v("创建时间")])])]),i.dataList.length?r("tbody",i._l(i.dataList,function(t,e){return r("tr",[r("td",[r("input",{attrs:{type:"checkbox","data-type":t.status,name:"ids"},domProps:{value:t.id,checked:i.isChecked(t.id)},on:{click:function(e){return i.singeCheck(e,t)}}})]),r("td",[i._v(i._s(t.name))]),r("td",[i._v(i._s(t.tag))]),r("td",[i._v(i._s(t.type_name))]),r("td",[i._v(i._s(t.create_time))])])}),0):i._e()]),i.page?r("div",{staticClass:"pageWrap"},[r("el-pagination",{attrs:{small:!1,background:"","current-page":i.page.num,"page-sizes":[10,50,100],"page-size":i.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:i.page.total},on:{"size-change":i.handleSizeChange,"current-change":i.handleCurrentChange}})],1):i._e()]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){i.detailAddDialog=!1}}},[i._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:i.addSelection}},[i._v("确定")])],1)],1),r("el-tabs",{attrs:{value:i.type},on:{"tab-click":i.handleClick}},[r("el-tab-pane",{attrs:{label:"详情",name:"info"}},[r("div",{staticClass:"div"},[r("VaForm",{ref:"detailForm"},[1!=i.isNewVideo?r("form",{staticClass:"detailForm"},[r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("*名称:")]),r("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:i.detail.name,expression:"detail.name"}],staticClass:"form-control",attrs:{vali:"",name:"name",type:"text",disabled:i.readOnly},domProps:{value:i.detail.name},on:{input:function(e){e.target.composing||i.$set(i.detail,"name",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("*标签:")]),r("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:i.detail.tag,expression:"detail.tag"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.tag},on:{input:function(e){e.target.composing||i.$set(i.detail,"tag",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("*简介:")]),r("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:i.detail.abs,expression:"detail.abs"}],staticClass:"textarea",attrs:{maxlength:i.$config.ABS_MAX_LENGTH,name:"abs",type:"text",disabled:i.readOnly},domProps:{value:i.detail.abs},on:{input:function(e){e.target.composing||i.$set(i.detail,"abs",e.target.value)}}}),r("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[i._v("您还可以输入"+i._s(i.$config.ABS_MAX_LENGTH-(i.detail.abs?i.detail.abs.length:0)))])]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("*设置封面:")]),i.readOnly?i._e():r("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return i.$refs.fenmian.click()}}},[i._v("上传")])],1),r("div",{staticClass:"group fenmian"},[r("div",{staticClass:"label fenmain"}),i.previewImgUrl?r("img",{staticClass:"previewImgUrl",attrs:{src:i.previewImgUrl,alt:"暂无图片"}}):i._e(),r("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return i.previewImg(e)}}}),r("input",{staticClass:"hide",attrs:{name:"img",type:"text"},domProps:{value:i.imgUrl}})]),r("p",{staticClass:"imgSizeWrap"},[r("span",{staticClass:"imgSize"},[i._v("建议图片大小：118*160px")])]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("主题构成:")]),i.readOnly?i._e():r("div",{staticClass:"btn-right"},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:i.detailTopHandle}},[i._v("置顶")]),r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return i.detailRemoveHandle()}}},[i._v("移除")]),r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return i.detailAddHandle()}}},[i._v("添加")])],1)]),r("div",{staticClass:"group"},[r("table",{staticClass:"table border",attrs:{width:"100%"}},[r("thead",[r("tr",[r("th",{attrs:{width:"55"}},[r("input",{attrs:{type:"checkbox",name:"checkAll"},on:{click:function(e){return i.checkAll(e,"detailForm")}}}),r("span",[i._v("全选")])]),r("th",[i._v("名称")]),r("th",[i._v("标签")]),r("th",[i._v("类型")]),r("th",[i._v("创建时间")]),i.readOnly?i._e():r("th",{attrs:{width:"100"}},[i._v("调序")]),r("th",{attrs:{width:"100"}},[i._v("操作")])])]),r("tbody",i._l(i.detail.constitute,function(t,e){return r("tr",[r("td",[r("input",{attrs:{type:"checkbox",name:"ids","data-type":t.type},domProps:{value:t.id}})]),r("td",[r("div",{staticClass:"th-name",attrs:{title:t.name}},[i._v(i._s(t.name))])]),r("td",[i._v(i._s(t.tag))]),r("td",[i._v(i._s(t.type_name))]),r("td",[i._v(i._s(t.create_time))]),i.readOnly?i._e():r("td",[r("i",{staticClass:"el-icon-sort-up el-icon-sort",on:{click:function(e){return i.detailSort("up",t.id)}}}),e!=i.detail.constitute.length-1?r("i",{staticClass:"el-icon-sort-down el-icon-sort",on:{click:function(e){return i.detailSort("down",t.id)}}}):i._e()]),r("td",[r("Icon",{attrs:{title:"详情",type:"icon-detail",size:"mini",plain:""},on:{click:function(e){return i.bookDetailInfo(t,t.type,"info")}}}),r("Icon",{attrs:{title:"扩展属性",type:"icon-data",size:"mini",plain:""},on:{click:function(e){return i.bookDetailInfo(t,t.type,"data")}}}),i.readOnly?i._e():r("Icon",{attrs:{title:"移除","data-id":t.c_id,type:"icon-delete",size:"mini",plain:""},on:{click:function(e){return i.detailRemoveHandle([t.c_id||t.id],t.type)}}})],1)])}),0)])])]):i._e(),1==i.isNewVideo?r("form",{staticClass:"detailForm"},[r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("*标题:")]),r("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:i.detail.标题,expression:"detail.标题"}],staticClass:"form-control",attrs:{name:"name",type:"text",disabled:i.readOnly},domProps:{value:i.detail.标题},on:{input:function(e){e.target.composing||i.$set(i.detail,"标题",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("专辑演播者:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.专辑演播者,expression:"detail.专辑演播者"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.专辑演播者},on:{input:function(e){e.target.composing||i.$set(i.detail,"专辑演播者",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("专辑责任者:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.专辑责任者,expression:"detail.专辑责任者"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.专辑责任者},on:{input:function(e){e.target.composing||i.$set(i.detail,"专辑责任者",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("专辑简介:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.专辑简介,expression:"detail.专辑简介"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.专辑简介},on:{input:function(e){e.target.composing||i.$set(i.detail,"专辑简介",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("专业类别:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.专业类别,expression:"detail.专业类别"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.专业类别},on:{input:function(e){e.target.composing||i.$set(i.detail,"专业类别",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("专业类别编号:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.专业类别编号,expression:"detail.专业类别编号"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.专业类别编号},on:{input:function(e){e.target.composing||i.$set(i.detail,"专业类别编号",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("内容原作者:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.内容原作者,expression:"detail.内容原作者"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.内容原作者},on:{input:function(e){e.target.composing||i.$set(i.detail,"内容原作者",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("出版时间:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.出版时间,expression:"detail.出版时间"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.出版时间},on:{input:function(e){e.target.composing||i.$set(i.detail,"出版时间",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("关联资源:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.关联资源,expression:"detail.关联资源"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.关联资源},on:{input:function(e){e.target.composing||i.$set(i.detail,"关联资源",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("节目数:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.节目数,expression:"detail.节目数"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.节目数},on:{input:function(e){e.target.composing||i.$set(i.detail,"节目数",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("品类维度:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.品类维度,expression:"detail.品类维度"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.品类维度},on:{input:function(e){e.target.composing||i.$set(i.detail,"品类维度",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("品类维度编号:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.品类维度编号,expression:"detail.品类维度编号"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.品类维度编号},on:{input:function(e){e.target.composing||i.$set(i.detail,"品类维度编号",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("节目内容来源:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.节目内容来源,expression:"detail.节目内容来源"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.节目内容来源},on:{input:function(e){e.target.composing||i.$set(i.detail,"节目内容来源",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("价格:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:i.detail.价格,expression:"detail.价格"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:i.readOnly},domProps:{value:i.detail.价格},on:{input:function(e){e.target.composing||i.$set(i.detail,"价格",e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("设置封面:")]),i.readOnly?i._e():r("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return i.$refs.fenmian.click()}}},[i._v("上传")])],1),r("div",{staticClass:"group fenmian"},[r("div",{staticClass:"label fenmain"}),i.previewImgUrl?r("img",{staticClass:"previewImgUrl",attrs:{src:i.previewImgUrl,alt:"暂无图片"}}):i._e(),r("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return i.previewImg(e)}}}),r("input",{staticClass:"hide",attrs:{name:"img",type:"text"},domProps:{value:i.imgUrl}})]),r("p",{staticClass:"imgSizeWrap"},[r("span",{staticClass:"imgSize"},[i._v("建议图片大小：118*160px")])]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[i._v("主题构成:")]),i.readOnly?i._e():r("div",{staticClass:"btn-right"},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:i.detailTopHandle}},[i._v("置顶")]),r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return i.detailRemoveHandle()}}},[i._v("移除")]),r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return i.detailAddHandle()}}},[i._v("添加")])],1)]),r("div",{staticClass:"group"},[r("table",{staticClass:"table border",attrs:{width:"100%"}},[r("thead",[r("tr",[r("th",{attrs:{width:"55"}},[r("input",{attrs:{type:"checkbox",name:"checkAll"},on:{click:function(e){return i.checkAll(e,"detailForm")}}}),r("span",[i._v("全选")])]),r("th",[i._v("名称")]),r("th",[i._v("标签")]),r("th",[i._v("类型")]),r("th",[i._v("创建时间")]),i.readOnly?i._e():r("th",{attrs:{width:"100"}},[i._v("调序")]),r("th",{attrs:{width:"100"}},[i._v("操作")])])]),r("tbody",i._l(i.detail.constitute,function(t,e){return r("tr",[r("td",[r("input",{attrs:{type:"checkbox",name:"ids","data-type":t.type},domProps:{value:t.id}})]),r("td",[r("div",{staticClass:"th-name",attrs:{title:t.name}},[i._v(i._s(t.name))])]),r("td",[i._v(i._s(t.tag))]),r("td",[i._v(i._s(t.type_name))]),r("td",[i._v(i._s(t.create_time))]),i.readOnly?i._e():r("td",[r("i",{staticClass:"el-icon-sort-up el-icon-sort",on:{click:function(e){return i.detailSort("up",t.id)}}}),e!=i.detail.constitute.length-1?r("i",{staticClass:"el-icon-sort-down el-icon-sort",on:{click:function(e){return i.detailSort("down",t.id)}}}):i._e()]),r("td",[r("Icon",{attrs:{title:"详情",type:"icon-detail",size:"mini",plain:""},on:{click:function(e){return i.bookDetailInfo(t,t.type,"info")}}}),r("Icon",{attrs:{title:"扩展属性",type:"icon-data",size:"mini",plain:""},on:{click:function(e){return i.bookDetailInfo(t,t.type,"data")}}}),i.readOnly?i._e():r("Icon",{attrs:{title:"移除","data-id":t.c_id,type:"icon-delete",size:"mini",plain:""},on:{click:function(e){return i.detailRemoveHandle([t.c_id||t.id],t.type)}}})],1)])}),0)])])]):i._e()])],1),i.readOnly?i._e():r("div",{staticClass:"btns"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){return i.$emit("update:detailDialog",!1)}}},[i._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:i.submitDetail}},[i._v("确定")])],1)]),r("el-tab-pane",{attrs:{label:"扩展属性",name:"data"}},[r("MetaData",{attrs:{metadata:i.attributes,isShowBtn:!1,readOnly:i.readOnly}}),i.readOnly?i._e():r("div",{staticClass:"btns"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){return i.$emit("update:detailDialog",!1)}}},[i._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:i.submitDetail}},[i._v("确定")])],1)],1),r("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[r("Knowledge",{attrs:{detailData:i.detailData,readOnly:i.readOnly},on:{saveok:function(e){return i.$emit("updateList")}}})],1)],1)],1)}var a=[];i.d(t,"a",function(){return r}),i.d(t,"b",function(){return a})}}]);