/*!
 * {
 *   "buildtime": "2019-07-19 15:01:49",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "b17f442a6",
 *     "message": [
 *       "commit b17f442a62eb78bc9ab78ffe68e3afb76c3e3548",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Fri Jul 19 14:48:13 2019 +0800",
 *       "    xxxxxx"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1232:function(t,e,i){var n=i(1233);t.exports=function(t){var e,i="",a=t||{};return function(t){i=i+'<style type="text/css">'+n.escape(null==(e=t)?"":e)+"</style>"}.call(this,"name"in a?a.name:"undefined"!=typeof name?name:void 0),i}},1233:function(t,e,u){"use strict";var r=Object.prototype.hasOwnProperty;function l(t,e){return Array.isArray(t)?function(t,e){for(var i,a="",n="",r=Array.isArray(e),s=0;s<t.length;s++)(i=l(t[s]))&&(r&&e[s]&&(i=d(i)),a=a+n+i,n=" ");return a}(t,e):t&&"object"==typeof t?function(t){var e="",i="";for(var a in t)a&&t[a]&&r.call(t,a)&&(e=e+i+a,i=" ");return e}(t):t||""}function o(t){if(!t)return"";if("object"!=typeof t)return t+"";var e="";for(var i in t)r.call(t,i)&&(e=e+i+":"+t[i]+";");return e}function s(t,e,i,a){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(a?t:t+'="'+t+'"');var n=typeof e;return"object"!=n&&"function"!=n||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),i||-1===e.indexOf('"'))?(i&&(e=d(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.merge=function t(e,i){if(1===arguments.length){for(var a=e[0],n=1;n<e.length;n++)a=t(a,e[n]);return a}for(var r in i)if("class"===r){var s=e[r]||[];e[r]=(Array.isArray(s)?s:[s]).concat(i[r]||[])}else if("style"===r){var s=o(e[r]);s=s&&";"!==s[s.length-1]?s+";":s;var l=o(i[r]);l=l&&";"!==l[l.length-1]?l+";":l,e[r]=s+l}else e[r]=i[r];return e},e.classes=l,e.style=o,e.attr=s,e.attrs=function(t,e){var i="";for(var a in t)if(r.call(t,a)){var n=t[a];if("class"===a){n=l(n),i=s(a,n,!1,e)+i;continue}"style"===a&&(n=o(n)),i+=s(a,n,!1,e)}return i};var c=/["&<>]/;function d(t){var e=""+t,i=c.exec(e);if(!i)return t;var a,n,r,s="";for(a=i.index,n=0;a<e.length;a++){switch(e.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}n!==a&&(s+=e.substring(n,a)),n=a+1,s+=r}return n!==a?s+e.substring(n,a):s}e.escape=d,e.rethrow=function e(i,t,a,n){if(!(i instanceof Error))throw i;if(!("undefined"==typeof window&&t||n))throw i.message+=" on line "+a,i;try{n=n||u(1234).readFileSync(t,"utf8")}catch(t){e(i,null,a)}var r=3,s=n.split("\n"),l=Math.max(a-r,0),o=Math.min(s.length,a+r);var r=s.slice(l,o).map(function(t,e){var i=e+l+1;return(i==a?"  > ":"    ")+i+"| "+t}).join("\n");i.path=t;i.message=(t||"Pug")+":"+a+"\n"+r+"\n\n"+i.message;throw i}},1234:function(t,e){},1235:function(t,e,i){"use strict";var a=i(842);i.n(a).a},1365:function(t,e,i){"use strict";function a(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"indexs"},[a("Top",{attrs:{currentPlant:"X-PUBLISH"}}),a("Menu",{attrs:{curr:"/dataRelation"}}),a("div",{staticClass:"mainRight"},[a("div",{staticClass:"maindata"},[a("div",{staticClass:"serachWrap"},[a("div",{staticClass:"NavList"},[a("el-tabs",{on:{"tab-click":i.handleNavClick},model:{value:i.activeName,callback:function(t){i.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"繁简字管理",name:"fan"}}),a("el-tab-pane",{attrs:{label:"异体字管理",name:"yi"}}),a("el-tab-pane",{attrs:{label:"别称管理",name:"bie"}})],1)],1),a("form",{attrs:{id:"mainForm"}},[a("span",{staticClass:"group-inline"},[a("el-input",{attrs:{placeholder:"输入简体搜索",name:"simp",clearable:""},model:{value:i.searchQuery.simp,callback:function(t){i.$set(i.searchQuery,"simp",t)},expression:"searchQuery.simp"}})],1),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),a("span",{staticClass:"group-inline"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:i.seareHandeler}},[i._v("搜索")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:""},on:{click:function(t){return i.showDetaile()}}},[i._v("新增")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",plain:""},on:{click:function(t){return i.deleteHandeler()}}},[i._v("删除")])],1)])]),a("div",{staticClass:"tableWrap"},[a("div",{domProps:{innerHTML:i._s(i.style)}}),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[i._v("全选"),a("input",{attrs:{type:"checkbox",name:"AllCheckbox"},on:{click:i.selcetAll}})]),a("th",[i._v("ID")]),a("th",[i._v("简体")]),a("th",[i._v("别字")]),a("th",[i._v("预览图")]),a("th",[i._v("创建时间")]),a("th",[i._v("操作")])])]),i.pageList.length?a("tbody",i._l(i.pageList,function(e){return a("tr",[a("td",[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"checkbox"},domProps:{value:e.id}})]),a("td",{domProps:{textContent:i._s(e.id)}}),a("td",{attrs:{title:e.simp},domProps:{textContent:i._s(e.simp)}}),a("td",{attrs:{title:e.xc_variant},domProps:{innerHTML:i._s(e.xc_variant)}}),a("td",[a("img",{staticStyle:{"max-width":"40px"},attrs:{src:e.img,alt:"没图"}})]),a("td",{domProps:{textContent:i._s(e.create_time)}}),a("td",[a("Icon",{attrs:{type:"icon-detail",title:"详情",plain:"",size:"mini"},on:{click:function(t){return i.showDetaile(e.id,e.simp)}}}),a("Icon",{attrs:{type:"icon-delete",title:"删除",plain:"",size:"mini"},on:{click:function(t){return i.deleteHandeler([e.id])}}})],1)])}),0):i._e()])]),i.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":i.page.num,"page-sizes":[10,50,100],"page-size":i.page.offset,layout:"total, sizes, prev, pager, next, jumper",total:i.page.total},on:{"size-change":i.handleSizeChange,"current-change":i.handleCurrentChange}})],1):i._e()]),i.detailVisible?a("el-dialog",{attrs:{visible:i.detailVisible},on:{"update:visible":function(t){i.detailVisible=t}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"详情",name:"detail"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[i._v("简体字")]),a("input",{directives:[{name:"model",rawName:"v-model",value:i.detailDate.simp,expression:"detailDate.simp"},{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",domProps:{value:i.detailDate.simp},on:{input:function(t){t.target.composing||i.$set(i.detailDate,"simp",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[i._v("异体字图片")]),a("img",{staticClass:"previewImgUrl",attrs:{src:i.previewImgUrl,alt:"暂无图片"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return i.$refs.fenmian.click()}}},[i._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return i.previewImg(t)}}}),a("input",{staticClass:"hide",attrs:{name:"img",type:"text"},domProps:{value:i.detailDate.img}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[i._v("异体字文件")]),a("input",{staticClass:"form-control",attrs:{type:"text",name:""},domProps:{value:i.previewFileUrl}}),a("input",{ref:"file",staticClass:"hide",attrs:{type:"file",accept:".eot,.svg,.ttf,.woff"},on:{change:i.previewFile}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return i.$refs.file.click()}}},[i._v("上传")])],1)])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){i.detailVisible=!1}}},[i._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:i.save}},[i._v("确定")])],1)],1):i._e()],1)],1)}var n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},342:function(t,e,i){"use strict";i.r(e);var a=i(1365),n=i(840);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i(1235);var s=i(0),l=Object(s.a)(n.default,a.a,a.b,!1,null,"a107390a",null);e.default=l.exports},626:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modifyFont=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=u(t,["id"]),a=o.default.compile(restUrl_publish+"/api/simp/:id"),n={id:[]},r=[];for(var s in i.trad)"del"==i.trad[s].action?n.id.push(i.trad[s].id):r.push(i.trad[s].trad);return 0<n.id.length?c(n).then(function(t){if(t.status)return i.trad=r,(0,l.request_put)(a({id:e}),i)}):(i.trad=r,(0,l.request_put)(a({id:e}),i))},e._delFont=c,e.deleteFont=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.request_post)(restUrl_publish+"/api/simp/delete",t)},e.addFont=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.request_post)(restUrl_publish+"/api/simp",t)},e.listFont=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.request_get)(restUrl_publish+"/api/simp",t)},e.detailFont=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=u(t,["id"]),a=o.default.compile(restUrl_publish+"/api/simp/:id");return(0,l.request_get)(a({id:e}),i)},e.deleteNickName=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.request_post)(restUrl_publish+"/api/nickname/delete",t)},e.listNickName=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.request_get)(restUrl_publish+"/api/nickname",t)},e.detailNickName=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=u(t,["id"]),a=o.default.compile(restUrl_publish+"/api/nickname/:id");return(0,l.request_get)(a({id:e}),i)},e.addNickName=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.request_post)(restUrl_publish+"/api/nickname",t)},e._delNickName=d,e.modifyNickName=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=u(t,["id"]),a=o.default.compile(restUrl_publish+"/api/nickname/:id"),n={id:[]},r=[];for(var s in i.nick)"del"==i.nick[s].action?n.id.push(i.nick[s].id):r.push(i.nick[s].nick);return 0<n.id.length?d(n).then(function(t){if(t.status)return i.nick=r,(0,l.request_put)(a({id:e}),i)}):(i.nick=r,(0,l.request_put)(a({id:e}),i))},e.modifyVariant=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=u(t,["id"]);return(0,l.request_put)(r({id:e}),i)},e.deleteVariant=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.request_post)(restUrl_publish+"/api/variant/delete",t)},e.listVariant=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.request_get)(restUrl_publish+"/api/variant",t)},e.detailVariant=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=u(t,["id"]);return(0,l.request_get)(r({id:e}),i)},e.addVariant=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.request_post)(restUrl_publish+"/api/variant",t)},e.editVariant=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=u(t,["id"]);return(0,l.request_put)(r({id:e}),i)};var a,l=i(7),n=i(9),o=(a=n)&&a.__esModule?a:{default:a};function u(t,e){var i={};for(var a in t)0<=e.indexOf(a)||Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a]);return i}var r=o.default.compile(restUrl_publish+"/api/variant/:id");function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.request_post)(restUrl_publish+"/api/simp/id/delete",t)}function d(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.request_post)(restUrl_publish+"/api/nickname/id/delete",t)}},840:function(t,e,i){"use strict";i.r(e);var a=i(841),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);e.default=n.a},841:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=p(i(5)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},a=(p(i(84)),p(i(158))),n=p(i(157)),u=i(25),r=p(i(159)),c=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i(626)),s=p(i(1232)),d=i(126);function p(t){return t&&t.__esModule?t:{default:t}}function f(t){return function(){var l=t.apply(this,arguments);return new Promise(function(r,s){return function e(t,i){try{var a=l[t](i),n=a.value}catch(t){return void s(t)}if(!a.done)return Promise.resolve(n).then(function(t){e("next",t)},function(t){e("throw",t)});r(n)}("next")})}}e.default={mixins:[d.publicMixin],data:function(){return{pageList:[],page:null,query:null,styleFile:null,path:"dataRelation",activeName:"yi",timeValue:null,detailVisible:!1,previewImgUrl:null,previewFileUrl:null,detailDate:{id:"",simp:"",img:null,fonts:[]}}},computed:{style:function(){return(0,s.default)({name:this.styleFile})}},methods:{getList:function(t,e,i){var a=0<arguments.length&&void 0!==t?t:this.page&&this.page.num||1,n=this,r=1<arguments.length&&void 0!==e?e:this.page&&this.page.offset||10,s=i;return f(l.default.mark(function t(){var e;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=o({pageNum:a,pageOffset:r},s),t.next=3,c.listVariant(e).then(function(t){n.page=t.page,n.styleFile=t.data.style,n.pageList=t.data.list});case 3:case"end":return t.stop()}},t,n)}))()},clear:function(){document.getElementById("text").value=""},previewImg:function(t){var e=t.target.files[0];this.previewImgUrl=URL.createObjectURL(e)},previewFile:function(t){this.previewFileUrl=URL.createObjectURL(t.target.files[0])},showDetaile:function(e,i){var a=this;this.detailDate.fonts=[],this.detailDate.img=this.detailDate.id=this.detailDate.simp="",this.previewFileUrl=null,this.previewImgUrl=null,e?c.detailVariant({id:e}).then(function(t){a.detailDate.id=e,a.detailDate.simp=i,a.detailDate.fonts=a.previewFileUrl=t.data.fonts,a.detailDate.img=a.previewImgUrl=t.data.img,a.detailVisible=!0}):this.detailVisible=!0},deleteHandeler:function(t){var r=this,s=0<arguments.length&&void 0!==t?t:[];if(s.length||Array.from(document.querySelectorAll("[name='checkbox']:checked")).forEach(function(t){s.push(t.value)}),!s.length)return this.$message.error("请确认你要删除的内容！");this.$confirm("确认删除？").then(function(t){var e=r.page,i=e.total,a=e.start,n=e.num;i-s.length==a&&(r.page.num=a?n-1:1),c.deleteVariant({id:s}).then(function(t){r.getList()})}).catch(function(t){})},save:function(){var s=this;return f(l.default.mark(function t(){var e,i,a,n,r;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(e=s.$refs.fenmian.files[0],i=s.$refs.file.files[0],a=s.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=7,e)return t.next=11,(0,u.getTask)(e).then(function(t){s.detailDate.img=t.data.path});t.next=11;break;case 11:if(i)return t.next=14,(0,u.getTask)(i).then(function(t){s.detailDate.fonts.push(t.data.path)});t.next=14;break;case 14:if(log(s.detailDate),s.detailDate.id){t.next=20;break}return t.next=18,c.addVariant(s.detailDate).then(function(t){s.getList(),a.close(),s.detailVisible=!1});case 18:t.next=23;break;case 20:return log("test"),t.next=23,c.modifyVariant(s.detailDate).then(function(t){s.getList(),a.close(),s.detailVisible=!1});case 23:t.next=36;break;case 25:t.prev=25,t.t0=t.catch(7),n=t.t0.payload,a.close(),t.t1=l.default.keys(n.messages);case 30:if((t.t2=t.t1()).done){t.next=36;break}return r=t.t2.value,s.$message.error(n.messages[r]),t.abrupt("break",36);case 36:case"end":return t.stop()}},t,s,[[7,25]])}))()}},components:{Menu:a.default,Top:n.default,VaForm:r.default}}},842:function(t,e,i){}}]);