/*!
 * {
 *   "buildtime": "2019-07-19 15:01:49",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "b17f442a6",
 *     "message": [
 *       "commit b17f442a62eb78bc9ab78ffe68e3afb76c3e3548",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Fri Jul 19 14:48:13 2019 +0800",
 *       "    xxxxxx"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1024:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__extends=function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},t.__rest=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},t.__decorate=function(e,t,n,i){var r,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;0<=o;o--)(r=e[o])&&(s=(a<3?r(s):3<a?r(t,n,s):r(t,n))||s);return 3<a&&s&&Object.defineProperty(t,n,s),s},t.__param=function(n,i){return function(e,t){i(e,t,n)}},t.__metadata=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},t.__awaiter=function(a,s,o,c){return new(o=o||Promise)(function(e,t){function n(e){try{r(c.next(e))}catch(e){t(e)}}function i(e){try{r(c.throw(e))}catch(e){t(e)}}function r(t){t.done?e(t.value):new o(function(e){e(t.value)}).then(n,i)}r((c=c.apply(a,s||[])).next())})},t.__generator=function(n,i){var r,a,s,e,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return o.label++,{value:t[1],done:!1};case 5:o.label++,a=t[1],t=[0];continue;case 7:t=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){o=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){o.label=t[1];break}if(6===t[0]&&o.label<s[1]){o.label=s[1],s=t;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(t);break}s[2]&&o.ops.pop(),o.trys.pop();continue}t=i.call(n,o)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},t.__exportStar=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},t.__values=a,t.__read=s,t.__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},t.__spreadArrays=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,r++)i[r]=a[s];return i},t.__await=d,t.__asyncGenerator=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),s=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(i){a[i]&&(r[i]=function(n){return new Promise(function(e,t){1<s.push([i,n,e,t])||o(i,n)})})}function o(e,t){try{!function(e){e.value instanceof d?Promise.resolve(e.value.v).then(c,l):u(s[0][2],e)}(a[e](t))}catch(e){u(s[0][3],e)}}function c(e){o("next",e)}function l(e){o("throw",e)}function u(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}},t.__asyncDelegator=function(i){var e,r;return e={},t("next"),t("throw",function(e){throw e}),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,n){e[t]=i[t]?function(e){return(r=!r)?{value:d(i[t](e)),done:"return"===t}:n?n(e):e}:n}},t.__asyncValues=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=r[Symbol.asyncIterator];return t?t.call(r):(r=a(r),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=r[i]&&function(n){return new Promise(function(e,t){(function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)})(e,t,(n=r[i](n)).done,n.value)})}}},t.__makeTemplateObject=function(e,t){Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t;return e},t.__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__importDefault=function(e){return e&&e.__esModule?e:{default:e}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var r=function(){return t.__assign=r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};function a(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(i=a.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s}function d(e){return this instanceof d?(this.v=e,this):new d(e)}t.__assign=r},378:function(e,t,n){"use strict";n.r(t);var i=n(379),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t.default=r.a},379:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(126),r=n(127);t.default={mixins:[i.getIconStyle],props:{publishDialog:{type:Boolean,default:!1},item:{type:Object,default:{}},is_release:Boolean},data:function(){return{list:null,coverDialog:!1,choiceDialog:!1,currentItem:null,currentVersion:null}},created:function(){this.getList()},methods:{getList:function(){var i=this;(0,r.getDispense)({entity_type:this.item.type_number||this.item.type,id:this.item.id}).then(function(e){i.list=e.data}).catch(function(e){var t=e.payload;for(var n in t.messages){i.$message.error(t.messages[n]);break}})},colse:function(){this.$emit("update:publishDialog",!1)},save:function(){var t=[];this.$refs.dispense.querySelectorAll("input[type=checkbox]:checked").forEach(function(e){t.push(e.value)}),t.length?this.$emit("dispenseSave",t):this.$message.error("请选择你要发布的平台")},pushTime:function(e){return e?"最近"+e+"发布过":"最近暂无分发"},push:function(t){var n=this;this.currentItem=t,this.is_release&&t.release_msg.length?this.$confirm("信息不全是否分发?").then(function(e){t.version?n.coverDialog=!0:n.dispense()},function(e){var t=e.payload;log(t.message)}).catch(function(e){log("cancel")}):t.version&&t.version.length?this.coverDialog=!0:this.dispense()},dispense:function(e,t){var i=this;(0,r.dispense)({platform_id:this.currentItem.id,audits_id:this.item.audits_id,is_cover:e,version_id:t}).then(function(e){i.$message.success("分发提交成功,请稍后查看结果!"),i.$emit("dispenseOk")}).catch(function(e){var t=e.payload;for(var n in t.messages){i.$message.error(t.messages[n]);break}})},getdefect:function(e){return"缺失字段: "+e.release_msg.join("/")},getBtnName:function(e){return this.is_release&&!e.is_release?"缺少关键信息不能分发":e.release_msg&&e.release_msg.length?"确认分发":"分发"},coverDispense:function(){var t=this;if(!this.currentVersion)return this.$message.warning("请选择你要覆盖的版本号!");var e=this.currentItem.version.find(function(e){return e.xread_book_id===t.currentVersion}).version_id;this.dispense(this.currentVersion,e)}}}},380:function(e,t,n){},381:function(e,t,n){"use strict";n.r(t);var i=n(382),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t.default=r.a},382:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=r(n(5)),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(387),i=(r(n(84)),n(395));function r(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default={props:{resourceDialog:{type:Boolean,default:!1},singleElection:{type:Boolean,default:!0},type:{type:[String,Number],default:"1"},curSoucesList:{type:Array,default:[]},isShowType:{type:Boolean,default:!1},idName:String,isShowSearch:Boolean,isShowResource:Boolean,isDebris:{default:!1},parameter:Object},data:function(){return{dataList:[],page:null,currentType:null,contentType:[{name:"电子书",value:"1"},{name:"图片",value:"3"},{name:"音频",value:"4"},{name:"视频",value:"5"},{name:"3D内容",value:"6"},{name:"VR",value:"7"},{name:"AR",value:"8"}],query:{},answerLevel:[{label:"简单",value:"easy"},{label:"一般",value:"general"},{label:"困难",value:"difficulty"}],groupList:[]}},created:function(){this.currentType=this.type||"1",this.isShowResource&&this.contentType.push({name:"共享资源",value:"22"}),this.type.includes("20")&&(this.contentType=[{name:"权威案例",value:"20-1"},{name:"法律法规",value:"20-2"},{name:"法律观点",value:"20-3"},{name:"裁判文书",value:"20-4"},{name:"图书",value:"20-6"},{name:"文书范本",value:"20-7"}]),31==this.type&&this.getGroupList()},methods:{getList:function(e,t){var n=this,i=0<arguments.length&&void 0!==e?e:this.page&&this.page.num||1,r=1<arguments.length&&void 0!==t?t:this.page&&this.page.offset||10;(0,a._addBooks)(p({pageNum:i,pageOffset:r,type:this.currentType||this.type},this.parameter,this.query)).then(function(e){n.dataList=e.data||[],n.page=e.page})},colse:function(){this.$emit("update:resourceDialog",!1)},save:function(){var t=[];this.$refs.dispense.querySelectorAll("input[type=checkbox]:checked").forEach(function(e){t.push(e.value)}),t.length?this.$emit("dispenseSave",t):this.$message.error("请选择你要发布的平台")},search:function(){this.getList(1,this.page.offset)},addSelection:function(){var d=this;return function(e){return function(){var o=e.apply(this,arguments);return new Promise(function(a,s){return function t(e,n){try{var i=o[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});a(r)}("next")})}}(f.default.mark(function e(){var t,n,i,r,a,s,o,c,l,u;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector(".addBookForm"),n=t.querySelectorAll('input[name="ids"]:checked'),i=[],n.length){e.next=5;break}return e.abrupt("return",d.$message.warning("请选择添加内容"));case 5:r=function(t){if(-1<d.curSoucesList.findIndex(function(e){return e.id==t.value||e.b_id==t.value}))return"continue";i.push(p({},d.dataList.find(function(e){return e.id==t.value}),{action:"add"}))},s=!(a=!0),o=void 0,e.prev=9,c=n[Symbol.iterator]();case 11:if(a=(l=c.next()).done){e.next=19;break}if(u=l.value,"continue"===r(u))return e.abrupt("continue",16);e.next=16;break;case 16:a=!0,e.next=11;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(9),s=!0,o=e.t0;case 25:e.prev=25,e.prev=26,!a&&c.return&&c.return();case 28:if(e.prev=28,s)throw o;e.next=31;break;case 31:return e.finish(28);case 32:return e.finish(25);case 33:d.$emit("select",[].concat(i,v(d.curSoucesList)));case 34:case"end":return e.stop()}},e,d,[[9,21,25,33],[26,,28,32]])}))()},checkAll:function(i,e){var r=this;document.querySelector("."+e).querySelectorAll('input[name="ids"]').forEach(function(t,e){var n=r.curSoucesList.findIndex(function(e){return e.id==t.value||e.b_id==t.value});i.target.checked?-1==n&&r.curSoucesList.push(p({},r.dataList.find(function(e){return e.id==t.value}),{action:"add"})):r.curSoucesList.splice(n,1),t.checked=i.target.checked})},uncheckedAll:function(e,t){var n=this,i=this.curSoucesList.findIndex(function(e){return n.idName?e[n.idName]==t[n.idName]:e.id==t.id||e.b_id==t.id});e.target.checked?-1==i&&this.curSoucesList.push(t):this.curSoucesList.splice(i,1),this.singleElection||(this.$refs.ids.forEach(function(e){return e.checked=!1}),e.target.checked=!0)},isChecked:function(t){var n=this;return-1<this.curSoucesList.findIndex(function(e){return n.idName?e[n.idName]==t[n.idName]:e.id===t.id||e.b_id===t.id})},handleSizeChange:function(e){this.getList(1,e)},handleCurrentChange:function(e){this.getList(e,this.page.offset)},getGroupList:function(){var t=this;(0,i.listGroup)().then(function(e){t.groupList=e.data})}},watch:{currentType:function(e){this.getList()}}}},383:function(e,t,n){},391:function(e,t,n){"use strict";n.r(t);var i=n(406),r=n(381);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n(405);var s=n(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"6c0c32d9",null);t.default=o.exports},396:function(e,t,n){"use strict";n.r(t);var i=n(404),r=n(378);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n(403);var s=n(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"cb351288",null);t.default=o.exports},403:function(e,t,n){"use strict";var i=n(380);n.n(i).a},404:function(e,t,n){"use strict";function i(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",[i("el-dialog",{attrs:{center:!1,visible:n.coverDialog,top:"50px",width:"500px","show-close":!1,title:"x-read系统中已有该产品，选择你的操作"}},[i("div",{staticClass:"coverContent"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){n.choiceDialog=!0}}},[n._v("覆盖原有产品")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return n.dispense()}}},[n._v("创建新的产品版本")])],1),i("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(e){n.coverDialog=!1}}},[n._v("取消")])],1)]),n.choiceDialog?i("el-dialog",{attrs:{center:!1,visible:n.choiceDialog,top:"50px",width:"500px","show-close":!1,title:"选择版本号"}},[i("div",{staticClass:"coverContent"},[i("el-radio-group",{model:{value:n.currentVersion,callback:function(e){n.currentVersion=e},expression:"currentVersion"}},n._l(n.currentItem.version,function(e){return i("el-radio",{key:e.xread_book_id,attrs:{label:e.xread_book_id}},[n._v(n._s(e.version_id))])}),1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:n.coverDispense}},[n._v("确定")]),i("el-button",{attrs:{type:"info"},on:{click:function(e){n.choiceDialog=!1}}},[n._v("取消")])],1)]):n._e(),i("el-dialog",{attrs:{center:!1,visible:n.publishDialog,top:"50px",width:"1000px","show-close":!1}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"el-icon-close",on:{click:n.colse}}),i("el-tabs",{attrs:{value:"ff"}},[i("el-tab-pane",{attrs:{label:"分发",name:"ff"}})],1)],1),i("ul",{ref:"dispense",staticClass:"content modular"},n._l(n.list,function(t){return i("li",[i("div",{staticClass:"icon"},[i("div",{class:n.getStyle(t.type)}),i("span",{domProps:{textContent:n._s(t.name)}})]),i("ul",{staticClass:"defect"},[t.release_msg&&!t.release_msg.length?i("li",{staticClass:"pass"},[n._v("可正常分发")]):n._e(),t.release_msg&&t.release_msg.length?i("li",{domProps:{textContent:n._s(n.getdefect(t))}}):n._e()]),i("el-button",{attrs:{type:!n.is_release||t.is_release?"primary":"info",size:"mini",plain:""},domProps:{textContent:n._s(n.getBtnName(t))},on:{click:function(e){n.is_release&&!t.is_release||n.push(t)}}})],1)}),0),i("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:n.colse}},[n._v("取消")])],1)])],1)}var r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},405:function(e,t,n){"use strict";var i=n(383);n.n(i).a},406:function(e,t,n){"use strict";function i(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",[i("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:n.resourceDialog,width:"1200px",top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"append-to-body":""},on:{"update:visible":function(e){n.resourceDialog=e}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("i",{staticClass:"el-icon-close",on:{click:n.colse}}),i("el-tabs",{attrs:{value:"detail"}},[i("el-tab-pane",{attrs:{label:"添加",name:"detail"}})],1)],1),i("el-form",{staticClass:"addBookForm"},[n.isShowType?i("span",{staticClass:"group-inline",staticStyle:{margin:"20px","margin-top":"0"}},[i("el-radio-group",{model:{value:n.currentType,callback:function(e){n.currentType=e},expression:"currentType"}},n._l(n.contentType,function(e){return i("el-radio-button",{key:e.id,attrs:{label:e.value}},[n._v(n._s(e.name))])}),1)],1):n._e(),n.isShowSearch?n._e():i("div",{staticClass:"serachWrap"},[i("form",{attrs:{id:"detailSearchForm"}},[i("span",{staticClass:"group-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:n.query.name,expression:"query.name"}],staticClass:"form-control",attrs:{placeholder:"输入名称",name:"name"},domProps:{value:n.query.name},on:{input:function(e){e.target.composing||n.$set(n.query,"name",e.target.value)}}})]),31!=n.currentType?i("span",{staticClass:"group-inline"},[i("input",{directives:[{name:"model",rawName:"v-model",value:n.query.tag,expression:"query.tag"}],staticClass:"form-control",attrs:{placeholder:"输入标签",name:"tag"},domProps:{value:n.query.tag},on:{input:function(e){e.target.composing||n.$set(n.query,"tag",e.target.value)}}})]):n._e(),31==n.currentType?i("span",{staticClass:"group-inline"},[i("el-select",{attrs:{placeholder:"标签分组",clearable:""},model:{value:n.query.group_id,callback:function(e){n.$set(n.query,"group_id",e)},expression:"query.group_id"}},n._l(n.groupList,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1):n._e(),i("span",{staticClass:"group-inline"},[i("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),i("span",{staticClass:"group-inline"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:n.search}},[n._v("搜索")]),i("el-button",{attrs:{type:"primary",plain:""},on:{click:n.addSelection}},[n._v("添加选中")])],1)])]),i("table",{staticClass:"table",attrs:{width:"100%"}},[i("thead",[i("tr",[i("th",{attrs:{width:"80"}},[n.singleElection?i("input",{attrs:{type:"checkbox"},on:{click:function(e){return n.checkAll(e,"addBookForm")}}}):n._e(),i("span",{domProps:{textContent:n._s(n.singleElection?"全选":"选择")}})]),i("th",[n._v("名称")]),31!=n.currentType&&"coures"!=n.currentType?i("th",[n._v(n._s(22==n.currentType?"所属资源":"标签"))]):n._e(),31==n.currentType?i("th",[n._v("难易程度")]):n._e(),31==n.currentType?i("th",[n._v("分值")]):n._e(),"coures"==n.currentType?i("th",[n._v("所属教师")]):n._e(),i("th",[n._v("类型")]),i("th",[n._v("创建时间")])])]),n.dataList.length?i("tbody",n._l(n.dataList,function(t,e){return i("tr",[i("td",[i("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox","data-type":t.status,name:"ids"},domProps:{value:t.id,checked:n.isChecked(t)},on:{click:function(e){return n.uncheckedAll(e,t)}}})]),i("td",{staticClass:"namess",domProps:{innerHTML:n._s(t.name||t.title||t.question)}}),31!=n.currentType?i("td",[n._v(n._s(22==n.currentType?t.share_resource_name:t.tag))]):n._e(),31==n.currentType?i("td",[n._v(n._s(t.level_name))]):n._e(),31==n.currentType?i("td",[n._v(n._s(t.score))]):n._e(),"coures"==n.currentType?i("td",[n._v(n._s(t.teacher_name))]):n._e(),i("td",[n._v(n._s(t.type_name))]),i("td",[n._v(n._s(t.create_time))])])}),0):i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[n._v("暂无数据")])])])]),n.page?i("div",{staticClass:"pageWrap"},[i("el-pagination",{attrs:{small:!1,background:"","current-page":n.page.num,"page-sizes":[10,50,100],"page-size":n.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:n.page.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1):n._e()]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:n.colse}},[n._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:n.addSelection}},[n._v("确定")])],1)],1)],1)}var r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},421:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={0:"未审核",1:"待审核",2:"未通过",3:"已通过"}},525:function(e,t,n){"use strict";n.r(t);var i=n(526),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t.default=r.a},526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=o(n(641)),a=o(n(645)),s=o(n(651));function o(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Info:r.default,Hour:a.default,Exercise:s.default},props:["type","detailData","defaultData","detailDialog","readOnly","services","hourSever","exerciseSever"],beforeCreate:function(){},data:function(){return{infoDate:{},hourDate:[],exerciseDate:[],priceDate:{}}},created:function(){var e=this.detailData||this.defaultData;this.infoDate=e||{},this.hourDate=e.course_period_list||[],this.exerciseDate=e.examination_paper_list||[],this.priceDate=e.price||{}},methods:{exerciseChange:function(e){var t=this;this.exerciseSever.getList({id:this.detailData.id}).then(function(e){t.exerciseDate=e.data})},hourChange:function(){var t=this;this.hourSever.getList({course_id:this.detailData.id}).then(function(e){t.hourDate=e.data})},savePrice:function(){var t=this;if(!this.detailData.id)return this.$message.warning("请先保存基本信息后再保存!");this.services.savePrice(i({id:this.detailData.id},this.priceDate)).then(function(e){t.$message.success("价格保存成功!")})},restprice:function(){var t=this;this.services.getPrice({id:this.detailData.id}).then(function(e){t.priceDate=e.data})}}}},527:function(e,t,n){"use strict";n.r(t);var i=n(528),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t.default=r.a},528:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(5)),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=(r(n(84)),r(n(642))),o=n(25);function r(e){return e&&e.__esModule?e:{default:e}}t.default={props:["detailData","readOnly","infoDate","services"],data:function(){return{information:this.infoDate,previewImgUrl:null,imageCropperDialog:!1,oldBlob:null,file:null,timePick:null}},components:{TimePicks:i.default},created:function(){if(this.information){var e=this.information,t=e.effective_duration_start,n=e.effective_duration_end;t&&n&&(this.timePick=[t,n])}},methods:{previewImg:function(e,t){var n=this,i=e.target;this.file=i.files[0],this.imgFile=URL.createObjectURL(this.file),this.$ImageSize({file:this.file,ratio:1.6}).then(function(e){n.previewImgUrl=URL.createObjectURL(n.file)},function(e){201!=e.status?n.$message.error(e.message):n.imageCropperDialog=!0})},submitInfo:function(){var r=this;return function(e){return function(){var o=e.apply(this,arguments);return new Promise(function(a,s){return function t(e,n){try{var i=o[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});a(r)}("next")})}}(a.default.mark(function e(){var t,n,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.$refs.detailForm.valiAll()){e.next=3;break}return e.abrupt("return");case 3:if(t=r.$refs.fenmian.files[0],n=r.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),i=s({},r.information),t)return r.oldBlob&&((t=r.oldBlob).name=r.file.name),e.next=10,(0,o.getTask)(t).then(function(e){i.img=e.data.path});e.next=10;break;case 10:return e.next=12,r.services.save(i).then(function(e){r.detailData.id||(r.information=e.data),n.close(),r.$message.success("操作成功!"),r.$emit("saveok",e.data)}).catch(function(e){n.close(),r.$message.error(e.message||"错误!")});case 12:case"end":return e.stop()}},e,r)}))()},preview:function(e){this.previewImgUrl=URL.createObjectURL(e),this.oldBlob=e,this.imageCropperDialog=!1},getTime:function(e){e=e||["",""],this.information.effective_duration_start=e[0],this.information.effective_duration_end=e[1]}}}},529:function(e,t,n){"use strict";n.r(t);var i=n(530),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t.default=r.a},530:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["inputsName","placeholder","value"],data:function(){return{timePick:this.value,start:"开始日期",end:"结束日期"}},created:function(){this.placeholder&&(this.start=this.placeholder[0]||this.start,this.end=this.placeholder[1]||this.end)},methods:{}}},531:function(e,t,n){},532:function(e,t,n){},533:function(e,t,n){"use strict";n.r(t);var i=n(534),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t.default=r.a},534:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(5)),r=(a(n(84)),n(25),a(n(646)));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var o=e.apply(this,arguments);return new Promise(function(a,s){return function t(e,n){try{var i=o[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});a(r)}("next")})}}t.default={props:["detailData","readOnly","hourDate","services"],components:{HourInfo:r.default},data:function(){return{hourInfoDialog:!1,list:this.hourDate}},created:function(){},methods:{delChoosen:function(e){var t=this,n=[];n.push(e),0<n.length&&this.$confirm("是否删除?").then(function(e){t.services.del({id:n}).then(function(e){t.$emit("change"),t.$message.success("操作成功!")})}).catch(function(e){})},showHour:function(t){var n=this;return s(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(n.currentHour=t,n.services)return e.next=5,n.getInfo();e.next=7;break;case 5:e.next=8;break;case 7:n.currentHour=t;case 8:e.next=13;break;case 10:if(n.detailData.id){e.next=12;break}return e.abrupt("return",n.$message.warning("请先保存基本信息后再保存!"));case 12:n.currentHour={};case 13:n.hourInfoDialog=!0;case 14:case"end":return e.stop()}},e,n)}))()},getInfo:function(){var t=this;return s(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.services.getInfo({id:t.currentHour.id}).then(function(e){t.hourInfoDialog&&t.$refs.info.updateList(e.data),t.currentHour=e.data});case 2:case"end":return e.stop()}},e,t)}))()},saveok:function(e){this.currentHour.id||(this.currentHour=e),this.hourInfoDialog=!1,this.$emit("change")},sort:function(e,t){var n=this;this.services.sort({course_id:this.detailData.id,course_period_id:e.id,type:t}).then(function(e){n.$emit("change"),n.$message.success("操作成功!")})},restList:function(){this.getInfo(),this.$emit("restprice")}},watch:{hourDate:function(e){this.list=e}},filters:{formateText:function(e,t){var n=1<arguments.length&&void 0!==t?t:20;return e.length>n?e.substr(0,n)+"...":e}}}},535:function(e,t,n){"use strict";n.r(t);var i=n(536),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t.default=r.a},536:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(5)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=(s(n(84)),n(25),s(n(647)));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var o=e.apply(this,arguments);return new Promise(function(a,s){return function t(e,n){try{var i=o[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});a(r)}("next")})}}t.default={components:{planInfo:i.default},props:["detailData","readOnly","currentHour","hourInfoDialog","services"],data:function(){return{information:{},planInfoDialog:!1,currentPlan:null,list:[]}},created:function(){this.information=a({},this.currentHour)},methods:{colse:function(){this.$emit("update:hourInfoDialog",!1)},showPlan:function(t){var n=this;return o(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}if(n.services)return e.next=4,n.services.getPlanInfo({id:t.id}).then(function(e){n.currentPlan=e.data});e.next=6;break;case 4:e.next=7;break;case 6:n.currentPlan=t;case 7:e.next=10;break;case 9:n.currentPlan={};case 10:n.planInfoDialog=!0;case 11:case"end":return e.stop()}},e,n)}))()},submitInfo:function(){var i=this;return o(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.$refs.detailForm.valiAll()){e.next=3;break}return e.abrupt("return");case 3:return t=i.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),n=a({},i.information,{course_id:i.detailData.id}),e.next=7,i.services.save(n).then(function(e){t.close(),i.$message.success("操作成功!"),i.$emit("saveok",e.data)}).catch(function(e){t.close(),i.$message.error(e.message||"错误!")});case 7:case"end":return e.stop()}},e,i)}))()},delChoosen:function(e){var t=this,n=[];if(e)n.push(e);else{var i=Array.from(document.querySelectorAll('input[name="ids"]:checked'));if(i.forEach(function(e){n.push(e.value)}),!i.length)return void this.$message.error("请先选中!")}0<n.length&&this.$confirm("是否删除?").then(function(e){t.services.delPlan({id:n}).then(function(e){t.$emit("restList")})}).catch(function(e){})},updateList:function(e){this.information=e}},watch:{currentHour:function(e){this.information=e}}}},537:function(e,t,n){"use strict";n.r(t);var i=n(538),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t.default=r.a},538:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=(a(n(84)),n(25),a(n(391)));function a(e){return e&&e.__esModule?e:{default:e}}t.default={props:["currentPlan","readOnly","currentHour","planInfoDialog","services","detailData"],components:{Resource:i.default},data:function(){return{information:{resources:[]},previewImgUrl:null,resourceDialog:!1,parameter:null}},created:function(){this.information=r({},this.currentPlan,{resources:this.currentPlan.constitute||this.currentPlan.teaching_plan_info||[]}),this.information.time=(this.information.time/60).toFixed(2)},methods:{colse:function(){this.$emit("update:planInfoDialog",!1)},submitInfo:function(){var t=this;if(this.$refs.detailForm.valiAll()){var n=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),e=r({},this.information);e.resources=this.information.resources.map(function(e){return{id:e.id,type:e.type}}),delete e.constitute,e.time=60*e.time;var i=r({},e,{period_id:this.currentHour.id,course_id:this.detailData.id});this.services.savePlan(i).then(function(e){n.close(),t.$message.success("操作成功!"),t.$emit("update:planInfoDialog",!1),t.$emit("saveok",e.data)}).catch(function(e){n.close(),t.$message.error(e.message||"错误!")})}},addSelcet:function(e){log(e),this.information.resources=e,this.resourceDialog=!1},delChoosen:function(t){var e=this.information.resources.findIndex(function(e){return e.id===t});-1<e&&this.information.resources.splice(e,1)},relation:function(){this.parameter={course_id:this.detailData.id},this.resourceDialog=!0}}}},539:function(e,t,n){},540:function(e,t,n){},541:function(e,t,n){},542:function(e,t,n){"use strict";n.r(t);var i=n(543),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t.default=r.a},543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=(a(n(84)),n(25),a(n(652)));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.default={props:["detailData","readOnly","exerciseDate","hourDate","services"],components:{ExerciseInfo:r.default},data:function(){return{information:{},exerciseDialog:!1,classHour:this.hourDate,currentExerise:null,list:[],selecetArray:[]}},created:function(){var t=this;this.exerciseDate.forEach(function(e){t.$set(e,"isShow",!1)}),this.list=[].concat(s(this.exerciseDate),s(this.list)),this.selecetArray=this.list.map(function(e){return e.period_id})},methods:{getInfo:function(){var t=this;this.services.getInfo({id:this.detailData.id}).then(function(e){t.information=e.data,t.retailers=e.data.retailers,t.xRead=e.data["x-read"],t.metadata=e.data.pro_attributes})},openDetail:function(e){this.currentExerise=e,this.exerciseDialog=!0},add:function(){this.list.push({name:"",id:"",is_auto:!0,isShow:!0,action:"add"})},save:function(e){var t=this;if(!this.detailData.id)return this.$message.warning("请先保存基本信息后再保存!");this.services.save(i({},e,{course_id:this.detailData.id})).then(function(e){t.services.getList({id:t.detailData.id}).then(function(e){t.$emit("change")})})},delChoosen:function(e,t){var n=this,i=[];e?(i.push(e),0<i.length&&this.$confirm("是否删除?").then(function(e){n.services.del({id:i}).then(function(e){n.$emit("change")})}).catch(function(e){})):this.list.splice(t,1)},modify:function(e){e.id&&(e.isShow=!e.isShow)},selecet:function(e,t){this.list[e].is_auto=t},isDisabled:function(e,t){return this.selecetArray.includes(e.id)}},watch:{exerciseDate:function(e){var t=this,n=[];e.forEach(function(e){e.id&&(t.$set(e,"isShow",!1),n.push(e.period_id))}),this.selecetArray=n,this.list=e},hourDate:function(e){this.classHour=e}}}},544:function(e,t,n){"use strict";n.r(t);var i=n(545),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t.default=r.a},545:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s(n(84));var i=s(n(612)),r=s(n(611)),a=s(n(391));n(395);function s(e){return e&&e.__esModule?e:{default:e}}t.default={props:["detailData","readOnly","currentExerise","exerciseDialog","services"],components:{ExerciseInfo:i.default,Resource:a.default,ExerciseDetail:r.default},data:function(){return{exerciseList:[],detailDialog:!1,currentDate:null,currentDateIndex:null,resourceDialog:!1,ExerciseInfoDialog:!1,curSoucesList:[],resourceType:"19",parameter:{},idName:"tp_constitute_id"}},created:function(){var t=this;this.services?this.services.getInfos({id:this.currentExerise.id}).then(function(e){t.exerciseList=e.data.practice_list||[]}):(log(this.currentExerise),this.exerciseList=this.currentExerise.practice_list)},methods:{colse:function(){this.$emit("update:exerciseDialog",!1)},getAnswer:function(e){return"judgment"==e.question_type?e.answer&&"false"!==e.answer?"正确":"错误":"multi"==e.question_type?e.answer.replace(/,/g,""):e.answer},saveExamin:function(e){Object.entries(this.currentDate).length?this.$set(this.exerciseList,this.currentDateIndex,e):this.exerciseList.push(e),this.ExerciseInfoDialog=!1},saveInfo:function(){var t=this;this.services.saveExercises({questions:this.exerciseList,paper_id:this.currentExerise.id}).then(function(e){t.$message.success("保存成功!")},function(e){t.$message.error("保存失败")})},detail:function(t,e){this.currentDate=t||{};var n=this.exerciseList.findIndex(function(e){return t&&e.id&&e.id===t.id});this.currentDateIndex=-1<n?n:e,this.currentDateIndex,t&&t.id?this.detailDialog=!0:this.ExerciseInfoDialog=!0},del:function(e,n){var i=this;this.$confirm("是否删除?").then(function(e){var t=i.exerciseList.findIndex(function(e){return e.id})||n;i.exerciseList.splice(t,1)}).catch(function(e){})},sort:function(t,e){var n=this.exerciseList.findIndex(function(e){return e.id==t.id}),i="up"==e?-1:1,r=this.exerciseList;r.splice.apply(r,[n,1].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r.splice(n+i,1,r[n]))))},add:function(t,e){this.resourceType="19",this.idName="tp_constitute_id";var n=this.exerciseList.findIndex(function(e){return e.id===t.id});this.currentDateIndex=-1<n?n:e,this.curSoucesList=t.tp_constitute_info||[],this.resourceDialog=!0,this.parameter.course_id=this.detailData.id},addExercise:function(){this.resourceType="31",this.curSoucesList=[],this.currentDate={},this.idName="",this.resourceDialog=!0,this.parameter.course_id=this.detailData.id},addSelcet:function(e){var t=this;"19"==this.resourceType?(this.exerciseList[this.currentDateIndex].tp_constitute_info=e,this.exerciseList[this.currentDateIndex].tp_constitute_id=e.map(function(e){return e.tp_constitute_id})):e.forEach(function(e){t.saveExamin(e)}),this.resourceDialog=!1},delConstitute:function(r,a,e){log(a,a.tp_constitute_info),this.$confirm("你真的要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=a.tp_constitute_info||[],t=e.findIndex(function(e){return r.id===e.id}),n=a.tp_constitute_id||[],i=n.findIndex(function(e){return r.id===e.id});n.splice(i,1),e.splice(t,1)}).catch(function(){})}},computed:{totalScore:function(){var t=0;return this.exerciseList.forEach(function(e){t+=e.score}),t}},filters:{numberToChinese:function(e){if(!/^\d*$/.test(e))return"Null";"number"==typeof e&&(e=e.toString());var t=new RegExp("([0]*)([1-9]+[0-9]+)","g"),n="千百十亿千百十万千百十个";if((e=e.replace(t,"$2")).length>n.length)return"Null";var i="",r=e.length;n=n.substr(n.length-r);for(var a=0;a<r;a++)i+="零一二三四五六七八九".charAt(e[a])+n.charAt(a);for(var s=(i=(i=i.substr(0,i.length-1)).replace(/零(千|百|十)/g,"零").replace(/(零)+/g,"零").replace(/零(亿|万)/g,"$1")).length-1;0<s&&"零"==i[s];s--)i=i.replace(i[s],"");return i},numberToLetter:function(e){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][e]}}}},546:function(e,t,n){},547:function(e,t,n){},548:function(e,t,n){},613:function(e,t,n){"use strict";n.r(t);var i=n(665),r=n(525);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n(655);var s=n(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"4063284c",null);t.default=o.exports},641:function(e,t,n){"use strict";n.r(t);var i=n(676),r=n(527);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n(644);var s=n(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2401e538",null);t.default=o.exports},642:function(e,t,n){"use strict";n.r(t);var i=n(681),r=n(529);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n(643);var s=n(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,null,null);t.default=o.exports},643:function(e,t,n){"use strict";var i=n(531);n.n(i).a},644:function(e,t,n){"use strict";var i=n(532);n.n(i).a},645:function(e,t,n){"use strict";n.r(t);var i=n(675),r=n(533);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n(650);var s=n(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"301da2b3",null);t.default=o.exports},646:function(e,t,n){"use strict";n.r(t);var i=n(683),r=n(535);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n(649);var s=n(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"6f3367bf",null);t.default=o.exports},647:function(e,t,n){"use strict";n.r(t);var i=n(684),r=n(537);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n(648);var s=n(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"7d7817ee",null);t.default=o.exports},648:function(e,t,n){"use strict";var i=n(539);n.n(i).a},649:function(e,t,n){"use strict";var i=n(540);n.n(i).a},650:function(e,t,n){"use strict";var i=n(541);n.n(i).a},651:function(e,t,n){"use strict";n.r(t);var i=n(673),r=n(542);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n(654);var s=n(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"321c8b9c",null);t.default=o.exports},652:function(e,t,n){"use strict";n.r(t);var i=n(682),r=n(544);for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n(653);var s=n(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"043667d1",null);t.default=o.exports},653:function(e,t,n){"use strict";var i=n(546);n.n(i).a},654:function(e,t,n){"use strict";var i=n(547);n.n(i).a},655:function(e,t,n){"use strict";var i=n(548);n.n(i).a},665:function(e,t,n){"use strict";function i(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div"},[n("el-tabs",{attrs:{value:t.type||"info"}},[n("el-tab-pane",{attrs:{label:"基本信息",name:"info"}},[n("Info",{attrs:{detailData:t.detailData,infoDate:t.infoDate,services:t.services,readOnly:t.readOnly},on:{close:function(e){return t.$emit("update:detailDialog",!1)},saveok:function(e){return t.$emit("saveok",e)}}})],1),n("el-tab-pane",{attrs:{label:"教学计划",name:"hour"}},[n("Hour",{attrs:{detailData:t.detailData,hourDate:t.hourDate,services:t.hourSever,readOnly:t.readOnly},on:{change:t.hourChange,restprice:t.restprice}})],1),n("el-tab-pane",{attrs:{label:"习题设置",name:"example"}},[n("Exercise",{attrs:{detailData:t.detailData,exerciseDate:t.exerciseDate,hourDate:t.hourDate,services:t.exerciseSever,readOnly:t.readOnly},on:{change:t.exerciseChange}})],1),n("el-tab-pane",{attrs:{label:"价格设置",name:"price"}},[n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("使用授权课程价格:")]),n("span",[t._v(t._s(t.priceDate.share_course_price||0))])]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("*设置你的课程价格:")]),n("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.priceDate.price,expression:"priceDate.price"}],staticClass:"form-control",attrs:{placeholder:"请输入价格",type:"text",disabled:t.readOnly},domProps:{value:t.priceDate.price},on:{input:function(e){e.target.composing||t.$set(t.priceDate,"price",e.target.value)}}}),n("span",{staticClass:"price"},[t._v("*管理员会审核你的价格,价格不能低于授权课程价格")])]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("*预计收益:")]),n("span",[t._v("（设置价格 - 使用授权课程价格）* 80%")])]),t.readOnly?t._e():n("div",{staticClass:"btns"},[n("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.savePrice}},[t._v("保存")])],1)])],1)],1)}var r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},673:function(e,t,n){"use strict";function i(){var i=this,e=i.$createElement,r=i._self._c||e;return r("div",{staticClass:"div"},[i.exerciseDialog?r("ExerciseInfo",{attrs:{detailData:i.detailData,exerciseDialog:i.exerciseDialog,currentExerise:i.currentExerise,services:i.services,readOnly:i.readOnly},on:{"update:exerciseDialog":function(e){i.exerciseDialog=e},"update:exercise-dialog":function(e){i.exerciseDialog=e}}}):i._e(),r("table",{staticClass:"table"},[i._m(0),i.list?r("tbody",i._l(i.list,function(t,n){return r("tr",[r("td",[t.isShow?i._e():r("span",[i._v(i._s(t.name))]),t.isShow?r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"item.name"}],staticClass:"form-control",domProps:{value:t.name},on:{input:function(e){e.target.composing||i.$set(t,"name",e.target.value)}}}):i._e()]),r("td",[r("el-select",{attrs:{placeholder:"请选择",disabled:i.readOnly},model:{value:t.period_id,callback:function(e){i.$set(t,"period_id",e)},expression:"item.period_id"}},i._l(i.classHour,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id,disabled:i.isDisabled(e,t)}})}),1)],1),r("td",[r("div",{staticClass:"btns"},[t.id?r("Icon",{attrs:{size:"mini",title:"详情",type:"icon-detail",plain:""},on:{click:function(e){return i.openDetail(t)}}}):i._e(),i.readOnly?i._e():r("Icon",{attrs:{size:"mini",title:"修改",type:"icon-menu-publish",plain:""},on:{click:function(e){return i.modify(t)}}}),i.readOnly?i._e():r("Icon",{attrs:{size:"mini",title:"保存",type:"icon-upload",plain:""},on:{click:function(e){return i.save(t)}}}),i.readOnly?i._e():r("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(e){return i.delChoosen(t.id,n)}}}),i.readOnly?i._e():r("el-checkbox",{attrs:{value:"true"===t.is_auto||!0===t.is_auto,label:"true"},on:{change:function(e){return i.selecet(n,e)}}},[i._v("自动阅卷")])],1)])])}),0):i._e()]),r("div",{staticClass:"btns"},[i.list.length<i.hourDate.length&&!i.readOnly?r("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){return i.add()}}},[i._v("新增习题")]):i._e()],1)],1)}var r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("关联习题")]),n("th",[e._v("选择课时")]),n("th",{attrs:{width:"180"}},[e._v("操作")])])])}];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},675:function(e,t,n){"use strict";function i(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"div"},[n.hourInfoDialog?i("HourInfo",{ref:"info",attrs:{hourInfoDialog:n.hourInfoDialog,currentHour:n.currentHour,detailData:n.detailData,services:n.services,readOnly:n.readOnly},on:{"update:hourInfoDialog":function(e){n.hourInfoDialog=e},"update:hour-info-dialog":function(e){n.hourInfoDialog=e},saveok:n.saveok,restList:n.restList}}):n._e(),i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[n._v("序号")]),i("th",[n._v("知识点名称")]),i("th",[n._v("知识点简介")]),n.readOnly?n._e():i("th",[n._v("排序")]),i("th",{staticClass:"operate"},[n._v("操作")])])]),n.list?i("tbody",n._l(n.list,function(t,e){return i("tr",[i("td",[n._v(n._s(e+1)),i("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden",name:"ids"},domProps:{value:t.id}})]),i("td",[n._v(n._s(t.name))]),i("td",{attrs:{title:t.ab}},[n._v(n._s(n._f("formateText")(t.abs,33)))]),n.readOnly?n._e():i("td",[0!=e?i("Icon",{attrs:{size:"mini",title:"上移",type:"el-icon-sort-up"},on:{click:function(e){return n.sort(t,"up")}}}):n._e(),e!=n.list.length-1?i("Icon",{attrs:{size:"mini",title:"下移",type:"el-icon-sort-down"},on:{click:function(e){return n.sort(t,"down")}}}):n._e()],1),i("td",[i("div",{staticClass:"btns"},[i("Icon",{attrs:{size:"mini",title:"详情",type:"icon-detail",plain:""},on:{click:function(e){return n.showHour(t)}}}),n.readOnly?n._e():i("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(e){return n.delChoosen(t.id)}}})],1)])])}),0):n._e()]),i("div",{staticClass:"btns"},[n.readOnly?n._e():i("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){return n.showHour()}}},[n._v("新增课时")])],1)],1)}var r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},676:function(e,t,n){"use strict";function i(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div"},[t.imageCropperDialog?n("ImageCropper",{ref:"imageCropper",attrs:{imageCropperDialog:t.imageCropperDialog,imgFile:t.imgFile},on:{"update:imageCropperDialog":function(e){t.imageCropperDialog=e},"update:image-cropper-dialog":function(e){t.imageCropperDialog=e},preview:t.preview}}):t._e(),n("VaForm",{ref:"detailForm"},[n("form",{staticClass:"detailForm"},[n("fieldset",{attrs:{disabled:t.readOnly}},[n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("*课程名称:")]),n("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{placeholder:"请输入课程的名称（标题）",type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("*课程介绍:")]),n("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{placeholder:"请简要介绍下该课程的内容",maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),t.readOnly?t._e():n("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("*开课时间:")]),n("div",{staticClass:"inline"},[n("TimePicks",{attrs:{value:t.timePick},on:{getTime:t.getTime}})],1)]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("*导师:")]),n("img",{staticClass:"previewImgUrl",attrs:{src:t.information.owenr_img_src||t.$config.userInfo.user.picture_absolute}})]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("*课程封面:")]),t.readOnly?t._e():n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")]),n("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1),n("div",{staticClass:"group"},[n("div",{staticClass:"label"}),n("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),n("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),n("p",{staticClass:"imgSizeWrap"},[n("span",{staticClass:"imgSize"},[t._v("建议图片大小：250*140px")])])]),t.readOnly?t._e():n("div",{staticClass:"btns"},[n("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitInfo()}}},[t._v("保存")])],1)])])],1)}var r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},681:function(e,t,n){"use strict";function i(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"li"},[n("el-date-picker",{staticClass:"picker",attrs:{type:"daterange",align:"right","unlink-panels":!0,name:t.inputsName,"value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"-","start-placeholder":t.start,"end-placeholder":t.end,"default-time":["00:00:00","23:59:59"]},on:{change:function(e){return t.$emit("getTime",t.timePick)}},model:{value:t.timePick,callback:function(e){t.timePick=e},expression:"timePick"}})],1)}var r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},682:function(e,t,n){"use strict";function i(){var r=this,e=r.$createElement,a=r._self._c||e;return a("div",{staticClass:"div"},[r.resourceDialog?a("Resource",{attrs:{resourceDialog:r.resourceDialog,curSoucesList:r.curSoucesList,type:r.resourceType},on:{"update:resourceDialog":function(e){r.resourceDialog=e},"update:resource-dialog":function(e){r.resourceDialog=e},select:r.addSelcet}}):r._e(),r.ExerciseInfoDialog?a("ExerciseInfo",{attrs:{detailData:r.detailData,exerciseDialog:r.ExerciseInfoDialog,currentExerise:r.currentDate,services:r.services},on:{"update:exerciseDialog":function(e){r.ExerciseInfoDialog=e},"update:exercise-dialog":function(e){r.ExerciseInfoDialog=e},save:r.saveExamin}}):r._e(),r.detailDialog?a("ExerciseDetail",{attrs:{detailDialog:r.detailDialog,detailData:r.currentDate},on:{"update:detailDialog":function(e){r.detailDialog=e},"update:detail-dialog":function(e){r.detailDialog=e}}}):r._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:r.exerciseDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:r.colse}}),a("div",{staticClass:"total-score"},[r._v("总分 "),a("span",[r._v(r._s(r.totalScore))])]),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"习题",name:"ff"}})],1)],1),a("div",{staticClass:"content"},[a("ul",{staticClass:"exerciseInfo"},r._l(r.exerciseList,function(n,i){return a("li",{key:i},[a("div",{staticClass:"top"},[a("span",{staticClass:"title"},[r._v("第"+r._s(r._f("numberToChinese")(i+1))+"题")]),a("span",{staticClass:"score"},[r._v(r._s(n.score)+"分")]),a("span",{staticClass:"name"},[r._v(r._s(n.question_type_name))]),"subjective_item"!=n.question_type?a("span",{staticClass:"answer"},[r._v("正确答案："+r._s(r.getAnswer(n)))]):r._e()]),a("div",{staticClass:"exercise"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-name"},[r._v("题目：")]),a("div",{staticClass:"title-text",domProps:{innerHTML:r._s(n.question)}})]),"single"==n.question_type||"multi"==n.question_type?a("ul",{staticClass:"options"},r._l(n.option,function(e,t){return a("li",[a("span",{staticClass:"options-option"},[r._v(r._s(r._f("numberToLetter")(t)))]),a("div",{staticClass:"options-text",domProps:{innerHTML:r._s(e.title)}})])}),0):r._e()]),a("div",{staticClass:"relation"},[a("ul",[a("span",{staticClass:"title"},[r._v("课时计划链接")]),r._l(n.tp_constitute_info,function(t){return a("li",[a("span",[r._v(r._s(t.teaching_plan_info||t.tag)+" ")]),a("span",[r._v(r._s(t.resource_name||t.name)+" ")]),a("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(e){return r.delConstitute(t,n,i)}}})],1)})],2)]),a("div",{staticClass:"analysis"},[a("div",{staticClass:"title"},[a("span",[r._v("【解析】:")]),a("div",{staticClass:"analysis_text",domProps:{innerHTML:r._s(n.analysis)}})])]),r.readOnly?r._e():a("div",{staticClass:"operation"},[a("Icon",{attrs:{size:"mini",title:"详情",type:"icon-detail",plain:""},on:{click:function(e){return r.detail(n,i)}}}),a("Icon",{attrs:{size:"mini",title:"添加课时计划链接",type:"icon-link",plain:""},on:{click:function(e){return r.add(n,i)}}}),a("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(e){return r.del(n,i)}}}),0!=i?a("Icon",{attrs:{size:"mini",title:"上移",type:"el-icon-sort-up"},on:{click:function(e){return r.sort(n,"up")}}}):r._e(),i!=r.exerciseList.length-1?a("Icon",{attrs:{size:"mini",title:"下移",type:"el-icon-sort-down"},on:{click:function(e){return r.sort(n,"down")}}}):r._e()],1)])}),0),a("div",{staticClass:"btns"},[r.readOnly?r._e():a("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){return r.detail()}}},[r._v("新增题目")]),r.readOnly?r._e():a("el-button",{staticClass:"el-icon-search",attrs:{size:"small",type:"primary"},on:{click:function(e){return r.addExercise()}}},[r._v("选择题目")])],1)]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:r.colse}},[r._v("取消")]),r.readOnly?r._e():a("el-button",{attrs:{type:"primary"},on:{click:r.saveInfo}},[r._v("确定")])],1)])],1)}var r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},683:function(e,t,n){"use strict";function i(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"div"},[n.planInfoDialog?i("planInfo",{attrs:{planInfoDialog:n.planInfoDialog,currentPlan:n.currentPlan,currentHour:n.currentHour,services:n.services,readOnly:n.readOnly,detailData:n.detailData},on:{"update:planInfoDialog":function(e){n.planInfoDialog=e},"update:plan-info-dialog":function(e){n.planInfoDialog=e},saveok:function(e){return n.$emit("restList")}}}):n._e(),i("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:n.hourInfoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"el-icon-close",on:{click:n.colse}}),i("el-tabs",{attrs:{value:"ff"}},[i("el-tab-pane",{attrs:{label:"知识点",name:"ff"}})],1)],1),i("VaForm",{ref:"detailForm"},[i("form",{staticClass:"detailForm"},[i("fieldset",{attrs:{disabled:n.readOnly}},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[n._v("*知识点名称:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:n.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{placeholder:"请输入该课时的知识点名称",type:"text",disabled:n.readOnly},domProps:{value:n.information.name},on:{input:function(e){e.target.composing||n.$set(n.information,"name",e.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[n._v("*知识点简介:")]),i("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:n.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{placeholder:"请输入该课时所学知识点的简要介绍",type:"text",disabled:n.readOnly},domProps:{value:n.information.abs},on:{input:function(e){e.target.composing||n.$set(n.information,"abs",e.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[n._v("*学习项目:")]),!n.readOnly&&n.information.id?i("el-button",{staticClass:"el-icon-plus",staticStyle:{float:"right"},attrs:{size:"small",plain:"",type:"primary"},on:{click:function(e){return n.showPlan()}}},[n._v("新增学习项目")]):n._e(),i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[n._v("序号")]),i("th",[n._v("学习项目名称")]),n.readOnly?n._e():i("th",[n._v("排序")]),i("th",{staticClass:"operate"},[n._v("操作")])])]),n.information.teaching_plan?i("tbody",n._l(n.information.teaching_plan,function(t,e){return i("tr",[i("td",[n._v(n._s(e+1)),i("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden",name:"ids"},domProps:{value:t.id}})]),i("td",[n._v(n._s(t.name))]),n.readOnly?n._e():i("td",[i("Icon",{attrs:{size:"mini",title:"上移",type:"el-icon-sort-up"}}),i("Icon",{attrs:{size:"mini",title:"下移",type:"el-icon-sort-down"}})],1),i("td",[i("div",{staticClass:"btns"},[i("Icon",{attrs:{size:"mini",title:"详情",type:"icon-detail",plain:""},on:{click:function(e){return n.showPlan(t)}}}),n.readOnly?n._e():i("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(e){return n.delChoosen(t.id)}}})],1)])])}),0):n._e()])],1)])])]),i("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:n.colse}},[n._v("取消")]),n.readOnly?n._e():i("el-button",{attrs:{type:"primary"},on:{click:n.submitInfo}},[n._v("确定")])],1)],1)],1)}var r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},684:function(e,t,n){"use strict";function i(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"div"},[n.resourceDialog?i("Resource",{attrs:{resourceDialog:n.resourceDialog,curSoucesList:n.information.resources,singleElection:!0,isShowType:!0,isShowResource:!1,parameter:n.parameter},on:{"update:resourceDialog":function(e){n.resourceDialog=e},"update:resource-dialog":function(e){n.resourceDialog=e},select:n.addSelcet}}):n._e(),i("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:n.planInfoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"el-icon-close",on:{click:n.colse}}),i("el-tabs",{attrs:{value:"ff"}},[i("el-tab-pane",{attrs:{label:"学习项目",name:"ff"}})],1)],1),i("VaForm",{ref:"detailForm"},[i("form",{staticClass:"detailForm"},[i("fieldset",{attrs:{disabled:n.readOnly}},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[n._v("*名称:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:n.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{placeholder:"请输入该学习项目的名称",type:"text",disabled:n.readOnly},domProps:{value:n.information.name},on:{input:function(e){e.target.composing||n.$set(n.information,"name",e.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[n._v("*简介:")]),i("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:n.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{placeholder:"请输入该学习项目的简要介绍",type:"text",disabled:n.readOnly},domProps:{value:n.information.abs},on:{input:function(e){e.target.composing||n.$set(n.information,"abs",e.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[n._v("*学习时长:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:n.information.time,expression:"information.time"}],staticClass:"form-control time",attrs:{type:"text",placeholder:"学习该项目所需时间",disabled:n.readOnly},domProps:{value:n.information.time},on:{input:function(e){e.target.composing||n.$set(n.information,"time",e.target.value)}}}),i("span",[n._v("分")])]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[n._v("资源")]),i("ul",{staticClass:"preview"},n._l(n.information.resources,function(t){return i("li",[i("img",{staticClass:"previewImgUrl",attrs:{src:t.img_src||t.preview_path}}),i("p",{staticClass:"name",attrs:{title:t.name}},[n._v(n._s(t.name))]),n.readOnly?n._e():i("Icon",{attrs:{title:"删除",type:"icon-delete"},on:{click:function(e){return n.delChoosen(t.id)}}})],1)}),0),n.readOnly?n._e():i("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary"},on:{click:function(e){return n.relation()}}},[n._v("关联")])],1)])])]),i("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:n.colse}},[n._v("取消")]),n.readOnly?n._e():i("el-button",{attrs:{type:"primary"},on:{click:n.submitInfo}},[n._v("确定")])],1)],1)],1)}var r=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},701:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/course_period",e)},t.save=function(e){var t=e.id,n=o(e,["id"]);if(t)return(0,r.request_put)(restUrl_publish+"/api/course_period/"+t,n);return(0,r.request_post)(restUrl_publish+"/api/course_period",n)},t.getInfo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=s.default.compile(restUrl_publish+"/api/course_period/:id");return(0,r.request_get)(t(e))},t.getPlanInfo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=s.default.compile(restUrl_publish+"/api/course_period/teaching_plan/:id");return(0,r.request_get)(t(e))},t.del=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_delete)(restUrl_publish+"/api/course_period/"+e.id)},t.delPlan=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_delete)(restUrl_publish+"/api/teaching_plan/"+e.id)},t.sort=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=o(e,["type"]);return"up"!=t?(0,r.request_put)(restUrl_publish+"/api/course_period/down",n):(0,r.request_put)(restUrl_publish+"/api/course_period/up",n)},t.savePlan=function(e){var t=e.id,n=o(e,["id"]);if(t)return(0,r.request_put)(restUrl_publish+"/api/course_period/teaching_plan/"+t,n);return(0,r.request_post)(restUrl_publish+"/api/course_period/teaching_plan",n)};var i,r=n(7),a=n(9),s=(i=a)&&i.__esModule?i:{default:i};function o(e,t){var n={};for(var i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}}}]);