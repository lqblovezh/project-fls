/*!
 * {
 *   "buildtime": "2019-07-19 15:01:49",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "b17f442a6",
 *     "message": [
 *       "commit b17f442a62eb78bc9ab78ffe68e3afb76c3e3548",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Fri Jul 19 14:48:13 2019 +0800",
 *       "    xxxxxx"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1166:function(e,t,r){"use strict";r.r(t);var i=r(1410),a=r(748);for(var n in a)"default"!==n&&function(e){r.d(t,e,function(){return a[e]})}(n);r(1167);var s=r(0),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);t.default=o.exports},1167:function(e,t,r){"use strict";var i=r(750);r.n(i).a},1168:function(e,t,r){"use strict";r.r(t);var i=r(1407),a=r(751);for(var n in a)"default"!==n&&function(e){r.d(t,e,function(){return a[e]})}(n);r(1169);var s=r(0),o=Object(s.a)(a.default,i.a,i.b,!1,null,"3e849ec3",null);t.default=o.exports},1169:function(e,t,r){"use strict";var i=r(753);r.n(i).a},1170:function(e,t,r){"use strict";var i=r(754);r.n(i).a},1385:function(e,t,r){"use strict";function i(){var r=this,e=r.$createElement,i=r._self._c||e;return i("div",{staticClass:"index clearfix"},[r.previewArticleDialog?i("MaskShow",[i("PreviewArticle",{attrs:{item:r.html},on:{cancle:function(e){r.previewArticleDialog=!1}}})],1):r._e(),i("Top",{attrs:{currentPlant:"X-PUBLISH"}}),i("Menu",{attrs:{curr:"/contentLibrary/article"}}),i("div",{staticClass:"mainRight"},[i("div",{staticClass:"contentWrap"},[i("div",{staticClass:"contentLeft"},[i("div",{staticClass:"msgWrap"},[i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"primary ",plain:""},on:{click:function(e){return r.$router.go(-1)}}},[r._v("返回")]),i("el-button",{attrs:{type:"primary"},on:{click:r.previewArt}},[r._v("预览")]),r.isShowSave?r._e():i("el-button",{attrs:{type:"primary",plain:""},on:{click:r.submit}},[r._v("保存")])],1),i("div",{staticClass:"left"},[r._m(0),i("span",[i("span",{staticClass:"shallow-color"},[r._v(" 创建时间:")]),i("span",{staticClass:"main-color"},[r._v(r._s(r.detailData.create_time))])])])]),i("div",{staticClass:"editorWrap"},[r._m(1),i("div",{staticClass:"formWrap"},[i("form",{attrs:{id:"articleForm"}},[r._m(2),i("div",{staticClass:"group"},[i("div",{staticClass:"label"}),i("img",{staticClass:"preimg",attrs:{src:r.showImgUrl||r.detailData.img_src}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"}),i("span",[i("input",{ref:"preImg",staticClass:"hide",attrs:{type:"file",accept:r.$config.imgAccept},on:{change:r.showImg}}),r.isShowSave?r._e():i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return r.$refs.preImg.click()}}},[r._v("本地上传")]),r.isShowSave?r._e():i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){r.imgListDialog=!0}}},[r._v("从图库选择")])],1)]),r._m(3),i("div",{staticClass:"group"},[i("div",{staticClass:"label"}),i("span",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:r.detailData.abs,expression:"detailData.abs"}],staticClass:"form-control",domProps:{value:r.detailData.abs},on:{input:function(e){e.target.composing||r.$set(r.detailData,"abs",e.target.value)}}})])]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[r._v("标签:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:r.detailData.tag,expression:"detailData.tag"}],staticClass:"form-control",domProps:{value:r.detailData.tag},on:{input:function(e){e.target.composing||r.$set(r.detailData,"tag",e.target.value)}}})])])])]),i("div",{staticClass:"tabsWrap"},[i("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":r.handleClick},model:{value:r.type,callback:function(e){r.type=e},expression:"type"}},[i("el-tab-pane",{attrs:{label:"我的图书",name:"queryBook"}},[i("div",{staticClass:"all"},[i("RightMediaList",{attrs:{type:r.type,list:r.books,page:r.bookPage},on:{pageChange:r.handleCurrentChange,insertImg:r.insertImg}})],1)]),i("el-tab-pane",{attrs:{label:"我的图片",name:"queryImg"}},[i("div",{staticClass:"all"},[i("RightMediaList",{attrs:{type:r.type,list:r.imgs,page:r.imgPage},on:{pageChange:r.handleCurrentChange,insertImg:r.insertImg}})],1)]),i("el-tab-pane",{attrs:{label:"我的音频",name:"queryVoice"}},[i("div",{staticClass:"all"},[i("RightMediaList",{attrs:{type:r.type,list:r.voices,page:r.voicePage},on:{insertImg:r.insertImg,pageChange:r.handleCurrentChange}})],1)]),i("el-tab-pane",{attrs:{label:"我的视频",name:"queryVideo"}},[i("div",{staticClass:"all"},[i("RightMediaList",{attrs:{type:r.type,list:r.videos,page:r.videoPage},on:{pageChange:r.handleCurrentChange,insertImg:r.insertImg}})],1)])],1)],1)])])]),i("div",{staticClass:"dialogs"},[r.readerDialog?i("Reader",{attrs:{readerDialog:r.readerDialog,readerId:r.readerId,version:"draft"},on:{"update:readerDialog":function(e){r.readerDialog=e},"update:reader-dialog":function(e){r.readerDialog=e}}}):r._e(),r.imgListDialog?i("el-dialog",{attrs:{center:!1,visible:r.imgListDialog,"close-on-click-modal":!1,top:"50px",width:"800px",title:"选择封面"},on:{"update:visible":function(e){r.imgListDialog=e}}},[i("div",{staticClass:"linkListWrap"},[i("div",{staticClass:"linksImg"},r._l(r.imgs,function(t){return i("div",{staticClass:"imgWrap"},[i("img",{attrs:{src:t.preview_path},on:{click:function(e){return r.insertCover(t)}}})])}),0),i("div",{staticClass:"center"},[i("el-pagination",{attrs:{small:"",layout:"prev, pager, next, jumper","current-page":r.imgPage.num,"page-size":r.imgPage.offset,total:r.imgPage.total},on:{"size-change":r.handleSizeChange,"current-change":r.handleCurrentChangeImg}})],1),i("div",{staticClass:"right"},[i("el-button",{attrs:{type:"info"},on:{click:function(e){r.imgListDialog=!1}}},[r._v("返回")])],1)])]):r._e(),r.uploadDialog?i("el-dialog",{attrs:{center:!1,visible:r.uploadDialog,"close-on-click-modal":!1,top:"50px",width:"800px",title:"上传"+r.switchTypeName},on:{"update:visible":function(e){r.uploadDialog=e}}},[i("UeUpload",{attrs:{ue:r.ue,type:r.uploadType},on:{cancle:function(e){r.uploadDialog=!1}}})],1):r._e()],1)],1)}var a=[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"vel-line"},[t("span",{staticClass:"shallow-color"},[this._v(" 类型:")]),t("span",{staticClass:"main-color"},[this._v("文章")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"editor"}},[t("script",{staticStyle:{width:"1024px",height:"500px"},attrs:{id:"editor",type:"text/plain"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"group"},[t("div",{staticClass:"label"},[this._v("封面:")]),t("span",[t("span",{staticClass:"shallow-color"},[this._v("(图片建议使用900*500像素的封面)")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"group"},[t("div",{staticClass:"label"},[this._v("摘要:")]),t("span",{staticClass:"shallow-color"},[this._v(" (选填，如果不填写会默认抓取正文前54个字)")])])}];r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a})},1407:function(e,t,r){"use strict";function i(){var r=this,e=r.$createElement,i=r._self._c||e;return i("div",{staticClass:"div"},[i("div",{staticClass:"dialogs"},[r.readerDialog?i("Reader",{attrs:{readerDialog:r.readerDialog,readerId:r.readerId,version:"draft"},on:{"update:readerDialog":function(e){r.readerDialog=e},"update:reader-dialog":function(e){r.readerDialog=e}}}):r._e()],1),r.list?i("div",{staticClass:"index"},[i("div",{staticClass:"serchWrap"},[i("input",{ref:"query",staticClass:"form-control",attrs:{placeholder:"输入搜索名称"}}),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return r.handleCurrentChange(1)}}},[r._v("搜索")])],1),i("div",{staticClass:"listWrap"},[r._l(r.list,function(t){return"queryBook"!=r.type?i("div",{staticClass:"imgWrap",on:{click:function(e){return r.$emit("insertImg",t)}}},[i("span",{staticClass:"name"},[r._v(r._s(t.name))]),"queryImg"!=r.type?i("img",{attrs:{src:t.img_src}}):r._e(),"queryImg"==r.type?i("img",{attrs:{src:t.preview_path}}):r._e()]):r._e()}),r._l(r.list,function(t){return"queryBook"==r.type?i("div",{staticClass:"imgWrap book left"},[i("div",{staticClass:"cover"},[i("div",{staticClass:"insert",on:{click:function(e){return r.$emit("insertImg",t)}}},[r._v("插入书籍")]),i("div",{staticClass:"open",on:{click:function(e){return r.openReader(t)}}},[r._v("打开书籍")])]),i("span",{staticClass:"name"},[r._v(r._s(t.name))]),i("img",{attrs:{src:t.img_src}})]):r._e()})],2),i("div",{staticClass:"pageWrap"},[i("el-pagination",{attrs:{small:"",layout:"prev, pager, next, jumper","current-page":r.page.num,"page-size":r.page.offset,total:r.page.total},on:{"size-change":r.handleSizeChange,"current-change":r.handleCurrentChange}})],1)]):r._e()])}var a=[];r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a})},1410:function(e,t,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"articleWrap"},[r("VaForm",{ref:"titleForm"},[r("div",{staticClass:"titleWrap"},[r("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detailData.name,expression:"detailData.name"}],staticClass:"title",attrs:{name:"title",id:"richTitle",placeholder:"请在这里输入标题"},domProps:{value:t.detailData.name},on:{input:function(e){e.target.composing||t.$set(t.detailData,"name",e.target.value)}}})]),r("div",{staticClass:"authorWrap"},[r("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detailData.author,expression:"detailData.author"}],staticClass:"author",attrs:{name:"author",id:"richAuthor",placeholder:"请在这里输入作者"},domProps:{value:t.detailData.author},on:{input:function(e){e.target.composing||t.$set(t.detailData,"author",e.target.value)}}})])]),r("hr")],1)}var a=[];r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a})},326:function(e,t,r){"use strict";r.r(t);var i=r(1385),a=r(746);for(var n in a)"default"!==n&&function(e){r.d(t,e,function(){return a[e]})}(n);r(1170);var s=r(0),o=Object(s.a)(a.default,i.a,i.b,!1,null,"7069ad68",null);t.default=o.exports},392:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return log("add",e),(0,a.request_post)(restUrl_publish+"/api/videos",e).then(function(e){var t=e.data,r=t._id,i=t.name,a=t.author,n=t.abs,s=t.tag,o=t.type_name;return(0,u.addResListener)({res_id:r,res_author:a,res_name:i,res_exp:n,res_type:o,res_lables:[s]}),e})},t.modify=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=o(e,["id"]),i=n.default.compile(restUrl_publish+"/api/videos/:id");return(0,a.request_put)(i({id:t}),r)},t.listVideo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/videos",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,u.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/videos/export"+i.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/videos/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/videos/import",e)},t.deleteVideo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/videos/delete",e)},t.detailVideo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.default.compile(restUrl_publish+"/api/videos/:id");return(0,a.request_get)(t(e))},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=o(e,["id"]),i=n.default.compile(restUrl_publish+"/api/videos/groups/:id");return(0,a.request_put)(i({id:t}),r)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/videos/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/videos/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/videos/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/videos/groups",e)};var a=r(7),i=s(r(10)),n=s(r(9)),u=r(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}},394:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modifyBooks=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=u(e,["id"]),i=n.default.compile(restUrl_publish+"/api/books/:id");return(0,a.request_put)(i({id:t}),r)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/books/export"+i.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/books/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/books/import",e)},t.fabu=function(e){return(0,a.request_post)(restUrl_publish+"/api/mult_books",e)},t.getProgress=function(e){return(0,a.request_get)(restUrl_publish+"/api/mult_book/progress/"+e)},t.deleteBooks=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/books/delete",e)},t.listBooks=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/books",e)},t.detailBooks=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=u(e,["id"]),i=n.default.compile(restUrl_publish+"/api/books/:id");return(0,a.request_get)(i({id:t}),r)},t.addBooks=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/books",t).then(function(e){(0,s.createProListener)({res_id:e.data.task_id,res_type:"数字图书",res_cover:t.img,res_covers:"",res_exp:t.abs,res_author:t.author,res_author_id:"",res_Interpreter:"",res_Interpreter_id:"",res_lables:"",res_currency:"",res_money:"",res_isbn:"",res_isbn_ext:"",res_publication:""})})},t.getBookCatalog=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=u(e,["id"]),i=n.default.compile(restUrl_publish+"/api/books/:id/catalogs");return(0,a.request_get)(i({id:t}),r)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=u(e,["id"]),i=n.default.compile(restUrl_publish+"/api/books/groups/:id");return(0,a.request_put)(i({id:t}),r)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=u(e,["id"]),i=n.default.compile(restUrl_publish+"/api/books/groups/:id");return(0,a.request_delete)(i({id:t}),r)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/books/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/books/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/groups/books",e)},t.siblingSort=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=u(e,["id"]),i=n.default.compile(restUrl_publish+"/api/catalogs/sort/:id");return(0,a.request_put)(i({id:t}),r)},t.moveCatalog=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(e.id,u(e,["id"]));return(0,a.request_put)(restUrl_publish+"/api/catalogs/outline",t)},t.products=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/books/products",e)},t.fastAdd=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/comproduct/fast/add",e)},t.fastPrevew=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audits/fast",e)},t.fastLibrary=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/databook/temp",e)},t.bookAdd=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/databook/add",e)},t.dataFast=function r(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/data_fast",i).then(function(e){return 2==e.data.data?new Promise(function(e,t){setTimeout(function(){e(r(i))},2e3)}):e})};var a=r(7),n=o(r(9)),i=o(r(10)),s=r(85);r(573);function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r={};for(var i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}},407:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPicture=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/pictures",e).then(function(e){var t=e.data,r=t._id,i=t.name,a=t.abs,n=t.author,s=t.tag,o=t.type_name;return(0,u.addResListener)({res_id:r,res_type:o,res_name:i,res_exp:a,res_author:n,res_lables:[s]}),e})},t.modifyPicture=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=o(e,["id"]),i=n.default.compile(restUrl_publish+"/api/pictures/:id");return(0,a.request_put)(i({id:t}),r)},t.listPicture=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/pictures",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,u.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/pictures/export"+i.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/pictures/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/pictures/import",e)},t.deletePicture=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/pictures/delete",e)},t.detailPicture=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.default.compile(restUrl_publish+"/api/pictures/:id");return(0,a.request_get)(t(e))},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=o(e,["id"]),i=n.default.compile(restUrl_publish+"/api/pictures/groups/:id");return(0,a.request_put)(i({id:t}),r)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/pictures/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/pictures/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/pictures/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/pictures/groups",e)};var a=r(7),i=s(r(10)),n=s(r(9)),u=r(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}},408:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audios",e).then(function(e){var t=e.data,r=t._id,i=t.name,a=t.abs,n=t.author,s=t.tag,o=t.type_name;return(0,u.addResListener)({res_id:r,res_type:o,res_name:i,res_exp:a,res_author:n,res_lables:[s]}),e})},t.modify=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=o(e,["id"]),i=n.default.compile(restUrl_publish+"/api/audios/:id");return(0,a.request_put)(i({id:t}),r)},t.listAudio=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/audios",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,u.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/audios/export"+i.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/audios/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audios/import",e)},t.deleteAudio=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audios/delete",e)},t.detailAudio=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=n.default.compile(restUrl_publish+"/api/audios/:id");return(0,a.request_get)(t(e),e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=o(e,["id"]),i=n.default.compile(restUrl_publish+"/api/audios/groups/:id");return(0,a.request_put)(i({id:t}),r)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audios/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/audios/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/audios/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/audios/groups",e)};var a=r(7),i=s(r(10)),n=s(r(9)),u=r(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}},436:function(e,t,r){"use strict";r.r(t);var i=r(437),a=r.n(i);for(var n in i)"default"!==n&&function(e){r.d(t,e,function(){return i[e]})}(n);t.default=a.a},437:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(r(5)),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(r(25)),n=s(r(128));function s(e){return e&&e.__esModule?e:{default:e}}t.default={components:{Progress:n.default},props:["ue","type"],created:function(){this.ue},mounted:function(){},data:function(){return{showImgUrl:null,localUrl:null,linkUrl:null,file:null,percentage:0,fileUrl:null,importType:"local"}},computed:{accept:function(){var e=this.type+"Accept";return this.$config[e]},command:function(){var e=this.type+"Command";return this.$config[e]}},methods:{showImgLocal:function(e){var t=e.target.files[0];t&&(this.file=t,this.localUrl=URL.createObjectURL(t))},back:function(){this.$emit("cancle")},commit:function(){var r=this;return function(e){return function(){var o=e.apply(this,arguments);return new Promise(function(n,s){return function t(e,r){try{var i=o[e](r),a=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});n(a)}("next")})}}(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("local"!=r.importType){e.next=10;break}if(r.file)return t=r.$progress(),e.next=5,a.getTask(r.file,{is_chunk:!0,size:1048576},function(e){t.percentage=e}).then(function(e){r.fileUrl=e.data.url,r.ue.execCommand(r.command,{src:e.data.url,url:e.data.url}),t.close(),r.back()});e.next=7;break;case 5:e.next=8;break;case 7:r.$message.error("请先选择文件!");case 8:e.next=11;break;case 10:"link"==r.importType&&(r.ue.execCommand(r.command,{src:r.linkUrl,url:r.linkUrl}),r.back());case 11:case"end":return e.stop()}},e,r)}))()}}}},438:function(e,t,r){},451:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles",e).then(function(e){var t=e.data,r=t._id,i=t.name,a=t.abs,n=t.author,s=t.tag,o=t.type_name;return(0,u.addResListener)({res_id:r,res_type:o,res_name:i,res_exp:a,res_author:n,res_lables:[s]}),e})},t.modifyArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=o(e,["id"]),i=n.default.compile(restUrl_publish+"/api/articles/:id");return(0,a.request_put)(i({id:t}),r)},t.listArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/articles",e)},t.educe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,u.educeResListener)({res_url:(0,a.getFullPath)(restUrl_publish+"/api/articles/export"+i.default.stringify(e,{addQueryPrefix:!0}))}),(0,a.request_get)(restUrl_publish+"/api/articles/export",e)},t.putin=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles/import",e)},t.deleteArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles/delete",e)},t.detailArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=o(e,["id"]),i=n.default.compile(restUrl_publish+"/api/articles/:id");return(0,a.request_get)(i({id:t}),r)},t.pushArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles/push",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=o(e,["id"]),i=n.default.compile(restUrl_publish+"/api/articles/groups/:id");return(0,a.request_put)(i({id:t}),r)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles/groups/delete",e)},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/articles/groups",e)},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/articles/groups")},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/articles/groups",e)};var a=r(7),i=s(r(10)),n=s(r(9)),u=r(85);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}},482:function(e,t,r){"use strict";r.r(t);var i=r(483),a=r.n(i);for(var n in i)"default"!==n&&function(e){r.d(t,e,function(){return i[e]})}(n);t.default=a.a},483:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});(function(e){{if(e&&e.__esModule)return;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}})(r(129)),r(163);var i,a=r(583),n=(i=a)&&i.__esModule?i:{default:i};t.default={components:{MaskShow:n.default},props:["item"],created:function(){var e=this.item;log(e.preview);var t=e.preview,r=e.name,i=e.author,a=e.create_time;this.html={preview:t,title:r,author:i,time:a}},mounted:function(){},data:function(){return{showImgUrl:null,html:{}}},methods:{test:function(){}}}},484:function(e,t,r){"use strict";r.r(t);var i=r(485),a=r.n(i);for(var n in i)"default"!==n&&function(e){r.d(t,e,function(){return i[e]})}(n);t.default=a.a},485:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={created:function(){document.querySelector("html").classList.add("noscorll")},data:function(){return{inputs:[]}},methods:{},destroyed:function(){document.querySelector("html").classList.remove("noscorll")}}},486:function(e,t,r){},487:function(e,t,r){},562:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imgUploadBtn=function(e,t,r){UE.registerUI("img-upload-btn",function(t,r){t.registerCommand(r,{execCommand:function(){e.openUploadDialog("img")}});var i=new UE.ui.Button({name:r,title:r,cssRules:"background-position: -380px 0;",onclick:function(){t.execCommand(r)}});return t.addListener("selectionchange",function(){var e=t.queryCommandState(r);-1==e?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(e))}),i},t,r)},t.videoUploadBtn=function(e,t,r){UE.registerUI("video-upload-btn",function(t,r){t.registerCommand(r,{execCommand:function(){e.openUploadDialog("video")}});var i=new UE.ui.Button({name:r,title:r,cssRules:"background-position: -320px -20px;",onclick:function(){t.execCommand(r)}});return t.addListener("selectionchange",function(){var e=t.queryCommandState(r);-1==e?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(e))}),i},t,r)},t.voiceUploadBtn=function(e,t,r){UE.registerUI("voice-upload-btn",function(t,r){t.registerCommand(r,{execCommand:function(){e.openUploadDialog("voice")}});var i=new UE.ui.Button({name:r,title:r,cssRules:"background-position: -18px -40px;",onclick:function(){t.execCommand(r)}});return t.addListener("selectionchange",function(){var e=t.queryCommandState(r);-1==e?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(e))}),i},t,r)}},563:function(e,t,r){"use strict";r.r(t);var i=r(569),a=r(436);for(var n in a)"default"!==n&&function(e){r.d(t,e,function(){return a[e]})}(n);r(564);var s=r(0),o=Object(s.a)(a.default,i.a,i.b,!1,null,"d1e1d4f8",null);t.default=o.exports},564:function(e,t,r){"use strict";var i=r(438);r.n(i).a},569:function(e,t,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"div"},[r("div",{staticClass:"wrap"},[r("form",{staticClass:"detailForm"},[r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[t._v("导入方式:")]),r("span",[r("span",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.importType,expression:"importType"}],attrs:{type:"radio",name:"methd",value:"local"},domProps:{checked:t._q(t.importType,"local")},on:{change:function(e){t.importType="local"}}}),t._v("本地")]),r("span",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.importType,expression:"importType"}],attrs:{type:"radio",name:"methd",value:"link"},domProps:{checked:t._q(t.importType,"link")},on:{change:function(e){t.importType="link"}}}),t._v("外链")])])]),"local"==t.importType?r("div",{staticClass:"local"},[r("div",{staticClass:"group"},[r("div",{staticClass:"label"}),r("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.$refs.media.click()}}},[t._v("选择")]),r("input",{ref:"media",staticClass:"hide",attrs:{type:"file",accept:t.accept},on:{change:t.showImgLocal}})],1),r("div",{staticClass:"group"},[r("div",{staticClass:"label"}),r("span",{staticClass:"imgShow"},["img"==t.type&&t.localUrl?r("img",{attrs:{src:t.localUrl}}):t._e(),"video"==t.type&&t.localUrl?r("video",{attrs:{src:t.localUrl,controls:""}}):t._e(),"audio"==t.type&&t.localUrl?r("audio",{attrs:{src:t.localUrl,controls:""}}):t._e()])])]):t._e(),"link"==t.importType?r("div",{staticClass:"link"},[r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[t._v("外链")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.linkUrl,expression:"linkUrl"}],ref:"link",staticClass:"short form-control",domProps:{value:t.linkUrl},on:{input:function(e){e.target.composing||(t.linkUrl=e.target.value)}}})]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"}),r("span",{staticClass:"imgShow"},["img"==t.type&&t.linkUrl?r("img",{attrs:{src:t.linkUrl}}):t._e(),"video"==t.type&&t.linkUrl?r("video",{attrs:{src:t.linkUrl,controls:""}}):t._e(),"audio"==t.type&&t.linkUrl?r("audio",{attrs:{src:t.linkUrl,controls:""}}):t._e()])])]):t._e()])]),r("div",{staticClass:"btns"},[r("el-button",{attrs:{type:"info"},on:{click:t.back}},[t._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.commit}},[t._v("确定")])],1)])}var a=[];r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a})},574:function(e,t){},583:function(e,t,r){"use strict";r.r(t);var i=r(668),a=r(484);for(var n in a)"default"!==n&&function(e){r.d(t,e,function(){return a[e]})}(n);r(617);var s=r(0),o=Object(s.a)(a.default,i.a,i.b,!1,null,"ce4fdede",null);t.default=o.exports},616:function(e,t,r){"use strict";r.r(t);var i=r(662),a=r(482);for(var n in a)"default"!==n&&function(e){r.d(t,e,function(){return a[e]})}(n);r(618);var s=r(0),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);t.default=o.exports},617:function(e,t,r){"use strict";var i=r(486);r.n(i).a},618:function(e,t,r){"use strict";var i=r(487);r.n(i).a},662:function(e,t,r){"use strict";function i(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"div"},[r("MaskShow",[r("div",{staticClass:"phoneWrap"},[r("div",{staticClass:"phone"},[r("div",{staticClass:"close",attrs:{type:"info"},on:{click:function(e){return t.$emit("cancle")}}}),r("div",{staticClass:"content"},[r("div",{staticClass:"phoneTop"},[t._v("公众号")]),r("div",{staticClass:"main"},[r("div",{staticClass:"title"},[t._v(t._s(t.html.title))]),r("div",{staticClass:"msg"},[r("span",{staticClass:"time"},[t._v(t._s(t.html.time))]),r("span",{staticClass:"author"},[t._v(t._s(t.html.author))])]),r("div",{staticClass:"rich",domProps:{innerHTML:t._s(t.html.preview)}})])])])])])],1)}var a=[];r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a})},668:function(e,t,r){"use strict";function i(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"mask"},[this._t("default")],2)}var a=[];r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a})},698:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listArticles=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)(restUrl_publish+"/api/push_articles",e)},t.detailArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=u(e,["id"]),i=s.default.compile(restUrl_publish+"/api/push_articles/:id");return(0,a.request_get)(i({id:t}),r)},t.del=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/push_articles/delete",e)},t.modifyArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=u(e,["id"]),i=s.default.compile(restUrl_publish+"/api/push_articles/:id");return(0,a.request_put)(i({id:t}),r)},t.addArticle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/push_articles",e)},t.urgent=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/push_articles/urgent",e)},t.audits=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_put)(restUrl_publish+"/api/push_articles/distribute",t).then(function(e){return(0,o.suance)({id:t.id,info:e.data}),e})},t.listGroup=function(){return(0,a.request_get)(restUrl_publish+"/api/push_articles/groups/list")},t.addGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/push_articles/groups",e)},t.modifyGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=u(e,["id"]),i=s.default.compile(restUrl_publish+"/api/push_articles/groups/:id");return(0,a.request_put)(i({id:t}),r)},t.deleteGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/push_articles/groups/delete",e)},t.moveGroup=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)(restUrl_publish+"/api/push_articles/groups/move",e)},t.getMetadata=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=u(e,["id"]),i=s.default.compile(restUrl_publish+"/api/push_articles/metadata/:id");return(0,a.request_get)(i({id:t}),r)};var i,a=r(7),n=r(9),s=(i=n)&&i.__esModule?i:{default:i},o=r(85);function u(e,t){var r={};for(var i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}},746:function(e,t,r){"use strict";r.r(t);var i=r(747),a=r.n(i);for(var n in i)"default"!==n&&function(e){r.d(t,e,function(){return i[e]})}(n);t.default=a.a},747:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n=q(r(5)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},a=q(r(158)),s=q(r(157)),u=q(r(616)),l=q(r(583)),c=q(r(2)),d=(q(r(84)),q(r(420))),p=q(r(1166)),f=q(r(1168)),v=r(562),h=(r(163),k(r(25))),g=k(r(451)),m=k(r(698)),_=k(r(407)),b=k(r(408)),y=k(r(392)),C=k(r(394)),U=q(r(563));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function q(e){return e&&e.__esModule?e:{default:e}}function x(e){return function(){var o=e.apply(this,arguments);return new Promise(function(n,s){return function t(e,r){try{var i=o[e](r),a=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});n(a)}("next")})}}function w(){return i.apply(this,arguments)}t.default={components:{Menu:a.default,Reader:d.default,Top:s.default,UeUpload:U.default,RightMediaList:f.default,PreviewArticle:u.default,MaskShow:l.default},created:function(){var r=this;return x(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.$route.query.from,r.isShowSave=r.$route.query.hide,r.serv=r.ser[t];case 3:case"end":return e.stop()}},e,r)}))()},mounted:function(){var t=this;return x(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDetail();case 2:t.queryImg(),t.queryVoice(),t.queryVideo(),t.queryBook(),t.UeUploadBtn(),t.ue=UE.getEditor("editor"),t.ue.addListener("ready",function(){document.querySelector(".edui-editor-toolbarbox").insertAdjacentHTML("afterend",'<div id="articleTitle"> </div> ');var e=c.default.extend(p.default);t.t=new e({el:"#articleTitle"}),t.t.detailData=t.detailData,t.ue.execCommand("insertHtml",t.detailData.preview),setTimeout(function(){document.documentElement.scrollTop=0},500)});case 9:case"end":return e.stop()}},e,t)}))()},destroyed:function(){this.ue.destroy()},data:function(){return{detailId:null,detailData:{img:""},isShowSave:!1,showImgUrl:null,imgs:null,books:null,voices:null,videos:null,bookPage:null,videoPage:null,imgPage:null,voicePage:null,uploadDialog:!1,imgListDialog:!1,previewArticleDialog:!1,uploadType:"img",html:{},type:"queryBook",readerDialog:!1,readerId:"",ser:{push:m,default:g},serv:{}}},computed:{switchTypeName:function(){switch(this.uploadType){case"img":return"图片";case"video":return"视频";case"voice":return"音乐"}}},methods:{getDetail:function(){var t=this;if(this.detailId=this.$route.query.articleId,this.detailId)return this.serv.detailArticle({id:this.detailId}).then(function(e){delete e.data.attributes,t.detailData=e.data}).catch(function(e){})},queryImg:function(e,t,r){var i=0<arguments.length&&void 0!==e?e:1,a=this,n=1<arguments.length&&void 0!==t?t:12,s=2<arguments.length&&void 0!==r?r:{};_.listPicture(o({pageNum:i,pageOffset:n,group_id:""},s)).then(function(e){a.imgs=e.data,a.imgPage=e.page})},queryVoice:function(e,t,r){var i=0<arguments.length&&void 0!==e?e:1,a=this,n=1<arguments.length&&void 0!==t?t:12,s=2<arguments.length&&void 0!==r?r:{};b.listAudio(o({pageNum:i,pageOffset:n,group_id:""},s)).then(function(e){a.voices=e.data,a.voicePage=e.page})},queryVideo:function(e,t,r){var i=0<arguments.length&&void 0!==e?e:1,a=this,n=1<arguments.length&&void 0!==t?t:12,s=2<arguments.length&&void 0!==r?r:{};y.listVideo(o({pageNum:i,pageOffset:n,group_id:""},s)).then(function(e){a.videos=e.data,a.videoPage=e.page})},queryBook:function(e,t,r){var i=0<arguments.length&&void 0!==e?e:1,a=this,n=1<arguments.length&&void 0!==t?t:12,s=2<arguments.length&&void 0!==r?r:{};C.listBooks(o({pageNum:i,pageOffset:n,group_id:""},s)).then(function(e){a.books=e.data,a.bookPage=e.page})},handleSizeChange:function(){},handleClick:function(e,t){},handleCurrentChange:function(e){this[this.type](e.page,12,e.query)},handleCurrentChangeImg:function(e){this.queryImg(e)},addHtml:function(e){this.ue.execCommand("inserthtml",'<p>\n          <img src="'+e.img_src+"\"/>\n          <p>\n            <span style='color:#666;font-size:14px'> 书名："+(e.name||"")+" </span>\n            <span style='color:#666;font-size:14px'> 作者："+(e.author||"")+' </span>\n          </p>\n          <p>简介:</p>\n          <p style="text-indent:2em;color:#666;">'+(e.abs||"")+"</p>\n        </p>")},insertImg:function(e){switch(this.type){case"queryVideo":this.ue.execCommand("insertvideo",{url:e.preview});break;case"queryImg":this.ue.execCommand("insertimage",{src:e.preview_path});break;case"queryBook":this.addHtml(e);break;case"queryVoice":this.ue.execCommand("music",{url:e.preview})}},insertCover:function(e){this.showImgUrl=e.preview_path,this.detailData.img=e.preview,this.imgListDialog=!1},showImg:function(e){var t=this,r=e.target.files[0];r&&this.$ImageSizeCropper({file:r,autoWidth:900,autoHeight:500}).then(function(e){t.showImgUrl=URL.createObjectURL(r),t.uploadFile(r)},function(e){t.uploadFile(e)})},uploadFile:function(e){var t=this,r=this.$progress();h.getTask(e,{is_chunk:!0,size:1048576},function(e){r.percentage=e}).then(function(e){r.close(),t.detailData.img=e.data.path,t.showImgUrl=e.data.url})},UeUploadBtn:function(){(0,v.imgUploadBtn)(this,"","editor"),(0,v.videoUploadBtn)(this,"","editor"),(0,v.voiceUploadBtn)(this,"","editor")},openUploadDialog:function(e){this.uploadType=e,this.uploadDialog=!0,this.uploadDialog},insertMedia:(i=function(){this.ue.execCommand("inserthtml",insertMedia())},w.toString=function(){return i.toString()},w),openReader:function(e){this.readerId=e.id,this.readerDialog=!0},previewArt:function(){var e=document.querySelector("#richTitle"),t=document.querySelector("#richAuthor"),r=e.value,i=t.value,a=this.ue.getContent(),n=new Date,s=n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate();this.previewArticleDialog=!0,this.html={preview:a,title:r,author:i,time:s}},submit:function(){var a=this;return x(n.default.mark(function e(){var t,r,i;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.t.valiAll()){e.next=4;break}return a.$message.error("标题和作者不能为空!"),e.abrupt("return");case 4:if(a.detailData.abs||(t=(t=a.ue.getContentTxt()).substr(0,54),a.detailData.abs=t),a.detailData.preview=a.ue.getContent(),a.detailData,e.prev=7,a.detailData.id)return e.next=11,a.serv.modifyArticle(a.detailData).then(function(e){a.$message.success("修改成功!"),a.$router.back()});e.next=13;break;case 11:e.next=15;break;case 13:return e.next=15,a.serv.addArticle(a.detailData).then(function(e){a.$message.success("新增成功!"),a.$router.back()});case 15:e.next=27;break;case 17:e.prev=17,e.t0=e.catch(7),r=e.t0.payload,e.t1=n.default.keys(r.messages);case 21:if((e.t2=e.t1()).done){e.next=27;break}return i=e.t2.value,a.$message.error(r.messages[i]),e.abrupt("break",27);case 27:case"end":return e.stop()}},e,a,[[7,17]])}))()}}}},748:function(e,t,r){"use strict";r.r(t);var i=r(749),a=r.n(i);for(var n in i)"default"!==n&&function(e){r.d(t,e,function(){return i[e]})}(n);t.default=a.a},749:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{detailData:{name:"",author:""}}},methods:{valiAll:function(){return this.$refs.titleForm.valiAll()}}}},750:function(e,t,r){},751:function(e,t,r){"use strict";r.r(t);var i=r(752),a=r.n(i);for(var n in i)"default"!==n&&function(e){r.d(t,e,function(){return i[e]})}(n);t.default=a.a},752:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=r(420),n=(i=a)&&i.__esModule?i:{default:i};t.default={components:{Reader:n.default},props:["type","list","page"],data:function(){return{readerDialog:!1,readerId:""}},methods:{handleCurrentChange:function(e){var t={page:e,query:{name:this.$refs.query.value}};this.$emit("pageChange",t)},handleSizeChange:function(){},insertImg:function(){},openReader:function(e){this.readerId=e.id,this.readerDialog=!0}}}},753:function(e,t,r){},754:function(e,t,r){}}]);