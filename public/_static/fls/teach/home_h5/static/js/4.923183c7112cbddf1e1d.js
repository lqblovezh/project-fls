/*!
 * {
 *   "buildtime": "2019-05-31 16:22:54",
 *   "workspace": "F:\\X-BOOK\\xcloud\\x-book4\\js",
 *   "username": "LQB",
 *   "hostname": "DESKTOP-QL56OJS",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "fbc007935",
 *     "message": [
 *       "commit fbc00793544e5767db1868f95f89c64b93f3aa79",
 *       "Author: 骆秋波 <1277678760@qq.com>",
 *       "Date:   Fri May 31 15:21:03 2019 +0800",
 *       "    打包上传"
 *     ],
 *     "user": "骆秋波",
 *     "email": "1277678760@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{193:function(t,e,i){"use strict";i.r(e);var s=i(852),n=i(392);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i(627);var a=i(0),o=Object(a.a)(n.default,s.a,s.b,!1,null,"0221730a",null);e.default=o.exports},227:function(t,e,i){"use strict";function s(t){return t&&"[object Array]"===Object.prototype.toString.call(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.findItem=function(t,e){return e.filter(function(e){return e.id===t||e.children.some(function(e){return e.id===t})})},e.isArray=s,e.isEmptyObj=function(t){for(var e in t)return!1;return!0},e.getResource=function(t,e){var i={};return t&&e&&e.forEach(function(e){t.forEach(function(t){t.teaching_plan.forEach(function(t){t.teaching_plan_info.forEach(function(t){t.b_id===e.b_id&&(i[e.b_id]=t)})})})}),i},e.extract=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"reply";t.forEach(function(t){!function i(n){n.forEach(function(n){s(n[e])&&n[e].length>0&&i(n[e]),n.layer>2&&t[e].push(n)})}(t[e]),t[e].sort(function(t,e){return Date.parse(e.create_time)-Date.parse(t.create_time)})})},e.getInfoOfResource=function(t,e){var i={};return i.course_id=t.id,t.course_period_list&&t.course_period_list.forEach(function(t){t.teaching_plan&&t.teaching_plan.forEach(function(s){s.teaching_plan_info&&s.teaching_plan_info.forEach(function(n){n.id===e&&(i.course_hour_id=t.id,i.course_teaching_id=s.id,i.type=n.type)})})}),i.course_teaching_plan_id=e,i},e.getNextResource=function(t,e){var i={course_teaching_plan_id:-1},s=0;return t.course_period_list&&t.course_period_list.forEach(function(t){t.teaching_plan&&t.teaching_plan.forEach(function(n){n.teaching_plan_info&&n.teaching_plan_info.forEach(function(r){1!==s&&r.id!==e||(i.type=r.type,i.course_teaching_plan_id=r.id,i.course_teaching_id=n.id,i.course_hour_id=t.id),s=r.id===e?1:0})})}),i},e.getCurResource=function(t,e){var i={ids:{},data:null};return t.course_period_list&&t.course_period_list.forEach(function(s){s.teaching_plan&&s.teaching_plan.forEach(function(n){n.teaching_plan_info&&n.teaching_plan_info.forEach(function(r){r.id===e&&(i.data=r,i.ids={course_id:t.id,course_hour_id:s.id,course_plan_id:n.id,course_plan_info_id:r.id})})})}),i}},229:function(t,e,i){"use strict";var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},n=u(i(235)),r=i(227),a=i(230),o=i(6),c=u(i(239));function u(t){return t&&t.__esModule?t:{default:t}}var l=new n.default({phone:{required:!0,length:11,message:{required:"请输入手机号",length:"手机号码长度应为11位"}}}),d={data:function(){return{img_code:{code_id:null,code_img:null},img_code_val:null,code_tip:"发送验证码",duration:60,timer:null}},methods:{getImgCode:function(){var t=this;this.$service.user.codeImage().then(function(e){t.img_code=e.data})},validatePhone:function(){var t=l.validate({phone:this.info.phone});return!(t.length>0)||(this.$Toast({message:t[0].toString()}),!1)},setTimer:function(){var t=this;if(null===this.timer){var e=this.duration;!function i(){t.code_tip=e+"秒后再试",e-- >0?t.timer=setTimeout(i,1e3):(t.code_tip="发送验证码",t.timer=null)}()}},sendCheckCode:function(){var t=this;null!==this.img_code_val?this.validatePhone()&&!this.timer&&this.$service.user.codePhone({phone:this.info.phone,code_id_img:this.img_code.code_id,code_val_img:this.img_code_val,not_check_user_exist:1}).then(function(e){t.$Toast({message:"发送成功",iconClass:"icon-toast icon-success"}),t.setTimer(),t.info.code_id=e.data.code_id}).catch(function(e){t.$Toast({iconClass:"icon-toast icon-failed",message:"发送失败"})}):this.$Toast({message:"请输入图片验证码"})}}},f={computed:s({},(0,o.mapState)("user",["userInfo"])),methods:s({},(0,o.mapMutations)("common",["setLoginLayer"]),{checkIsLogin:function(){return!!this.userInfo||(this.setLoginLayer(!0),!1)}})},h={data:function(){return{next:null}},computed:s({},(0,o.mapState)("course",["courseInfo","curResources"])),mounted:function(){this.next=(0,r.getNextResource)(JSON.parse(JSON.stringify(this.courseInfo)),this.curResources.id)}},_={computed:s({},(0,o.mapState)("course",{courseInfo:function(t){return t.courseInfo}}),(0,o.mapGetters)("course",["cItem"])),methods:s({},(0,o.mapMutations)("course",["SET_RESOURCE"]),{continueStudy:function(){var t=this.getCurrent();if(t){var e=t.data;this.SET_RESOURCE(e);switch(e.type){case 1:this.goReader(t);break;case 3:this.goPlayer("pic",t);break;case 4:this.goPlayer("audio",t);break;case 5:this.goPlayer("video",t)}}},goPlayer:function(t,e){var i=e.ids;this.$goByName(t,{query:s({},i)})},goReader:function(t,e){var i=this,n=e.ids,r=e.data;c.default.setItem("access_code",r.access_code).then(function(){i.$goByName("reader",{query:s({book_id:r.b_id,product_id:i.courseInfo.publish_id},n)})})},getCurrent:function(){return this.courseInfo.end_speed_info?(0,r.getCurResource)(JSON.parse(JSON.stringify(this.courseInfo)),this.courseInfo.end_speed_info.course_teaching_plan_id):this.cItem[0]}})},v={computed:s({},(0,o.mapState)("course",["courseInfo"])),methods:s({},(0,o.mapMutations)("course",["SET_RESOURCE"]),{viewResource:function(t){var e=(0,a.getRelatedRescourse)(JSON.parse(JSON.stringify(this.courseInfo)),t.b_id);switch(e.data&&this.SET_RESOURCE(e.data),e.data.type){case 1:this.goReader(e);break;case 3:this.goPlayer("pic",e);break;case 4:this.goPlayer("audio",e);break;case 5:this.goPlayer("video",e)}},goPlayer:function(t,e){var i=e.ids;this.$goByName(t,{query:s({},i)})},goReader:function(t){var e=this,i=t.ids,n=t.data;c.default.setItem("access_code",n.access_code).then(function(){e.$goByName("reader",{query:s({book_id:n.b_id,product_id:e.courseInfo.publish_id},i)})})}})},p={computed:s({},(0,o.mapState)("course",["courseInfo"])),beforeMount:function(){!this.courseInfo&&this.$route.query.cid&&this.SET_COURSE_INFO(this.$route.query.cid)},methods:s({},(0,o.mapActions)("course",["SET_COURSE_INFO"]))};t.exports={code:d,user:f,inputArea:{data:function(){return{isShowTextField:!1,commentList:[],word:"",myReply:null}},methods:{showTextField:function(){var t=this;this.$refs.layer.show(),this.$nextTick(function(){t.$refs.myInput.focus()})},hideTextField:function(t){this.isShowTextField=!1,this.initState()},initState:function(){this.word="",this.myph="发表评论",this.myReply=null}}},charEll:{data:function(){return{maxLength:46}},methods:{maxSlice:function(t){return"string"==typeof t&&t.length>this.maxLength?t.slice(0,this.maxLength)+"...":t}}},nextResource:h,continueStudy:_,releateToResource:v,CourseInfo:p}},230:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRelatedRescourse=function(t,e){var i={ids:{},data:null};return t.course_period_list&&t.course_period_list.forEach(function(s){s.teaching_plan&&s.teaching_plan.forEach(function(n){n.teaching_plan_info&&n.teaching_plan_info.forEach(function(r){r.b_id===e&&(i.ids={course_id:t.id,course_hour_id:s.id,course_plan_id:n.id,course_plan_info_id:r.id},i.data=r)})})}),i}},231:function(t,e,i){"use strict";i.r(e);var s=i(232),n=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,function(){return s[t]})}(r);e.default=n.a},232:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{hideBack:{},type:{},privateStyle:{},isRewrite:{type:Boolean,default:!1}},computed:{isShowSearch:function(){return!!this.isSearch},isShowBack:function(){return!this.hideBack}},methods:{goBack:function(){this.isRewrite?this.$emit("back"):this.$router.go(-1)},goSearch:function(){this.$router.push({name:"search"})},share:function(){}}}},233:function(t,e,i){},241:function(t,e,i){"use strict";i.r(e);var s=i(242),n=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,function(){return s[t]})}(r);e.default=n.a},242:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=i(64),r=(s=n)&&s.__esModule?s:{default:s};e.default={props:["list","showPrice"],components:{Star:r.default},methods:{go:function(t){this.$goCourse(t.course_id||t.id)}}}},243:function(t,e,i){},244:function(t,e,i){"use strict";i.r(e);var s=i(250),n=i(231);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i(245);var a=i(0),o=Object(a.a)(n.default,s.a,s.b,!1,null,"4fe4bede",null);e.default=o.exports},245:function(t,e,i){"use strict";var s=i(233);i.n(s).a},246:function(t,e,i){"use strict";i.r(e);var s=i(247),n=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,function(){return s[t]})}(r);e.default=n.a},247:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={props:["myProps"],data:function(){return{isShowTextField:!1,word:""}},methods:{showTextField:function(){var t=this;this.isShowTextField=!0,this.$nextTick(function(){t.$refs.myInput.focus()})},hideTextField:function(t){("symbol"==(void 0===t?"undefined":s(t))||t.target.classList.contains("layer")||t.target.classList.contains("icon-close"))&&(this.isShowTextField=!1,this.word="",this.myProps&&this.myProps.init&&this.myProps.init())},send:function(){this.$emit("sendMethod",this.word),this.hideTextField(Symbol("close"))}}}},248:function(t,e,i){},250:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header",style:t.privateStyle},[i("div",{staticClass:"header-left"},[t._t("left",[i("span",{staticClass:"icon-go-back icon-back",on:{click:t.goBack}})])],2),i("div",{staticClass:"header-center text-center"},[t._t("center")],2),i("div",{staticClass:"header-right text-right"},[t._t("right",["share"===t.type?i("span",{staticClass:"icon-share",on:{click:t.share}}):"search"===t.type?i("span",{staticClass:"icon-search_h",on:{click:t.goSearch}}):i("span",{staticClass:"placeholder"})])],2)])},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},266:function(t,e,i){"use strict";i.r(e);var s=i(272),n=i(241);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i(267);var a=i(0),o=Object(a.a)(n.default,s.a,s.b,!1,null,"0a10ec8e",null);e.default=o.exports},267:function(t,e,i){"use strict";var s=i(243);i.n(s).a},268:function(t,e,i){"use strict";i.r(e);var s=i(273),n=i(246);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i(269);var a=i(0),o=Object(a.a)(n.default,s.a,s.b,!1,null,"f9e88ada",null);e.default=o.exports},269:function(t,e,i){"use strict";var s=i(248);i.n(s).a},272:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"course-container"},t._l(t.list,function(e){return i("div",{staticClass:"course-item",on:{click:function(i){return t.go(e)}}},[i("div",{staticClass:"img-wrap circle"},[i("img",{attrs:{src:e.img}})]),i("div",{staticClass:"course-content"},[i("div",{staticClass:"course-title ell"},[t._v(t._s(e.course_name))]),i("div",{staticClass:"course-intro ell"},[t._v(t._s(e.abs))]),i("div",{staticClass:"course-info"},[i("div",{staticClass:"course-info__star",staticStyle:{"margin-right":"15px"}},[i("Star",{attrs:{num:e.score}}),i("span",{staticClass:"course_info__score"},[t._v(t._s(e.score/2))])],1),i("p",{staticClass:"course-info__num"},[t._v(t._s(t._f("capnum")(e.study_count))+"人学过")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPrice,expression:"showPrice"}],staticClass:"course-price"},[t._v("价格："),i("span",[t._v("￥"+t._s(e.price))])])])])}),0)},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},273:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShowTextField?i("div",{staticClass:"full-layer__fixed",on:{click:function(e){return t.hideTextField(e)}}},[i("div",{staticClass:"fixed-bottom ui-textarea c-bg-f"},[i("div",{staticClass:"ui-textarea__body"},[i("p",{staticClass:"text-right"},[i("span",{staticClass:"icon-close",on:{click:function(e){return t.hideTextField(e)}}})]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.word,expression:"word"}],ref:"myInput",attrs:{placeholder:t.myProps&&t.myProps.placeholder||"发表评论",rows:"5"},domProps:{value:t.word},on:{input:function(e){e.target.composing||(t.word=e.target.value)}}})]),i("div",{staticClass:"ui-textarea__bottom flex flex-sb"},[t._m(0),i("a",{on:{click:t.send}},[t._v("发布")])])])]):t._e()},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("button",[e("span",{staticClass:"icon-img"})])}];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},392:function(t,e,i){"use strict";i.r(e);var s=i(393),n=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,function(){return s[t]})}(r);e.default=n.a},393:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=h(i(5)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r=i(6),a=h(i(244)),o=h(i(622)),c=h(i(623)),u=h(i(625)),l=i(229),d=i(227),f=h(i(268));function h(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[l.user,l.charEll],data:function(){return{styleObj:{backgroundColor:"transparent",boxShadow:"none"},cur:"course",sheetVisible:!1,actions:null,teacherInfo:null,tabContent:null,myProps:{placeholder:"发表留言",init:this.initState},leaveWord:"",msgs:[],isShowTI:!1,answerOpt:{type:"leave_word"},isSpread:!1}},components:{Head:a.default,Course:o.default,Live:c.default,Classes:u.default,TextInput:f.default},computed:n({},(0,r.mapState)("user",["userInfo"]),{isMoreThanThree:function(){return!!(this.teacherInfo.summary&&this.teacherInfo.summary.length>this.maxLength)}}),mounted:function(){this.getDetailTeacherInfo()},methods:{isLogin:function(){this.userInfo||this.$router.push({path:"login"})},addProperty:function(t){t.forEach(function(t){t.expand=!1})},getDetailTeacherInfo:function(){var t=this,e=this.$route.query.userId;this.$service.teacher.getDetailTeacher({id:e}).then(function(e){t.teacherInfo=e.data})},cancelFollowed:function(t){var e=this;this.$service.teacher.cancelFollowedRequest({id:t}).then(function(t){e.getDetailTeacherInfo()}).catch(console.error)},addFollowed:function(t){var e=this;this.$service.teacher.sendFollowRequest({id:t}).then(function(t){e.getDetailTeacherInfo()}).catch(console.error)},followTeacher:function(t){this.isLogin(),this.teacherInfo.current_user_is_followed?this.cancelFollowed(t):this.addFollowed(t)},changeTab:function(t){this.cur=t},closeSheet:function(t){t.target.classList.contains("actionsheet")&&(this.sheetVisible=!1)},getLiveMsg:function(){var t=this,e=this.teacherInfo.id;this.$service.teacher.getTeacherMessage({to_user_id:e}).then(function(e){(0,d.extract)(e.data),t.addProperty(e.data),t.msgs=e.data}).catch(console.error)},getMsg:function(){this.isLogin(),this.getLiveMsg(),this.sheetVisible=!0},toggleRestComment:function(t){t.expand=!t.expand},chat:function(){if(this.userInfo){var t=this.teacherInfo.id;this.$router.push({name:"chat",params:{id:t}})}else this.$router.push({path:"login"})},answer:function(t){this.answerOpt.to_user_id=t.from_user_id,this.answerOpt.pid=t.id,this.myProps.placeholder="回复 "+t.from_user_name+"：",this.showTextInput()},send:function(t){this.answerOpt.content=t,this.answerOpt.to_user_id||(this.answerOpt.to_user_id=this.teacherInfo.id),this.sendMsg()},sendMsg:function(){var t=this;this.$service.message.sendMsg(this.answerOpt).then(function(e){t.getLiveMsg(),t.$refs.myInput.hideTextField(Symbol("close"))}).catch(console.error)},del:function(t){var e,i=this;return(e=s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.$service.message.delMsg({id:t});case 2:return e.next=4,i.getLiveMsg();case 4:case"end":return e.stop()}},e,i)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,i){return function s(n,r){try{var a=t[n](r),o=a.value}catch(t){return void i(t)}if(!a.done)return Promise.resolve(o).then(function(t){s("next",t)},function(t){s("throw",t)});e(o)}("next")})})()},initState:function(){this.myProps.placeholder="发表留言",this.answerOpt={type:"leave_word"}},showTextInput:function(){this.$refs.myInput.showTextField()},spread:function(){this.isSpread=!this.isSpread}}}},394:function(t,e,i){"use strict";i.r(e);var s=i(395),n=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,function(){return s[t]})}(r);e.default=n.a},395:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=i(266),r=(s=n)&&s.__esModule?s:{default:s};e.default={props:["id"],data:function(){return{list:[]}},components:{CourseList:r.default},created:function(){var t=this;this.$service.teacher.getCourseByTid({id:this.id}).then(function(e){t.list=e.data})},methods:{}}},396:function(t,e,i){"use strict";i.r(e);var s=i(397),n=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,function(){return s[t]})}(r);e.default=n.a},397:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=i(64),r=(s=n)&&s.__esModule?s:{default:s};e.default={props:["id"],data:function(){return{list:null}},components:{Star:r.default},mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.$service.lives.getList({teacher_id:this.id}).then(function(e){t.list=e.data})}}}},398:function(t,e,i){},399:function(t,e,i){"use strict";i.r(e);var s=i(400),n=i.n(s);for(var r in s)"default"!==r&&function(t){i.d(e,t,function(){return s[t]})}(r);e.default=n.a},400:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=i(64),r=(s=n)&&s.__esModule?s:{default:s};e.default={props:["id"],data:function(){return{list:[]}},components:{Star:r.default},created:function(){var t=this;this.$service.teacher.getClassByTid({id:this.id}).then(function(e){t.list=e.data})},methods:{goToCourse:function(t){t&&this.$goByName("course",{params:{course_id:t.id}})}}}},401:function(t,e,i){},402:function(t,e,i){},622:function(t,e,i){"use strict";i.r(e);var s=i(879),n=i(394);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);var a=i(0),o=Object(a.a)(n.default,s.a,s.b,!1,null,null,null);e.default=o.exports},623:function(t,e,i){"use strict";i.r(e);var s=i(870),n=i(396);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i(624);var a=i(0),o=Object(a.a)(n.default,s.a,s.b,!1,null,null,null);e.default=o.exports},624:function(t,e,i){"use strict";var s=i(398);i.n(s).a},625:function(t,e,i){"use strict";i.r(e);var s=i(867),n=i(399);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i(626);var a=i(0),o=Object(a.a)(n.default,s.a,s.b,!1,null,"d1af4056",null);e.default=o.exports},626:function(t,e,i){"use strict";var s=i(401);i.n(s).a},627:function(t,e,i){"use strict";var s=i(402);i.n(s).a},852:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"blue full-layer c-bg-f page-teacher-detail"},[i("Head",{attrs:{privateStyle:t.styleObj}}),t.teacherInfo?i("div",{staticClass:"container"},[i("div",{staticClass:"div img-teacher_bg"},[i("div",{staticClass:"info-header"},[i("div",{staticClass:"center p3"},[i("div",{staticClass:"left"},[i("img",{staticClass:"picture",attrs:{src:t.teacherInfo.picture_absolute}}),i("span",{staticClass:"name"},[t._v(t._s(t.teacherInfo.nick_name))])]),i("div",{staticClass:"right text-right"},[i("p",{staticClass:"num"},[t._v(t._s(t.teacherInfo.followed_me.length)+" 粉丝")]),i("button",{staticClass:"circle",on:{click:function(e){return t.followTeacher(t.teacherInfo.id)}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.teacherInfo.current_user_is_followed,expression:"!teacherInfo.current_user_is_followed"}],staticClass:"icon-plus_white"}),t._v(t._s(t.teacherInfo.current_user_is_followed?"取消关注":"关注"))])])]),i("div",{staticClass:"bottom"},[i("div",{staticClass:"duty"},[i("p",[t._v("职务")]),i("p",{staticClass:"value"},[t._v(t._s(t.teacherInfo.duties))])]),i("div",{staticClass:"duty"},[i("p",[t._v("学历")]),i("p",{staticClass:"value"},[t._v(t._s(t.teacherInfo.education||"无"))])]),i("div",{staticClass:"duty"},[i("p",[t._v("单位")]),i("p",{staticClass:"value"},[t._v(t._s(t.teacherInfo.company||"无"))])])])]),i("div",{staticClass:"intro"},[i("div",{staticClass:"jianjie"},[t._v("简介：")]),i("p",{ref:"text",staticClass:"text"},[t._v(t._s(t.teacherInfo.summary&&t.isSpread?t.teacherInfo.summary:t.maxSlice(t.teacherInfo.summary)))]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isMoreThanThree,expression:"isMoreThanThree"}],staticClass:"button"},[i("a",{staticClass:"f14",on:{click:t.spread}},[t._v(t._s(t.isSpread?"收拢":"展开"))])])])]),i("div",{staticClass:"line-part"}),i("div",{staticClass:"content"},[i("x-tabbar",{attrs:{height:"0.8rem"},model:{value:t.cur,callback:function(e){t.cur=e},expression:"cur"}},[i("x-tabbar-item",{attrs:{id:"course"}},[t._v("课程")]),i("x-tabbar-item",{attrs:{id:"classes"}},[t._v("班级")]),i("x-tabbar-item",{attrs:{id:"live"}},[t._v("直播")])],1),i("div",{staticClass:"tabcontainer"},[i("keep-alive",[i("component",{attrs:{id:t.teacherInfo.id}}),i("mt-tab-container",{attrs:{swipeable:""},model:{value:t.cur,callback:function(e){t.cur=e},expression:"cur"}},[i("mt-tab-container-item",{attrs:{id:"course"}},[i("Course",{attrs:{id:t.teacherInfo.id}})],1),i("mt-tab-container-item",{attrs:{id:"classes"}},[i("Classes",{attrs:{id:t.teacherInfo.id}})],1),i("mt-tab-container-item",{attrs:{id:"live"}},[i("Live",{attrs:{id:t.teacherInfo.id}})],1)],1)],1)],1)],1)]):t._e(),i("div",{staticClass:"footer"},[i("div",{staticClass:"flex"},[i("a",{staticClass:"btn-priamry",on:{click:t.getMsg}},[i("div",{staticClass:"icon icon-leave-message"}),i("span",[t._v("留言")])]),i("a",{on:{click:t.chat}},[i("div",{staticClass:"icon icon-envelope"}),i("span",[t._v("私信")])])])]),t.sheetVisible?i("div",{ref:"actionsheet",staticClass:"actionsheet",on:{click:function(e){return e.stopPropagation(),t.closeSheet(e)}}},[i("div",{staticClass:"container"},[i("p",{staticClass:"p3 title"},[t._v("共 "+t._s(t.msgs&&t.msgs.length)+" 条留言")]),i("div",{staticClass:"message"},[i("div",{staticClass:"dialog"},t._l(t.msgs,function(e){return i("div",{staticClass:"msg bb"},[i("img",{attrs:{src:e.from_user_picture}}),i("div",{staticClass:"msg-right"},[i("div",{staticClass:"msg-right__info"},[i("div",{staticClass:"msg-right__name"},[t._v(t._s(e.from_user_name))]),i("div",{staticClass:"msg-right__txt",on:{click:function(i){return t.answer(e)}}},[t._v(t._s(e.content))]),i("a",{directives:[{name:"show",rawName:"v-show",value:e.reply.length>0&&!e.expand,expression:"msg.reply.length > 0 && !msg.expand"}],on:{click:function(i){return t.toggleRestComment(e)}}},[t._v("查看全部"+t._s(e.reply.length)+"条回复")]),i("div",{staticClass:"msg-right__time flex flex-center-sb",class:{bordered:e.expand}},[i("span",[t._v(t._s(e.create_time))]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.from_user_id===t.userInfo.id,expression:"msg.from_user_id === userInfo.id"}],staticClass:"icon-trash",on:{click:function(i){return t.del(e.id)}}})])]),t._l(e.reply,function(s){return e.expand?i("div",{staticClass:"msg msg-sub"},[i("img",{attrs:{src:s.from_user_picture}}),i("div",{staticClass:"msg-right"},[i("div",{staticClass:"msg-right__info"},[i("div",{staticClass:"msg-right__name"},[i("p",[t._v(t._s(s.from_user_name)),i("span",{directives:[{name:"show",rawName:"v-show",value:s.from_user_id===t.teacherInfo.id,expression:"reply.from_user_id === teacherInfo.id"}],staticClass:"icon-teacher__label"})]),i("span",{staticClass:"icon-triangle"}),i("span",[t._v(t._s(s.to_user_name))])]),i("div",{staticClass:"msg-right__txt",on:{click:function(e){return t.answer(s)}}},[t._v(t._s(s.content))]),i("div",{staticClass:"msg-right__time flex flex-center-sb"},[i("span",[t._v(t._s(s.create_time))]),i("span",{directives:[{name:"show",rawName:"v-show",value:s.from_user_id===t.userInfo.id,expression:"reply.from_user_id === userInfo.id"}],staticClass:"icon-trash",on:{click:function(e){return t.del(s.id)}}})])])])]):t._e()}),i("a",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"msg.expand"}],staticClass:"btn-closed",on:{click:function(i){return t.toggleRestComment(e)}}},[t._v("收起"),i("div",{staticClass:"icon icon-retract"})])],2)])}),0)]),i("div",{staticClass:"input"},[i("div",{staticClass:"icon-img"}),i("p",{on:{click:t.showTextInput}},[t._v("发表留言")]),i("button",{staticClass:"send"},[t._v("发布")])])])]):t._e(),i("TextInput",{ref:"myInput",attrs:{myProps:t.myProps},on:{sendMethod:t.send,init:t.initState}})],1)},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},867:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"class-list p3"},[i("p",{directives:[{name:"show",rawName:"v-show",value:!t.list||0==t.list.length,expression:"!list || list.length == 0"}],staticClass:"course-tips"},[t._v("暂无数据")]),t._l(t.list,function(e){return i("div",{staticClass:"class-item",on:{click:function(i){return t.goToCourse(e.course_info)}}},[i("img",{attrs:{src:e.course_info.img}}),i("div",{staticClass:"class-item__info"},[i("div",{staticClass:"class-item__info-name"},[t._v(t._s(e.class_name))]),i("div",{staticClass:"class-item__info-intro"},[t._v(t._s(e.introduce))])])])})],2)},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},870:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rec"},[i("p",{directives:[{name:"show",rawName:"v-show",value:!t.list||0==t.list.length,expression:"!list || list.length == 0"}],staticClass:"course-tips p3"},[t._v("暂无数据")]),t._l(t.list,function(e){return i("a",{staticClass:"rec-item",attrs:{href:e.url}},[i("img",{attrs:{src:e.img}}),i("div",{staticClass:"rec-item__info"},[i("div",{staticClass:"rec-item__info-name"},[t._v(t._s(e.title))]),i("div",{staticClass:"rec-item__info-intro"},[t._v(t._s(e.introduce))])])])})],2)},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},879:function(t,e,i){"use strict";var s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",{directives:[{name:"show",rawName:"v-show",value:!this.list||0==this.list.length,expression:"!list || list.length == 0"}],staticClass:"course-tips p3"},[this._v("暂无数据")]),e("CourseList",{attrs:{list:this.list,showPrice:"true"}})],1)},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})}}]);