/*!
 * {
 *   "buildtime": "2019-05-31 16:22:54",
 *   "workspace": "F:\\X-BOOK\\xcloud\\x-book4\\js",
 *   "username": "LQB",
 *   "hostname": "DESKTOP-QL56OJS",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "fbc007935",
 *     "message": [
 *       "commit fbc00793544e5767db1868f95f89c64b93f3aa79",
 *       "Author: 骆秋波 <1277678760@qq.com>",
 *       "Date:   Fri May 31 15:21:03 2019 +0800",
 *       "    打包上传"
 *     ],
 *     "user": "骆秋波",
 *     "email": "1277678760@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{192:function(t,e,s){"use strict";s.r(e);var i=s(848),n=s(385);for(var r in n)"default"!==r&&function(t){s.d(e,t,function(){return n[t]})}(r);s(621);var a=s(0),o=Object(a.a)(n.default,i.a,i.b,!1,null,"71b4f338",null);e.default=o.exports},231:function(t,e,s){"use strict";s.r(e);var i=s(232),n=s.n(i);for(var r in i)"default"!==r&&function(t){s.d(e,t,function(){return i[t]})}(r);e.default=n.a},232:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{hideBack:{},type:{},privateStyle:{},isRewrite:{type:Boolean,default:!1}},computed:{isShowSearch:function(){return!!this.isSearch},isShowBack:function(){return!this.hideBack}},methods:{goBack:function(){this.isRewrite?this.$emit("back"):this.$router.go(-1)},goSearch:function(){this.$router.push({name:"search"})},share:function(){}}}},233:function(t,e,s){},244:function(t,e,s){"use strict";s.r(e);var i=s(250),n=s(231);for(var r in n)"default"!==r&&function(t){s.d(e,t,function(){return n[t]})}(r);s(245);var a=s(0),o=Object(a.a)(n.default,i.a,i.b,!1,null,"4fe4bede",null);e.default=o.exports},245:function(t,e,s){"use strict";var i=s(233);s.n(i).a},246:function(t,e,s){"use strict";s.r(e);var i=s(247),n=s.n(i);for(var r in i)"default"!==r&&function(t){s.d(e,t,function(){return i[t]})}(r);e.default=n.a},247:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={props:["myProps"],data:function(){return{isShowTextField:!1,word:""}},methods:{showTextField:function(){var t=this;this.isShowTextField=!0,this.$nextTick(function(){t.$refs.myInput.focus()})},hideTextField:function(t){("symbol"==(void 0===t?"undefined":i(t))||t.target.classList.contains("layer")||t.target.classList.contains("icon-close"))&&(this.isShowTextField=!1,this.word="",this.myProps&&this.myProps.init&&this.myProps.init())},send:function(){this.$emit("sendMethod",this.word),this.hideTextField(Symbol("close"))}}}},248:function(t,e,s){},250:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header",style:t.privateStyle},[s("div",{staticClass:"header-left"},[t._t("left",[s("span",{staticClass:"icon-go-back icon-back",on:{click:t.goBack}})])],2),s("div",{staticClass:"header-center text-center"},[t._t("center")],2),s("div",{staticClass:"header-right text-right"},[t._t("right",["share"===t.type?s("span",{staticClass:"icon-share",on:{click:t.share}}):"search"===t.type?s("span",{staticClass:"icon-search_h",on:{click:t.goSearch}}):s("span",{staticClass:"placeholder"})])],2)])},n=[];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n})},268:function(t,e,s){"use strict";s.r(e);var i=s(273),n=s(246);for(var r in n)"default"!==r&&function(t){s.d(e,t,function(){return n[t]})}(r);s(269);var a=s(0),o=Object(a.a)(n.default,i.a,i.b,!1,null,"f9e88ada",null);e.default=o.exports},269:function(t,e,s){"use strict";var i=s(248);s.n(i).a},273:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isShowTextField?s("div",{staticClass:"full-layer__fixed",on:{click:function(e){return t.hideTextField(e)}}},[s("div",{staticClass:"fixed-bottom ui-textarea c-bg-f"},[s("div",{staticClass:"ui-textarea__body"},[s("p",{staticClass:"text-right"},[s("span",{staticClass:"icon-close",on:{click:function(e){return t.hideTextField(e)}}})]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.word,expression:"word"}],ref:"myInput",attrs:{placeholder:t.myProps&&t.myProps.placeholder||"发表评论",rows:"5"},domProps:{value:t.word},on:{input:function(e){e.target.composing||(t.word=e.target.value)}}})]),s("div",{staticClass:"ui-textarea__bottom flex flex-sb"},[t._m(0),s("a",{on:{click:t.send}},[t._v("发布")])])])]):t._e()},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("button",[e("span",{staticClass:"icon-img"})])}];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n})},385:function(t,e,s){"use strict";s.r(e);var i=s(386),n=s.n(i);for(var r in i)"default"!==r&&function(t){s.d(e,t,function(){return i[t]})}(r);e.default=n.a},386:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},n=s(6),r=u(s(244)),a=u(s(619)),o=u(s(620)),c=u(s(268));function u(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Head:r.default,MsgFrom:a.default,MsgTo:o.default,TextInput:c.default},data:function(){return{chatList:null,posY:0,dragging:!1,offsetTop:0}},computed:i({},(0,n.mapState)("user",["userInfo"]),{tid:function(){return this.$route.params.id||""}}),mounted:function(){setTimeout(this.init,0),this.getChatList()},methods:{init:function(){this.$refs.wrapper.offsetHeight},getChatList:function(){var t=this;this.$service.message.getPrivateMsg({to_user_id:this.tid}).then(function(e){t.chatList=e.data}).catch(console.info)},sendMsg:function(t){var e=this;this.$service.message.sendMsg({type:"private_message",from_user_id:this.userInfo.id,to_user_id:this.tid,content:t}).then(function(t){e.getChatList()})},showField:function(){this.$refs.myInput.showTextField()},start:function(t){t=t.changedTouches?t.changedTouches[0]:t,this.dragging=!0,this.posY=t.pageY},move:function(t){if(this.dragging){var e=(t=t.changedTouches?t.changedTouches[0]:t).pageY-this.posY;this.offsetTop=this.offsetTop+e,this.posY=t.pageY,this.moveContainer()}},end:function(){this.dragging=!1},moveContainer:function(){this.$refs.msgContainer.style.webkitTransform="translateY("+this.offsetTop+"px)"}}}},387:function(t,e,s){"use strict";s.r(e);var i=s(388),n=s.n(i);for(var r in i)"default"!==r&&function(t){s.d(e,t,function(){return i[t]})}(r);e.default=n.a},388:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["msg"],data:function(){return{}}}},389:function(t,e,s){"use strict";s.r(e);var i=s(390),n=s.n(i);for(var r in i)"default"!==r&&function(t){s.d(e,t,function(){return i[t]})}(r);e.default=n.a},390:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["msg"],data:function(){return{}}}},391:function(t,e,s){},619:function(t,e,s){"use strict";s.r(e);var i=s(882),n=s(387);for(var r in n)"default"!==r&&function(t){s.d(e,t,function(){return n[t]})}(r);var a=s(0),o=Object(a.a)(n.default,i.a,i.b,!1,null,"1fb148a3",null);e.default=o.exports},620:function(t,e,s){"use strict";s.r(e);var i=s(881),n=s(389);for(var r in n)"default"!==r&&function(t){s.d(e,t,function(){return n[t]})}(r);var a=s(0),o=Object(a.a)(n.default,i.a,i.b,!1,null,"04db4186",null);e.default=o.exports},621:function(t,e,s){"use strict";var i=s(391);s.n(i).a},848:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("Head",[s("p",{attrs:{slot:"center"},slot:"center"},[t._v("冯青")]),s("p",{attrs:{slot:"right"},slot:"right"})]),s("div",{staticClass:"content c-bg-f"},[s("div",{staticClass:"pr"},[s("div",{ref:"wrapper",staticClass:"msg-container c-bg-f"},t._l(t.chatList,function(e){return s("div",{staticClass:"msg-box"},[s("MsgFrom",{directives:[{name:"show",rawName:"v-show",value:e.from_user_id!==t.userInfo.id,expression:"item.from_user_id !== userInfo.id"}],attrs:{msg:e}}),s("MsgTo",{directives:[{name:"show",rawName:"v-show",value:e.from_user_id===t.userInfo.id,expression:"item.from_user_id === userInfo.id"}],attrs:{msg:e}})],1)}),0)])]),s("div",{staticClass:"fixed-bottom ui-textarea c-bg-f"},[s("div",{staticClass:"ui-textarea__bottom flex flex-ac"},[t._m(0),s("p",{staticClass:"txt",on:{click:t.showField}},[t._v("请输入内容")]),s("a",[t._v("发送")])])]),s("TextInput",{ref:"myInput",on:{sendMethod:t.sendMsg}})],1)},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("button",[e("span",{staticClass:"icon-img"})])}];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n})},881:function(t,e,s){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"me msg-dialog"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:this.msg.from_user_picture}})]),e("div",{staticClass:"txt"},[e("div",{staticClass:"time"},[this._v(this._s(this.msg.create_time))]),e("div",{staticClass:"bubble"},[e("p",[this._v(this._s(this.msg.content))])])])])},n=[];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n})},882:function(t,e,s){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"from msg-dialog"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:this.msg.from_user_picture}})]),e("div",{staticClass:"txt"},[e("div",{staticClass:"time"},[this._v(this._s(this.msg.create_time))]),e("div",{staticClass:"bubble"},[e("p",[this._v(this._s(this.msg.content))])])])])},n=[];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n})}}]);