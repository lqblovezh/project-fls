/*!
 * {
 *   "buildtime": "2019-06-14 15:40:00",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "cc62e1956",
 *     "message": [
 *       "commit cc62e195633d44aadf65545d70d92ce1a5c1c701",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Fri Jun 14 15:39:28 2019 +0800",
 *       "    'xxx'"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1046:function(t,e,a){"use strict";var i=a(467);a.n(i).a},1047:function(t,e,a){"use strict";var i=a(468);a.n(i).a},1048:function(t,e,a){"use strict";a.r(e);var i=a(1567),r=a(469);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1059);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"72e921a3",null);e.default=o.exports},1049:function(t,e,a){"use strict";var i=a(474);a.n(i).a},1050:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess",t).then(function(t){var e=t.data,a=e._id,i=e.name,r=e.abs,n=e.author,o=e.tag,l=e.type_name;return(0,s.addResListener)({res_id:a,res_type:l,res_name:i,res_exp:r,res_author:n,res_lables:[o]}),t})},e.modify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess/:id");return(0,i.request_put)(r({id:e}),a)},e.listLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(restUrl_publish+"/api/librariess",t)},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,i.getFullPath)(restUrl_publish+"/api/librariess/export"+r.default.stringify(t,{addQueryPrefix:!0}))}),(0,i.request_get)(restUrl_publish+"/api/librariess/export",t)},e.putin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess/import",t)},e.deleteLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess/delete",t)},e.detailLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.default.compile(restUrl_publish+"/api/librariess/:id");return(0,i.request_get)(e(t))},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess/groups/:id");return(0,i.request_put)(r({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess/groups/delete",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess/groups",t)},e.listGroup=function(){return(0,i.request_get)(restUrl_publish+"/api/librariess/groups")},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)(restUrl_publish+"/api/librariess/groups",t)};var i=a(49),r=o(a(19)),n=o(a(82)),s=a(83);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},1051:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/comproduct/list",t)},e.getDetail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/comproduct",t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/comproduct/delete",t)},e.urgentDigitalBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/comproduct/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/comproduct/audits",t)},e.issuance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=function(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}(t,["id"]),i=s.default.compile(restUrl_publish+"/api/comproduct/:id/issuance");return(0,r.request_put)(i({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/comproduct/groups",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/comproduct/groups/:id");return(0,r.request_put)(e(t),t)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/groups/delete",t)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/comproduct/groups",t)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.rel_id=t.id,delete t.id,(0,r.request_put)(restUrl_publish+"/api/groups/comproduct",t)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i},o=a(83)},1052:function(t,e,a){"use strict";a.r(e);var i=a(1569),r=a(475);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1053);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"90ed6866",null);e.default=o.exports},1053:function(t,e,a){"use strict";var i=a(477);a.n(i).a},1054:function(t,e,a){"use strict";a.r(e);var i=a(1574),r=a(478);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1055);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"1d3956ae",null);e.default=o.exports},1055:function(t,e,a){"use strict";var i=a(480);a.n(i).a},1056:function(t,e,a){"use strict";var i=a(485);a.n(i).a},1057:function(t,e,a){"use strict";var i=a(486);a.n(i).a},1058:function(t,e,a){"use strict";var i=a(489);a.n(i).a},1059:function(t,e,a){"use strict";var i=a(490);a.n(i).a},1060:function(t,e,a){"use strict";var i=a(491);a.n(i).a},1061:function(t,e,a){"use strict";a.r(e);var i=a(1545),r=a(492);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1071);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2ee670da",null);e.default=o.exports},1062:function(t,e,a){"use strict";a.r(e);var i=a(1552),r=a(494);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1063);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"8b4c15ea",null);e.default=o.exports},1063:function(t,e,a){"use strict";var i=a(496);a.n(i).a},1064:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setVersion=function(t){return(0,i.request_put)("/api/course_ware/set_versions",t)},e.getMainList=function(t){var e=t.type,a=function(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}(t,["type"]);switch(e){case"book":return(0,r.getList)(a);case"theme":return(0,n.getList)(a);case"audio":return(0,s.getList)(a);case"video":return(0,o.getList)(a);case"course":default:return(0,l.getList)(a)}};var i=a(49),r=a(1065),n=a(1066),s=a(1067),o=a(1068),l=a(1069)},1065:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/books",t)},e.detail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(c(t),t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)("/api/books/delete",t)},e.put=function(t){return(0,r.request_put)("/api/books/put",t)},e.pull=function(t){return(0,r.request_put)("/api/books/pull",t)},e.groupList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/books/groups",t)},e.group=function(t){var e=t.id,a=o(t,["id"]);if(e)return(0,r.request_put)(u({id:e}),a);return(0,r.request_post)("/api/books/groups",a)},e.groupDel=function(t){return(0,r.request_delete)(l(t),t)},e.groupMove=function(t){return(0,r.request_put)("/api/groups/books",t)},e.putInfo=function(t){return(0,r.request_get)(d(t),t)},e.putSave=function(t){return(0,r.request_put)("/api/books/save_data",t)},e.computePrice=function(t){return(0,r.request_put)("/api/books/compute_price",t)},e.preview=function(t){var e=t.type,a=o(t,["type"]);switch(e){case 16:case 1:a.type="book";break;case 3:a.type="picture";break;case 4:a.type="audio";break;case 5:a.type="video";break;case 14:a.type="resource"}return(0,r.request_get)("/api/books/preview",a)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}var l=s.default.compile("/api/books/groups/:id"),u=s.default.compile("/api/books/:id/groups"),c=s.default.compile("/api/books/:id"),d=s.default.compile("/api/books/setting_info/:id")},1066:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/theme",t)},e.detail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(u(t),t).then(function(t){var e=t.data.books_info.components;return e.forEach(function(t){var e=t,a=e.content,i=e.id;(t=Object.assign(t,a)).id=i}),t})},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)("/api/theme/delete",t)},e.put=function(t){return(0,r.request_put)("/api/theme/put",t)},e.pull=function(t){return(0,r.request_put)("/api/theme/pull",t)},e.groupList=function(){return(0,r.request_get)("/api/theme/groups")},e.group=function(t){var e=t.id,a=function(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}(t,["id"]);if(e)return(0,r.request_put)(l({id:e}),a);return(0,r.request_post)("/api/theme/groups",a)},e.groupDel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_delete)(o(t),t)},e.groupMove=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)("/api/groups/theme",t)},e.putSave=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)("/api/theme/set_price",t)},e.preview=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/theme/preview",t)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};var o=s.default.compile("/api/theme/groups/:id"),l=s.default.compile("/api/theme/:id/groups"),u=s.default.compile("/api/theme/:id");s.default.compile("/api/theme/setting_info/:id")},1067:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/audio_product",t)},e.detail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(c(t),t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)("/api/books/delete",t)},e.put=function(t){return(0,r.request_put)("/api/audio_product/put",t)},e.pull=function(t){return(0,r.request_put)("/api/audio_product/pull",t)},e.groupList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/audio_product/groups",t)},e.group=function(t){var e=t.id,a=o(t,["id"]);if(e)return(0,r.request_put)(u({id:e}),a);return(0,r.request_post)("/api/audio_product/groups",a)},e.groupDel=function(t){return(0,r.request_delete)(l(t),t)},e.groupMove=function(t){return(0,r.request_put)("/api/groups/audio_product",t)},e.putInfo=function(t){return(0,r.request_get)(d(t),t)},e.putSave=function(t){return(0,r.request_put)("/api/books/save_data",t)},e.computePrice=function(t){return(0,r.request_put)("/api/books/compute_price",t)},e.preview=function(t){var e=t.type,a=o(t,["type"]);switch(e){case 16:a.type="book";break;case 3:a.type="picture";break;case 4:a.type="audio";break;case 5:a.type="video"}return(0,r.request_get)("/api/books/preview",a)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}var l=s.default.compile("/api/audio_product/groups/:id"),u=s.default.compile("/api/audio_product/:id/groups"),c=s.default.compile("/api/audio_product/:id"),d=s.default.compile("/api/books/setting_info/:id")},1068:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/video_product",t)},e.detail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(c(t),t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)("/api/books/delete",t)},e.put=function(t){return(0,r.request_put)("/api/video_product/put",t)},e.pull=function(t){return(0,r.request_put)("/api/video_product/pull",t)},e.groupList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/video_product/groups",t)},e.group=function(t){var e=t.id,a=o(t,["id"]);if(e)return(0,r.request_put)(u({id:e}),a);return(0,r.request_post)("/api/video_product/groups",a)},e.groupDel=function(t){return(0,r.request_delete)(l(t),t)},e.groupMove=function(t){return(0,r.request_put)("/api/groups/video_product",t)},e.putInfo=function(t){return(0,r.request_get)(d(t),t)},e.putSave=function(t){return(0,r.request_put)("/api/books/save_data",t)},e.computePrice=function(t){return(0,r.request_put)("/api/books/compute_price",t)},e.preview=function(t){var e=t.type,a=o(t,["type"]);switch(e){case 16:a.type="book";break;case 3:a.type="picture";break;case 4:a.type="audio";break;case 5:a.type="video"}return(0,r.request_get)("/api/books/preview",a)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}var l=s.default.compile("/api/video_product/groups/:id"),u=s.default.compile("/api/video_product/:id/groups"),c=s.default.compile("/api/video_product/:id"),d=s.default.compile("/api/books/setting_info/:id")},1069:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/course_ware",t)},e.detail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(u(t),t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)("/api/theme/delete",t)},e.putInfo=d,e.put=function(t){return(0,r.request_put)("/api/theme/put",t)},e.pull=function(t){return(0,r.request_put)("/api/theme/pull",t)},e.groupList=function(){return(0,r.request_get)("/api/course_ware/groups")},e.group=function(t){var e=t.id,a=function(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}(t,["id"]);if(e)return(0,r.request_put)(l({id:e}),a);return(0,r.request_post)("/api/course_ware/groups",a)},e.groupDel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_delete)(o(t),t)},e.groupMove=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)("/api/groups/course_ware",t)},e.putSave=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)("/api/course_ware/save_price",t)},e.preview=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/theme/preview",t)},e.courseSetInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(c(t))};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};var o=s.default.compile("/api/course_ware/groups/:id"),l=s.default.compile("/api/course_ware/:id/groups"),u=s.default.compile("/api/theme/:id"),c=s.default.compile("/api/course_ware/:id/setting"),d=s.default.compile("/api/books/setting_info/:id");function d(t){return(0,r.request_get)(d(t),t)}},1070:function(t,e,a){"use strict";var i=a(499);a.n(i).a},1071:function(t,e,a){"use strict";var i=a(500);a.n(i).a},1072:function(t,e,a){"use strict";a.r(e);var i=a(1549),r=a(501);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1074);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"d07aba0a",null);e.default=o.exports},1073:function(t,e,a){"use strict";var i=a(506);a.n(i).a},1074:function(t,e,a){"use strict";var i=a(507);a.n(i).a},1075:function(t,e,a){"use strict";a.r(e);var i=a(1550),r=a(508);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1078);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"68502e0e",null);e.default=o.exports},1076:function(t,e,a){"use strict";a.r(e);var i=a(1560),r=a(510);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1077);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"b88b8f0c",null);e.default=o.exports},1077:function(t,e,a){"use strict";var i=a(512);a.n(i).a},1078:function(t,e,a){"use strict";var i=a(513);a.n(i).a},1079:function(t,e,a){"use strict";a.r(e);var i=a(1551),r=a(514);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1106);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"4af6c8b8",null);e.default=o.exports},1080:function(t,e,a){"use strict";a.r(e);var i=a(1553),r=a(516);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1081);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"1a676e47",null);e.default=o.exports},1081:function(t,e,a){"use strict";var i=a(518);a.n(i).a},1082:function(t,e,a){"use strict";a.r(e);var i=a(1562),r=a(519);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1087);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"c79b4b08",null);e.default=o.exports},1083:function(t,e,a){"use strict";a.r(e);var i=a(1568),r=a(521);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1086);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"7cb59bca",null);e.default=o.exports},1084:function(t,e,a){"use strict";a.r(e);var i=a(1577),r=a(523);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1085);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"040ac116",null);e.default=o.exports},1085:function(t,e,a){"use strict";var i=a(525);a.n(i).a},1086:function(t,e,a){"use strict";var i=a(526);a.n(i).a},1087:function(t,e,a){"use strict";var i=a(527);a.n(i).a},1088:function(t,e,a){"use strict";a.r(e);var i=a(1561),r=a(528);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1105);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"7ed614e4",null);e.default=o.exports},1089:function(t,e,a){"use strict";a.r(e);var i=a(1570),r=a(530);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1104);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2e8c94e6",null);e.default=o.exports},1090:function(t,e,a){"use strict";a.r(e);var i=a(1576),r=a(532);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1101);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"fd52d732",null);e.default=o.exports},1091:function(t,e,a){"use strict";a.r(e);var i=a(1579),r=a(534);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1098);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"dafc9c74",null);e.default=o.exports},1092:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.imgUploadBtn=function(t,e,a){UE.registerUI("img-upload-btn",function(e,a){e.registerCommand(a,{execCommand:function(){t.openUploadDialog("img")}});var i=new UE.ui.Button({name:a,title:a,cssRules:"background-position: -380px 0;",onclick:function(){e.execCommand(a)}});return e.addListener("selectionchange",function(){var t=e.queryCommandState(a);-1==t?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(t))}),i},e,a)},e.videoUploadBtn=function(t,e,a){UE.registerUI("video-upload-btn",function(e,a){e.registerCommand(a,{execCommand:function(){t.openUploadDialog("video")}});var i=new UE.ui.Button({name:a,title:a,cssRules:"background-position: -320px -20px;",onclick:function(){e.execCommand(a)}});return e.addListener("selectionchange",function(){var t=e.queryCommandState(a);-1==t?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(t))}),i},e,a)},e.voiceUploadBtn=function(t,e,a){UE.registerUI("voice-upload-btn",function(e,a){e.registerCommand(a,{execCommand:function(){t.openUploadDialog("voice")}});var i=new UE.ui.Button({name:a,title:a,cssRules:"background-position: -18px -40px;",onclick:function(){e.execCommand(a)}});return e.addListener("selectionchange",function(){var t=e.queryCommandState(a);-1==t?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(t))}),i},e,a)}},1093:function(t,e,a){"use strict";a.r(e);var i=a(1580),r=a(536);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1096);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"d1e1d4f8",null);e.default=o.exports},1094:function(t,e,a){"use strict";a.r(e);var i=a(1581),r=a(538);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1095);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"bdda6ef0",null);e.default=o.exports},1095:function(t,e,a){"use strict";var i=a(540);a.n(i).a},1096:function(t,e,a){"use strict";var i=a(541);a.n(i).a},1098:function(t,e,a){"use strict";var i=a(542);a.n(i).a},1099:function(t,e,a){"use strict";a.r(e);var i=a(1578),r=a(543);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1100);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"72942be8",null);e.default=o.exports},1100:function(t,e,a){"use strict";var i=a(545);a.n(i).a},1101:function(t,e,a){"use strict";var i=a(546);a.n(i).a},1102:function(t,e,a){"use strict";a.r(e);var i=a(1575),r=a(547);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1103);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"33646690",null);e.default=o.exports},1103:function(t,e,a){"use strict";var i=a(549);a.n(i).a},1104:function(t,e,a){"use strict";var i=a(550);a.n(i).a},1105:function(t,e,a){"use strict";var i=a(551);a.n(i).a},1106:function(t,e,a){"use strict";var i=a(552);a.n(i).a},1107:function(t,e,a){"use strict";a.r(e);var i=a(1541),r=a(553);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1109);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"ada791c8",null);e.default=o.exports},1108:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/resource",t)},e.save=function(t){var e=t.id,a=l(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/resource/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/resource",a)},e.getInfo=function(t){var e=s.default.compile(restUrl_publish+"/api/resource/:id");return(0,r.request_get)(e({id:t}))},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/resource/delete",t)},e.urgentDigital=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/resource/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/resource/audits",t)},e.issuance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=s.default.compile(restUrl_publish+"/api/comproduct/:id/issuance");return(0,r.request_put)(i({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i},o=a(83);function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},1109:function(t,e,a){"use strict";var i=a(555);a.n(i).a},1110:function(t,e,a){"use strict";a.r(e);var i=a(1547),r=a(556);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1114);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"0177901b",null);e.default=o.exports},1111:function(t,e,a){"use strict";a.r(e);var i=a(1573),r=a(561);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1112);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"324d6fe3",null);e.default=o.exports},1112:function(t,e,a){"use strict";var i=a(563);a.n(i).a},1113:function(t,e,a){"use strict";var i=a(564);a.n(i).a},1114:function(t,e,a){"use strict";var i=a(565);a.n(i).a},1115:function(t,e,a){"use strict";a.r(e);var i=a(1546),r=a(566);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1116);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"396bda19",null);e.default=o.exports},1116:function(t,e,a){"use strict";var i=a(568);a.n(i).a},1117:function(t,e,a){"use strict";a.r(e);var i=a(1539),r=a(569);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1121);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"4815ce40",null);e.default=o.exports},1118:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{type:"1",label:"数字图书集",value:"books"},{type:"2",label:"文章集",value:"articles"},{type:"3",label:"图集",value:"pictures"},{type:"4",label:"音频集",value:"audios"},{type:"5",label:"视频集",value:"videos"},{type:"31",label:"习题集",value:"practices"}]},1119:function(t,e,a){"use strict";a.r(e);var i=a(1554),r=a(571);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1120);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"56504b12",null);e.default=o.exports},1120:function(t,e,a){"use strict";var i=a(573);a.n(i).a},1121:function(t,e,a){"use strict";var i=a(574);a.n(i).a},1122:function(t,e,a){"use strict";var i=a(575);a.n(i).a},1538:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"readOnlyDetail"},[a("el-dialog",{attrs:{width:"1000px",visible:t.detailVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,top:"50px","show-close":!1},on:{"update:visible":function(e){t.detailVisible=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a(t.currComp,{tag:"component",attrs:{type:t.detailDialoaType,defaultData:t.defaultData,readOnly:!0,detailType:t.detailType,media:6==t.type?1:2}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1539:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:t.infoData.constitute,type:t.sourceType},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),a("el-dialog",{attrs:{visible:t.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.infoDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("Info",{attrs:{type:t.infoValue,infoDialog:t.infoDialog,isAuthor:!0,infoData:t.infoDetail}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.infoDialog=!1}}},[t._v("取消")])],1)]),t.practiceDialog?a("PracticeInfo",{attrs:{detailData:t.infoData,detailDialog:t.practiceDialog},on:{close:function(e){t.practiceDialog=!1}}}):t._e(),a("el-tabs",{attrs:{value:"info"}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{vali:"",name:"name",type:"text",disabled:t.readOnly},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("span",{domProps:{textContent:t._s(t.getType)}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*标签:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:t.readOnly},domProps:{value:t.infoData.tag},on:{input:function(e){e.target.composing||t.$set(t.infoData,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,name:"abs",type:"text",disabled:t.readOnly},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.infoData.abs?t.infoData.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*价格:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.price,expression:"infoData.price"}],staticClass:"form-control price",attrs:{name:"price",type:"text",disabled:t.readOnly},domProps:{value:t.infoData.price},on:{input:function(e){e.target.composing||t.$set(t.infoData,"price",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")])],1),a("div",{staticClass:"group fenmian"},[a("div",{staticClass:"label fenmain"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.infoData.img_src}}),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("构成:")]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.detailTopHandle}},[t._v("置顶")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.detailRemoveHandle()}}},[t._v("移除")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.detailAddHandle()}}},[t._v("添加")])],1)]),a("div",{staticClass:"group"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{width:"55"}},[a("input",{attrs:{type:"checkbox",name:"checkAll"},on:{click:function(e){return t.$checkAll(e)}}}),a("span",[t._v("全选")])]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",[t._v("创建时间")]),t.readOnly?t._e():a("th",{attrs:{width:"100"}},[t._v("调序")]),a("th",{attrs:{width:"100"}},[t._v("操作")])])]),a("tbody",t._l(t.infoData.constitute,function(e,i){return a("tr",[a("td",[a("input",{attrs:{type:"checkbox",name:"ids","data-type":e.type},domProps:{value:e.id}})]),a("td",[a("div",{staticClass:"th-name",attrs:{title:e.name},domProps:{innerHTML:t._s(e.name||e.question)}})]),a("td",[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[t._v(t._s(e.create_time))]),t.readOnly?t._e():a("td",[a("i",{staticClass:"el-icon-sort-up el-icon-sort",on:{click:function(a){return t.detailSort("up",e.id)}}}),i!=t.infoData.constitute.length-1?a("i",{staticClass:"el-icon-sort-down el-icon-sort",on:{click:function(a){return t.detailSort("down",e.id)}}}):t._e()]),a("td",[a("span",{staticClass:"icon icon-detail",attrs:{title:"详情",type:"primary",size:"mini",plain:""},on:{click:function(a){return t.bookDetailInfo(e,e.type,"info")}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{title:"移除","data-id":e.c_id,type:"primary",size:"mini",plain:""},on:{click:function(a){return t.detailRemoveHandle([e.c_id||e.id],e.type)}}})])])}),0)])])])])])],1),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitDetail}},[t._v("确定")])],1)])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1541:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{visible:t.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.infoDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("Info",{attrs:{type:t.infoValue,infoDialog:t.infoDialog,isAuthor:t.isShowAuthor,infoData:t.infoData},on:{infoClick:t.infoHandleClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.infoDialog=!1}}},[t._v("取消")])],1)]),t.resourceDialog?a("Resource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:t.chocesArray,isShowType:!0},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),a("el-tabs",{attrs:{value:t.type||"info"}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*资源名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.name,expression:"detail.name"}],staticClass:"form-control",attrs:{vali:"",name:"name",type:"text",disabled:t.readOnly},domProps:{value:t.detail.name},on:{input:function(e){e.target.composing||t.$set(t.detail,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*授权价格:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.price,expression:"detail.price"}],staticClass:"form-control",attrs:{name:"price",type:"text",disabled:t.readOnly},domProps:{value:t.detail.price},on:{input:function(e){e.target.composing||t.$set(t.detail,"price",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.abs,expression:"detail.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,name:"abs",type:"text",disabled:t.readOnly},domProps:{value:t.detail.abs},on:{input:function(e){e.target.composing||t.$set(t.detail,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.detail.abs?t.detail.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")])],1),a("div",{staticClass:"group fenmian"},[a("div",{staticClass:"label fenmain"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.detail.img_src,alt:"暂无图片"}}),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}}),a("input",{staticClass:"hide",attrs:{name:"img",type:"text"},domProps:{value:t.imgUrl}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：118*160px")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("构成:")]),t.readOnly?t._e():a("div",{staticClass:"btn-right"},[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.delDetail()}}},[t._v("移除")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.detailAddHandle()}}},[t._v("添加")])],1)]),a("div",{staticClass:"group"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{width:"55"}},[a("input",{attrs:{type:"checkbox",name:"checkAll"},on:{click:function(e){return t.$checkAll(e)}}}),a("span",[t._v("全选")])]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",{attrs:{width:"100"}},[t._v("操作")])])]),a("tbody",t._l(t.detail.constitute,function(e,i){return a("tr",[a("td",[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids","data-type":e.type},domProps:{value:e.id}})]),a("td",[a("div",{staticClass:"th-name",attrs:{title:e.name}},[t._v(t._s(e.name))])]),a("td",[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[a("span",{staticClass:"icon icon-detail",attrs:{title:"详情",type:"primary",size:"mini",plain:""},on:{click:function(a){return t.bookDetailInfo(e,e.type,"info")}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{title:"移除","data-id":e.c_id,type:"primary",size:"mini",plain:""},on:{click:function(a){return t.delDetail([e.c_id||e.id],e.type)}}})])])}),0)])])])])],1),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitDetail}},[t._v("确定")])],1)])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1545:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{attrs:{type:t.resourceType,resourceDialog:t.resourceDialog,curSoucesList:t.curSoucesList},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.infoDialog?a("ContentDetail",{attrs:{infoData:t.infoData,infoDialog:t.infoDialog},on:{"update:infoDialog":function(e){t.infoDialog=e},"update:info-dialog":function(e){t.infoDialog=e}}}):t._e(),t.groupDialog?a("Group",{ref:"group",attrs:{item:t.currentItem,detailData:t.detailData,groupDialog:t.groupDialog,onlyShow:t.readOnly,isMedia:t.media},on:{"update:groupDialog":function(e){t.groupDialog=e},"update:group-dialog":function(e){t.groupDialog=e},open:t.openResources,detail:t.detail,del:t.del,save:t.saveAudioOK}}):t._e(),a("el-tabs",{attrs:{value:t.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{ref:"info",attrs:{detailData:t.detailData,services:t.services,readOnly:t.readOnly,defaultData:t.defaultData},on:{close:function(e){return t.$emit("update:detailDialog",!1)},saveok:function(e){return t.$emit("saveok",e)}}})],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Audio",{ref:"audio",attrs:{detailData:t.detailData,defaultData:t.defaultAList,media:t.media,readOnly:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addVideo()}}},[t._v("新增组")])],1),1==t.media?a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){return t.$emit("saveok")}}})],1):t._e()],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1546:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[!t.readOnly&&t.detailReadOnly?a("el-button",{staticClass:"modifyBtn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.detailReadOnly=!1}}},[t._v("修改")]):t._e(),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"info"}},[a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly||t.detailReadOnly}},[t._l(t.getMainList,function(e){return a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.required,expression:"item.required"}]},[t._v("*")]),t._v(t._s(e.label)+":")]),"标题"===e.label?a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{type: 'required'}"},{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"text",disabled:e.isDdisabled&&e.value&&e.value.length>=10},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"text",disabled:e.isDdisabled&&e.value&&e.value.length>=10},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])}),(Number(t.detailType),a("div",[a("div",{staticClass:"group",staticStyle:{width:"50%",float:"left"}},[a("div",{staticClass:"label"},[t._v("封面:")]),a("label",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("导入封面")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:t.previewImg}})],1)]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.detailDataOwn.封面}})])])),7===Number(t.detailType)?a("div",[a("div",{staticClass:"group",staticStyle:{float:"left"}},[a("div",{staticClass:"label"},[t._v("资源地址:")]),a("label",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.dizhi.click()}}},[t._v("上传")]),a("input",{ref:"dizhi",staticClass:"hide",attrs:{type:"file",accept:"*"},on:{change:t.previewImg}})],1)]),a("div",{staticClass:"group"},[a("a",{attrs:{href:t.detailDataOwn.资源地址,download:"File"}},[t._v("下载")])])]):t._e(),8===Number(t.detailType)?a("div"):t._e()],2),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{ype:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitDetail()}}},[t._v("确定")])],1)])])],1)]),a("el-tab-pane",{attrs:{label:"元数据",name:"data"}},[a("MetaData",{attrs:{metadata:t.metadata,readOnly:t.readOnly||t.detailReadOnly},on:{submit:function(e){return t.submitDetail()},back:function(e){return t.$emit("update:detailDialog",!1)}}})],1),a("el-tab-pane",{attrs:{label:"目录",name:"ml"}},[a("div",{staticClass:"muluWrap"},[a("div",{staticClass:"left"},[a("el-tree",{staticClass:"muluList",attrs:{data:t.ml,props:t.defaultProps,"node-key":"id"},on:{"node-click":t.handleNodeClick}})],1),a("div",{staticClass:"right"},[a("fieldset",{attrs:{disabled:t.readOnly||t.detailReadOnly}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("序号")]),a("th",[t._v(" 名称")]),t.readOnly?t._e():a("th",{attrs:{width:"110"}},[t._v(" 调序")])])]),a("tbody",t._l(t.currMulu,function(e,i){return a("tr",[a("th",{domProps:{textContent:t._s(i+1)}}),a("th",{staticClass:"th-name",domProps:{textContent:t._s(e.chapter_name)}}),t.readOnly?t._e():a("th",[a("div",{staticClass:"div"},[a("el-button",{staticClass:"iconRotate up",attrs:{disabled:0==i,icon:"el-icon-back",size:"mini"},on:{click:function(a){0!=i&&t.muluSort(e,i,"up")}}}),a("el-button",{staticClass:"iconRotate down",attrs:{disabled:i+1==t.currMulu.length,icon:"el-icon-back",size:"mini"},on:{click:function(a){i+1!=t.currMulu.length&&t.muluSort(e,i,"down")}}})],1)])])}),0)])])])])])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1547:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("VaForm",{ref:"detailForm"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系ID:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.link_id,expression:"infoData.link_id"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.link_id},on:{input:function(e){e.target.composing||t.$set(t.infoData,"link_id",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系简介:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.author},on:{input:function(e){e.target.composing||t.$set(t.infoData,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系类别:")]),a("el-select",{attrs:{maxlength:"20",disabled:t.readOnly},model:{value:t.infoData.category,callback:function(e){t.$set(t.infoData,"category",e)},expression:"infoData.category"}},t._l(t.types,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*类别编号:")]),a("span",{attrs:{type:"text"},domProps:{textContent:t._s(t.getCode)}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*栏目设置:")]),a("el-checkbox-group",{attrs:{disabled:t.readOnly,min:1,max:100},model:{value:t.checkedSeries,callback:function(e){t.checkedSeries=e},expression:"checkedSeries"}},t._l(t.series,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id,value:e.id}},[t._v(t._s(e.name))])}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("封面:")]),a("img",{staticClass:"img",attrs:{src:t.previewImgUrl||t.infoData.img_src}})]),t.readOnly?t._e():a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("设置封面:")]),a("label",[a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(e){return t.$refs.cover.click()}}},[t._v("上传")]),a("input",{ref:"cover",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1)])])]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitInfo("detailForm")}}},[t._v("确定")])],1)])],1),a("el-tab-pane",{attrs:{label:"资源",name:"resource"}},[t.resourceDialog?a("Resource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:[],type:"20-1",isShowType:!0},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.checkedSeries&&t.series?a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small"},model:{value:t.currentType,callback:function(e){t.currentType=e},expression:"currentType"}},t._l(t.getNav,function(e){return a("el-radio-button",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])}),1):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("类型")]),a("th",[t._v("操作")])])]),a("tbody",t._l(t.resList,function(e){return a("tr",[a("td",[t._v(t._s(e.title||e.name))]),a("td",[t._v(t._s(e.type_name))]),a("td",[a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary"},on:{click:function(a){!t.readOnly&&t.del([e.rel_id])}}})])])}),0)]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.add()}}},[t._v("新增")])],1)],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1548:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-tabs",{attrs:{value:t.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){return t.$emit("saveok",e)}}})],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Structure",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData}})],1),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){return t.$emit("saveok")}}})],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1549:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{visible:t.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.infoDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("Info",{attrs:{type:t.infoValue,infoDialog:t.infoDialog,infoData:t.infoData},on:{infoClick:t.infoHandleClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.infoDialog=!1}}},[t._v("取消")])],1)]),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("div",{staticClass:"div"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailData.base.name,expression:"detailData.base.name"}],staticClass:"form-control",attrs:{name:"name",type:"text",disabled:""},domProps:{value:t.detailData.base.name},on:{blur:t.$vali,input:function(e){e.target.composing||t.$set(t.detailData.base,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailData.base.tag,expression:"detailData.base.tag"}],staticClass:"form-control",attrs:{name:"label",type:"text",disabled:""},domProps:{value:t.detailData.base.tag},on:{input:function(e){e.target.composing||t.$set(t.detailData.base,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.detailData.base.abs,expression:"detailData.base.abs"}],staticClass:"textarea",attrs:{name:"intro",type:"text",disabled:""},domProps:{value:t.detailData.base.abs},on:{input:function(e){e.target.composing||t.$set(t.detailData.base,"abs",e.target.value)}}})]),a("div",{staticClass:"group fenmian"},[a("div",{staticClass:"label"},[t._v("封面:")]),a("div",{staticClass:"wrap"},[a("img",{staticClass:"previewImgUrl",attrs:{src:t.detailData.base.img_src,alt:"暂无图片"}})])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主题构成:")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("div",{staticClass:"tableBox"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("作者")]),a("th",[t._v("发布时间")]),a("th",{attrs:{width:"30"}},[t._v("详情")])])]),a("tbody",t._l(t.detailData.components,function(e,i){return a("tr",[a("td",{domProps:{textContent:t._s(e.content.name)}}),a("td",{domProps:{textContent:t._s(e.content.tag)}}),a("td",{domProps:{textContent:t._s(e.content.author)}}),a("td",{domProps:{textContent:t._s(e.content.create_time)}}),a("td",[a("span",{staticClass:"icon icon-detail",attrs:{title:"详情",type:"primary",size:"mini",plain:""},on:{click:function(a){return t.bookDetailInfo(e,e.content.type,"info")}}})])])}),0)])])])])])]),a("el-tab-pane",{attrs:{label:"元数据",name:"metadata"}},[a("div",{staticClass:"meta"},t._l(t.detailData.attributes,function(e,i){return a("div",{staticClass:"group rowWrap"},[a("span",{domProps:{textContent:t._s(i+1)}}),a("span",{staticClass:"left",domProps:{textContent:t._s(e.key)}}),a("span",{staticClass:"centet",domProps:{textContent:t._s(e.name)}}),a("span",{staticClass:"right",domProps:{textContent:t._s(e.value)}})])}),0)]),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[t.gList?a("div",{staticClass:"KnowledgeWrap"},[a("ul",{staticClass:"left"},t._l(t.gList,function(e){return a("li",{on:{click:function(a){return t.handKnowledgeClick(e)}}},[t._v(t._s(e.name))])}),0),a("div",{staticClass:"right"},[a("p",{staticClass:"name",domProps:{textContent:t._s(t.currGroup.name)}}),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("知识点名称")]),a("th",[t._v("数量")]),a("th",[t._v("创建时间")])])]),a("tbody",t._l(t.list,function(e){return a("tr",[a("th",[t._v(t._s(e.name))]),a("th",[t._v(t._s(e.num))]),a("th",[t._v(t._s(e.create_time))])])}),0)])])]):t._e()])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1550:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{attrs:{type:t.resourceType,resourceDialog:t.resourceDialog,curSoucesList:t.curSoucesList},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.infoDialog?a("ContentDetail",{attrs:{infoData:t.infoData,infoDialog:t.infoDialog},on:{"update:infoDialog":function(e){t.infoDialog=e},"update:info-dialog":function(e){t.infoDialog=e}}}):t._e(),a("el-tabs",{attrs:{value:t.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{ref:"info",attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData}}),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitDetail("detailForm")}}},[t._v("保存")])],1)],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Tab",{ref:"video",attrs:{dataType:"video",defaultList:t.curSoucesList,detailData:t.detailData,onlyShow:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.openResources("5")}}},[t._v("新增")])],1),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){return t.$emit("saveok")}}})],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1551:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-tabs",{attrs:{value:t.type||"info"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"info"}},[a("Info",{attrs:{detailData:t.detailData,infoDate:t.infoDate,services:t.services,readOnly:t.readOnly},on:{close:function(e){return t.$emit("update:detailDialog",!1)},saveok:function(e){return t.$emit("saveok",e)}}})],1),a("el-tab-pane",{attrs:{label:"课时设置",name:"hour"}},[a("Hour",{attrs:{detailData:t.detailData,hourDate:t.hourDate,services:t.hourSever,readOnly:t.readOnly},on:{change:t.hourChange,restprice:t.restprice}})],1),a("el-tab-pane",{attrs:{label:"习题设置",name:"example"}},[a("Exercise",{attrs:{detailData:t.detailData,exerciseDate:t.exerciseDate,hourDate:t.hourDate,services:t.exerciseSever,readOnly:t.readOnly},on:{change:t.exerciseChange}})],1),a("el-tab-pane",{attrs:{label:"价格设置",name:"price"}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("使用授权课程价格:")]),a("span",[t._v(t._s(t.priceDate.share_course_price||0))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置你的课程价格:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.priceDate.price,expression:"priceDate.price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.priceDate.price},on:{input:function(e){e.target.composing||t.$set(t.priceDate,"price",e.target.value)}}}),a("span",{staticClass:"price"},[t._v("*管理员会审核你的价格,价格不能低于授权课程价格")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*预计收益:")]),a("span",[t._v("（设置价格 - 使用授权课程价格）* 80%")])]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.savePrice}},[t._v("保存")])],1)])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1552:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：250*140px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.tag},on:{input:function(e){e.target.composing||t.$set(t.xRead,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.author},on:{input:function(e){e.target.composing||t.$set(t.xRead,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("元数据:")]),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)]),t.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"2"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主题词:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.subject_terms,expression:"retailers.subject_terms"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.subject_terms},on:{input:function(e){e.target.composing||t.$set(t.retailers,"subject_terms",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("读者对象:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.target_audience,expression:"retailers.target_audience"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.target_audience},on:{input:function(e){e.target.composing||t.$set(t.retailers,"target_audience",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("中图法分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.clc_category,expression:"retailers.clc_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.clc_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"clc_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("营销分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.cp_category,expression:"retailers.cp_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.cp_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"cp_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.describe,expression:"retailers.describe"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.describe},on:{input:function(e){e.target.composing||t.$set(t.retailers,"describe",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("编辑推荐:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.editor_recommend,expression:"retailers.editor_recommend"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.editor_recommend},on:{input:function(e){e.target.composing||t.$set(t.retailers,"editor_recommend",e.target.value)}}})])])]):t._e()],1)],1),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitDetail("detailForm")}}},[t._v("保存")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1553:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.imageCropperDialog?a("ImageCropper",{ref:"imageCropper",attrs:{imageCropperDialog:t.imageCropperDialog,imgFile:t.imgFile},on:{"update:imageCropperDialog":function(e){t.imageCropperDialog=e},"update:image-cropper-dialog":function(e){t.imageCropperDialog=e},preview:t.preview}}):t._e(),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课程名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课程介绍:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*有效时长:")]),a("div",{staticClass:"inline"},[a("TimePicks",{attrs:{value:t.timePick},on:{getTime:t.getTime}})],1)]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*导师:")]),a("img",{staticClass:"previewImgUrl",attrs:{src:t.information.owenr_img_src||t.$config.userInfo.user.picture_absolute}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课程封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：250*140px")])])]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitInfo()}}},[t._v("保存")])],1)])])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1554:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{center:!1,visible:t.detailDialog,"close-on-click-modal":!1,"before-close":t.close,"append-to-body":"",top:"50px",width:"1000px"},on:{"update:visible":function(e){t.detailDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"查看题目",name:"detail"}})],1)],1),a("div",{staticClass:"content"},[a("div",{staticClass:"topic-title",domProps:{innerHTML:t._s(t.detailData.question)}}),a("ul",{staticClass:"answer-area"},t._l(t.detailData.option,function(e,i){return a("li",{staticClass:"answer-item"},[a("span",{staticClass:"answer-title",class:{active:t.getActive(i)}},[t._v(t._s(t.numberToLetter(i)))]),a("div",{staticClass:"answer-content-wrap"},[a("div",{staticClass:"answer-content",domProps:{innerHTML:t._s(e.title)}}),e.img?a("img",{staticClass:"img",attrs:{src:e.img}}):t._e()])])}),0),a("div",{staticClass:"analysis-area"},[a("p",{staticClass:"analysis-title"},[t._v("题目解析")]),a("div",{staticClass:"analysis",domProps:{innerHTML:t._s(t.detailData.analysis||"暂无解析")}})])]),a("div",{staticClass:"btns",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1555:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div box"},[t._m(0),a("el-tree",{attrs:{data:t.audioList,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,r=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[t._v(t._s(r.name))]),a("span",{staticClass:"options",staticStyle:{float:"right"}},[a("div",{staticClass:"icon icon-detail",attrs:{title:"详情"},on:{click:function(e){return t.$emit("detail",r,r.children)}}}),t.readOnly?t._e():a("div",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(e){return t.del(r,i)}}})])])}}])})],1)},r=[function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[this._v("组名称")]),e("th",{attrs:{width:"100"}},[this._v("操作")])])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1556:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系ID:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.link_id,expression:"information.link_id"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.link_id},on:{input:function(e){e.target.composing||t.$set(t.information,"link_id",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系简介:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.author,expression:"information.author"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.author},on:{input:function(e){e.target.composing||t.$set(t.information,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系类别:")]),a("el-select",{attrs:{maxlength:"20",disabled:t.readOnly},model:{value:t.information.category_name,callback:function(e){t.$set(t.information,"category_name",e)},expression:"information.category_name"}},t._l(t.types,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*类别编号:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.category_code,expression:"information.category_code"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.category_code},on:{input:function(e){e.target.composing||t.$set(t.information,"category_code",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*栏目一:")]),a("el-checkbox-group",{attrs:{disabled:t.readOnly,min:1,max:100},model:{value:t.checkedSeries,callback:function(e){t.checkedSeries=e},expression:"checkedSeries"}},t._l(t.series,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.name}},[t._v(t._s(e.name))])}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("封面:")]),a("img",{attrs:{src:t.previewImgUrl||t.information.img_src}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("设置封面：")]),a("label",[t.readOnly?t._e():a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.$refs.cover.click()}}},[t._v("修改")]),a("input",{ref:"cover",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1)])])]),t.readOnly?t._e():a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitInfo("detailForm")}}},[t._v("确定")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1557:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.list?a("div",{staticClass:"tableWrap"},[t.isShow&&!t.onlyShow?a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("图集")]),a("el-radio-button",{attrs:{label:"2"}},[t._v("视频集")]),a("el-radio-button",{attrs:{label:"3"}},[t._v("音频集")])],1):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("类型")]),t.isLabelHide?t._e():a("th",[t._v("标签")]),a("th",[t._v("创建时间")]),a("th",{attrs:{width:"100"}},[t._v("操作")])])]),a("tbody",[t.list.length?t._e():a("tr",[a("td",{staticClass:"colspan",attrs:{colspan:t.isLabelHide?4:5}},[t._v("暂无数据")])]),t._l(t.list,function(e,i){return a("tr",[a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.name))])]),a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.type_name))])]),t.isLabelHide?t._e():a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.tag))])]),a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.create_time))])]),a("th",[a("div",{staticClass:"icon icon-detail",attrs:{title:"详情"},on:{click:function(a){return t.$emit("detail",e)}}}),t.onlyShow?t._e():a("div",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(a){return t.$emit("del",e)}}})])])})],2)])],1):t._e()},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1558:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{center:!1,visible:t.detailAddDialog,width:"1000px",top:"50px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"添加",name:"detail"}})],1)],1),a("el-form",{staticClass:"addBookForm"},[a("span",{staticClass:"group-inline",staticStyle:{margin:"0 20px"}},[a("el-radio-group",{model:{value:t.currentType,callback:function(e){t.currentType=e},expression:"currentType"}},t._l(t.contentType,function(e){return a("el-radio-button",{key:e.id,attrs:{label:e.value}},[t._v(t._s(e.name))])}),1)],1),a("div",{staticClass:"serachWrap"},[a("form",{attrs:{id:"detailSearchForm"}},[a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:"输入名称",name:"name"}})]),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),a("span",{staticClass:"group-inline right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:t.seareHandeler}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.addSelection}},[t._v("添加选中")])],1)])]),a("table",{staticClass:"table",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("选择")]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",[t._v("创建时间")])])]),t.dataList.length?a("tbody",t._l(t.dataList,function(e,i){return a("tr",[a("td",[a("input",{attrs:{type:"checkbox","data-type":e.status,name:"ids"},domProps:{value:e.id,checked:t.isChecked(e.id)}})]),a("td",[t._v(t._s(e.books_info.name))]),a("td",[t._v(t._s(e.books_info.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[t._v(t._s(e.create_time))])])}),0):t._e()]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addSelection}},[t._v("确定")])],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1559:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.groupDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:t.setTitle,name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm rowWrap"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息(必填)")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("组名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.group_name,expression:"information.group_name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.group_name},on:{input:function(e){e.target.composing||t.$set(t.information,"group_name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.price,expression:"information.price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.price},on:{input:function(e){e.target.composing||t.$set(t.information,"price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("最低定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.min_price,expression:"information.min_price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.min_price},on:{input:function(e){e.target.composing||t.$set(t.information,"min_price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主讲人:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.speaker,expression:"information.speaker"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.speaker},on:{input:function(e){e.target.composing||t.$set(t.information,"speaker",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("试听地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.src,expression:"information.src"}],staticClass:"form-control",attrs:{type:"url",disabled:t.onlyShow},domProps:{value:t.information.src},on:{input:function(e){e.target.composing||t.$set(t.information,"src",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label",domProps:{textContent:t._s("2"==t.isMedia?"关联视频":"关联音频")}})]),a("div",{staticClass:"group"},[a("Tab",{ref:"video",attrs:{dataType:"audio",onlyShow:t.onlyShow,defaultList:t.list,detailData:t.item},on:{detail:function(e){return t.$emit("detail",e)},del:function(e){return t.del(e)}}}),t.onlyShow?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$emit("open",t.addMediaType)}}},[t._v("新增")])],1)])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.onlyShow?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1560:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：250*140px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.author},on:{input:function(e){e.target.composing||t.$set(t.xRead,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.tag},on:{input:function(e){e.target.composing||t.$set(t.xRead,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("元数据:")]),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,disabled:t.readOnly,readOnly:t.readOnly}})],1)])])],1)],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1561:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.exerciseDialog?a("ExerciseInfo",{attrs:{detailData:t.detailData,exerciseDialog:t.exerciseDialog,currentExerise:t.currentExerise,services:t.services,readOnly:t.readOnly},on:{"update:exerciseDialog":function(e){t.exerciseDialog=e},"update:exercise-dialog":function(e){t.exerciseDialog=e}}}):t._e(),a("table",{staticClass:"table"},[t._m(0),t.list?a("tbody",t._l(t.list,function(e,i){return a("tr",[a("td",[e.isShow?t._e():a("span",[t._v(t._s(e.name))]),e.isShow?a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticClass:"form-control",domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}}):t._e()]),a("td",[a("el-select",{attrs:{placeholder:"请选择",disabled:t.readOnly},model:{value:e.period_id,callback:function(a){t.$set(e,"period_id",a)},expression:"item.period_id"}},t._l(t.classHour,function(i){return a("el-option",{key:i.id,attrs:{label:i.name,value:i.id,disabled:t.isDisabled(i,e)}})}),1)],1),a("td",[a("div",{staticClass:"btns"},[e.id?a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){return t.openDetail(e)}}}):t._e(),t.readOnly?t._e():a("span",{staticClass:"icon icon-menu-publish",attrs:{size:"mini",title:"修改",type:"primary",plain:""},on:{click:function(a){return t.modify(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-upload",attrs:{size:"mini",title:"保存",type:"primary",plain:""},on:{click:function(a){return t.save(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){return t.delChoosen(e.id,i)}}}),t.readOnly?t._e():a("el-checkbox",{attrs:{value:"true"===e.is_auto||!0===e.is_auto,label:"true"},on:{change:function(e){return t.selecet(i,e)}}},[t._v("自动阅卷")])],1)])])}),0):t._e()]),a("div",{staticClass:"btns"},[t.list.length<t.hourDate.length&&!t.readOnly?a("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.add()}}},[t._v("新增习题")]):t._e()],1)],1)},r=[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("关联习题")]),e("th",[this._v("选择课时")]),e("th",{attrs:{width:"180"}},[this._v("操作")])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1562:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.hourInfoDialog?a("HourInfo",{ref:"info",attrs:{hourInfoDialog:t.hourInfoDialog,currentHour:t.currentHour,detailData:t.detailData,services:t.services,readOnly:t.readOnly},on:{"update:hourInfoDialog":function(e){t.hourInfoDialog=e},"update:hour-info-dialog":function(e){t.hourInfoDialog=e},saveok:t.saveok,restList:t.restList}}):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("序号")]),a("th",[t._v("课时名称")]),a("th",[t._v("知识点简介")]),t.readOnly?t._e():a("th",[t._v("排序")]),a("th",{staticClass:"operate"},[t._v("操作")])])]),t.list?a("tbody",t._l(t.list,function(e,i){return a("tr",[a("td",[t._v(t._s(i+1)),a("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden",name:"ids"},domProps:{value:e.id}})]),a("td",[t._v(t._s(e.name))]),a("td",{attrs:{title:e.ab}},[t._v(t._s(t._f("formateText")(e.abs,33)))]),t.readOnly?t._e():a("td",[0!=i?a("span",{staticClass:"icon el-icon-sort-up",attrs:{size:"mini",title:"上移"},on:{click:function(a){return t.sort(e,"up")}}}):t._e(),i!=t.list.length-1?a("span",{staticClass:"icon el-icon-sort-down",attrs:{size:"mini",title:"下移"},on:{click:function(a){return t.sort(e,"down")}}}):t._e()]),a("td",[a("div",{staticClass:"btns"},[a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){return t.showHour(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){return t.delChoosen(e.id)}}})])])])}),0):t._e()]),a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.showHour()}}},[t._v("新增课时")])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1563:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("div",{staticClass:"dialogs"},[t.readerDialog?a("Reader",{attrs:{readerDialog:t.readerDialog,readerId:t.readerId,version:"draft"},on:{"update:readerDialog":function(e){t.readerDialog=e},"update:reader-dialog":function(e){t.readerDialog=e}}}):t._e()],1),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("div",{staticClass:"div"},[a("form",{ref:"infoForm",staticClass:"infoForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("span",{staticClass:"types"},[a("span",[t._v(" "+t._s(t.infoData.type_name))]),a("span",[t._v(" 创建时间: "+t._s(t.infoData.create_time))])])]),t.isAuthor?t._e():a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.author},on:{input:function(e){e.target.composing||t.$set(t.infoData,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.tag},on:{input:function(e){e.target.composing||t.$set(t.infoData,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("详情:")]),1==t.infoData.type?a("el-button",{attrs:{title:"预览",size:"mini",type:"primary",plain:""},on:{click:function(e){return t.openReader(t.infoData)}}},[t._v("预览")]):t._e()],1),t.detailType&&3!=t.infoData.type?a("div",{staticClass:"group wailianinput"},[a("div",{staticClass:"label"}),a("span",[a("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.infoData.preview}})])]):t._e(),t.hassVideo||4==t.infoData.type?a("div",{staticClass:"group detailmain wailian"},[a("div",{staticClass:"label"}),a("div",{staticClass:"left"},[a("img",{staticClass:"coverImg",attrs:{src:t.infoData.img_src||t.infoData.img}}),3==t.infoData.type?a("img",{staticClass:"coverImg",attrs:{src:t.infoData.preview_path}}):t._e()]),a("div",{staticClass:"right"},[a("span",{staticClass:"wrap"},[t.hassVideo?a("video",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),4==t.infoData.type?a("audio",{attrs:{src:t.infoData.preview,controls:""}}):t._e()]),a("span",{staticClass:"msg"},[a("div",{staticClass:"type"},[t._v("格式:"),a("span",{staticClass:"val",domProps:{textContent:t._s(t.infoData.format)}})]),a("div",{staticClass:"size"},[t._v("大小:"),a("span",{staticClass:"val",domProps:{textContent:t._s((t.infoData.size/1024).toFixed(2)+"KB")}})])])])]):a("div",{staticClass:"group detailmain"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[a("img",{staticClass:"coverImg",attrs:{src:t.infoData.img_src||t.infoData.img}}),3==t.infoData.type?a("img",{staticClass:"coverImg",attrs:{src:t.infoData.preview_path}}):t._e()])]),10==t.infoData.type?a("div",{staticClass:"group"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("作者")]),a("th",[t._v("发布时间")])])]),a("tbody",t._l(t.infoData.constitute,function(e,i){return a("tr",[a("td",{domProps:{textContent:t._s(e.name)}}),a("td",{domProps:{textContent:t._s(e.tag)}}),a("td",{domProps:{textContent:t._s(e.author)}}),a("td",{domProps:{textContent:t._s(e.create_time)}})])}),0)])]):t._e()])])]),a("el-tab-pane",{attrs:{label:"元数据",name:"data"}},[a("MetaData",{attrs:{metadata:t.infoData.attributes,isShowBtn:!1,readOnly:!0}})],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1564:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.imageCropperDialog?a("ImageCropper",{ref:"imageCropper",attrs:{imageCropperDialog:t.imageCropperDialog,imgFile:t.imgFile,autoCropWidth:290,autoCropHeight:400},on:{"update:imageCropperDialog":function(e){t.imageCropperDialog=e},"update:image-cropper-dialog":function(e){t.imageCropperDialog=e},preview:t.preview}}):t._e(),a("el-dialog",{attrs:{visible:t.choiceDialog,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.choiceDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"选择"+t.title,name:"detail"}})],1)],1),a("form",{staticClass:"rowWrap"},[a("div",{staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"form-control",attrs:{placeholder:"输入查询"+t.title,type:"text"},domProps:{value:t.keyWord},on:{input:[function(e){e.target.composing||(t.keyWord=e.target.value)},t.searchAuthor]}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.creatAuthor}},[t._v("创建新"+t._s(t.title))])],1),a("ul",{staticClass:"authorListForm"},t._l(t.gauthorList,function(e){return a("li",[a("input",{ref:"ids",refInFor:!0,attrs:{name:"ids",type:"checkbox",label:e.name,id:"author_"+e.id},domProps:{value:e.id}}),a("label",{attrs:{for:"author_"+e.id}},[t._v(t._s(e.name))])])}),0)]),a("div",{staticClass:"div dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.choiceDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.choiceAuthor}},[t._v("确定")])],1)]),a("el-dialog",{attrs:{visible:t.creatDialog,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.creatDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"创建"+t.title,name:"detail"}})],1)],1),a("form",{staticClass:"authorInfo"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("姓名:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.creatAuthorInfo.name,expression:"creatAuthorInfo.name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:t.creatAuthorInfo.name},on:{input:function(e){e.target.composing||t.$set(t.creatAuthorInfo,"name",e.target.value)}}})])]),a("div",{staticClass:"div dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.creatDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveAuthor}},[t._v("确定")])],1)]),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("ISBN:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.ISBN||t.information.book_isbn,expression:"information.ISBN||information.book_isbn"}],ref:"isbn",staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.ISBN||t.information.book_isbn},on:{input:function(e){e.target.composing||t.$set(t.information.ISBN||t.information,"book_isbn",e.target.value)}}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.syncInfo}},[t._v("同步")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：290*400px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("form",{staticClass:"readForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*标签:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.tag},on:{input:function(e){e.target.composing||t.$set(t.xRead,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.author},on:{input:function(e){e.target.composing||t.$set(t.xRead,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("元数据:")]),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]),t.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"2"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("绝版:")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"out_print",label:"1",disabled:t.readOnly},model:{value:t.out_print,callback:function(e){t.out_print=e},expression:"out_print"}},[t._v("是")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"out_print",label:"2",disabled:t.readOnly},model:{value:t.out_print,callback:function(e){t.out_print=e},expression:"out_print"}},[t._v("否")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("是否有版:")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"have_print",label:"1",disabled:t.readOnly},model:{value:t.have_print,callback:function(e){t.have_print=e},expression:"have_print"}},[t._v("是")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"have_print",label:"2",disabled:t.readOnly},model:{value:t.have_print,callback:function(e){t.have_print=e},expression:"have_print"}},[t._v("否")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("el-select",{staticStyle:{"margin-right":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择",size:"small",name:"author",disabled:t.readOnly},model:{value:t.authorValue,callback:function(e){t.authorValue=e},expression:"authorValue"}},t._l(t.authorOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addAuthor("作者")}}},[t._v("添加")])],1),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("译者:")]),a("el-select",{staticStyle:{"margin-right":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择",size:"small",name:"translator",disabled:t.readOnly},model:{value:t.translatorValue,callback:function(e){t.translatorValue=e},expression:"translatorValue"}},t._l(t.translatorOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addAuthor("译者")}}},[t._v("添加")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主题词:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.subject_terms,expression:"retailers.subject_terms"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.subject_terms},on:{input:function(e){e.target.composing||t.$set(t.retailers,"subject_terms",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("读者对象:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.target_audience,expression:"retailers.target_audience"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.target_audience},on:{input:function(e){e.target.composing||t.$set(t.retailers,"target_audience",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("中图法分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.clc_category,expression:"retailers.clc_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.clc_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"clc_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("营销分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.cp_category,expression:"retailers.cp_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.cp_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"cp_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.describe,expression:"retailers.describe"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.describe},on:{input:function(e){e.target.composing||t.$set(t.retailers,"describe",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("编辑推荐:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.editor_recommend,expression:"retailers.editor_recommend"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.editor_recommend},on:{input:function(e){e.target.composing||t.$set(t.retailers,"editor_recommend",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("图书目录:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.book_directory,expression:"retailers.book_directory"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.book_directory},on:{input:function(e){e.target.composing||t.$set(t.retailers,"book_directory",e.target.value)}}})])])]):t._e(),a("el-tab-pane",{attrs:{name:"3"}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("收起"),a("i",{staticClass:"el-icon-arrow-up"})])])],1)],1),a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitInfo()}}},[t._v("保存")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1565:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.infoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.$emit("update:infoDialog",!1)}}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"详情",name:"ff"}})],1)],1),a("form",{ref:"infoForm",staticClass:"infoForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("span",{staticClass:"types"},[a("span",[t._v(" "+t._s(t.infoData.type_name))]),a("span",[t._v(" 创建时间: "+t._s(t.infoData.create_time))])])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.tag},on:{input:function(e){e.target.composing||t.$set(t.infoData,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("详情:")])]),t.detailType&&3!=t.infoData.type?a("div",{staticClass:"group wailianinput"},[a("div",{staticClass:"label"}),a("span",[a("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.infoData.preview}})])]):t._e(),t.hassVideo||4==t.infoData.type?a("div",{staticClass:"group detailmain wailian"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[t.hassVideo?a("video",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),4==t.infoData.type?a("audio",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),a("span",{staticClass:"msg"},[a("div",{staticClass:"type"},[t._v("格式:"),a("span",{staticClass:"val",domProps:{textContent:t._s(t.infoData.format)}})]),a("div",{staticClass:"size"},[t._v("大小:"),a("span",{staticClass:"val",domProps:{textContent:t._s(((this.infoData.size||0)/1024).toFixed(2)+"KB")}})])])])]):t._e(),a("div",{staticClass:"group detailmain"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[3==t.infoData.type?a("img",{staticClass:"coverImg",attrs:{src:t.infoData.preview_path}}):t._e(),a("img",{staticClass:"coverImg",attrs:{src:t.infoData.img_src||t.infoData.img,"else-if":""}})])]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,isOption:!1}})],1)]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:infoDialog",!1)}}},[t._v("取消")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1566:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.readerDialog?a("Reader",{attrs:{readerDialog:t.readerDialog,currId:t.currknowledgeId,readerId:t.readerId,detailData:t.detailData,version:"production",markBtn:"锚点"},on:{"update:readerDialog":function(e){t.readerDialog=e},"update:reader-dialog":function(e){t.readerDialog=e},addAnchorSuccess:t.addAnchorSuccess}}):t._e(),a("div",{staticClass:"dialogs"},[a("el-dialog",{attrs:{center:!1,visible:t.groupDialog,"close-on-click-modal":!1,top:"50px",width:"500px","append-to-body":""},on:{"update:visible":function(e){t.groupDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"知识点结构",name:"detail"}})],1)],1),a("VaForm",{ref:"groupFormVa"},[a("form",{ref:"groupForm"},[a("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:t.editGroup.id}}),t.groupDialog?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name",type:"text"},domProps:{value:t.editGroup.name}})]):t._e(),a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mediu",type:"primary"},on:{click:t.groupCommit}},[t._v("确定")]),a("el-button",{attrs:{size:"mediu",type:"info"},on:{click:function(e){t.groupDialog=!1}}},[t._v("取消")])],1)])])],1),a("el-dialog",{attrs:{center:!1,visible:t.knowledgeDialog,"close-on-click-modal":!1,top:"50px",width:"500px","append-to-body":""},on:{"update:visible":function(e){t.knowledgeDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"知识点",name:"detail"}})],1)],1),a("VaForm",{ref:"KnowledgeFormVa"},[a("form",{ref:"KnowledgeForm"},[a("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:t.editKnowledge.id}}),t.knowledgeDialog?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name",type:"text"},domProps:{value:t.editKnowledge.name}})]):t._e(),a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mediu",type:"primary"},on:{click:t.KnowledgeCommit}},[t._v("确定")]),a("el-button",{attrs:{size:"mediu",type:"info"},on:{click:function(e){t.knowledgeDialog=!1}}},[t._v("取消")])],1)])])],1),a("el-dialog",{attrs:{center:!1,visible:t.addAnchorDialog,"close-on-click-modal":!1,top:"50px",width:"80%","append-to-body":"",title:"锚点添加"},on:{"update:visible":function(e){t.addAnchorDialog=e}}},[t.addAnchorDialog?a("AnchorList",{attrs:{type:t.anchorType,bookInfo:t.bookInfo,themeId:t.detailData.id,currknowledgeId:t.currknowledgeId,detailData:t.detailData},on:{anchorListCancle:t.anchorListCancle}}):t._e()],1)],1),a("div",{staticClass:"topWrap"},[t.mount&&t.mount.number>0&&100!=t.mount.number&&!t.readOnly?a("div",{staticClass:"mount"},[a("el-progress",{staticClass:"mountProgress",attrs:{"text-inside":!0,"stroke-width":18,percentage:t.mount.number}}),t.mount.number>=100?a("span",[t._v("挂载完成")]):a("span",[t._v('正在挂载"'+t._s(t.mount.name)+'"')])],1):t._e(),a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.groupEdit({})}}},[t._v("新增知识结构")]),t.currGroupId&&!t.readOnly?a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:t.guaZai}},[t._v("一键挂载")]):t._e()],1)]),t.currGroupId?a("div",{staticClass:"content clearfix"},[a("div",{staticClass:"left"},[a("ul",t._l(t.glist,function(e){return a("div",{staticClass:"li",class:{currGroup:e.id==t.currGroupId},on:{click:function(a){return t.changeGroup(e)}}},[a("span",{staticClass:"name",attrs:{title:e.name+"(100)"},domProps:{textContent:t._s(e.name+"("+e.num+")")}}),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("span",{staticClass:"icon icon-menu-publish",on:{click:function(a){return a.stopPropagation(),t.groupEdit(e)}}}),a("span",{staticClass:"icon el-icon-delete",on:{click:function(a){return a.stopPropagation(),t.groupDel(e)}}})])])}),0)]),a("div",{staticClass:"tableWrap"},[a("div",{staticClass:"nav clearfix"},[a("div",{staticClass:"name",domProps:{textContent:t._s(t.currGroup.name)}}),t.openAnchorList?a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.openAnchorList=!1}}},[t._v("返回")]),t.isBook?t._e():a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.addAnchor}},[t._v("增加锚点")]),!t.bookInfo||t.anchorType!=t.Anchors_chapter&&t.anchorType!=t.Anchors_content?t._e():a("el-select",{attrs:{placeholder:"书籍设置",size:"small"},on:{change:t.bookinfoChange,"visible-change":t.bookinfoBlur},model:{value:t.bookInfo.value,callback:function(e){t.$set(t.bookInfo,"value",e)},expression:"bookInfo.value"}},t._l(t.bookInfo.list,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.removeAnchor()}}},[t._v("移除")])],1):a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.KnowledgeEdit({})}}},[t._v("新增知识点")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.toTop}},[t._v("置顶")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.knowDel()}}},[t._v("删除")])],1)]),t.openAnchorList?t._e():a("div",{ref:"mainListWrap",staticClass:"mainListWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[t.readOnly?t._e():a("th",[t._v("全选"),a("input",{attrs:{type:"checkbox"},on:{click:function(e){return t.checkedAllBtn(e,"checkedAll")}}})]),a("th",[t._v("名称")]),a("th",[t._v("数量")]),a("th",{attrs:{width:"160"}},[t._v("创建时间")]),t.readOnly?t._e():a("th",{staticStyle:{"text-align":"center"},attrs:{width:"250"}},[t._v("操作")])])]),a("tbody",t._l(t.list,function(e){return a("tr",[t.readOnly?t._e():a("th",[a("input",{attrs:{type:"checkbox",name:"ids"},domProps:{checked:t.checkedAll,value:e.id}})]),a("th",[t._v(t._s(e.name))]),a("th",[t._v(t._s(e.num))]),a("th",[t._v(t._s(e.create_time))]),t.readOnly?t._e():a("th",[a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.KnowledgeEdit(e)}}},[t._v("重命名")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.setAnchor(e.id)}}},[t._v("设置锚点")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.knowDel([e.id])}}},[t._v("删除")])],1)])])}),0)]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),a("div",{staticClass:"btns"})]),t.openAnchorList?a("div",{staticClass:"anchorListWrap"},[a("div",{staticClass:"article"},[t.openAnchorList?a("table",{ref:"anchorList",staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("全选"),a("input",{attrs:{type:"checkbox"},on:{click:function(e){return t.checkedAllBtn(e,"anchorCheckedAll")}}})]),a("th",[a("div",{staticClass:"title"},[a("span",{staticClass:"btns"},t._l(t.anchorsList,function(e,i){return e?a("span",{class:{currAnchorType:t.isShowAnchors(i)},domProps:{textContent:t._s(t.getAnchorsText(i))},on:{click:function(e){return t.changeAnchorType(i)}}}):t._e()}),0)])]),a("th",{directives:[{name:"show",rawName:"v-show",value:t.isBook,expression:"isBook"}],attrs:{width:"180"}},[t._v("所属图书")]),a("th",{staticClass:"btns",staticStyle:{"padding-right":"30px"},attrs:{width:"50"}},[t._v("操作")])])]),a("tbody",{staticClass:"contentAnchors"},t._l(t.anchorList,function(e){return a("tr",[a("td",[a("div",{staticClass:"input"},[a("input",{attrs:{type:"checkbox",name:"ids"},domProps:{checked:t.anchorCheckedAll,value:e.id}})])]),a("td",{staticClass:"point"},[t.anchorType==t.Anchors_content?a("div",{staticClass:"div"},[t._v(t._s(e.point))]):a("div",{staticClass:"div"},[t._v(t._s(e.name))])]),t.isBook?a("td",[t._v(t._s(e.book_name))]):t._e(),a("td",[a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.removeAnchor([e.n_info_id])}}},[t._v("移除")])],1)])])}),0)]):t._e()])]):t._e()])]):t._e()],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1567:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.infoDialog?a("ContentDetail",{attrs:{infoData:t.infoData,infoDialog:t.infoDialog,mediaType:t.mediaType},on:{"update:infoDialog":function(e){t.infoDialog=e},"update:info-dialog":function(e){t.infoDialog=e}}}):t._e(),t.groupDialog?a("Group",{ref:"group",attrs:{item:t.currentItem,detailData:t.detailData,groupDialog:t.groupDialog,onlyShow:t.readOnly},on:{"update:groupDialog":function(e){t.groupDialog=e},"update:group-dialog":function(e){t.groupDialog=e},open:t.openResources,detail:t.detail,del:t.del,save:t.saveAudioOK}}):t._e(),t.bookDialog?a("Book",{attrs:{item:t.currentItem,detailData:t.detailData,optional:t.optional,bookDialog:t.bookDialog,readOnly:t.readOnly},on:{"update:bookDialog":function(e){t.bookDialog=e},"update:book-dialog":function(e){t.bookDialog=e},saveok:t.saveOk}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.detailAddDialog,width:"1200px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.detailAddDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"添加",name:"detail"}})],1)],1),a("el-form",{staticClass:"addBookForm"},[a("div",{staticClass:"serachWrap"},[a("form",{attrs:{id:"detailSearchForm"}},[a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:"输入名称",name:"name",id:"text"}}),a("span",{staticClass:"clear",on:{click:function(e){return t.clear()}}},[t._v("x")])]),a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:"输入标签",name:"tag",id:"text2"}}),a("span",{staticClass:"clear2",on:{click:function(e){return t.clear2()}}},[t._v("x")])]),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),a("span",{staticClass:"group-inline right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:t.query}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.addSelection}},[t._v("添加选中")])],1)])]),a("table",{staticClass:"table",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{width:"80"}},[t.singleElection?a("input",{attrs:{type:"checkbox"},on:{click:function(e){return t.checkAll(e,"addBookForm")}}}):t._e(),a("span",{domProps:{textContent:t._s(t.singleElection?"全选":"选择")}})]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",[t._v("创建时间")])])]),t.dataList.length?a("tbody",t._l(t.dataList,function(e,i){return a("tr",[a("td",[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox","data-type":e.status,name:"ids"},domProps:{value:e.id,checked:t.isChecked(e.id)},on:{click:t.uncheckedAll}})]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[t._v(t._s(e.create_time))])])}),0):t._e()]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.detailAddDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addSelection}},[t._v("确定")])],1)],1),a("el-tabs",{staticClass:"release-tab",attrs:{type:"border-card",value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"纸质书籍",name:"book"}},[a("Tab",{ref:"book",attrs:{dataType:"book",defaultList:t.defaultBList,detailData:t.detailData,isLabelHide:!0,onlyShow:t.readOnly},on:{detail:t.detail,del:t.del}}),t.isShowBtn&&!t.readOnly?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addBook()}}},[t._v("新增")]):t._e()],1),a("el-tab-pane",{attrs:{label:"电子书",name:"e-book"}},[a("EBook",{ref:"ebook",attrs:{defaultData:t.defaultEList,detailData:t.detailData,readOnly:t.readOnly},on:{open:t.openResources}})],1),a("el-tab-pane",{attrs:{label:"听读",name:"audio"}},[a("Audio",{ref:"audio",attrs:{detailData:t.detailData,defaultData:t.defaultAList,readOnly:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addVideo()}}},[t._v("新增组")])],1),a("el-tab-pane",{attrs:{label:"视读",name:"video"}},[a("Tab",{ref:"video",attrs:{dataType:"video",defaultList:t.defaultVList,detailData:t.detailData,onlyShow:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.openResources("5")}}},[t._v("新增")])],1),a("el-tab-pane",{attrs:{label:"资源",name:"resource"}},[a("Tab",{ref:"resource",attrs:{dataType:"resource",defaultList:t.defaultRList,detailData:t.detailData,onlyShow:t.readOnly,isShow:!0},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.openResources("14")}}},[t._v("新增")])],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1568:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.planInfoDialog?a("planInfo",{attrs:{planInfoDialog:t.planInfoDialog,currentPlan:t.currentPlan,currentHour:t.currentHour,services:t.services,readOnly:t.readOnly,detailData:t.detailData},on:{"update:planInfoDialog":function(e){t.planInfoDialog=e},"update:plan-info-dialog":function(e){t.planInfoDialog=e},saveok:function(e){return t.$emit("restList")}}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.hourInfoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"课时",name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课时名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*知识点简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*教学计划:")]),!t.readOnly&&t.information.id?a("el-button",{staticClass:"el-icon-plus",staticStyle:{float:"right"},attrs:{size:"small",plain:"",type:"primary"},on:{click:function(e){return t.showPlan()}}},[t._v("新增计划")]):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("序号")]),a("th",[t._v("计划名称")]),t.readOnly?t._e():a("th",[t._v("排序")]),a("th",{staticClass:"operate"},[t._v("操作")])])]),t.information.teaching_plan?a("tbody",t._l(t.information.teaching_plan,function(e,i){return a("tr",[a("td",[t._v(t._s(i+1)),a("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden",name:"ids"},domProps:{value:e.id}})]),a("td",[t._v(t._s(e.name))]),t.readOnly?t._e():a("td",[a("span",{staticClass:"icon el-icon-sort-up",attrs:{size:"mini",title:"上移"}}),a("span",{staticClass:"icon el-icon-sort-down",attrs:{size:"mini",title:"下移"}})]),a("td",[a("div",{staticClass:"btns"},[a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){return t.showPlan(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){return t.delChoosen(e.id)}}})])])])}),0):t._e()])],1)])])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.submitInfo}},[t._v("确定")])],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1569:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.bookDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:t.setTitle,name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm rowWrap"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息(必填)")])]),a("div",{staticClass:"left"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{name:"name",type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("ISBN:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.book_isbn,expression:"information.book_isbn"}],ref:"isbn",staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.book_isbn},on:{input:function(e){e.target.composing||t.$set(t.information,"book_isbn",e.target.value)}}}),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{type:"primary",size:"small"},on:{click:t.syncInfo}},[t._v("同步")])],1),t.optional.length?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("paperback")||t.readOnly,label:"paperback"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("平装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("hardcover")||t.readOnly,label:"hardcover"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("精装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("soft_hardcover")||t.readOnly,label:"soft_hardcover"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("软精装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("thread_bound")||t.readOnly,label:"thread_bound"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("线装")])],1):t._e(),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.price,expression:"information.price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.price},on:{input:function(e){e.target.composing||t.$set(t.information,"price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("最低定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.sales_price_min,expression:"information.sales_price_min"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.sales_price_min},on:{input:function(e){e.target.composing||t.$set(t.information,"sales_price_min",e.target.value)}}}),a("span",[t._v(" 元")])])]),a("div",{staticClass:"right"},[a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}}),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("选择封面")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("ISBN扩展:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.book_isbn_extension,expression:"information.book_isbn_extension"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.book_isbn_extension},on:{input:function(e){e.target.composing||t.$set(t.information,"book_isbn_extension",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("图书重量:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.book_weight,expression:"information.book_weight"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.book_weight},on:{input:function(e){e.target.composing||t.$set(t.information,"book_weight",e.target.value)}}}),a("span",[t._v(" KG")])]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1570:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{ref:"resource",attrs:{type:t.resourceType,parameter:t.parameter,resourceDialog:t.resourceDialog,curSoucesList:t.curSoucesList,isShowSearch:!0,idName:t.idName},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.ExerciseInfoDialog?a("ExerciseInfo",{attrs:{detailData:t.detailData,exerciseDialog:t.ExerciseInfoDialog,currentExerise:t.currentDate,services:t.services},on:{"update:exerciseDialog":function(e){t.ExerciseInfoDialog=e},"update:exercise-dialog":function(e){t.ExerciseInfoDialog=e},save:t.saveExamin}}):t._e(),t.detailDialog?a("ExerciseDetail",{attrs:{detailDialog:t.detailDialog,detailData:t.currentDate},on:{"update:detailDialog":function(e){t.detailDialog=e},"update:detail-dialog":function(e){t.detailDialog=e}}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.exerciseDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a("div",{staticClass:"total-score"},[t._v("总分 "),a("span",[t._v(t._s(t.totalScore))])]),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"习题",name:"ff"}})],1)],1),a("div",{staticClass:"content"},[a("ul",{staticClass:"exerciseInfo"},t._l(t.exerciseList,function(e,i){return a("li",{key:i},[a("div",{staticClass:"top"},[a("span",{staticClass:"title"},[t._v("第"+t._s(t._f("numberToChinese")(i+1))+"题")]),a("span",{staticClass:"score"},[t._v(t._s(e.score)+"分")]),a("span",{staticClass:"name"},[t._v(t._s(e.question_type_name))]),"subjective_item"!=e.question_type?a("span",{staticClass:"answer"},[t._v("正确答案："+t._s(t.getAnswer(e)))]):t._e()]),a("div",{staticClass:"exercise"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-name"},[t._v("题目：")]),a("div",{staticClass:"title-text",domProps:{innerHTML:t._s(e.question)}})]),"single"==e.question_type||"multi"==e.question_type?a("ul",{staticClass:"options"},t._l(e.option,function(e,i){return a("li",[a("span",{staticClass:"options-option"},[t._v(t._s(t._f("numberToLetter")(i)))]),a("div",{staticClass:"options-text",domProps:{innerHTML:t._s(e.title)}})])}),0):t._e()]),a("div",{staticClass:"relation"},[a("ul",[a("span",{staticClass:"title"},[t._v("课时计划链接")]),t._l(e.tp_constitute_info,function(r){return a("li",[a("span",[t._v(t._s(r.teaching_plan_info||r.tag)+" ")]),a("span",[t._v(t._s(r.resource_name||r.name)+" ")]),a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){return t.delConstitute(r,e,i)}}})])})],2)]),a("div",{staticClass:"analysis"},[a("div",{staticClass:"title"},[a("span",[t._v("【解析】:")]),a("div",{staticClass:"analysis_text",domProps:{innerHTML:t._s(e.analysis)}})])]),t.readOnly?t._e():a("div",{staticClass:"operation"},[a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){return t.detail(e,i)}}}),a("span",{staticClass:"icon icon-link",attrs:{size:"mini",title:"添加课时计划链接",type:"primary",plain:""},on:{click:function(a){return t.add(e,i)}}}),a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){return t.del(e,i)}}}),0!=i?a("span",{staticClass:"icon el-icon-sort-up",attrs:{size:"mini",title:"上移"},on:{click:function(a){return t.sort(e,"up")}}}):t._e(),i!=t.exerciseList.length-1?a("span",{staticClass:"icon el-icon-sort-down",attrs:{size:"mini",title:"下移"},on:{click:function(a){return t.sort(e,"down")}}}):t._e()])])}),0),a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.detail()}}},[t._v("新增题目")]),t.readOnly?t._e():a("el-button",{staticClass:"el-icon-search",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.addExercise()}}},[t._v("选择题目")])],1)]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.saveInfo}},[t._v("确定")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1571:function(t,e,a){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-dialog",{attrs:{center:!1,visible:this.readerDialog,top:"50px",width:"1000px","show-close":!1,"append-to-body":""}},[e("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[e("i",{staticClass:"el-icon-close",on:{click:this.colse}}),e("el-tabs",{attrs:{value:"reader"}},[e("el-tab-pane",{attrs:{label:this.title,name:"reader"}})],1)],1),e("div",{ref:"readerIframe",staticClass:"content"},[e("div",{staticStyle:{height:"500px"},attrs:{id:"readerIframe"}})]),e("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"info"},on:{click:this.colse}},[this._v("关闭")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1572:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("div",{staticClass:"serachWrapd"},[a("div",{staticClass:"title"}),a("form",{ref:"mainForm"},[a("span",{staticClass:"group-inline"},[t.bookInfo&&"章节锚点"==t.type?a("el-select",{attrs:{placeholder:"选择所属书籍",size:"small",clearable:""},model:{value:t.bookInfo.value,callback:function(e){t.$set(t.bookInfo,"value",e)},expression:"bookInfo.value"}},t._l(t.bookInfo.list,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1):t._e()],1),a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:t._f("formatHolder")(t.type),name:"name"}})]),a("span",{staticClass:"group-inline btn"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search",plain:""},on:{click:t.seareHandeler}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.addAnchorCommit}},[t._v("添加选中")])],1)])]),a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("全选"),a("input",{attrs:{type:"checkbox"},on:{click:t.checkedAll}})]),a("th",[t._v("名称")]),a("th",[t._v("创建时间")])])]),a("tbody",t._l(t.list,function(e){return a("tr",[a("th",[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids"},domProps:{checked:!!t.obj[e.id],value:e.id},on:{click:function(a){return t.choose(a,e)}}})]),a("th",[t._v(t._s(e.chapter_name||e.name))]),a("th",[t._v(t._s(e.create_time))])])}),0)]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("anchorListCancle")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addAnchorCommit}},[t._v("确定")])],1)])},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1573:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("AddResource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:[],type:"20",isShowType:!0},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":function(e){return t.$emit("handleClick")}}},[a("el-tab-pane",{attrs:{label:"指导案例",name:"example"}},[a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("编号")])])]),a("tbody",t._l(t.resList1,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.number))])])}),0)])])]),a("el-tab-pane",{attrs:{label:"栏目",name:"column"}},[a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("编号")])])]),a("tbody",t._l(t.resList2,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.number))])])}),0)])])])],1),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.resourceDialog=!0}}},[t._v("新增")])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1574:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*关联书籍:")]),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$emit("open","1")}}},[t._v("关联")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.author,expression:"information.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.author},on:{input:function(e){e.target.composing||t.$set(t.information,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*类型:")]),a("span",{staticClass:"types"},[a("span",[t._v(" "+t._s(t.information.type_name))]),a("span",[t._v(" 创建时间: "+t._s(t.information.create_time))])])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{rows:"3",type:"text",maxlength:t.$config.ABS_MAX_LENGTH,disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav restBody",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"first"}},[a("form",{staticClass:"readForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]),t.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"second"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("定价:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.sale_price,expression:"ebook_shop.sale_price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.sale_price},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"sale_price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("最低定价:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.min_sale_price,expression:"ebook_shop.min_sale_price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.min_sale_price},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"min_sale_price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容阅读地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.read_url,expression:"ebook_shop.read_url"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.read_url},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"read_url",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容试读地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.trial_url,expression:"ebook_shop.trial_url"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.trial_url},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"trial_url",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:t.shopMetadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]):t._e(),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("收起"),a("i",{staticClass:"el-icon-arrow-up"})])])],1)],1),t.book_id?a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit("detailForm")}}},[t._v("保存")])],1):t._e()])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1575:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{center:!1,visible:t.detailDialog,"close-on-click-modal":!1,"before-close":t.close,"append-to-body":"",top:"50px",width:"1000px"},on:{"update:visible":function(e){t.detailDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"查看题目",name:"detail"}})],1)],1),a("div",{staticClass:"content"},[a("div",{staticClass:"topic-title",domProps:{innerHTML:t._s(t.detailData.question)}}),"subjective_item"==t.detailData.question_type||"fill"==t.detailData.question_type?a("div",{staticClass:"answer-area"},[t.detailData.answer?a("p",{staticClass:"answer"},[t._v(t._s(t.detailData.answer))]):t._e()]):"judgment"==t.detailData.question_type?a("div",{staticClass:"answer-area"},[a("li",{staticClass:"answer-item"},[a("span",{staticClass:"answer-title",class:{active:"true"==t.detailData.answer}},[t._v("A")]),a("div",{staticClass:"answer-content-wrap"},[a("div",{staticClass:"answer-content"},[t._v("正确")])])]),a("li",{staticClass:"answer-item"},[a("span",{staticClass:"answer-title",class:{active:"false"==t.detailData.answer}},[t._v("B")]),a("div",{staticClass:"answer-content-wrap"},[a("div",{staticClass:"answer-content"},[t._v("错误")])])])]):a("ul",{staticClass:"answer-area"},t._l(t.detailData.option,function(e,i){return a("li",{staticClass:"answer-item"},[a("span",{staticClass:"answer-title",class:{active:t.getActive(i)}},[t._v(t._s(t.numberToLetter(i)))]),a("div",{staticClass:"answer-content-wrap"},[a("div",{staticClass:"answer-content",domProps:{innerHTML:t._s(e.title)}}),e.img?a("img",{staticClass:"img",attrs:{src:e.img}}):t._e()])])}),0),a("div",{staticClass:"analysis-area"},[a("p",{staticClass:"analysis-title"},[t._v("题目解析")]),a("div",{staticClass:"analysis",domProps:{innerHTML:t._s(t.detailData.analysis||"暂无解析")}})])]),a("div",{staticClass:"btns",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1576:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.exerciseDialog,"before-close":t.colse,top:"50px",width:"800px",title:(t.currentDetail.id?"修改":"新增")+"题目","append-to-body":""}},[a("div",{staticClass:"content"},[a("VaForm",{ref:"detailForm"},[a("form",[a("div",{staticClass:"group inline"},[a("div",{staticClass:"label"},[t._v("*分值:")]),a("el-input",{staticStyle:{width:"210px"},attrs:{type:"number",min:1,max:100,oninput:"if(value>100)value=value.slice(0,2)"},nativeOn:{keyup:function(e){return t.proving(e)}},model:{value:t.currentDetail.score,callback:function(e){t.$set(t.currentDetail,"score",e)},expression:"currentDetail.score"}})],1),a("div",{staticClass:"group inline"},[a("div",{staticClass:"label"},[t._v("*题目类型:")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.slecetChange},model:{value:t.currentDetail.question_type,callback:function(e){t.$set(t.currentDetail,"question_type",e)},expression:"currentDetail.question_type"}},t._l(t.answerType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("div",{staticClass:"group inline"},[a("div",{staticClass:"label"},[t._v("*难易程度:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentDetail.level,callback:function(e){t.$set(t.currentDetail,"level",e)},expression:"currentDetail.level"}},t._l(t.answerLevel,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("div",{staticClass:"group inline"},[a("div",{staticClass:"label"},[t._v("*分组:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentDetail.group_id,callback:function(e){t.$set(t.currentDetail,"group_id",e)},expression:"currentDetail.group_id"}},t._l(t.groupList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*题目名称:")]),a("Ueditor",{attrs:{id:"question",isImage:!0,item:t.currentDetail,name:"question"},on:{uechange:t.uechange}})],1),"single"==t.currentDetail.question_type||"multi"==t.currentDetail.question_type?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*题目选项:")]),a("ul",{staticClass:"exerciseList",staticStyle:{display:"inline-block"}},t._l(t.defaultOption,function(e,i){return a("li",[a("span",{staticClass:"option"},[t._v(t._s(t.numberToLetter(i)))]),a("span",["single"==t.currentDetail.question_type?a("el-checkbox",{attrs:{value:"true"===e.isAnswer||!0===e.isAnswer,label:t.numberToLetter(i)},on:{change:function(e){return t.selecet(i,e)}}},[t._v("正确答案")]):t._e(),"multi"==t.currentDetail.question_type?a("el-checkbox",{attrs:{value:"true"===e.isAnswer||!0===e.isAnswer,label:t.numberToLetter(i)},on:{change:function(e){return t.selecet(i,e)}}},[t._v("正确答案")]):t._e()],1),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger",title:"删除选项",size:"mini"},on:{click:function(e){return t.removeOption(i)}}},[t._v("删除选项")]),a("div",[a("FileUpload",{attrs:{data:e},on:{change:t.change}}),a("Ueditor",{attrs:{id:"option"+i,item:e,name:"title"},on:{uechange:t.uechange}})],1)],1)}),0)]):t._e(),"single"==t.currentDetail.question_type||"multi"==t.currentDetail.question_type?a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",plain:"",size:"mini"},on:{click:t.addOption}},[t._v("新增选项")])],1):t._e(),"judgment"==t.currentDetail.question_type?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*答案:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentDetail.answer,callback:function(e){t.$set(t.currentDetail,"answer",e)},expression:"currentDetail.answer"}},[a("el-option",{key:"1",attrs:{label:"正确",value:"true"}}),a("el-option",{key:"2",attrs:{label:"错误",value:"false"}})],1)],1):t._e(),"fill"==t.currentDetail.question_type?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*答案:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.currentDetail.answer,expression:"currentDetail.answer"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentDetail.answer},on:{input:function(e){e.target.composing||t.$set(t.currentDetail,"answer",e.target.value)}}})]):t._e(),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("题目解析:")]),a("Ueditor",{attrs:{id:"analysis",isImage:!0,item:t.currentDetail,name:"analysis"},on:{uechange:t.uechange}})],1)])])],1),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1577:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:t.information.resources,singleElection:!0,isShowType:!0,isShowResource:!1,parameter:t.parameter},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.planInfoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"计划",name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*学习时长:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.time,expression:"information.time"}],staticClass:"form-control time",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.time},on:{input:function(e){e.target.composing||t.$set(t.information,"time",e.target.value)}}}),a("span",[t._v("秒")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("资源")]),a("ul",{staticClass:"preview"},t._l(t.information.resources,function(e){return a("li",[a("img",{staticClass:"previewImgUrl",attrs:{src:e.img_src||e.preview_path}}),a("p",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(a){return t.delChoosen(e.id)}}})])}),0),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.relation()}}},[t._v("关联")])],1)])])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.submitInfo}},[t._v("确定")])],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1578:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fileUpload",on:{click:function(e){return t.$refs.file.click()}}},[t.previewImgUrl?a("img",{staticClass:"img",attrs:{src:t.previewImgUrl}}):a("div",{staticClass:"box"},[a("div",{staticClass:"el-icon-plus"}),a("div",{staticClass:"icon-name"},[t._v("添加图片")])]),a("input",{ref:"file",staticClass:"hide",attrs:{type:"file",accept:"image/*"},on:{change:t.previewImg}})])},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1579:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editor-wapper"},[t.uploadDialog?a("el-dialog",{attrs:{center:!1,visible:t.uploadDialog,"close-on-click-modal":!1,"append-to-body":"",top:"50px",width:"800px",title:"上传"+t.switchTypeName},on:{"update:visible":function(e){t.uploadDialog=e}}},[a("UeUpload",{attrs:{ue:t.ue,type:t.uploadType},on:{cancle:function(e){t.uploadDialog=!1}}})],1):t._e(),a("div",{staticClass:"editor",attrs:{id:this.id}})],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1580:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("div",{staticClass:"wrap"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("导入方式:")]),a("span",[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.importType,expression:"importType"}],attrs:{type:"radio",name:"methd",value:"local"},domProps:{checked:t._q(t.importType,"local")},on:{change:function(e){t.importType="local"}}}),t._v("本地")]),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.importType,expression:"importType"}],attrs:{type:"radio",name:"methd",value:"link"},domProps:{checked:t._q(t.importType,"link")},on:{change:function(e){t.importType="link"}}}),t._v("外链")])])]),"local"==t.importType?a("div",{staticClass:"local"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.$refs.media.click()}}},[t._v("选择")]),a("input",{ref:"media",staticClass:"hide",attrs:{type:"file",accept:t.accept},on:{change:t.showImgLocal}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("span",{staticClass:"imgShow"},["img"==t.type&&t.localUrl?a("img",{attrs:{src:t.localUrl}}):t._e(),"video"==t.type&&t.localUrl?a("video",{attrs:{src:t.localUrl,controls:""}}):t._e(),"audio"==t.type&&t.localUrl?a("audio",{attrs:{src:t.localUrl,controls:""}}):t._e()])])]):t._e(),"link"==t.importType?a("div",{staticClass:"link"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("外链")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.linkUrl,expression:"linkUrl"}],ref:"link",staticClass:"short form-control",domProps:{value:t.linkUrl},on:{input:function(e){e.target.composing||(t.linkUrl=e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("span",{staticClass:"imgShow"},["img"==t.type&&t.linkUrl?a("img",{attrs:{src:t.linkUrl}}):t._e(),"video"==t.type&&t.linkUrl?a("video",{attrs:{src:t.linkUrl,controls:""}}):t._e(),"audio"==t.type&&t.linkUrl?a("audio",{attrs:{src:t.linkUrl,controls:""}}):t._e()])])]):t._e()])]),a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:t.back}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.commit}},[t._v("确定")])],1)])},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},1581:function(t,e,a){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return this.percentage?e("div",{staticClass:"progressWrap"},[e("div",{staticClass:"content"},[e("el-progress",{attrs:{type:"circle",percentage:this.percentage,color:"#F7793E",width:80}})],1)]):this._e()},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},278:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.main=void 0;var i,r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=a(277);(i=n)&&i.__esModule;var s={data:function(){return{tableData:[],total:0,page:{pageOffset:10,pageNum:1},ids:[],isTeacher:"",dialogVisible:!1,detailVisible:!1,detailData:[],productType:null}},created:function(){this.isTeacher=this.$config.isTeacher,this.getList(r({},this.query,this.page))},methods:{seareHandeler:function(){this.page.pageNum=1,this.getList(r({},this.query))},getList:function(t){var e=this;this.service&&this.service.getList(r({},this.page,this.query,t)).then(function(t){t&&t.status&&(e.tableData=t.data,e.total=t.page.total)})},handleSelectionChange:function(t){this.ids=t.map(function(t){return t.id}),this.multipleSelection=t},update:function(t,e){this.$refs[e].src=URL.createObjectURL(t.target.files[0])},getTime:function(t){t||(t=["",""]),this.query.time_start=t[0],this.query.time_end=t[1],this.query.start_time=t[0],this.query.end_time=t[1]},handleSizeChange:function(t){this.page.pageOffset=t,this.getList(r({},this.page,this.query))},handleCurrentChange:function(t){this.page.pageNum=t,this.getList(r({},this.page,this.query))},handleClose:function(){this.detailVisible=!1,this.dialogVisible=!1},del:function(t){var e=this;if(!t){if(!this.ids.length)return this.$message.warning("请先选中");t=this.ids}this.$confirm("你真的要删除该数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.service.del({id:t}).then(function(t){t&&t.status&&(e.getList(r({},e.page,e.query)),e.$message.success("删除成功"))},function(t){var a=t.payload;e.$message.error(a.message)})}).catch(function(){})},save:function(t){var e=this;t||(t=this.form),this.service.save(t).then(function(t){t.status&&(e.$message.success("保存成功"),e.getList(e.query)),e.dialogVisible=!1,e.$refs.child&&(e.$refs.child.dialogVisible=!1)},function(t){e.$message.error(t.payload.message)})},educe:function(t){this.service.educe({id:t}).then(function(t){window.location.href=t.data.url})},detail:function(t){var e=this;this.service.detail({id:t}).then(function(t){e.detailData=t.data,log(t,"detail")}),this.$refs.child.dialogVisible=!0},showDetail:function(t,e){var a=this;log("------------"),this.service.detail({id:t}).then(function(t){log(t,"detailInfo"),a.detailData=t.data,a.productType=e,a.detailVisible=!0})}}};e.main=s},282:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTask=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];return t.size,t.size>=1048576?(e.is_chunk=!0,(0,i.request_post)("/common/api/files/upload_task?r="+Math.random(5)).then(function(r){if(r.status)return e.task_id=r.data.task_id,(0,i.request_file)("/common/api/files/upload",{file:t,data:e},a);throw new Error(r.messages)}).catch(function(t){throw new Error("上传失败")})):(e.is_chunk=!1,(0,i.request_file)("/common/api/files/upload",{file:t,data:e}))},e.getAppId=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/common/api/app/search_name",t).then(function(t){return r.default.app_id=t.data.id,sessionStorage.app_id=t.data.id,t})},e.getClientToken=function(){return(0,i.request_post)("/common/api/auth/token/pcclient")},e.platInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(o(t)).then(function(t){return r.default.app_id=t.data.id,sessionStorage.app_id=t.data.id,document.title=t.data.name,t})},e.commonPreview=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(u(t))},e.getDefaultCover=function(){return(0,i.request_get)("/api/videos/images")},e.generate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/qr_code/generate",t)},e.commonPreviewCode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/preview",t)},e.getQrcode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/common/api/get_qrcode",t)},e.synchronization=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(l(t)).then(function(t){return t})},e.getAuthor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/api/ecommerce/author",t)},e.addAuthor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/ecommerce/author",t)},e.getWeixinConfig=function(t){return(0,i.request_get)("/common/api/third/wx_js_sdk/config",t)},e.getIndexInfo=function(){return(0,i.request_get)("/common/api/current")};s(a(19));var i=a(49),r=s(a(50)),n=s(a(82));function s(t){return t&&t.__esModule?t:{default:t}}n.default.compile("/common/api/files/upload_task/:id"),n.default.compile("/common/api/manager/managers/:id"),n.default.compile("/common/api/manager/roles/:id");var o=n.default.compile("/common/api/app/apps/:id"),l=n.default.compile("/common/api/dragon_infos/:id");var u=n.default.compile("/api/preview/:id")},316:function(t,e,a){"use strict";a.r(e);var i=a(1558),r=a(497);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1070);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"c1a908fe",null);e.default=o.exports},343:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(t){var e=t.type,a=t.id,i=t.resource_type;if("book"==e)return l({id:a});if("video"==e)return c({id:a});if("resource"==e)return f({id:a,resource_type:i})},e.del=function(t){var e=t.type,a=o(t,["type"]);if("book"==e)return u(a);if("video"==e)return p(a);if("resource"==e)return m(a);if("audio"==e)return h(a)},e.add=function(t){var e=t.type,a=o(t,["type"]);if("book"==e)return u(a);if("video"==e)return d(a);if("resource"==e)return v(a)},e.check=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id/check");return(0,r.request_get)(e(t))},e.bookList=l,e.bookInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id");return(0,r.request_get)(e(t))},e.bookDel=u,e.bookSave=function(t){var e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/components_paper/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/components_paper",a)},e.videoList=c,e.videoAdd=d,e.videoDel=p,e.resourceList=f,e.resourceAdd=v,e.resourceDel=m,e.groupList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_groups/:id/list");return(0,r.request_get)(e(t),t)},e.groupSave=function(t){var e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/components_groups/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/components_groups",a)},e.groupDetail=function(t){var e=t.id,a=s.default.compile(restUrl_publish+"/api/components_groups/:id");return(0,r.request_get)(a({id:e}))},e.audioDel=h,e.saveEBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.current_id){var e=s.default.compile(restUrl_publish+"/api/components_ebooks/:id");return(0,r.request_put)(e({id:t.current_id}),t)}return(0,r.request_post)(restUrl_publish+"/api/components_ebooks",t)},e.getEBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_ebooks/:id");return(0,r.request_get)(e(t))};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id/list");return(0,r.request_get)(e(t))}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id");return(0,r.request_delete)(e(t))}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/video");return(0,r.request_get)(e(t))}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/components/video",t)}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/video");return(0,r.request_delete)(e({id:t.constitute_id}))}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/resource");return(0,r.request_get)(e(t),t)}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/components/resource",t)}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/resource");return(0,r.request_delete)(e({id:t.constitute_id}))}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_groups/:id");return(0,r.request_delete)(e(t),t)}},344:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addTheme=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes",t).then(function(t){var e=t.data,a=e.id,i=e.name,r=e.type_name,n=e.abs,s=e.tag;return(0,f.addResListener)({res_id:a,res_type:r,res_name:i,res_exp:n,res_lables:[s]}),t})},e.modifyTheme=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/:id");return(0,r.request_put)(i({id:e}),a)},e.ListTheme=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/themes",t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/delete",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/themes/groups",t)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/groups/delete",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/groups",t)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/themes/groups",t)},e.deleteThemeBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/book_remove",t)},e.detailTheme=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/:id");return(0,r.request_get)(i({id:e}),a)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/themes/issuance",t).then(function(e){return(0,f.suance)({id:t.id,info:e.data}),e})},e.detailUrgent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/themes/urgent",t)},e.backups=g,e._themeAdd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,a=void 0===e?"book":e,i=h(t,["type"]);if("book"==a)return(0,n.listBooks)(i);if("audio"==a)return(0,s.listAudio)(i);if("video"==a)return(0,o.listVideo)(i);if("3d"==a)return(0,u.listContent)(i);if("ar"==a)return(0,c.listLibraries)(i);if("product"==a)return(0,d.listDigitalBook)(i);if("release"==a)return(0,p.getList)(i)},e._themeDetail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,a=void 0===e?1:e,i=t.c_id,r=h(t,["type","c_id"]);if(1==a)return i?g(r):(0,n.detailBooks)(r);if(3==a)return(0,l.detailPicture)(r);if(4==a)return(0,s.detailAudio)(r);if(5==a)return(0,o.detailVideo)(r);if(6==a)return(0,u.detailContent)(r);if(8==a)return(0,c.detailLibraries)(r);if(10==a)return(0,d.detailDigitalBook)(r);if(13==a);else if(31==a)return};var i,r=a(49),n=a(442),s=a(758),o=a(441),l=a(757),u=a(762),c=a(1050),d=a(353),p=a(1051),f=a(83),v=a(82),m=(i=v)&&i.__esModule?i:{default:i};function h(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/book/:id");return(0,r.request_get)(i({id:e}),a)}},353:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/digital_books/groups",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=C(t,["id"]),i=s.default.compile(restUrl_publish+"/api/digital_books/:id/groups");return(0,r.request_put)(i({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=C(t,["id"]),i=s.default.compile(restUrl_publish+"/api/digital_books/groups/:id");return(0,r.request_delete)(i({id:e}),a)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/digital_books/groups",t)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.rel_id=t.id,delete t.id,(0,r.request_put)(restUrl_publish+"/api/groups/digital_books",t)},e.detailDigitalBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=C(t,["id"]),i=s.default.compile(restUrl_publish+"/api/digital_books/:id");return(0,r.request_get)(i({id:e}),a)},e.deleteDigitalBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/digital_books/delete",t)},e.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/digital_books",t).then(function(t){var e=t.data,a=e._id,i=e.name,r=e.abs,n=e.author,s=e.tag,o=e.type_name;return(0,k.addResListener)({res_id:a,res_type:o,res_name:i,res_exp:r,res_author:n,res_lables:[s]}),t})},e.listDigitalBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/digital_books",t)},e.modify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=C(t,["id"]),i=s.default.compile(restUrl_publish+"/api/digital_books/:id");return(0,r.request_put)(i({id:e}),a)},e.urgentDigitalBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/digital_books/urgent",t)},e.issuance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=(C(t,["id"]),s.default.compile(restUrl_publish+"/api/digital_books/:id/issuance"));return(0,r.request_put)(a({id:e})).then(function(t){return(0,k.suance)({id:e,info:t.data}),t})},e.removeConstitute=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/digital_books/constitute",t)},e.synchronization=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=(C(t,["id"]),s.default.compile(restUrl_publish+"/api/digital_books/:id/sync"));return(0,r.request_get)(a({id:e}))},e.reordering=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/digital_books/sort",t)},e.stick=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/digital_books/top",t)},e.listAnchor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/nowledge_info",t)},e.delAnchor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledge_info/delete",t)},e._addBooks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a={},e=t.type,a=C(t,["type"]);switch(log(e,a),e){case"1":return(0,d.listBooks)(a);case"2":return(0,u.listArticle)(a);case"3":return(0,o.listPicture)(a);case"4":return(0,l.listAudio)(a);case"5":return(0,c.listVideo)(a);case"6":return(0,p.listContent)(a);case"8":return(0,g.listLibraries)(a);case"7":return(0,_.listLibraries)(a);case"9":return(0,f.debrisList)(a);case"10":return(0,v.recomList)(a);case"22":return(0,b.getResource)(a);case"19":return(0,y.getResource)(a);case"25":return listQrcodeResource(a);case"20-1":case"20-2":case"20-3":case"20-4":case"20-6":case"20-7":return(0,h.resourceList)(i({type:e},a));case"31":return(0,m.getList)(a);default:return(0,d.listBooks)(a)}},e.distribute=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=C(t,["id"]),i=s.default.compile(restUrl_publish+"/api/digital_books/:id/issuance");return(0,r.request_put)(i({id:e}),a).then(function(t){(0,k.suance)({id:e,info:t.data})})},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,k.educeResListener)({res_url:(0,r.getFullPath)("/publish/books/export"+n.default.stringify(t,{addQueryPrefix:!0}))}),(0,r.request_get)("publish/books/export",t)};var r=a(49),n=D(a(19)),s=D(a(82)),o=a(757),l=a(758),u=a(899),c=a(441),d=a(442),p=a(762),f=a(915),v=a(916),m=a(444),h=(a(763),a(917)),g=a(918),_=a(919),b=a(920),y=a(921),k=a(83);function D(t){return t&&t.__esModule?t:{default:t}}function C(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},371:function(t,e,a){"use strict";a.r(e);var i=a(1538),r=a(437);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1122);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2dcd2c5e",null);e.default=o.exports},373:function(t,e,a){"use strict";a.r(e);var i=a(1566),r=a(448);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1047);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"ef79f1ce",null);e.default=o.exports},374:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(20));e.modifyNowledges=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,s=l(e,["id"]),u=n.default.compile(restUrl_publish+"/api/nowledges/:id");return(0,r.request_put)(u({id:a}),s).then((c=o(i.default.mark(function e(a){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p({id:s.pid,type:s.type});case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}},e,t)})),function(t){return c.apply(this,arguments)}));var c},e.deleteNowledges=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledges/delete",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p({id:e.pid,type:e.type});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.addNowledges=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledges",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p({id:e.pid,type:e.type});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.upNowledges=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/nowledges",t)},e.modifyGroup=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,s=l(e,["id"]),u=n.default.compile(restUrl_publish+"/api/nowledges/groups/:id");return(0,r.request_put)(u({id:a}),s).then((c=o(i.default.mark(function e(a){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p({id:s.pid,type:s.type});case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}},e,t)})),function(t){return c.apply(this,arguments)}));var c},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/nowledges/groups",t)},e.deleteGroup=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledges/groups/delete",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p({id:e.pid,type:e.type});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.addGroup=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledges/groups",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p({id:e.pid,type:e.type});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.listNowledges=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=n.default.compile(restUrl_publish+"/api/nowledges/book/:id");return(0,r.request_get)(i({id:e}),a)},e.audioNowledges=u,e.searchNowledges=c,e.videoNowledges=d,e.NowledgesList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,a=l(t,["type"]);if("章节锚点"==e)return c(a);if("音频锚点"==e)return u(a);if("视频锚点"==e)return d(a)},e.listKnowledge=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/nowledges",t)},e.addAnchor=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledge_info",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p({id:e.pid,type:e.ptype});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.delAnchor=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledge_info/delete",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p({id:e.pid,type:e.type});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.mount=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledge_info/mount",t).then(function(e){var a=JSON.parse(window.localStorage.getItem("mounts"))||[],i=a.findIndex(function(e){return e.tid===t.id}),r={tid:t.id,id:e.data.id};i>-1&&a.splice(i,1),a.push(r),window.localStorage.setItem("mounts",JSON.stringify(a))})},e.nowledge_info=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/nowledge_info",t)},e.mountSchedule=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=t.id,i=(l(t,["id"]),(JSON.parse(window.localStorage.getItem("mounts"))||[]).find(function(t){return t.tid===a}));if(!i)return"";var s=n.default.compile(restUrl_publish+"/api/nowledge_info/:id");return(0,r.request_progress)(s({id:i.id}),e)},e.nowledge_btn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/nowledge_button",t)};var r=a(49),n=s(a(82));function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=n.default.compile(restUrl_publish+"/api/nowledges/audio/:id");return(0,r.request_get)(i({id:e}),a)}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=n.default.compile(restUrl_publish+"/api/nowledges/book/catalogs/:id");return(0,r.request_get)(i({id:e}),a)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=n.default.compile(restUrl_publish+"/api/nowledges/video/:id");return(0,r.request_get)(i({id:e}),a)}function p(t){var e=t.id,a=t.type,i=n.default.compile(restUrl_publish+"/api/nowledge_status/:id");return(0,r.request_get)(i({id:e}),{type:a})}},386:function(t,e,a){"use strict";a.r(e);var i=a(1557),r=a(483);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1056);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"c6b023a6",null);e.default=o.exports},437:function(t,e,a){"use strict";a.r(e);var i=a(438),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},438:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(a(898)),r=p(a(1061)),n=p(a(1072)),s=p(a(1075)),o=p(a(1079)),l=p(a(1107)),u=p(a(1110)),c=p(a(1115)),d=p(a(1117));function p(t){return t&&t.__esModule?t:{default:t}}e.default={components:{releaseDetail:i.default,audioDetail:r.default,themeDetail:n.default,videoDetail:s.default,courseDetail:o.default,resourceDetail:l.default,seriesDetail:u.default,articlesDetail:c.default,resourDetail:d.default},props:{detailVisible:Boolean,defaultData:Object,detailValue:String,detailType:String,type:{type:Number,default:1}},data:function(){return{detailDialoaType:"info"}},created:function(){log(this.type),1!=this.type&&"metadata"==this.detailValue?this.detailDialoaType="info":this.detailDialoaType=this.detailValue},computed:{currComp:function(){switch(this.type,this.type){case 1:return"themeDetail";case 5:return"videoDetail";case 4:return"releaseDetail";case 7:case 9:return"courseDetail";case 8:return"resourceDetail";case 3:case 6:return"audioDetail";case 10:return"seriesDetail";case 11:return"articlesDetail";case 12:return"resourDetail"}}},methods:{colse:function(){this.$emit("update:detailVisible",!1)}},mounted:function(){}}},439:function(t,e,a){"use strict";a.r(e);var i=a(440),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},440:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);e.default=t}(a(353));var i=s(a(922)),r=s(a(373)),n=s(a(1048));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:i.default,Structure:n.default,Knowledge:r.default},props:["type","detailData","detailDialog","readOnly","defaultData"],created:function(){},data:function(){return{}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name}}}},441:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return log("add",t),(0,i.request_post)(restUrl_publish+"/api/videos",t).then(function(t){var e=t.data,a=e._id,i=e.name,r=e.author,n=e.abs,o=e.tag,l=e.type_name;return(0,s.addResListener)({res_id:a,res_author:r,res_name:i,res_exp:n,res_type:l,res_lables:[o]}),t})},e.modify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/videos/:id");return(0,i.request_put)(r({id:e}),a)},e.listVideo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(restUrl_publish+"/api/videos",t)},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,i.getFullPath)(restUrl_publish+"/api/videos/export"+r.default.stringify(t,{addQueryPrefix:!0}))}),(0,i.request_get)(restUrl_publish+"/api/videos/export",t)},e.putin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/videos/import",t)},e.deleteVideo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/videos/delete",t)},e.detailVideo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.default.compile(restUrl_publish+"/api/videos/:id");return(0,i.request_get)(e(t))},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/videos/groups/:id");return(0,i.request_put)(r({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/videos/groups/delete",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/videos/groups",t)},e.listGroup=function(){return(0,i.request_get)(restUrl_publish+"/api/videos/groups")},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)(restUrl_publish+"/api/videos/groups",t)};var i=a(49),r=o(a(19)),n=o(a(82)),s=a(83);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},442:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modifyBooks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),n=r.default.compile(restUrl_publish+"/api/books/:id");return(0,i.request_put)(n({id:e}),a)},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,i.getFullPath)(restUrl_publish+"/api/books/export"+n.default.stringify(t,{addQueryPrefix:!0}))}),(0,i.request_get)(restUrl_publish+"/api/books/export",t)},e.putin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/books/import",t)},e.fabu=function(t){return(0,i.request_post)(restUrl_publish+"/api/mult_books",t)},e.getProgress=function(t){return(0,i.request_get)(restUrl_publish+"/api/mult_book/progress/"+t)},e.deleteBooks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/books/delete",t)},e.listBooks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(restUrl_publish+"/api/books",t)},e.detailBooks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),n=r.default.compile(restUrl_publish+"/api/books/:id");return(0,i.request_get)(n({id:e}),a)},e.addBooks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/books",t).then(function(e){(0,s.createProListener)({res_id:e.data.task_id,res_type:"数字图书",res_cover:t.img,res_covers:"",res_exp:t.abs,res_author:t.author,res_author_id:"",res_Interpreter:"",res_Interpreter_id:"",res_lables:"",res_currency:"",res_money:"",res_isbn:"",res_isbn_ext:"",res_publication:""})})},e.getBookCatalog=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),n=r.default.compile(restUrl_publish+"/api/books/:id/catalogs");return(0,i.request_get)(n({id:e}),a)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),n=r.default.compile(restUrl_publish+"/api/books/groups/:id");return(0,i.request_put)(n({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),n=r.default.compile(restUrl_publish+"/api/books/groups/:id");return(0,i.request_delete)(n({id:e}),a)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/books/groups",t)},e.listGroup=function(){return(0,i.request_get)(restUrl_publish+"/api/books/groups")},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)(restUrl_publish+"/api/groups/books",t)},e.siblingSort=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),n=r.default.compile(restUrl_publish+"/api/catalogs/sort/:id");return(0,i.request_put)(n({id:e}),a)},e.moveCatalog=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(t.id,l(t,["id"]));return(0,i.request_put)(restUrl_publish+"/api/catalogs/outline",e)},e.products=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/books/products",t)},e.fastAdd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/comproduct/fast/add",t)},e.fastPrevew=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/audits/fast",t)},e.fastLibrary=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/databook/temp",t)},e.bookAdd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/databook/add",t)},e.dataFast=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/data_fast",e).then(function(a){return 2==a.data.data?new Promise(function(a,i){setTimeout(function(){a(t(e))},2e3)}):a})};var i=a(49),r=o(a(82)),n=o(a(19)),s=a(83);a(900);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},444:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/practice",t)},e.detail=function(t){var e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/practice/:id");return(0,r.request_get)(i({id:e}),a)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/practice/delete",t)},e.save=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]);if(e)return(0,r.request_put)(restUrl_publish+"/api/practice/"+e,a);return(0,r.request_post)(restUrl_publish+"/api/practice",a)},e.listGroup=function(){return(0,r.request_get)(restUrl_publish+"/api/practice/groups")},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/practice/groups",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,r.request_delete)(i({id:e}),a)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/groups/chapters",t)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},445:function(t,e,a){"use strict";a.r(e);var i=a(446),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},446:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(l(a(277)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(282))),s=a(923),o=a(924);function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{clc_category:"",clc_category_id:"",cp_category:"",cp_category_id:"",describe:"",editor_recommend:"",book_directory:""},xRead:{},activeName:"1",keyWord:"",title:"作者",metadata:[],creatAuthorInfo:{},choiceDialog:!1,creatDialog:!1,authorList:[],authorInfo:{},authorOptions:[],authorValue:[],translatorOptions:[],translatorValue:[],out_print:"2",have_print:"2",imageCropperDialog:!1,file:null,oldBlob:null}},created:function(){this.detailData&&Object.entries(this.detailData).length&&this.getInfo(),this.defaultData&&this.setInfo(),this.init()},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type},gauthorList:function(){return this.authorList}},methods:{init:function(){var t=this;this.searchAuthor=(0,o.debounce)(function(){return t.getAuthors()},500)},setInfo:function(){this.information=this.xRead=this.defaultData.base||{},this.metadata=this.defaultData.attributes||[],this.retailers=this.defaultData.retailers||{},this.setEbookInfo()},getInfo:function(){var t=this;(0,s.getInfo)({id:this.detailData.id}).then(function(e){t.information=e.data,t.retailers=e.data.retailers,t.xRead=e.data["x-read"],t.metadata=e.data.pro_attributes,t.setEbookInfo()})},setEbookInfo:function(){this.out_print=this.retailers.out_print||"2",this.have_print=this.retailers.have_print||"2";var t=this.retailers.author?this.retailers.author.split(","):[],e=this.retailers.author_id?this.retailers.author_id.split(","):[],a=this.retailers.translator?this.retailers.translator.split(","):[],i=this.retailers.translator_id?this.retailers.translator_id.split(","):[];this.authorOptions=t.map(function(t,a){var i={};return i.value=e[a],i.label=t,i}),this.translatorOptions=a.map(function(t,e){var a={};return a.value=i[e],a.label=t,a}),this.authorValue=e,this.translatorValue=i},handleClick:function(t,e){this.$emit("infoClick",t)},previewImg:function(t,e){var a=this,i=t.target;this.file=i.files[0],this.imgFile=URL.createObjectURL(this.file),this.$ImageSize({file:this.file,ratio:.73,interval:.05}).then(function(t){a.previewImgUrl=URL.createObjectURL(a.file)},function(t){201!=t.status?a.$message.error(t.message):a.imageCropperDialog=!0})},addAuthor:function(t){this.title=t,this.keyWord="",this.authorList=[],this.choiceDialog=!0},choiceAuthor:function(){var t=this,e="作者"==this.title?"author":"translator",a=document.querySelector(".authorListForm").querySelectorAll('input[name="ids"]:checked');a.length||this.$message.warning("请选择你要添加的"+this.title);var i=function(a){if(t[e+"Options"].find(function(t){return a.value==t.value}))return"continue";t[e+"Options"].push({value:a.value,label:a.getAttribute("label")}),t[e+"Value"].push(a.value)},r=!0,n=!1,s=void 0;try{for(var o,l=a[Symbol.iterator]();!(r=(o=l.next()).done);r=!0)i(o.value)}catch(t){n=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw s}}this.$message.success("添加"+this.title+"成功!")},saveAuthor:function(){var t=this;return u(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.addAuthor({author_name:t.creatAuthorInfo.name}).then(function(e){t.$message.success("创建成功")}).catch(function(e){t.$message.error(e.messages)});case 2:t.creatDialog=!1;case 3:case"end":return e.stop()}},e,t)}))()},getAuthors:function(){var t=this;log(this.title),n.getAuthor({author_name:this.keyWord}).then(function(e){t.authorList=e.data,log(t.authorList)})},creatAuthor:function(){this.creatAuthorInfo={},this.creatDialog=!0},syncInfo:function(t){var e=this;this.$refs.isbn.value&&n.synchronization({id:this.$refs.isbn.value}).then(function(t){log(t);var a=t.data,i=a.bookname,r=a.writer,n=a.isbn,s=a.bookcatalog,o=a.majorword,l=a.bookbrief,u=a.readership,c=a.editornote,d=(a.price,a.price_min,a.weight,a.bookcategory),p=a.bookcategory2;e.information={name:i,book_isbn:n,abs:l},e.xRead={tag:"",author:r},e.retailers={subject_terms:o,target_audience:u,clc_category:d,cp_category:p,describe:l,editor_recommend:c,book_directory:s}}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}})},submitDetail:function(){var t=this;return u(i.default.mark(function e(){var a,o,l,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.$refs.fenmian.files[0],t.$refs.detailForm.valiAll()){e.next=4;break}return e.abrupt("return");case 4:if(o=t.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),e.prev=5,!a){e.next=9;break}return e.next=9,n.getTask(a).then(function(e){t.information.img=e.data.path});case 9:return e.next=11,(0,s.save)(r({id:t.detailData.id},t.information)).then(function(e){t.$message.success("保存成功"),o.close(),t.$emit("saveok",e.data)});case 11:e.next=24;break;case 13:e.prev=13,e.t0=e.catch(5),l=e.t0.payload,o.close(),e.t1=i.default.keys(l.messages);case 18:if((e.t2=e.t1()).done){e.next=24;break}return u=e.t2.value,t.$message.error(l.messages[u]),e.abrupt("break",24);case 24:case"end":return e.stop()}},e,t,[[5,13]])}))()},preview:function(t){this.previewImgUrl=URL.createObjectURL(t),this.oldBlob=t,this.imageCropperDialog=!1},submitInfo:function(){var t=this;return u(i.default.mark(function e(){var a,o,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$refs.detailForm.valiAll()){e.next=3;break}return e.abrupt("return");case 3:if(a=t.$refs.fenmian.files[0],o=t.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),l=r({},t.information,{pro_attributes:t.metadata,attributes:{xRead:r({},t.xRead),eCommerce:r({},t.retailers,{author_id:t.authorValue.join(","),translator_id:t.translatorValue.join(","),author:t.authorOptions.map(function(e){if(t.authorValue.indexOf(e.value)>-1)return e.label}).filter(function(t){if(t)return t}).join(","),translator:t.translatorOptions.map(function(e){if(t.translatorValue.indexOf(e.value)>-1)return e.label}).filter(function(t){if(t)return t}).join(","),out_print:t.have_print,have_print:t.have_print})}}),!a){e.next=10;break}return t.oldBlob&&((a=t.oldBlob).name=t.file.name),e.next=10,n.getTask(a).then(function(t){l.img=t.data.path});case 10:return e.next=12,(0,s.save)(l).then(function(e){t.detailData.id||(t.information=e.data),o.close(),t.$message.success("操作成功!"),t.$emit("saveok",e.data)}).catch(function(e){o.close(),t.$message({message:e.message||"错误!",type:"error"})});case 12:case"end":return e.stop()}},e,t)}))()}}}},447:function(t,e,a){},448:function(t,e,a){"use strict";a.r(e);var i=a(449),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},449:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=d(a(277)),s=d(a(108)),o=d(a(926)),l=d(a(764)),u=c(a(374));c(a(353));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}function p(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={components:{VaForm:s.default,AnchorList:o.default,Reader:l.default},props:["type","constitute","detailData","readOnly","defaultData"],created:function(){var t=this;return p(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.defaultData){e.next=7;break}if(t.glist=t.defaultData.knowledge,t.glist){e.next=4;break}return e.abrupt("return");case 4:t.currGroupId=t.glist[0].id,t.currGroup=t.glist[0],t.list=t.glist[0].nowledge_info;case 7:return e.prev=7,e.next=10,t.getGlist();case 10:return e.next=12,t.getProgress();case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(7);case 16:case"end":return e.stop()}},e,t,[[7,14]])}))()},data:function(){return{list:null,glist:null,anchorsList:[],page:null,Anchors_chapter:"章节锚点",Anchors_content:"内容锚点",Anchors_audio:"音频锚点",Anchors_video:"视频锚点",checkedAll:!1,currGroupId:null,currknowledgeId:null,currGroup:{},openAnchorList:!1,anchorType:"章节锚点",anchorList:null,bookInfo:{value:"",lsit:[]},groupDialog:!1,knowledgeDialog:!1,addAnchorDialog:!1,readerDialog:!1,readerId:null,editGroup:{},editKnowledge:{},anchorCheckedAll:!1,mount:{number:0}}},computed:{isBook:function(){return"章节锚点"==this.anchorType||"内容锚点"==this.anchorType}},methods:{getGlist:function(){var t=this;return p(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.detailData.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u.listGroup({id:t.detailData.id}).then(function(e){var a=e.data.findIndex(function(e){return t.currGroupId===e.id}),i=a>-1?a:0;t.glist=e.data,t.glist&&t.glist.length>0?(t.currGroupId=e.data[i].id,t.currGroup=e.data[i],t.anchorType="章节锚点",t.getList()):(t.list=t.glist=t.currGroupId=null,t.currGroup={})}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}});case 4:case"end":return e.stop()}},e,t)}))()},getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments[2];return p(i.default.mark(function s(){var o;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.anchorCheckedAll=!1,i.next=3,u.listKnowledge(r({pageNum:t,pageOffset:a},n,{id:e.detailData.id,group_id:e.currGroupId})).then(function(t){e.list=t.data,e.page=t.page}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}});case 3:if(o=e.$refs.mainListWrap){i.next=6;break}return i.abrupt("return");case 6:o.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1});case 8:case"end":return i.stop()}},s,e)}))()},groupDel:function(t){var e=this;this.$confirm("是否删除该知识结构?").then(function(a){u.deleteGroup({id:[t.id],type:e.detailData.type_number,pid:e.detailData.id}).then(function(t){e.getGlist(),e.$emit("saveok")}).catch(function(t){for(var a in payload.messages){e.$message.error(payload.messages[a]);break}})})},groupEdit:function(t){if(!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");this.editGroup=t,this.groupDialog=!0},KnowledgeEdit:function(t){this.editKnowledge=t,this.knowledgeDialog=!0},groupCommit:function(){var t=this;return p(i.default.mark(function e(){var a,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$refs.groupFormVa.valiAll()){e.next=2;break}return e.abrupt("return");case 2:if(a=(0,n.default)(t.$refs.groupForm,{hash:!0}),e.prev=3,a.id){e.next=10;break}return a.id=t.detailData.id,e.next=8,u.addGroup(r({},a,{type:t.detailData.type_number,pid:t.detailData.id})).then(function(e){t.groupDialog=!1,t.getGlist(),t.$emit("saveok")});case 8:e.next=12;break;case 10:return e.next=12,u.modifyGroup(r({},a,{type:t.detailData.type_number,pid:t.detailData.id})).then(function(e){t.groupDialog=!1,t.getGlist(),t.$emit("saveok")});case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),s=e.t0.message,t.$message.error(s);case 18:case"end":return e.stop()}},e,t,[[3,14]])}))()},guaZai:function(){var t=this;return p(i.default.mark(function e(){var a,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.mount({id:t.detailData.id});case 3:return e.next=5,t.getProgress();case 5:e.next=17;break;case 7:e.prev=7,e.t0=e.catch(0),a=e.t0.payload,e.t1=i.default.keys(a.messages);case 11:if((e.t2=e.t1()).done){e.next=17;break}return r=e.t2.value,t.$message.error(a.messages[r]),e.abrupt("break",17);case 17:case"end":return e.stop()}},e,t,[[0,7]])}))()},getProgress:function(){var t=this;return p(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.mountSchedule({id:t.detailData.id},function(e){"100"==e.data.number&&t.getList(),t.mount=r({},e.data,{number:parseInt(e.data.number)})}).then(function(e){t.mount=e.data});case 2:case"end":return e.stop()}},e,t)}))()},KnowledgeCommit:function(){var t=this;if(this.$refs.KnowledgeFormVa.valiAll()){var e=(0,n.default)(this.$refs.KnowledgeForm,{hash:!0});try{e.id?u.modifyNowledges(r({},e,{type:this.detailData.type_number,pid:this.detailData.id})).then(function(e){t.knowledgeDialog=!1,t.getList(),t.$emit("saveok")}):(e.t_id=this.detailData.id,e.group_id=this.currGroupId,u.addNowledges(r({},e,{type:this.detailData.type_number,pid:this.detailData.id})).then(function(e){t.knowledgeDialog=!1,t.getGlist(),t.getList(),t.$emit("saveok")}))}catch(t){var a=t.payload;for(var i in a.messages){this.$message.error(a.messages[i]);break}}}},toTop:function(){var t=this,e=[];if(this.$refs.mainListWrap.querySelectorAll("[name='ids']:checked").forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要置顶的内容！");u.upNowledges({id:e}).then(function(e){t.getList()}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},knowDel:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this.$refs.mainListWrap.querySelectorAll("[name='ids']:checked");if(e.length||a.forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要删除的内容！");this.$confirm("是否删除选中知识点?").then(function(a){u.deleteNowledges({id:e,type:t.detailData.type_number,pid:t.detailData.id}).then(function(e){t.getGlist(),t.$emit("saveok")}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})})},removeAnchor:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this.$refs.anchorList.querySelectorAll("[name='ids']:checked");if(e.length||a.forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要删除的锚点！");this.$confirm("是否删除选中锚点?").then(function(a){u.delAnchor({id:e,type:t.detailData.type_number,pid:t.detailData.id}).then(function(e){t.getAnchorList(),t.$emit("saveok")}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})})},handleSizeChange:function(t){this.getList(1,t)},handleCurrentChange:function(t){this.getList(t,this.page.offset)},changeGroup:function(t){if(this.checkedAll=!1,this.anchorCheckedAll=!1,this.currGroupId=t.id,this.currGroup=t,this.openAnchorList=!1,this.defaultData){var e=this.glist.findIndex(function(e){return e.id===t.id});this.list=this.glist[e].nowledge_info}else this.getList()},getbookList:function(){var t=this;return p(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.listNowledges({id:t.detailData.id}).then(function(e){t.bookInfo.list=e.data}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}});case 2:case"end":return e.stop()}},e,t)}))()},getBtn:function(){var t,e=this;u.nowledge_btn({id:this.detailData.id}).then((t=p(i.default.mark(function t(a){var r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.anchorsList=a.data,t.t0=i.default.keys(e.anchorsList);case 2:if((t.t1=t.t0()).done){t.next=9;break}if(r=t.t1.value,!e.anchorsList[r]){t.next=7;break}return e.anchorType=e["Anchors_"+r],t.abrupt("break",9);case 7:t.next=2;break;case 9:return t.next=11,e.getbookList();case 11:return t.next=13,e.getAnchorList();case 13:e.openAnchorList=!0;case 14:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},addAnchor:function(){this.addAnchorDialog=!0},setAnchor:function(t){var e=this;return p(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.currknowledgeId=t,e.anchorList=[],a.next=4,e.getBtn();case 4:case"end":return a.stop()}},a,e)}))()},changeAnchorType:function(t){this.anchorType=this["Anchors_"+t],this.anchorList=[],this.getAnchorList()},getAnchorList:function(){var t=this;u.nowledge_info({type:this.anchorType,id:this.currknowledgeId}).then(function(e){t.anchorList=e.data}),this.getList()},bookinfoChange:function(t){if("内容锚点"==this.anchorType)return this.readerId=t,void(this.readerDialog=!0);this.addAnchorDialog=!0},bookinfoBlur:function(t){this.bookInfo.value&&!t&&"章节锚点"==this.anchorType?this.addAnchorDialog=!0:this.bookInfo.value&&!t&&"内容锚点"==this.anchorType&&(this.readerId||(this.readerId=this.bookInfo.value),this.readerDialog=!0)},anchorListCancle:function(){this.addAnchorDialog=!1,this.getAnchorList(),this.$emit("saveok")},addAnchorSuccess:function(){this.$message.success("添加锚点成功!"),this.getAnchorList()},isShowAnchors:function(t){return this.anchorType==this["Anchors_"+t]},getAnchorsText:function(t){return this["Anchors_"+t]},checkedAllBtn:function(t,e){this[e]=t.target.checked}}}},450:function(t,e,a){"use strict";a.r(e);var i=a(451),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},451:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=l(a(277)),s=l(a(108)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(374));function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{VaForm:s.default},props:["type","bookInfo","themeId","currknowledgeId","detailData"],created:function(){var t,e=this;return(t=i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.getList();case 1:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()},data:function(){return{list:null,page:null,query:null,obj:{}}},computed:{},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,i=arguments[2];return o.NowledgesList(r({pageNum:t,pageOffset:a},i,{id:"章节锚点"==this.type?this.bookInfo.value:this.themeId,type:this.type})).then(function(t){e.list=t.data,e.page=t.page})},checkedAll:function(t){var e=this;t.target.checked?this.list.forEach(function(t){e.obj[t.id]=t}):this.list.forEach(function(t){e.obj[t.id]=null}),this.$refs.ids.forEach(function(e){e.checked=t.target.checked}),log(this.obj)},choose:function(t,e){t.target.checked?this.obj[e.id]=e:this.obj[e.id]=null},addAnchorCommit:function(){var t=this,e=[];for(var a in this.obj)this.obj.hasOwnProperty(a)&&this.obj[a]&&e.push(this.obj[a]);o.addAnchor({n_id:this.currknowledgeId,b_id:"章节锚点"==this.type?e.map(function(t){return t.id}):"",c_id:"章节锚点"==this.type?[this.bookInfo.value]:e.map(function(t){return t.id}),type:this.type,name:e.map(function(t){return t.chapter_name||t.name}),ptype:this.detailData.type_number,pid:this.detailData.id}).then(function(e){t.$message.success("添加成功"),t.$emit("anchorListCancle")}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},handleSizeChange:function(t){this.getList(1,t)},handleCurrentChange:function(t){this.getList(t,this.page.offset)},seareHandeler:function(){this.query=(0,n.default)(this.$refs.mainForm,{hash:!0}),log(this.query),this.getList(1,10,this.query)}},filters:{formatHolder:function(t){return t.substr(0,2)+"名称"}}}},452:function(t,e,a){},453:function(t,e,a){"use strict";a.r(e);var i=a(454),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},454:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=a(20),n=(i=r)&&i.__esModule?i:{default:i},s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(928)),o=a(374);function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:{readerDialog:{type:Boolean,default:!1},title:{type:String,default:"阅读器"},readerId:{type:String,default:""},currId:{type:String,default:""},version:{type:String,default:"production"},markBtn:{type:String,default:""}},data:function(){return{}},created:function(){var t=this;this.$nextTick(function(){var e={};e.do_mark=t.do_mark,e.get_chapter=t.get_chapter,e.get_book=t.get_book,new Reader3({imagePath:"http://xcloud.kf.gli.cn/pc/",markBtnText:t.markBtn,copyEnabled:!0,services:e,params:{bookId:t.readerId}}).mount(document.getElementById("readerIframe"),function(){})})},methods:{colse:function(){this.$emit("update:readerDialog",!1)},do_mark:function(t){var e=this,a=t.bookId,i=t.rangeJSON,r=t.selectedText,n=t.chapterRid,s=t.chapterName,l=void 0===s?"":s;(0,o.addAnchor)({name:[l],range:i,point:r,n_id:this.currId,b_id:[n],c_id:[a],type:"内容锚点"}).then(function(t){e.$emit("addAnchorSuccess")}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}})},get_chapter:function(t){var e=this,a=t.bookId,i=t.chapterRid;return l(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get_chapter({bookId:a,chapterRid:i,version:e.version});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}))()},get_book:function(t){var e=this,a=t.bookId;return l(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get_book({bookId:a,version:e.version});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}))()}}}},467:function(t,e,a){},468:function(t,e,a){},469:function(t,e,a){"use strict";a.r(e);var i=a(470),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},470:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=_(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=_(a(277)),o=g(a(343)),l=g(a(353)),u=_(a(471)),c=a(344),d=_(a(373)),p=_(a(1052)),f=_(a(1054)),v=_(a(796)),m=_(a(386)),h=_(a(797));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}function b(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["detailData","readOnly","defaultData"],components:{Tab:m.default,Book:p.default,Group:v.default,ContentDetail:u.default,EBook:f.default,Audio:h.default,Knowledge:d.default},data:function(){return{type:"book",soucesType:"1",audioInfo:{},detailAddDialog:!1,bookDialog:!1,groupDialog:!1,infoDialog:!1,currentItem:{},curSoucesList:{},dataList:[],page:null,infoData:{},mediaType:null,optional:[],singleElection:!0,defaultBList:null,defaultEList:null,defaultAList:null,defaultVList:null,defaultRList:null}},created:function(){this.detailData&&this.detailData.id&&this.check(),this.defaultData&&(this.defaultBList=this.defaultData.structure.book,this.defaultEList=this.defaultData.structure.ebooks[0],this.defaultAList=this.defaultData.structure.audios,this.defaultVList=this.defaultData.structure.videos,this.defaultRList=this.defaultData.structure.resources)},computed:{isShowBtn:function(){return this.optional.length>0}},methods:{handleClick:function(t){this.type=t.name},check:function(){var t=this;this.detailData&&o.check({id:this.detailData.id}).then(function(e){t.optional=e.data})},getAudio:function(){var t=this;o.groupList({id:this.detailData.id,type:"1"}).then(function(e){t.audioList=e.data})},detail:function(t,e){"book"!=this.type?"audio"!=this.type||"object"!=(void 0===e?"undefined":n(e))?this.bookDetailInfo(t,t.type):this.addVideo(t):this.addBook(t)},del:function(t,e){var a=this;o.del(r({},t,{type:this.type})).then(function(t){a.getList()})},bookDetailInfo:function(t,e,a){var i=this,r=t.id,n=t.c_id;(0,c._themeDetail)({c_id:n,id:r,type:e}).then(function(t){i.infoData=t.data,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},getList:function(){this.$refs[this.type].getList(this.type),this.check()},query:function(){var t=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(1,this.page.offset,t)},openResources:function(t){var e=this;return b(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.singleElection=!0,e.soucesType=t,e.dataList=[],e.page=null,"audio"==e.type?e.curSoucesList=e.$refs.group.list:"e-book"==e.type?(e.singleElection=!1,e.curSoucesList=[]):e.curSoucesList=e.$refs[e.type].list,a.next=7,e.getAddList();case 7:e.detailAddDialog=!0;case 8:case"end":return a.stop()}},a,e)}))()},getAddList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,i=arguments[2],n=this.soucesType,s=this.$refs.resource.type;if(14==n)switch(s){case"1":n="3";break;case"2":n="5";break;case"3":n="4";break;default:n="3"}l._addBooks(r({pageNum:t,pageOffset:a,type:n},i)).then(function(t){e.dataList=t.data,e.page=t.page})},addBook:function(t){var e=this;return b(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.check();case 2:e.currentItem=t||{},e.bookDialog=!0;case 4:case"end":return a.stop()}},a,e)}))()},addVideo:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");t||(this.curSoucesList=[]),this.currentItem=t||{},this.groupDialog=!0},saveOk:function(){this.bookDialog=!1,this.getList()},handleSizeChange:function(t){var e=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(1,t,e)},handleCurrentChange:function(t){var e=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(t,this.page.offset,e)},isChecked:function(t){return this.curSoucesList.findIndex(function(e){return e.id===t})>-1},checkAll:function(t,e){document.querySelector("."+e).querySelectorAll('input[name="ids"]').forEach(function(e,a){e.checked=t.target.checked})},addSelection:function(){var t=this;return b(i.default.mark(function e(){var a,n,s,l,u,c,d,p,f;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.detailData.id){e.next=2;break}return e.abrupt("return",t.$message.error("请保存产品信息后再做添加"));case 2:if(a=document.querySelector(".addBookForm"),(n=a.querySelectorAll('input[name="ids"]:checked')).length){e.next=6;break}return e.abrupt("return",t.$message.warning("请选择添加内容"));case 6:s=function(e){if(t.curSoucesList.findIndex(function(t){return t.id==e.value})>-1)return"continue";t.curSoucesList.push(r({},t.dataList.find(function(t){return t.id==e.value}),{action:"add"}))},l=!0,u=!1,c=void 0,e.prev=10,d=n[Symbol.iterator]();case 12:if(l=(p=d.next()).done){e.next=20;break}if(f=p.value,"continue"!==s(f)){e.next=17;break}return e.abrupt("continue",17);case 17:l=!0,e.next=12;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(10),u=!0,c=e.t0;case 26:e.prev=26,e.prev=27,!l&&d.return&&d.return();case 29:if(e.prev=29,!u){e.next=32;break}throw c;case 32:return e.finish(29);case 33:return e.finish(26);case 34:if("audio"!=t.type){e.next=38;break}return t.$refs.group.update(t.curSoucesList),t.detailAddDialog=!1,e.abrupt("return");case 38:if("e-book"!=t.type){e.next=43;break}return e.next=41,t.$refs.ebook.getRelation(t.curSoucesList);case 41:return t.detailAddDialog=!1,e.abrupt("return");case 43:o.add({type:t.type,product_id:t.detailData.id,constitute:t.curSoucesList,resource_type:t.$refs.resource.type}).then(function(e){t.getList(),t.detailAddDialog=!1});case 44:case"end":return e.stop()}},e,t,[[10,22,26,34],[27,,29,33]])}))()},uncheckedAll:function(t){this.singleElection||(this.$refs.ids.forEach(function(t){return t.checked=!1}),t.target.checked=!0)},saveAudioOK:function(){this.$refs.audio.getAudio()},clear:function(){document.getElementById("text").value=""},clear2:function(){document.getElementById("text2").value=""}},watch:{detailData:function(){this.check()}}}},471:function(t,e,a){"use strict";a.r(e);var i=a(1565),r=a(472);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1049);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2ec97c58",null);e.default=o.exports},472:function(t,e,a){"use strict";a.r(e);var i=a(473),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},473:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["infoData","mediaType","infoDialog"],data:function(){return{metadata:this.infoData.attributes||[]}},computed:{hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{detailType:function(){return this.infoData.img_status}},created:function(){}}},474:function(t,e,a){},475:function(t,e,a){"use strict";a.r(e);var i=a(476),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},476:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(o(a(277)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(282))),s=a(343);function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:{bookDialog:{type:Boolean,default:!1},item:{type:Object,default:{}},detailData:Object,optional:Array,readOnly:Boolean},data:function(){return{information:{},previewImgUrl:null,metadata:[],radio:"paperback"}},created:function(){Object.entries(this.item).length?this.getInfo():this.radio=this.optional.length&&this.optional[0]||"paperback"},computed:{setTitle:function(){return Object.entries(this.item).length?this.item.name||"修改纸质书":"新增纸质书"}},methods:{getInfo:function(){var t=this;(0,s.bookInfo)({id:this.item.id}).then(function(e){t.information=e.data,t.metadata=e.data.attributes,t.radio=e.data.type}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},colse:function(){this.$emit("update:bookDialog",!1)},save:function(){var t,e=this;return(t=i.default.mark(function t(){var a,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(a=e.$refs.fenmian.files[0],o=e.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,!a){t.next=10;break}return t.next=10,n.getTask(a).then(function(t){e.information.img=t.data.path});case 10:if(e.information.img){t.next=14;break}return e.$message.error("封面必填"),o.close(),t.abrupt("return");case 14:return t.next=16,(0,s.bookSave)(r({},e.information,{attributes:e.metadata,product_id:e.detailData.id,type:e.radio})).then(function(t){o.close(),e.$emit("saveok")});case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(6),t.t0.payload,o.close();case 22:case"end":return t.stop()}},t,e,[[6,18]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()},previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,e?this.previewPhotoUrl=URL.createObjectURL(a):this.previewImgUrl=URL.createObjectURL(a)},syncInfo:function(){var t=this;this.$refs.isbn.value&&n.synchronization({id:this.$refs.isbn.value}).then(function(e){log(e);var a=e.data,i=a.bookname,r=(a.writer,a.isbn),n=a.price,s=a.price_min,o=a.weight,l=a.isbn_ext;switch(a.bookbinding){case"平":t.radio="paperback";break;case"精":t.radio="hardcover";break;case"软":t.radio="soft_hardcover";break;case"线":t.radio="thread_bound"}t.information={name:i,book_isbn:r,price:n,sales_price_min:s,book_isbn_extension:l,book_weight:o}}).catch(function(e){var a=e.payload;for(var i in log(111,a),log(a),a.messages){t.$message.error(a.messages[i]);break}})},isShow:function(t){return!(this.optional.indexOf(t)>-1)}}}},477:function(t,e,a){},478:function(t,e,a){"use strict";a.r(e);var i=a(479),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},479:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(o(a(277)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(343))),s=(a(282),a(344));function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},activeName:"first",metadata:[],shopMetadata:[],book_id:null,retailer_id:null,constitute_id:null,ebook_shop:{},current_id:null}},created:function(){this.detailData&&this.detailData.id&&this.getEBook(),this.defaultData&&(this.information=this.defaultData,this.metadata=this.defaultData.attributes,this.ebook_shop=this.defaultData.ebook_shop||{},this.shopMetadata=this.defaultData.ebook_shop?this.defaultData.ebook_shop.attributes:[])},methods:{getEBook:function(){var t=this;n.getEBook({id:this.detailData.id}).then(function(e){var a=e.data||{};t.information=a,t.current_id=a.id,a.length||Object.entries(a).length?(t.constitute_id=a.constitute_id,t.book_id=a.book_id,t.metadata=a.attributes||[],t.ebook_shop=a.ebook_shop||{},a.ebook_shop&&(t.retailer_id=a.ebook_shop.id,t.shopMetadata=a.ebook_shop.attributes||[])):t.retailer_id=t.constitute_id=null})},getRelation:function(t){var e=this;if(t.length){var a=t[0],i=a.c_id,r=a.id,n=a.type;log(i,r,n),(0,s._themeDetail)({c_id:i,id:r,type:n}).then(function(t){e.information=t.data,e.metadata=e.information.attributes,e.constitute_id=null,e.book_id=r,log(e.information)}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}})}},submit:function(){var t,e=this;return(t=i.default.mark(function t(){var a,s,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return",e.$message.error("电子书信息不全!"));case 3:return log(r({},e.information,e.ebook_shop,{book_id:e.book_id,components_id:e.detailData.id,attributes:e.metadata,shop_attributes:e.shopMetadata,constitute_id:e.constitute_id,retailer_id:e.retailer_id,current_id:e.current_id})),a=e.$progress(),t.prev=5,t.next=8,n.saveEBook(r({},e.information,e.ebook_shop,{book_id:e.book_id,components_id:e.detailData.id,attributes:e.metadata,shop_attributes:e.shopMetadata,constitute_id:e.constitute_id,retailer_id:e.retailer_id,id:e.information.id,current_id:e.current_id})).then(function(t){!e.current_id&&t.data&&(e.current_id=t.data.id)});case 8:e.$message.success("保存成功"),t.next=21;break;case 11:t.prev=11,t.t0=t.catch(5),s=t.t0.payload,t.t1=i.default.keys(s.messages);case 15:if((t.t2=t.t1()).done){t.next=21;break}return o=t.t2.value,e.$message.error(s.messages[o]),t.abrupt("break",21);case 21:a.close();case 22:case"end":return t.stop()}},t,e,[[5,11]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()}},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}}}},480:function(t,e,a){},481:function(t,e,a){"use strict";a.r(e);var i=a(482),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},482:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(343)),s=a(386),o=(i=s)&&i.__esModule?i:{default:i};e.default={components:{Tab:o.default},props:{groupDialog:{type:Boolean,default:!1},detailData:Object,item:{type:Object,default:{}},isMedia:{type:Number,default:1},onlyShow:Boolean,defaultData:Object},data:function(){return{information:{},list:[],addMediaType:"4"}},created:function(){Object.entries(this.item).length&&this.defaultData,this.information=this.item,this.list=this.item.children||[],2==this.isMedia&&(this.addMediaType="5")},computed:{setTitle:function(){return Object.entries(this.item).length?this.item.name||"修改组":"新增组"}},methods:{getInfo:function(){var t=this;n.groupDetail({id:this.item.id,type:this.isMedia}).then(function(e){t.information=e.data,t.list=e.data.constitute}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},update:function(t){this.list=t},colse:function(){this.$emit("update:groupDialog",!1)},save:function(){var t=this;this.$refs.detailForm.valiAll()&&n.groupSave(r({id:this.item?this.item.id:""},this.information,{product_id:this.detailData.id,type:this.isMedia,constitute:this.list})).then(function(e){log(e),t.$message.success("保存成功"),t.$emit("save"),t.colse()}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},del:function(t){var e=this.list.findIndex(function(e){return e.id===t.id});e>-1&&this.list.splice(e,1)}}}},483:function(t,e,a){"use strict";a.r(e);var i=a(484),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},484:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=a(277),n=((i=r)&&i.__esModule,function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(343)));e.default={props:["dataType","isShow","detailData","defaultList","isLabelHide","onlyShow"],data:function(){return{services:n,type:"1",list:[]}},created:function(){this.defaultList?this.list=this.defaultList:this.getList(this.dataType)},computed:{},methods:function(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}({handleClick:function(){},getList:function(t){var e=this;this.detailData&&this.detailData.id&&this.services.getList({type:t,id:this.detailData.id,resource_type:this.type}).then(function(t){e.list=t.data})}},"handleClick",function(t){log(t)}),watch:{defaultList:function(){this.list=this.defaultList},type:function(t){this.getList(this.dataType)}}}},485:function(t,e,a){},486:function(t,e,a){},487:function(t,e,a){"use strict";a.r(e);var i=a(488),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},488:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(343));e.default={props:{detailData:Object,media:{type:Number,default:1},readOnly:{type:Boolean,default:!1},defaultData:Array},data:function(){return{audioList:[]}},created:function(){this.detailData&&this.detailData.id&&this.getAudio(),this.defaultData&&(this.audioList=this.defaultData)},computed:{},methods:{getAudio:function(){var t=this;r.groupList({id:this.detailData.id,type:this.media}).then(function(e){t.audioList=e.data})},del:function(t,e){var a=this,n=null,s=null;"object"==i(t.children)?n=t.id:(n=e.parent.data.id,s=t.id),log(n),r.audioDel({id:n,resource_id:s,product_id:this.detailData.id}).then(function(t){a.getAudio()})}}}},489:function(t,e,a){},490:function(t,e,a){},491:function(t,e,a){},492:function(t,e,a){"use strict";a.r(e);var i=a(493),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},493:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=m(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=m(a(1062)),o=m(a(386)),l=m(a(797)),u=m(a(796)),c=m(a(316)),d=m(a(471)),p=m(a(373)),f=a(344),v=a(282);function m(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:s.default,Tab:o.default,Resource:c.default,ContentDetail:d.default,Audio:l.default,Group:u.default,Knowledge:p.default},props:{type:String,detailData:Object,detailDialog:Boolean,services:Object,media:{type:Number,default:1},defaultData:Object,readOnly:Boolean},created:function(){this.curSoucesList=this.detailData&&this.detailData.constitute||this.defaultData&&this.defaultData.structure||[],this.defaultData&&(this.defaultAList=this.defaultData.structure)},data:function(){return{resourceDialog:!1,curSoucesList:[],infoDialog:!1,infoData:null,metadata:[],currentItem:{},groupDialog:!1,defaultAList:null}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name},detail:function(t,e){if("object"==(void 0===e?"undefined":n(e)))return this.curSoucesList=t.children,void this.addVideo(t);this.bookDetailInfo(t,t.type)},del:function(t){var e=this.curSoucesList.findIndex(function(e){return e.id===t.id});e>-1&&this.curSoucesList.splice(e,1)},bookDetailInfo:function(t,e){var a=this,i=t.id,r=t.c_id;(0,f._themeDetail)({c_id:r,id:i,type:e}).then(function(t){a.infoData=t.data,a.infoDialog=!0}).catch(function(t){var e=t.payload;for(var i in e.messages){a.$message.error(e.messages[i]);break}})},openResources:function(t){this.resourceDialog=!0,log(t),this.resourceType=t},addSelcet:function(t){this.$refs.group.update(t),this.curSoucesList=t,this.resourceDialog=!1},addVideo:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");t||(this.curSoucesList=[]),this.currentItem=t||{},this.groupDialog=!0},saveAudioOK:function(){this.$refs.audio.getAudio(),this.$emit("saveok")},submitDetail:function(){var t,e=this;return(t=i.default.mark(function t(){var a,n,s,o,l,u;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.$refs.info.$refs.fenmian.files[0],n=e.$refs.info.$refs.detailForm.valiAll(),s=e.$refs.info.information,n){t.next=5;break}return t.abrupt("return",e.$message.error("请完善产品信息后再提交!"));case 5:if(e.curSoucesList.length){t.next=7;break}return t.abrupt("return",e.$message.error("产品结构必传!"));case 7:if(o=e.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=8,!a){t.next=12;break}return t.next=12,(0,v.getTask)(a).then(function(t){s.img=t.data.path});case 12:if(s.img){t.next=14;break}return t.abrupt("return",e.$message.error("请上传封面!"));case 14:return t.next=16,e.services.save(r({id:e.detailData.id},s,{constitute:e.curSoucesList,attributes:{xRead:e.$refs.info.retailers},pro_attributes:e.$refs.info.metadata})).then(function(t){e.$message.success("保存成功"),o.close(),e.$emit("saveok",t.data)});case 16:t.next=29;break;case 18:t.prev=18,t.t0=t.catch(8),l=t.t0.payload,o.close(),t.t1=i.default.keys(l.messages);case 23:if((t.t2=t.t1()).done){t.next=29;break}return u=t.t2.value,e.$message.error(l.messages[u]),t.abrupt("break",29);case 29:case"end":return t.stop()}},t,e,[[8,18]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()}}}},494:function(t,e,a){"use strict";a.r(e);var i=a(495),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},495:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(s(a(277)),a(282));function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","services","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{},xRead:{},activeName:"1",metadata:[]}},created:function(){log("------",this.readOnly),this.detailData&&Object.entries(this.detailData).length&&this.getInfo(),this.defaultData&&(this.retailers=this.defaultData.retailers||{},this.information=this.defaultData.base||{},this.xRead=this.defaultData.xread||{},this.metadata=this.defaultData.attributes||[])},methods:{getInfo:function(){var t=this;this.services.getInfo({id:this.detailData.id}).then(function(e){t.retailers=e.data.retailers,t.information=e.data,t.xRead=e.data["x-read"],t.metadata=e.data.pro_attributes||[]})},previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,this.previewImgUrl=URL.createObjectURL(a)},submitDetail:function(){var t,e=this;return(t=i.default.mark(function t(){var a,s,o,l;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.$refs.fenmian.files[0],e.$refs.detailForm.valiAll()){t.next=4;break}return t.abrupt("return");case 4:if(s=e.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=5,!a){t.next=9;break}return t.next=9,(0,n.getTask)(a).then(function(t){e.information.img=t.data.path});case 9:return t.next=11,e.services.save(r({id:e.detailData.id},e.information,{attributes:{xRead:e.xRead,eCommerce:e.retailers},pro_attributes:e.metadata})).then(function(t){s.close(),e.$message.success("保存成功"),e.$emit("saveok",t.data)});case 11:t.next=24;break;case 13:t.prev=13,t.t0=t.catch(5),o=t.t0.payload,s.close(),t.t1=i.default.keys(o.messages);case 18:if((t.t2=t.t1()).done){t.next=24;break}return l=t.t2.value,e.$message.error(o.messages[l]),t.abrupt("break",24);case 24:case"end":return t.stop()}},t,e,[[5,13]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()}}}},496:function(t,e,a){},497:function(t,e,a){"use strict";a.r(e);var i=a(498),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},498:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(a(353),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(1064))),s=l(a(277)),o=a(278);function l(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[o.publicMixin],props:{detailAddDialog:{type:Boolean,default:!1},singleElection:Boolean,curSoucesList:{type:Array,default:[]}},data:function(){return{dataList:[],page:null,currentType:"book",contentType:[{name:"图书",value:"book"},{name:"主题",value:"theme"},{name:"听读",value:"audio"},{name:"视读",value:"video"},{name:"课件",value:"course"}]}},created:function(){log(this.curSoucesList)},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,i=arguments[2],s=r({pageNum:t,pageOffset:a,shelf:!0},i,{type:this.currentType||this.contentType[0].value});n.getMainList(s).then(function(t){e.dataList=t.data,e.page=t.page})},colse:function(){this.$emit("update:detailAddDialog",!1)},seareHandeler:function(){var t=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getList(1,this.page.offset,t)},addSelection:function(){var t,e=this;return(t=i.default.mark(function t(){var a,r,n,s,o,l,u,c,d,p;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=document.querySelector(".addBookForm"),r=a.querySelectorAll('input[name="ids"]:checked'),n=[],r.length){t.next=5;break}return t.abrupt("return",e.$message.warning("请选择添加内容"));case 5:s=function(t){if(e.curSoucesList.findIndex(function(e){return e.b_id==t.value||e.id==t.value})>-1)return"continue";n.push(e.dataList.find(function(e){return e.id==t.value}).id)},o=!0,l=!1,u=void 0,t.prev=9,c=r[Symbol.iterator]();case 11:if(o=(d=c.next()).done){t.next=19;break}if(p=d.value,"continue"!==s(p)){t.next=16;break}return t.abrupt("continue",16);case 16:o=!0,t.next=11;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(9),l=!0,u=t.t0;case 25:t.prev=25,t.prev=26,!o&&c.return&&c.return();case 28:if(t.prev=28,!l){t.next=31;break}throw u;case 31:return t.finish(28);case 32:return t.finish(25);case 33:e.$emit("select",n);case 34:case"end":return t.stop()}},t,e,[[9,21,25,33],[26,,28,32]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()},checkAll:function(t,e){document.querySelector("."+e).querySelectorAll('input[name="ids"]').forEach(function(e,a){e.checked=t.target.checked})},uncheckedAll:function(t){this.singleElection||(this.$refs.ids.forEach(function(t){return t.checked=!1}),t.target.checked=!0)},isChecked:function(t){return this.curSoucesList.findIndex(function(e){return e.b_id===t||e.id===t})>-1},handleSizeChange:function(t){var e=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getList(1,t,e)},handleCurrentChange:function(t){var e=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getList(t,this.page.offset,e)}},watch:{currentType:function(t){this.getList(1)}}}},499:function(t,e,a){},500:function(t,e,a){},501:function(t,e,a){"use strict";a.r(e);var i=a(502),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},502:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a(20)),r=o(a(374)),n=l(a(503)),s=o(a(344));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={components:{Info:n.default},props:{type:{type:String,default:"info"},isKnowledge:{type:Boolean,default:!1},isMetadata:{type:Boolean,default:!0},isAuthor:{type:Boolean,default:!0},item:Object,defaultData:Object},data:function(){return{currGroupId:null,currGroup:null,detailId:"",gList:null,list:null,infoDialog:!1,infoData:{},infoValue:"detail",detailData:{}}},created:function(){this.defaultData&&(this.detailData=this.defaultData,this.gList=this.detailData.knowledge,this.currGroup=this.gList[0],this.list=this.gList[0]?this.gList[0].nowledge_info:[])},methods:{handleClick:function(t,e){"Knowledge"===t.name&&this.gList},handKnowledgeClick:function(t){this.currGroupId=t.id,this.currGroup=t;var e=this.gList.findIndex(function(e){return e.id===t.id});this.list=this.gList[e].nowledge_info},getGlist:function(){var t=this;return u(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.listGroup({id:t.item.entity_id||t.item.foreign_id}).then(function(e){var a=e.data.findIndex(function(e){return t.currGroupId===e.id}),i=a>-1?a:0;t.gList=e.data,e.data&&e.data.length>0?(t.currGroupId=e.data[i].id,t.currGroup=e.data[i],t.getList()):log("暂无分组!")}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}});case 2:case"end":return e.stop()}},e,t)}))()},getList:function(){var t=this;return u(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.listKnowledge({id:t.item.entity_id||t.item.foreign_id,group_id:t.currGroupId}).then(function(e){t.list=e.data,t.page=e.page}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}});case 2:case"end":return e.stop()}},e,t)}))()},infoHandleClick:function(t){this.infoValue=t.name},bookDetailInfo:function(t,e,a){var i=this,r=t.content,n=r.id,o=r.c_id;s._themeDetail({c_id:o,id:n,type:e}).then(function(t){i.infoData=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})}}}},503:function(t,e,a){"use strict";a.r(e);var i=a(1563),r=a(504);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1073);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"03bdad44",null);e.default=o.exports},504:function(t,e,a){"use strict";a.r(e);var i=a(505),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},505:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(85),r(a(277)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);e.default=t}(a(441));var i=r(a(764));function r(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","infoData","infoDialog","isAuthor"],data:function(){return{readerDialog:!1,readerId:null}},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{handleClick:function(t,e){this.$emit("infoClick",t)},openReader:function(t){log(t),this.readerId=t.b_id,this.readerDialog=!0}},components:{Reader:i.default}}},506:function(t,e,a){},507:function(t,e,a){},508:function(t,e,a){"use strict";a.r(e);var i=a(509),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},509:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(798)),s=f(a(1076)),o=f(a(386)),l=f(a(316)),u=f(a(373)),c=a(344),d=f(a(471)),p=a(282);function f(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:s.default,Tab:o.default,Resource:l.default,ContentDetail:d.default,Knowledge:u.default},props:{type:String,detailData:Object,detailDialog:Boolean,defaultData:Object,readOnly:Boolean},created:function(){this.curSoucesList=this.detailData&&this.detailData.constitute||this.defaultData&&this.defaultData.structure||[]},data:function(){return{resourceDialog:!1,curSoucesList:[],infoDialog:!1,infoData:null}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name},detail:function(t){this.bookDetailInfo(t,t.type)},del:function(t){var e=this.curSoucesList.findIndex(function(e){return e.id===t.id});e>-1&&this.curSoucesList.splice(e,1)},bookDetailInfo:function(t,e){var a=this,i=t.id,r=t.c_id;(0,c._themeDetail)({c_id:r,id:i,type:e}).then(function(t){a.infoData=t.data,a.infoDialog=!0}).catch(function(t){var e=t.payload;for(var i in e.messages){a.$message.error(e.messages[i]);break}})},openResources:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");this.resourceDialog=!0,this.resourceType=t},addSelcet:function(t){var e=this;n.add({product_id:this.detailData.id,constitutes:t}).then(function(a){e.curSoucesList=t,e.resourceDialog=!1}).catch(function(t){t.payload;e.$message.error("添加失败")})},submitDetail:function(){var t,e=this;return(t=i.default.mark(function t(){var a,s,o,l,u,c;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.$refs.info.$refs.fenmian.files[0],s=e.$refs.info.$refs.detailForm.valiAll(),o=e.$refs.info.information,s){t.next=5;break}return t.abrupt("return",e.$message.error("请完善产品信息后再提交!"));case 5:if(l=e.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,!a){t.next=10;break}return t.next=10,(0,p.getTask)(a).then(function(t){o.img=t.data.path});case 10:if(o.img){t.next=13;break}return l.close(),t.abrupt("return",e.$message.error("请上传封面!"));case 13:return t.next=15,n.save(r({id:e.detailData.id},o,{attributes:{xRead:e.$refs.info.xRead},pro_attributes:e.$refs.info.metadata})).then(function(t){e.$message.success("保存成功"),l.close(),e.$emit("saveok",t.data)});case 15:t.next=28;break;case 17:t.prev=17,t.t0=t.catch(6),u=t.t0.payload,l.close(),t.t1=i.default.keys(u.messages);case 22:if((t.t2=t.t1()).done){t.next=28;break}return c=t.t2.value,e.$message.error(u.messages[c]),t.abrupt("break",28);case 28:case"end":return t.stop()}},t,e,[[6,17]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()}}}},510:function(t,e,a){"use strict";a.r(e);var i=a(511),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},511:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(o(a(277)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(798))),s=a(282);function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{},xRead:{},activeName:"1",metadata:[]}},created:function(){this.detailData&&(this.information=this.detailData,this.xRead=this.detailData["x-read"]||{},this.metadata=this.detailData.pro_attributes||[]),this.defaultData&&(this.information=this.defaultData.base||{},this.xRead=this.defaultData.xread||{},this.metadata=this.defaultData.attributes||[])},methods:{previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,this.previewImgUrl=URL.createObjectURL(a)},submitDetail:function(){var t,e=this;return(t=i.default.mark(function t(){var a,o,l,u;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.$refs.fenmian.files[0],e.$refs.detailForm.valiAll()){t.next=4;break}return t.abrupt("return");case 4:if(o=e.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=5,!a){t.next=9;break}return t.next=9,(0,s.getTask)(a).then(function(t){e.information.img=t.data.path});case 9:return t.next=11,n.save(r({id:e.detailData.id},e.information,{attributes:{xRead:e.retailers}})).then(function(t){log(t),e.$message.success("保存成功"),o.close(),e.$emit("saveok",t.data)});case 11:t.next=24;break;case 13:t.prev=13,t.t0=t.catch(5),l=t.t0.payload,o.close(),t.t1=i.default.keys(l.messages);case 18:if((t.t2=t.t1()).done){t.next=24;break}return u=t.t2.value,e.$message.error(l.messages[u]),t.abrupt("break",24);case 24:case"end":return t.stop()}},t,e,[[5,13]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()}}}},512:function(t,e,a){},513:function(t,e,a){},514:function(t,e,a){"use strict";a.r(e);var i=a(515),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},515:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=o(a(1080)),n=o(a(1082)),s=o(a(1088));function o(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:r.default,Hour:n.default,Exercise:s.default},props:["type","detailData","defaultData","detailDialog","readOnly","services","hourSever","exerciseSever"],beforeCreate:function(){},data:function(){return{infoDate:{},hourDate:[],exerciseDate:[],priceDate:{}}},created:function(){var t=this.detailData||this.defaultData;this.infoDate=t||{},this.hourDate=t.course_period_list||[],this.exerciseDate=t.examination_paper_list||[],this.priceDate=t.price||{}},methods:{exerciseChange:function(t){var e=this;this.exerciseSever.getList({id:this.detailData.id}).then(function(t){e.exerciseDate=t.data})},hourChange:function(){var t=this;this.hourSever.getList({course_id:this.detailData.id}).then(function(e){t.hourDate=e.data})},savePrice:function(){var t=this;if(!this.detailData.id)return this.$message.warning("请先保存基本信息后再保存!");this.services.savePrice(i({id:this.detailData.id},this.priceDate)).then(function(e){t.$message.success("价格保存成功!")})},restprice:function(){var t=this;this.services.getPrice({id:this.detailData.id}).then(function(e){t.priceDate=e.data})}}}},516:function(t,e,a){"use strict";a.r(e);var i=a(517),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},517:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(o(a(277)),o(a(111))),s=a(282);function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","infoDate","services"],data:function(){return{information:this.infoDate,previewImgUrl:null,imageCropperDialog:!1,oldBlob:null,file:null,timePick:null}},components:{TimePicks:n.default},created:function(){if(this.information){var t=this.information,e=t.effective_duration_start,a=t.effective_duration_end;e&&a&&(this.timePick=[e,a])}},methods:{previewImg:function(t,e){var a=this,i=t.target;this.file=i.files[0],this.imgFile=URL.createObjectURL(this.file),this.$ImageSize({file:this.file,ratio:1.6}).then(function(t){a.previewImgUrl=URL.createObjectURL(a.file)},function(t){201!=t.status?a.$message.error(t.message):a.imageCropperDialog=!0})},submitInfo:function(){var t,e=this;return(t=i.default.mark(function t(){var a,n,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(a=e.$refs.fenmian.files[0],n=e.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),o=r({},e.information),!a){t.next=10;break}return e.oldBlob&&((a=e.oldBlob).name=e.file.name),t.next=10,(0,s.getTask)(a).then(function(t){o.img=t.data.path});case 10:return t.next=12,e.services.save(o).then(function(t){e.detailData.id||(e.information=t.data),n.close(),e.$message.success("操作成功!"),e.$emit("saveok",t.data)}).catch(function(t){n.close(),e.$message({message:t.message||"错误!",type:"error"})});case 12:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()},preview:function(t){this.previewImgUrl=URL.createObjectURL(t),this.oldBlob=t,this.imageCropperDialog=!1},getTime:function(t){t||(t=["",""]),this.information.effective_duration_start=t[0],this.information.effective_duration_end=t[1]}}}},518:function(t,e,a){},519:function(t,e,a){"use strict";a.r(e);var i=a(520),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},520:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(a(20)),r=(n(a(277)),a(282),n(a(1083)));function n(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["detailData","readOnly","hourDate","services"],components:{HourInfo:r.default},data:function(){return{hourInfoDialog:!1,list:this.hourDate}},created:function(){},methods:{delChoosen:function(t){var e=this,a=[];a.push(t),a.length>0&&this.$confirm("是否删除?").then(function(t){e.services.del({id:a}).then(function(t){e.$emit("change"),e.$message.success("操作成功!")})}).catch(function(t){})},showHour:function(t){var e=this;return s(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=10;break}if(e.currentHour=t,!e.services){a.next=7;break}return a.next=5,e.getInfo();case 5:a.next=8;break;case 7:e.currentHour=t;case 8:a.next=13;break;case 10:if(e.detailData.id){a.next=12;break}return a.abrupt("return",e.$message.warning("请先保存基本信息后再保存!"));case 12:e.currentHour={};case 13:e.hourInfoDialog=!0;case 14:case"end":return a.stop()}},a,e)}))()},getInfo:function(){var t=this;return s(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.services.getInfo({id:t.currentHour.id}).then(function(e){t.hourInfoDialog&&t.$refs.info.updateList(e.data),t.currentHour=e.data});case 2:case"end":return e.stop()}},e,t)}))()},saveok:function(t){this.currentHour.id||(this.currentHour=t),this.$emit("change")},sort:function(t,e){var a=this;this.services.sort({course_id:this.detailData.id,course_period_id:t.id,type:e}).then(function(t){a.$emit("change"),a.$message.success("操作成功!")})},restList:function(){this.getInfo(),this.$emit("restprice")}},watch:{hourDate:function(t){this.list=t}},filters:{formateText:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return t.length>e?t.substr(0,e)+"...":t}}}},521:function(t,e,a){"use strict";a.r(e);var i=a(522),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},522:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(s(a(277)),a(282),s(a(1084)));function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={components:{planInfo:n.default},props:["detailData","readOnly","currentHour","hourInfoDialog","services"],data:function(){return{information:{},planInfoDialog:!1,currentPlan:null,list:[]}},created:function(){this.information=r({},this.currentHour)},methods:{colse:function(){this.$emit("update:hourInfoDialog",!1)},showPlan:function(t){var e=this;return o(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=9;break}if(!e.services){a.next=6;break}return a.next=4,e.services.getPlanInfo({id:t.id}).then(function(t){e.currentPlan=t.data});case 4:a.next=7;break;case 6:e.currentPlan=t;case 7:a.next=10;break;case 9:e.currentPlan={};case 10:e.planInfoDialog=!0;case 11:case"end":return a.stop()}},a,e)}))()},submitInfo:function(){var t=this;return o(i.default.mark(function e(){var a,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$refs.detailForm.valiAll()){e.next=3;break}return e.abrupt("return");case 3:return a=t.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),n=r({},t.information,{course_id:t.detailData.id}),e.next=7,t.services.save(n).then(function(e){a.close(),t.$message.success("操作成功!"),t.$emit("saveok",e.data)}).catch(function(e){a.close(),t.$message({message:e.message||"错误!",type:"error"})});case 7:case"end":return e.stop()}},e,t)}))()},delChoosen:function(t){var e=this,a=[];if(t)a.push(t);else{var i=Array.from(document.querySelectorAll('input[name="ids"]:checked'));if(i.forEach(function(t){a.push(t.value)}),!i.length)return void this.$message.error("请先选中!")}a.length>0&&this.$confirm("是否删除?").then(function(t){e.services.delPlan({id:a}).then(function(t){e.$emit("restList")})}).catch(function(t){})},updateList:function(t){this.information=t}},watch:{currentHour:function(t){this.information=t}}}},523:function(t,e,a){"use strict";a.r(e);var i=a(524),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},524:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(n(a(277)),a(282),n(a(316)));function n(t){return t&&t.__esModule?t:{default:t}}e.default={props:["currentPlan","readOnly","currentHour","planInfoDialog","services","detailData"],components:{Resource:r.default},data:function(){return{information:{resources:[]},previewImgUrl:null,resourceDialog:!1,value2:null,list:[{name:"计划一",id:"12"}],parameter:null}},created:function(){this.information=i({},this.currentPlan,{resources:this.currentPlan.constitute||this.currentPlan.teaching_plan_info||[]})},methods:{colse:function(){this.$emit("update:planInfoDialog",!1)},submitInfo:function(){var t=this;if(this.$refs.detailForm.valiAll()){var e=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),a=i({},this.information);a.resources=this.information.resources.map(function(t){return{id:t.id,type:t.type}}),delete a.constitute;var r=i({},a,{period_id:this.currentHour.id,course_id:this.detailData.id});this.services.savePlan(r).then(function(a){e.close(),t.$message.success("操作成功!"),t.$emit("saveok",a.data)}).catch(function(a){e.close(),t.$message({message:a.message||"错误!",type:"error"})})}},addSelcet:function(t){log(t),this.information.resources=t,this.resourceDialog=!1},delChoosen:function(t){var e=this.information.resources.findIndex(function(e){return e.id===t});e>-1&&this.information.resources.splice(e,1)},relation:function(){this.parameter={course_id:this.detailData.id},this.resourceDialog=!0}}}},525:function(t,e,a){},526:function(t,e,a){},527:function(t,e,a){},528:function(t,e,a){"use strict";a.r(e);var i=a(529),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},529:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(n(a(277)),a(282),n(a(1089)));function n(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={props:["detailData","readOnly","exerciseDate","hourDate","services"],components:{ExerciseInfo:r.default},data:function(){return{information:{},exerciseDialog:!1,classHour:this.hourDate,currentExerise:null,list:[],selecetArray:[]}},created:function(){var t=this;this.exerciseDate.forEach(function(e){t.$set(e,"isShow",!1)}),this.list=[].concat(s(this.exerciseDate),s(this.list)),this.selecetArray=this.list.map(function(t){return t.period_id})},methods:{getInfo:function(){var t=this;this.services.getInfo({id:this.detailData.id}).then(function(e){t.information=e.data,t.retailers=e.data.retailers,t.xRead=e.data["x-read"],t.metadata=e.data.pro_attributes})},openDetail:function(t){this.currentExerise=t,this.exerciseDialog=!0},add:function(){this.list.push({name:"",id:"",is_auto:!0,isShow:!0,action:"add"})},save:function(t){var e=this;if(!this.detailData.id)return this.$message.warning("请先保存基本信息后再保存!");this.services.save(i({},t,{course_id:this.detailData.id})).then(function(t){e.services.getList({id:e.detailData.id}).then(function(t){e.$emit("change")})})},delChoosen:function(t,e){var a=this,i=[];t?(i.push(t),i.length>0&&this.$confirm("是否删除?").then(function(t){a.services.del({id:i}).then(function(t){a.$emit("change")})}).catch(function(t){})):this.list.splice(e,1)},modify:function(t){t.id&&(t.isShow=!t.isShow)},selecet:function(t,e){this.list[t].is_auto=e},isDisabled:function(t,e){return this.selecetArray.includes(t.id)}},watch:{exerciseDate:function(t){var e=this,a=[];t.forEach(function(t){t.id&&(e.$set(t,"isShow",!1),a.push(t.period_id))}),this.selecetArray=a,this.list=t},hourDate:function(t){this.classHour=t}}}},530:function(t,e,a){"use strict";a.r(e);var i=a(531),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},531:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(a(277));var i=s(a(1090)),r=s(a(1102)),n=s(a(316));a(444);function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","currentExerise","exerciseDialog","services"],components:{ExerciseInfo:i.default,Resource:n.default,ExerciseDetail:r.default},data:function(){return{exerciseList:[],detailDialog:!1,currentDate:null,currentDateIndex:null,resourceDialog:!1,ExerciseInfoDialog:!1,curSoucesList:[],resourceType:"19",parameter:{},idName:"tp_constitute_id"}},created:function(){var t=this;this.services?this.services.getInfos({id:this.currentExerise.id}).then(function(e){t.exerciseList=e.data.practice_list||[]}):(log(this.currentExerise),this.exerciseList=this.currentExerise.practice_list)},methods:{colse:function(){this.$emit("update:exerciseDialog",!1)},getAnswer:function(t){return"judgment"==t.question_type?t.answer&&"false"!==t.answer?"正确":"错误":"multi"==t.question_type?t.answer.replace(/,/g,""):t.answer},saveExamin:function(t){Object.entries(this.currentDate).length?this.$set(this.exerciseList,this.currentDateIndex,t):this.exerciseList.push(t),this.ExerciseInfoDialog=!1},saveInfo:function(){var t=this;this.services.saveExercises({questions:this.exerciseList,paper_id:this.currentExerise.id}).then(function(e){t.$message.success("保存成功!")},function(e){t.$message.error("保存失败")})},detail:function(t,e){this.currentDate=t||{};var a=this.exerciseList.findIndex(function(e){return t&&e.id&&e.id===t.id});this.currentDateIndex=a>-1?a:e,this.currentDateIndex,t&&t.id?this.detailDialog=!0:this.ExerciseInfoDialog=!0},del:function(t,e){var a=this;this.$confirm("是否删除?").then(function(t){var i=a.exerciseList.findIndex(function(t){return t.id})||e;a.exerciseList.splice(i,1)}).catch(function(t){})},sort:function(t,e){var a=this.exerciseList.findIndex(function(e){return e.id==t.id}),i="up"==e?-1:1,r=this.exerciseList;r.splice.apply(r,[a,1].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(r.splice(a+i,1,r[a]))))},add:function(t,e){this.resourceType="19",this.idName="tp_constitute_id";var a=this.exerciseList.findIndex(function(e){return e.id===t.id});this.currentDateIndex=a>-1?a:e,this.curSoucesList=t.tp_constitute_info||[],this.resourceDialog=!0,this.parameter.course_id=this.detailData.id},addExercise:function(){this.resourceType="31",this.curSoucesList=[],this.currentDate={},this.idName="",this.resourceDialog=!0,this.parameter.course_id=this.detailData.id},addSelcet:function(t){var e=this;"19"==this.resourceType?(this.exerciseList[this.currentDateIndex].tp_constitute_info=t,this.exerciseList[this.currentDateIndex].tp_constitute_id=t.map(function(t){return t.tp_constitute_id})):t.forEach(function(t){e.saveExamin(t)}),this.resourceDialog=!1},delConstitute:function(t,e,a){log(e,e.tp_constitute_info),this.$confirm("你真的要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=e.tp_constitute_info||[],i=a.findIndex(function(e){return t.id===e.id}),r=e.tp_constitute_id||[],n=r.findIndex(function(e){return t.id===e.id});r.splice(n,1),a.splice(i,1)}).catch(function(){})}},computed:{totalScore:function(){var t=0;return this.exerciseList.forEach(function(e){t+=e.score}),t}},filters:{numberToChinese:function(t){if(!/^\d*$/.test(t))return"Null";"number"==typeof t&&(t=t.toString());var e=new RegExp("([0]*)([1-9]+[0-9]+)","g"),a="千百十亿千百十万千百十个";if((t=t.replace(e,"$2")).length>a.length)return"Null";var i="",r=t.length;a=a.substr(a.length-r);for(var n=0;n<r;n++)i+="零一二三四五六七八九".charAt(t[n])+a.charAt(n);for(var s=(i=(i=i.substr(0,i.length-1)).replace(/零(千|百|十)/g,"零").replace(/(零)+/g,"零").replace(/零(亿|万)/g,"$1")).length-1;s>0&&"零"==i[s];s--)i=i.replace(i[s],"");return i},numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]}}}},532:function(t,e,a){"use strict";a.r(e);var i=a(533),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},533:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=o(a(1091)),n=o(a(1099)),s=a(444);function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["currentExerise","exerciseDialog"],components:{Ueditor:r.default,FileUpload:n.default},data:function(){return{answerType:[{label:"单选题",value:"single"},{label:"多选题",value:"multi"},{label:"主观题",value:"subjective_item"},{label:"判断题",value:"judgment"},{label:"填空题",value:"fill"}],answerLevel:[{label:"简单",value:"easy"},{label:"一般",value:"general"},{label:"困难",value:"difficulty"}],scoreList:[1,2,3,4,5,6,7,8,9,10],defaultOption:[{title:"",isAnswer:!1},{title:"",isAnswer:!1},{title:"",isAnswer:!1},{title:"",isAnswer:!1}],groupList:[],currentDetail:JSON.parse(JSON.stringify(this.currentExerise))}},created:function(){Object.entries(this.currentDetail).length||(this.currentDetail={score:2,level:"easy",question_type:"single"}),this.currentDetail.option&&(this.defaultOption=this.currentDetail.option),this.listGroup()},mounted:function(){this.$nextTick(function(){})},methods:{listGroup:function(){var t=this;(0,s.listGroup)().then(function(e){t.groupList=e.data})},colse:function(){this.$emit("update:exerciseDialog",!1)},addOption:function(){if(this.defaultOption.length>26)return this.$message.warning("禁止添加太多!");this.defaultOption.push({title:"",isAnswer:!1,action:"add"})},removeOption:function(t){var e=this;if(this.defaultOption.length<=2)return this.$message.warning("选择项不能少于2项");this.$confirm("是否删除?").then(function(a){e.defaultOption.splice(t,1)}).catch(function(t){})},save:function(){var t=this;if(this.$refs.detailForm.valiAll()){var e=[];if("single"==this.currentDetail.question_type||"multi"==this.currentDetail.question_type){for(var a in this.defaultOption)!0!==this.defaultOption[a].isAnswer&&"true"!==this.defaultOption[a].isAnswer||e.push(this.numberToLetter(a));e=e.join(",")}else e=this.currentDetail.answer;if(!this.currentDetail.score)return this.$message.error("分数不能为空!");if("subjective_item"!=this.currentDetail.question_type&&0==e.length)return this.$message.error("答案不能为空!");var r=this.answerType.find(function(e){return e.value==t.currentDetail.question_type}).label;this.$emit("save",i({},this.currentDetail,{option:this.defaultOption,answer:e,question_type_name:r}))}},selecet:function(t,e){"single"==this.currentDetail.question_type&&this.defaultOption.forEach(function(t){return t.isAnswer=!1}),this.defaultOption[t].isAnswer=e},change:function(t,e,a){a.img=t,a.img_src=e},uechange:function(t,e,a){t[e]=a},numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]},slecetChange:function(){this.$set(this.currentDetail,"answer",""),"single"==this.currentDetail.question_type&&(this.defaultOption.forEach(function(t){return t.isAnswer=!1}),this.defaultOption[0].isAnswer=!0)},proving:function(t){var e=window.event?t.keyCode:t.which;String.fromCharCode(e);189!=e&&190!=e&&110!=e&&109!=e&&16!=e&&"a"!=e||(this.$message.warning("分值必须为正整数"),t.target.value="")}}}},534:function(t,e,a){"use strict";a.r(e);var i=a(535),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},535:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=a(1092),n=a(1093),s=(i=n)&&i.__esModule?i:{default:i};a(1097);e.default={props:["item","name","id","isImage"],components:{UeUpload:s.default},data:function(){return{uploadDialog:!1,uploadType:"img",ue:null,editerConfig:{toolbars:[["Source","Undo","Redo","bold","test","kityformula"]],iframeCssUrl:"/cdn/Editor/themes/iframe.css",initialFrameHeight:200,initialFrameWidth:500,wordCount:!1,elementPathEnabled:!1}}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.UeUploadBtn(),t.ue=UE.getEditor(t.id,t.editerConfig),t.ue.addListener("ready",function(){t.ue.execCommand("insertHtml",t.item[t.name])}),t.ue.addListener("contentChange",function(){t.$emit("uechange",t.item,t.name,t.ue.getContent())})})},destroyed:function(){this.ue.destroy()},methods:{UeUploadBtn:function(){this.isImage&&(0,r.imgUploadBtn)(this,5,this.id)},openUploadDialog:function(t){this.uploadType=t,this.uploadDialog=!0,this.uploadDialog}},computed:{switchTypeName:function(){switch(this.uploadType){case"img":return"图片";case"video":return"视频";case"voice":return"音乐"}}}}},536:function(t,e,a){"use strict";a.r(e);var i=a(537),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},537:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(20)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(282)),n=s(a(1094));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Progress:n.default},props:["ue","type"],created:function(){this.ue},mounted:function(){},data:function(){return{showImgUrl:null,localUrl:null,linkUrl:null,file:null,percentage:0,fileUrl:null,importType:"local"}},computed:{accept:function(){var t=this.type+"Accept";return this.$config[t]},command:function(){var t=this.type+"Command";return this.$config[t]}},methods:{showImgLocal:function(t){var e=t.target.files[0];e&&(this.file=e,this.localUrl=URL.createObjectURL(e))},back:function(){this.$emit("cancle")},commit:function(){var t,e=this;return(t=i.default.mark(function t(){var a;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("local"!=e.importType){t.next=10;break}if(!e.file){t.next=7;break}return a=e.$progress(),t.next=5,r.getTask(e.file,{is_chunk:!0,size:1048576},function(t){a.percentage=t}).then(function(t){e.fileUrl=t.data.url,e.ue.execCommand(e.command,{src:t.data.url,url:t.data.url}),a.close(),e.back()});case 5:t.next=8;break;case 7:e.$message.error("请先选择文件!");case 8:t.next=11;break;case 10:"link"==e.importType&&(e.ue.execCommand(e.command,{src:e.linkUrl,url:e.linkUrl}),e.back());case 11:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()}}}},538:function(t,e,a){"use strict";a.r(e);var i=a(539),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},539:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["percentage"],data:function(){return{}}}},540:function(t,e,a){},541:function(t,e,a){},542:function(t,e,a){},543:function(t,e,a){"use strict";a.r(e);var i=a(544),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},544:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=a(20),n=(i=r)&&i.__esModule?i:{default:i},s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(282));e.default={props:["data"],data:function(){return{uploadDialog:!1,previewImgUrl:null,uploadType:"img"}},created:function(){this.previewImgUrl=this.data&&this.data.img_src},mounted:function(){},destroyed:function(){},methods:{previewImg:function(t){var e,a=this;return(e=n.default.mark(function e(){var i,r,o,l,u;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.target,r=i.files[0],o=a.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),e.next=5,s.getTask(r).catch(function(t){o.close()});case 5:l=e.sent,u=l.data,a.previewImgUrl=u.url,a.$emit("change",u.path,u.url,a.data),o.close();case 10:case"end":return e.stop()}},e,a)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function i(r,n){try{var s=t[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});e(o)}("next")})})()}},computed:{switchTypeName:function(){switch(this.uploadType){case"img":return"图片";case"video":return"视频";case"voice":return"音乐"}}}}},545:function(t,e,a){},546:function(t,e,a){},547:function(t,e,a){"use strict";a.r(e);var i=a(548),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},548:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["detailData","detailDialog"],components:{},data:function(){return{answerType:[{label:"单选题",value:"single"},{label:"多选题",value:"multi"},{label:"主观题",value:"subjective_item"},{label:"判断题",value:"judgment"},{label:"填空题",value:"fill"}]}},destroyed:function(){},methods:{numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]},close:function(){this.$emit("update:detailDialog",!1)},getActive:function(t){return this.detailData&&this.detailData.answer.split(",").includes(this.numberToLetter(t))}},computed:{},watch:{}}},549:function(t,e,a){},550:function(t,e,a){},551:function(t,e,a){},552:function(t,e,a){},553:function(t,e,a){"use strict";a.r(e);var i=a(554),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},554:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=c(a(108)),s=a(282),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(1108)),l=(c(a(277)),c(a(316))),u=c(a(503));function c(t){return t&&t.__esModule?t:{default:t}}function d(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}function p(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={props:["type","detailData","detailDialog","defaultData","readOnly"],components:{Resource:l.default,VaForm:n.default,Info:u.default},data:function(){return{detail:{constitute:[]},previewImgUrl:null,imgUrl:null,resourceDialog:!1,infoDialog:!1,infoData:{},dataList:{},infoValue:"info",isShowAuthor:!1,chocesArray:[]}},created:function(){this.detail=r({},this.detailData,this.defaultData)},methods:{getDetail:function(){var t=this;o.getInfo({id:this.detailData.id}).then(function(e){t.detail=e.data,t.previewImgUrl=e.data.img_src,t.imgUrl=e.data.path,t.detail.img=e.data.path,t.detail.constitute=e.data.constitute,t.chocesArray=[].concat(p(e.data.constitute)),log(11111,t.chocesArray)})},submitDetail:function(){var t=this;return d(i.default.mark(function e(){var a,r,n,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$refs.detailForm.valiAll()){e.next=4;break}return log("验证失败"),e.abrupt("return");case 4:if(a=t.$refs.fenmian.files[0],r=t.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),e.prev=6,!a){e.next=10;break}return e.next=10,(0,s.getTask)(a).then(function(e){t.detail.img=e.data.path});case 10:return e.next=12,o.save(t.detail).then(function(e){t.$emit("saveok")});case 12:t.$nextTick(function(){r.close(),t.$emit("update:detailDialog",!1)}),e.next=26;break;case 15:e.prev=15,e.t0=e.catch(6),n=e.t0.payload,r.close(),e.t1=i.default.keys(n.messages);case 20:if((e.t2=e.t1()).done){e.next=26;break}return l=e.t2.value,t.$message.error(n.messages[l]),e.abrupt("break",26);case 26:case"end":return e.stop()}},e,t,[[6,15]])}))()},previewImg:function(t){var e=t.target.files[0];this.previewImgUrl=URL.createObjectURL(e)},delDetail:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],i={},r=this.$refs.detailForm.$el,n=r.querySelectorAll("[name='ids']:checked");if(e.length?i[e]=a:n.forEach(function(t){i[t.value]=t.getAttribute("data-type"),e.push(t.value)}),!e.length)return this.$message.error("请确认你要移除的内容！");e.forEach(function(e){var a=t.detail.constitute.findIndex(function(t){return t.c_id==e||t.id==e}),i=t.chocesArray.findIndex(function(t){return t.c_id==e||t.id==e});a>-1&&t.detail.constitute.splice(a,1),i>-1&&t.chocesArray.splice(a,1)}),r.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailAddHandle:function(){var t=this;return d(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.resourceDialog=!0;case 1:case"end":return e.stop()}},e,t)}))()},bookDetailInfo:function(t,e,a){var i=this;this.isShowAuthor="1"!=e;var r=t.id,n=t.c_id;if(!o._themeDetail)return this.infoData=t,this.infoValue=a,void(this.infoDialog=!0);o._themeDetail({c_id:n,id:r,type:e}).then(function(t){i.infoData=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},addSelcet:function(){this.detail.constitute=[].concat(p(this.chocesArray)),this.resourceDialog=!1},infoHandleClick:function(t){this.infoValue=t.name}}}},555:function(t,e,a){},556:function(t,e,a){"use strict";a.r(e);var i=a(557),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},557:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(u(a(277)),u(a(799))),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(560)),o=u(a(316)),l=a(282);function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","detailData","detailDialog","readOnly","defaultData"],components:{Resource:o.default,Info:n.default},data:function(){return{infoData:this.detailData||{},resourceData:this.detailData,checkedSeries:[],file:null,types:null,series:null,previewImgUrl:null,resourceDialog:!1,resList:[],page:null,currentType:null}},created:function(){if(this.detailData&&this.detailData.id&&this.getDetail(),this.defaultData||(this.getSerList(),this.getColList()),this.defaultData){var t=this.defaultData.components,e=t.column_all,a=t.columns_info,i=t.category_all;this.infoData=this.defaultData.components,this.series=e,this.types=i,this.checkedSeries=a?a.map(function(t){return t.id}):[],this.currentType=a[0]?a[0].id:""}},methods:{getRrsouce:function(){var t=this;this.defaultData?s.seriesListOnly({product_id:this.defaultData.product_id,class_id:this.currentType}).then(function(e){t.resList=e.data}):s.seriesResList({id:this.detailData.id,class_id:this.currentType}).then(function(e){t.resList=e.data})},getDetail:function(){var t=this;s.detail({id:this.detailData.id}).then(function(e){t.infoData=e.data,t.checkedSeries=e.data.columns_info?e.data.columns_info.map(function(t){return t.id}):[]})},getSerList:function(){var t=this;s.seriesList({type:"1"}).then(function(e){t.types=e.data})},getColList:function(){var t=this;s.seriesList({type:"2"}).then(function(e){t.series=e.data})},previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},submitInfo:function(){var t,e=this;return(t=i.default.mark(function t(){var a,n,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(a=e.$refs.cover.files[0],n=e.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),o=r({},e.infoData,{columns:e.checkedSeries.join(",")}),!a){t.next=9;break}return t.next=9,(0,l.getTask)(a).then(function(t){o.img=t.data.path});case 9:return t.next=11,s.save(o).then(function(t){e.detailData.id||(e.infoData=t.data),n.close(),e.$message.success("操作成功!"),e.$emit("saveok",t.data)}).catch(function(t){n.close(),e.$message({message:t.message||"错误!",type:"error"})});case 11:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()},addSelcet:function(t){var e=this;s.addSerRes({id:this.detailData.id,class_id:this.currentType,rel_id:t.map(function(t){return t.id})}).then(function(t){e.getRrsouce(),e.resourceDialog=!1})},handleClick:function(t,e){"resource"==t.name&&(this.currentType=this.checkedSeries[0],this.getRrsouce())},add:function(){return this.detailData&&this.detailData.id?this.currentType?void(this.resourceDialog=!0):this.$message.warning("请先添加栏目"):this.$message.warning("请先保存资源")},del:function(t){var e=this;this.$confirm("是否删除?").then(function(a){s.deleteSerRes({id:e.detailData.id,class_id:e.currentType,rel_id:t}).then(function(t){e.getRrsouce()})}).catch(function(t){})}},computed:{getNav:function(){var t=this;return this.series.filter(function(e){if(t.checkedSeries.includes(e.id))return e})},getCode:function(){var t=this,e=this.types&&this.types.find(function(e){return e.id==t.infoData.category});return this.types&&e?e.code:""}},watch:{currentType:function(t,e){e&&t!=e&&this.getRrsouce()}}}},558:function(t,e,a){"use strict";a.r(e);var i=a(559),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},559:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(u(a(277)),a(282)),s=(l(n),l(a(560))),o=u(a(1111));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","infoData","readOnly","detailDialog"],created:function(){this.detailData&&this.getDetail(),this.getSerList(),this.getColList()},components:{Resource:o.default},data:function(){return{information:this.infoData,previewImgUrl:null,imgUrl:null,file:null,isIndeterminate:!0,checkAll:!1,checkedSeries:[],types:null,series:null}},watch:{checkedSeries:function(){this.$emit("checkedSer")}},methods:{getDetail:function(){var t=this;s.detail({id:this.detailData.id}).then(function(e){t.information=e.data,t.checkedSeries=e.data.columns.split(",")})},getSerList:function(){var t=this;s.seriesList({type:"1"}).then(function(e){t.types=e.data})},getColList:function(){var t=this;s.seriesList({type:"2"}).then(function(e){t.series=e.data})},previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},submitInfo:function(){var t,e=this;return(t=i.default.mark(function t(){var a,o,l;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(a=e.$refs.cover.files[0],o=e.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),l=r({},e.information,e.types,e.series,{columns:e.checkedSeries.join(",")}),!a){t.next=9;break}return t.next=9,(0,n.getTask)(a).then(function(t){l.img=t.data.path});case 9:return t.next=11,s.save(l).then(function(t){e.detailData.id||(e.information=t.data),o.close(),e.$message.success("操作成功!"),e.$emit("saveok",t.data)}).catch(function(t){o.close(),e.$message({message:t.message||"错误!",type:"error"})});case 11:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()}}}},560:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects",t)},e.urgentDigital=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/datasubjects/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/datasubjects/audits",t)},e.save=function(t){var e=t.id,a=o(t,["id"]);if(e)return(0,r.request_put)(restUrl_publish+"/api/datasubjects/"+e,a);return(0,r.request_post)(restUrl_publish+"/api/datasubjects",a)},e.detail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/datasubjects/:id");return(0,r.request_get)(e(t),t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/delete",t)},e.seriesResList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects/class/books",t)},e.seriesListOnly=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/data_subjects/class/books",t)},e.deleteSerRes=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/class/books/delete",t)},e.addSerRes=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/class/books",t)},e.seriesList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects/class",t)},e.delSeries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/datasubjects/class/:id");return(0,r.request_delete)(i({id:e}),a)},e.saveSeries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/datasubjects/class/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/datasubjects/class",a)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/datasubjects/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects/groups",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/groups",t)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/datasubjects/groups/:id");return(0,r.request_delete)(i({id:e}),a)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/groups/datasubjects",t)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},561:function(t,e,a){"use strict";a.r(e);var i=a(562),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},562:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(560)),r=s(a(316)),n=s(a(799));function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["resourceData","detailData","checkedSeries"],created:function(){log("122",this.checkedSeries),this.getList()},data:function(){return{type:"example",reslist:this.resourceData,resourceDialog:!1,resList1:[{name:"杀人案",number:"A1"},{name:"纵火案",number:"V2"},{name:"盗窃案",number:"E3"}],resList2:[{name:"国情",number:"A1"},{name:"权律二",number:"B2"},{name:"法律",number:"C3"}]}},components:{AddResource:r.default,Info:n.default},methods:{getList:function(){var t=this;i.seriesResList({id:this.detailData.id}).then(function(e){t.reslist=e.data})},addSelcet:function(t){this.curSoucesList=t,this.resourceDialog=!1}}}},563:function(t,e,a){},564:function(t,e,a){},565:function(t,e,a){},566:function(t,e,a){"use strict";a.r(e);var i=a(567),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},567:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=a(85),s=l(a(282)),o=l(a(442));u(a(1));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["type","detailData","detailDialog","detailType","defaultData","services","readOnly"],created:function(){if(this.readOnly,this.detailType,!this.defaultData&&this.detailData)this.detailData.id&&(this.getDetail(),this.getMulu(this.detailData.id));else{var t=Object.entries(this.defaultData).length?this.defaultData:this.detailData,e=t.attributes,a=t.chapters,i=t.components||this.defaultData;if(this.getMainList&&this.getMainList.forEach(function(t){for(var e in i)e!==t.label&&e!==t.name||(t.value=i[e])}),6==this.detailType?this.detailDataOwn.封面=i.封面:this.detailDataOwn.资源地址=i.资源地址,this.metadata=e||[],this.readOnly&&a){var r=(0,n.recursionTree)(a,"pid","root");this.ml=r,this.currMulu=r}else this.getMulu(this.defaultData.id)}},data:function(){return{detailDataOwn:{attributes:[]},metadata:[],ml:null,defaultProps:{children:"children",label:"chapter_name"},currMulu:null,previewImgUrl:null,file:null,detailReadOnly:!1,viewpoint:[{label:"标题",value:"",required:!0},{label:"副标题"},{label:"作者"},{label:"品类维度"},{label:"品类维度编号"},{label:"专业类别"},{label:"专业类别编号"},{label:"文集类别"},{label:"文集来源ID"},{label:"文献出处"},{label:"文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],statute:[{label:"标题",value:"",required:!0},{label:"发文字号"},{label:"发布单位"},{label:"效力状态"},{label:"品类维度"},{label:"品类维度编号"},{label:"法规类别"},{label:"法规类别编号"},{label:"学科分类"},{label:"学科分类编号"},{label:"法规来源ID"},{label:"文献出处"},{label:"法规文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],case:[{label:"标题",value:"",required:!0},{label:"主要问题(副标题)",name:"副标题"},{label:"案件类别"},{label:"案件类别编号"},{label:"案例编号"},{label:"效力状态"},{label:"品类维度"},{label:"品类维度编号"},{label:"案例来源ID"},{label:"案例(文献)出处",name:"出处"},{label:"文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],referee:[{label:"标题",value:"",required:!0},{label:"案号"},{label:"品类维度"},{label:"品类维度编号"},{label:"案件类别"},{label:"案件类别编号"},{label:"审理法院"},{label:"裁判来源ID"},{label:"裁判文献出处"},{label:"裁判文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],book:[{label:"标题",value:"",required:!0},{label:"副标题"},{label:"出版者"},{label:"ISBN"},{label:"出版日期"},{label:"作者"},{label:"责任方式"},{label:"专业类别"},{label:"专业类别编号"},{label:"品类维度"},{label:"品类维度编号"},{label:"简介"},{label:"归属套系"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],ModelEssay:[{label:"标题",value:"",required:!0},{label:"作者"},{label:"资源出处"},{label:"发表时间"},{label:"资源说明"},{label:"适用场景"},{label:"流程类别"},{label:"价格"},{label:"资源类别"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],ClassVideo:[{label:"标题",value:"",required:!0},{label:"专辑演播者"},{label:"专辑责任者"},{label:"专辑简介"},{label:"专业类别"},{label:"专业类别编号"},{label:"内容原作者"},{label:"出版时间"},{label:"关联资源"},{label:"节目数"},{label:"品类维度"},{label:"品类维度编号"},{label:"节目内容来源"},{label:"价格"}]}},methods:{getDetail:function(){var t=this;this.services.detailResource({id:this.detailData.id}).then(function(e){t.detailDataOwn=e.data,t.getMainList&&t.getMainList.forEach(function(t){for(var a in e.data)a!==t.label&&a!==t.name||(t.value=e.data[a])}),t.metadata=e.data.attributes||[]})},getMulu:function(t){var e=this;o.getBookCatalog({id:t}).then(function(t){var a=(0,n.recursionTree)(t.data,"pid","root");e.ml=a,e.currMulu=a})},handleClick:function(t,e){"ml"==t.name&&(this.currMulu=this.ml)},handleNodeClick:function(t,e,a){this.currMulu=e.data.children},muluSort:function(t,e,a){var i=this.currMulu;"up"===a?e>0&&(i.splice(e,1),i.splice(e-1,0,t)):(i.splice(e,1),i.splice(e+1,0,t)),o.siblingSort({id:t.id,sort:a})},submitDetail:function(t){var e=this;return c(i.default.mark(function t(){var a,n,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(a=e.$progress(),t.prev=4,n=void 0,!e.imgFile){t.next=9;break}return t.next=9,s.getTask(e.imgFile).then(function(t){n=t.data.path});case 9:return o={},6==e.detailType?o["封面"]=n||e.detailDataOwn.封面:o["资源地址"]=n||e.detailDataOwn.资源地址,e.getMainList&&e.getMainList.forEach(function(t){t.name?o[t.name]=t.value:o[t.label]=t.value}),t.next=14,e.services.save(r({id:e.detailData?e.detailData.id:null},o,{attributes:e.metadata,type:e.detailType,link_id:e.defaultData?e.defaultData.id:null}));case 14:e.$emit("detailBack"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(4),t.t0;case 20:a.close();case 21:case"end":return t.stop()}},t,e,[[4,17]])}))()},previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},upLoadXml:function(){var t=this;return c(i.default.mark(function e(){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.file){e.next=5;break}return a=t.$progress(),e.next=4,s.getTask(t.file,{is_chunk:!0,size:1048576},function(t){a.percentage=t}).then(function(e){t.detailDataOwn.preview=e.data.path});case 4:a.close();case 5:case"end":return e.stop()}},e,t)}))()},previewBook:function(t){var e=t.target.files[0];this.file=e,dir(e,"file")}},computed:{getMainList:function(){switch(Number(this.detailType)){case 1:return this.case;case 2:return this.statute;case 3:return this.viewpoint;case 4:return this.referee;case 6:return this.book;case 7:return this.ModelEssay;case 8:return this.ClassVideo}}}}},568:function(t,e,a){},569:function(t,e,a){"use strict";a.r(e);var i=a(570),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},570:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(a(20)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=p(a(763)),s=f(a(316)),o=a(282),l=f(a(1118)),u=p(a(344)),c=f(a(503)),d=f(a(1119));function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.default={props:["type","detailData","detailDialog","readOnly","defaultData","detailType"],components:{Resource:s.default,Info:c.default,PracticeInfo:d.default},data:function(){var t;return v(t={infoData:this.detailData||{},resourceData:this.detailData,resourceDialog:!1,checkedSeries:[],file:null,types:null,series:null,previewImgUrl:null},"resourceDialog",!1),v(t,"resList",[]),v(t,"page",null),v(t,"currentType",null),v(t,"proType",l.default),v(t,"infoDialog",!1),v(t,"practiceDialog",!1),v(t,"infoDetail",{}),v(t,"infoValue","info"),t},computed:{getType:function(){var t=this;return this.proType.find(function(e){return e.value==t.detailType}).label},sourceType:function(){var t=this;return this.proType.find(function(e){return e.value==t.detailType}).type}},created:function(){this.detailData&&this.detailData.id?this.getDetail():this.infoData.constitute=[],this.defaultData&&(this.infoData=this.defaultData.info,this.infoData.constitute=this.infoData.components)},methods:{submitDetail:function(){var t,e=this;return(t=i.default.mark(function t(){var a,s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(a=e.$refs.fenmian.files[0],s=e.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,!a){t.next=10;break}return t.next=10,(0,o.getTask)(a).then(function(t){e.infoData.img=t.data.path});case 10:return t.next=12,n.save(r({},e.infoData,{product_type:e.detailType})).then(function(t){s.close(),e.$emit("saveok",t.data)});case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),e.$message.error(t.t0.message),s.close();case 18:case"end":return t.stop()}},t,e,[[6,14]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})})()},getDetail:function(){var t=this;n.detail({id:this.detailData.id}).then(function(e){t.infoData=e.data,t.$set(t.infoData,"constitute",t.infoData.constitutes)})},previewImg:function(t){var e=t.target.files[0];this.previewImgUrl=URL.createObjectURL(e)},detailTopHandle:function(){var t=this;log(this.infoData.constitute);var e=[],a=document.querySelector(".detailForm");if(a.querySelectorAll("[name='ids']:checked").forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要置顶的内容！");for(var i=function(a){var i=t.infoData.constitute.findIndex(function(t){return t.id==e[a]}),r=t.infoData.constitute[i];t.infoData.constitute.splice(i,1),t.infoData.constitute.unshift(r)},r=e.length-1;r>=0;r--)i(r);a.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailRemoveHandle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],i={},r=this.$refs.detailForm.$el,n=r.querySelectorAll("[name='ids']:checked");if(e.length?i[e]=a:n.forEach(function(t){i[t.value]=t.getAttribute("data-type"),e.push(t.value)}),!e.length)return this.$message.error("请确认你要移除的内容！");e.forEach(function(e){var a=t.infoData.constitute.findIndex(function(t){return t.c_id==e||t.id==e});a>-1&&t.infoData.constitute.splice(a,1)}),r.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailSort:function(t,e){var a=this.detail.constitute.findIndex(function(t){return t.id==e}),i="up"==t?-1:1,r=this.detail.constitute;r.splice.apply(r,[a,1].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(r.splice(a+i,1,r[a]))))},bookDetailInfo:function(t,e,a){var i=this;if(31==e)return this.practiceDialog=!0,void(this.infoData=t);if(this.defaultData)return this.infoDetail=t,this.infoValue=a,void(this.infoDialog=!0);var r=t.id,n=t.c_id;u._themeDetail({c_id:n,id:r,type:e}).then(function(t){i.infoDetail=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;i.$message.error(e.message)})},detailAddHandle:function(){this.resourceDialog=!0},addSelcet:function(t){this.resourceDialog=!1}},watch:{}}},571:function(t,e,a){"use strict";a.r(e);var i=a(572),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},572:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["detailData","detailDialog"],components:{},created:function(){this.detailData},data:function(){return{}},mounted:function(){},destroyed:function(){},methods:{numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]},close:function(){this.$emit("close",!1)},getActive:function(t){return this.detailData.answer.split(",").includes(this.numberToLetter(t))}},computed:{},watch:{}}},573:function(t,e,a){},574:function(t,e,a){},575:function(t,e,a){},757:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addPicture=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/pictures",t).then(function(t){var e=t.data,a=e._id,i=e.name,r=e.abs,n=e.author,o=e.tag,l=e.type_name;return(0,s.addResListener)({res_id:a,res_type:l,res_name:i,res_exp:r,res_author:n,res_lables:[o]}),t})},e.modifyPicture=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/pictures/:id");return(0,i.request_put)(r({id:e}),a)},e.listPicture=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(restUrl_publish+"/api/pictures",t)},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,i.getFullPath)(restUrl_publish+"/api/pictures/export"+r.default.stringify(t,{addQueryPrefix:!0}))}),(0,i.request_get)(restUrl_publish+"/api/pictures/export",t)},e.putin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/pictures/import",t)},e.deletePicture=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/pictures/delete",t)},e.detailPicture=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.default.compile(restUrl_publish+"/api/pictures/:id");return(0,i.request_get)(e(t))},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/pictures/groups/:id");return(0,i.request_put)(r({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/pictures/groups/delete",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/pictures/groups",t)},e.listGroup=function(){return(0,i.request_get)(restUrl_publish+"/api/pictures/groups")},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)(restUrl_publish+"/api/pictures/groups",t)};var i=a(49),r=o(a(19)),n=o(a(82)),s=a(83);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},758:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/audios",t).then(function(t){var e=t.data,a=e._id,i=e.name,r=e.abs,n=e.author,o=e.tag,l=e.type_name;return(0,s.addResListener)({res_id:a,res_type:l,res_name:i,res_exp:r,res_author:n,res_lables:[o]}),t})},e.modify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/audios/:id");return(0,i.request_put)(r({id:e}),a)},e.listAudio=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(restUrl_publish+"/api/audios",t)},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,i.getFullPath)(restUrl_publish+"/api/audios/export"+r.default.stringify(t,{addQueryPrefix:!0}))}),(0,i.request_get)(restUrl_publish+"/api/audios/export",t)},e.putin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/audios/import",t)},e.deleteAudio=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/audios/delete",t)},e.detailAudio=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.default.compile(restUrl_publish+"/api/audios/:id");return(0,i.request_get)(e(t),t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/audios/groups/:id");return(0,i.request_put)(r({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/audios/groups/delete",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/audios/groups",t)},e.listGroup=function(){return(0,i.request_get)(restUrl_publish+"/api/audios/groups")},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)(restUrl_publish+"/api/audios/groups",t)};var i=a(49),r=o(a(19)),n=o(a(82)),s=a(83);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},762:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/contents/:id");return(0,i.request_put)(r({id:e}),a)},e.listContent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(restUrl_publish+"/api/contents",t)},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,i.getFullPath)(restUrl_publish+"/api/contents/export"+r.default.stringify(t,{addQueryPrefix:!0}))}),(0,i.request_get)(restUrl_publish+"/api/contents/export",t)},e.putin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/contents/import",t)},e.deleteContent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/contents/delete",t)},e.detailContent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(toPath(t))},e.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/contents",t).then(function(t){var e=t.data,a=e._id,i=e.name,r=e.abs,n=e.author,o=e.tag,l=e.type_name;return(0,s.addResListener)({res_id:a,res_type:l,res_name:i,res_author:n,res_exp:r,res_lables:[o]}),t})},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/contents/groups/:id");return(0,i.request_put)(r({id:e}),a)},e.listGroup=function(){return(0,i.request_get)(restUrl_publish+"/api/contents/groups")},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/contents/groups/delete",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/contents/groups",t)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)(restUrl_publish+"/api/contents/groups",t)};var i=a(49),r=o(a(19)),n=o(a(82)),s=a(83);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},763:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/qrcode",t)},e.urgentDigital=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/qrcode/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/qrcode/audits",t)},e.save=function(t){var e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/qrcode/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/qrcode",a)},e.detail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/qrcode/:id");return(0,r.request_get)(e(t),t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/qrcode/delete",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/qrcode/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/qrcode/groups",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/qrcode/groups",t)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/qrcode/groups/:id");return(0,r.request_delete)(i({id:e}),a)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.rel_id=t.id,delete t.id,(0,r.request_put)(restUrl_publish+"/api/groups/qrcode",t)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},764:function(t,e,a){"use strict";a.r(e);var i=a(1571),r=a(453);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1046);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"ebc4c14e",null);e.default=o.exports},796:function(t,e,a){"use strict";a.r(e);var i=a(1559),r=a(481);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1057);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"9f5c06d6",null);e.default=o.exports},797:function(t,e,a){"use strict";a.r(e);var i=a(1555),r=a(487);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1058);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"3584d4e9",null);e.default=o.exports},798:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/video_product",t)},e.save=function(t){var e=t.id,a=l(t,["id"]);if(e)return(0,r.request_put)(restUrl_publish+"/api/video_product/"+e,a);return(0,r.request_post)(restUrl_publish+"/api/video_product",a)},e.getInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/video_product/:id");return(0,r.request_get)(e(t),t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/video_product/delete",t)},e.urgentDigital=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/video_product/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/video_product/audits",t)},e.issuance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=s.default.compile(restUrl_publish+"/api/comproduct/:id/issuance");return(0,r.request_put)(i({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/video_product/groups",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/video_product/:id/groups");return(0,r.request_put)(e(t),t)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/video_product/:id/groups");return(0,r.request_delete)(e({id:t.id[0]}),t)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/video_product/groups",t)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.rel_id=t.id,delete t.id,(0,r.request_put)(restUrl_publish+"/api/groups/video_product",t)},e.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/video_product/component",t)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i},o=a(83);function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},799:function(t,e,a){"use strict";a.r(e);var i=a(1556),r=a(558);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1113);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"f29d208e",null);e.default=o.exports},898:function(t,e,a){"use strict";a.r(e);var i=a(1548),r=a(439);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1060);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"e47e6618",null);e.default=o.exports},899:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addArticle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/articles",t).then(function(t){var e=t.data,a=e._id,i=e.name,r=e.abs,n=e.author,o=e.tag,l=e.type_name;return(0,s.addResListener)({res_id:a,res_type:l,res_name:i,res_exp:r,res_author:n,res_lables:[o]}),t})},e.modifyArticle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/articles/:id");return(0,i.request_put)(r({id:e}),a)},e.listArticle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(restUrl_publish+"/api/articles",t)},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,i.getFullPath)(restUrl_publish+"/api/articles/export"+r.default.stringify(t,{addQueryPrefix:!0}))}),(0,i.request_get)(restUrl_publish+"/api/articles/export",t)},e.putin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/articles/import",t)},e.deleteArticle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/articles/delete",t)},e.detailArticle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/articles/:id");return(0,i.request_get)(r({id:e}),a)},e.pushArticle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/articles/push",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/articles/groups/:id");return(0,i.request_put)(r({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/articles/groups/delete",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/articles/groups",t)},e.listGroup=function(){return(0,i.request_get)(restUrl_publish+"/api/articles/groups")},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)(restUrl_publish+"/api/articles/groups",t)};var i=a(49),r=o(a(19)),n=o(a(82)),s=a(83);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},902:function(t,e){},915:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.debrisList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/chapters",t)},e.addDebris=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/chapters",t)},e.modifyDebris=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/chapters/:id");return(0,r.request_put)(e(t),t)},e.publishWork=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/chapters/books");return(0,r.request_post)(e(t),t)},e.deleteDbris=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/chapters/delete",t)},e.detailDebris=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/chapters/:id");return(0,r.request_get)(i({id:e}),a)},e.listGroup=function(){return(0,r.request_get)(restUrl_publish+"/api/chapters/groups")},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/chapters/groups",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,r.request_delete)(i({id:e}),a)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/groups/chapters",t)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},916:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/rechapters",t)},e.detailRecom=function(t){var e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/rechapters/:id");return(0,r.request_get)(i({id:e}),a)},e.deleteRecom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/rechapters/delete",t)},e.updateRecom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.default.compile(restUrl_publish+"/api/rechapters/:id");return(0,r.request_put)(put(t),t)},e.addRecom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/rechapters",t)},e.save=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]);if(e)return(0,r.request_put)(restUrl_publish+"/api/rechapters/"+e,a);return(0,r.request_post)(restUrl_publish+"/api/rechapters",a)},e.listGroup=function(){return(0,r.request_get)(restUrl_publish+"/api/rechapters/groups")},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/rechapters/groups",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/chapters/groups/:id");return(0,r.request_delete)(i({id:e}),a)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/groups/chapters",t)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},917:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resourceList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type;e&&e.indexOf("-")&&(t.type=e.split("-")[1]);return(0,r.request_get)(restUrl_publish+"/api/databooks",t)},e.save=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/databooks/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/databooks",a)},e.detailResource=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/databooks/:id");return(0,r.request_get)(i({id:e}),a)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/databooks/delete",t)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/databooks/groups",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/databooks/groups",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/databooks/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/databooks/groups/:id");return(0,r.request_delete)(i({id:e}),a)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/groups/databooks",t)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},918:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess_ar",t).then(function(t){var e=t.data,a=e._id,i=e.name,r=e.abs,n=e.author,o=e.tag,l=e.type_name;return(0,s.addResListener)({res_id:a,res_type:l,res_name:i,res_exp:r,res_author:n,res_lables:[o]}),t})},e.modify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess_ar/:id");return(0,i.request_put)(r({id:e}),a)},e.listLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(restUrl_publish+"/api/librariess_ar",t)},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,i.getFullPath)(restUrl_publish+"/api/librariess_ar/export"+r.default.stringify(t,{addQueryPrefix:!0}))}),(0,i.request_get)(restUrl_publish+"/api/librariess_ar/export",t)},e.putin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess_ar/import",t)},e.deleteLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess_ar/delete",t)},e.detailLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.default.compile(restUrl_publish+"/api/librariess_ar/:id");return(0,i.request_get)(e(t))},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess_ar/groups/:id");return(0,i.request_put)(r({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess_ar/groups/delete",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess_ar/groups",t)},e.listGroup=function(){return(0,i.request_get)(restUrl_publish+"/api/librariess_ar/groups")},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)(restUrl_publish+"/api/librariess_ar/groups",t)};var i=a(49),r=o(a(19)),n=o(a(82)),s=a(83);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},919:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess_vr",t).then(function(t){var e=t.data,a=e._id,i=e.name,r=e.abs,n=e.author,o=e.tag,l=e.type_name;return(0,s.addResListener)({res_id:a,res_type:l,res_name:i,res_exp:r,res_author:n,res_lables:[o]}),t})},e.modify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess_vr/:id");return(0,i.request_put)(r({id:e}),a)},e.listLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(restUrl_publish+"/api/librariess_vr",t)},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,i.getFullPath)(restUrl_publish+"/api/librariess_vr/export"+r.default.stringify(t,{addQueryPrefix:!0}))}),(0,i.request_get)(restUrl_publish+"/api/librariess_vr/export",t)},e.putin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess_vr/import",t)},e.deleteLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess_vr/delete",t)},e.detailLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.default.compile(restUrl_publish+"/api/librariess_vr/:id");return(0,i.request_get)(e(t))},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess_vr/groups/:id");return(0,i.request_put)(r({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess_vr/groups/delete",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess_vr/groups",t)},e.listGroup=function(){return(0,i.request_get)(restUrl_publish+"/api/librariess_vr/groups")},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)(restUrl_publish+"/api/librariess_vr/groups",t)};var i=a(49),r=o(a(19)),n=o(a(82)),s=a(83);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},920:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/shared_resource",t)},e.getResource=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r.request_get)(restUrl_publish+"/api/shared_resource/list")},e.save=function(t){var e=t.id,a=function(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/shared_resource/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/shared_resource",a)},e.getInfo=function(t){var e=s.default.compile(restUrl_publish+"/api/shared_resource/:id");return(0,r.request_get)(e({id:t}))},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/shared_resource/delete",t)},e.urgentDigital=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/shared_resource/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/shared_resource/audits",t)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};a(83)},921:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/course_examination_paper/:id");return(0,r.request_get)(e(t))},e.save=function(t){var e=t.id,a=function(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/course_examination_paper/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/course_examination_paper",a)},e.getInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/course_examination_paper/paper/:id");return(0,r.request_get)(e(t))},e.getInfos=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/course_examination_paper/paper_info/:id");return(0,r.request_get)(e(t))},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_delete)(restUrl_publish+"/api/course_examination_paper/"+t.id)},e.saveExercise=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/course_examination_paper/practice",t)},e.saveExercises=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/course_examination_paper/practice_update",t)},e.getResource=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/course_examination_paper/get_tp_list/:id");return(0,r.request_get)(e({id:t.course_id}))};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i}},922:function(t,e,a){"use strict";a.r(e);var i=a(1564),r=a(445);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(925);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"775510e4",null);e.default=o.exports},923:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.homeInfo=function(){return(0,r.request_get)(restUrl_publish+"/api/home/statistics")},e.getInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/comproduct/:id");return(0,r.request_get)(e(t))},e.save=function(t){var e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/comproduct/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/comproduct/add",a)},e.saveInfo=function(t){t.id;var e=o(t,["id"]);return(0,r.request_post)(restUrl_publish+"/api/comproduct/attributes",e)};var i,r=a(49),n=a(82),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},925:function(t,e,a){"use strict";var i=a(447);a.n(i).a},926:function(t,e,a){"use strict";a.r(e);var i=a(1572),r=a(450);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(927);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2628d7d4",null);e.default=o.exports},927:function(t,e,a){"use strict";var i=a(452);a.n(i).a},928:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],i=!0,r=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(a.push(s.value),!e||a.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw n}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.get_book=function(t,e){var a=t.bookId,i=e.extraParams;return(0,l.request_post)(u+"/reader/books",r({book_id:a},i)).then(function(t){var e=t.data;return e})},e.get_catalogs=function(t,e){var a=t.bookId,i=t.chapterId,n=e.extraParams;return(0,l.request_post)(u+"/reader/catalogs",r({book_id:a,catalog_pid:i},n)).then(function(t){var e=t.data;return e})},e.get_chapters=function(t,e){var a=t.bookId,i=t.chapterIds,n=e.extraParams;return(0,l.request_post)(u+"/reader/chapters",r({chapter_id:i,book_id:a},n)).then(function(t){var e=t.data;return e})},e.search=function(t,e){var a=t.keyword,i=t.bookId,n=t.page,s=t.chapterRid,o=e.extraParams;return(0,l.request_post)(u+"/reader/search",r({keyword:a,book_id:i,chapter_id:s,pageStart:n.start,pageOffset:n.offset},o)).then(function(t){var e=t.data,a=t.page;return{list:e,page:a}})},e.get_labels=function(t,e){var a=t.bookId,i=e.extraParams;return(0,l.request_get)("/api/book_notes",{book_id:a,user_id:i.user_id}).then(function(t){var e=t.data;return e})},e.add_label=function(t,e){var a=t.bookId,i=t.chapterRid,n=t.chapterName,s=t.userText,o=t.rangeJSON,u=t.selectedText,c=t.status,d=e.extraParams;return(0,l.request_post)("/api/book_notes",r({book_id:a,chapter_id:i,chapter_name:n,chapter_value:u,comm_text:s,range:o,protected:c},d)).then(function(t){var e=t.data;return e})},e.get_bookmarks=function(t,e){var a=t.bookId,i=e.extraParams;return(0,l.request_get)("/api/book_marks",{book_id:a,user_id:i.user_id}).then(function(t){var e=t.data;return e})},e.add_bookmark=function(t,e){var a=t.bookId,i=t.chapterRid,n=t.chapterName,s=t.rangeJSON,o=t.text,u=e.extraParams;return(0,l.request_post)("/api/book_marks",r({book_id:a,chapter_id:i,chapter_name:n,chapter_value:o,range:s},u)).then(function(t){var e=t.data;return e})},e.remove_bookmarks=function(t,e){c(t,e)},e.remove_labels=function(t,e){c(t,e)},e.modify_label=function(t){return t.range=JSON.stringify(t.range),t.comm_text=t.userText,delete t.userText,(0,l.request_put)("/api/book_notes",r({},t)).then(function(t){return t.data})},e.backup_setting=function(t){return(0,l.request_post)("/api/user_read_setting",{data:JSON.stringify(t)})},e.restore_setting=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,l.request_get)("/api/user_read_setting").then(function(t){var e=t.data,a=o.default.isArray(e)&&e[0]||e;return a?JSON.parse(a):{}})},e.set_progress=function(t,e){var a=t.bookId,i=(t.chapterRid,t.progressJSON),r=t.percentJSON,n=e.extraParams;return(0,l.request_post)("/api/read_record",{data:i,proportion:r,release_id:n.release_id,book_id:a})},e.get_progress=function(t,e){var a=t.bookId,r=e.extraParams;return(0,l.request_get)("/api/read_record",{book_id:a,release_id:r.release_id}).then(function(t){var e=i(t.data,1),a=e[0];return a})};var n,s=a(929),o=(n=s)&&n.__esModule?n:{default:n},l=a(49);var u="publish"=="teach"?"/api":"/common/api";function c(t,e){var a=t.ids,i=e.extraParams;return(0,l.request_post)("/api/book_exegesis/delete",r({id:a},i)).then(function(t){return t.data})}}}]);