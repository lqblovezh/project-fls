/*!
 * {
 *   "buildtime": "2019-06-14 15:40:00",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "cc62e1956",
 *     "message": [
 *       "commit cc62e195633d44aadf65545d70d92ce1a5c1c701",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Fri Jun 14 15:39:28 2019 +0800",
 *       "    'xxx'"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1123:function(e,t,a){"use strict";var n=a(576);a.n(n).a},1485:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TPL",{ref:"child",attrs:{closed:{del:!0},total:e.total},on:{sizeChange:e.handleSizeChange,currentChange:e.handleCurrentChange}},[a("div",{staticClass:"search",attrs:{slot:"search"},slot:"search"},[a("el-input",{staticClass:"dy_inputWidth",attrs:{placeholder:"课件资源名称",clearable:""},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),a("el-input",{staticClass:"dy_inputWidth",attrs:{placeholder:"教师名称",clearable:""},model:{value:e.query.teach_name,callback:function(t){e.$set(e.query,"teach_name",t)},expression:"query.teach_name"}}),e.$config.isTeacher?e._e():a("el-select",{staticClass:"dy_inputWidth",model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"暂停",value:"0"}}),a("el-option",{attrs:{label:"启用",value:"1"}})],1),a("div",{staticClass:"right"},[a("el-button",{staticClass:"el-icon-search",attrs:{type:"primary"},on:{click:function(t){return e.seareHandeler(e.query)}}},[e._v("搜索")])],1)],1),a("div",{staticClass:"list",attrs:{slot:"list"},slot:"list"},[a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{stripe:"",data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",fixed:""}}),a("el-table-column",{attrs:{label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("img",{staticClass:"cover-photo",attrs:{src:n.img_src}}),a("div",{staticClass:"th-name bookName",attrs:{title:n.name}},[e._v(e._s(n.name))])]}}])}),a("el-table-column",{attrs:{prop:"teach_name",label:e.$config.isTeacher?"所属人":"教师"}}),e.$config.isTeacher?e._e():a("el-table-column",{attrs:{prop:"status_name",label:"状态"}}),a("el-table-column",{attrs:{prop:"price",label:"授权价格"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[1===n.status&&e.$config.isTeacher?a("Icon",{attrs:{type:"icon-sync",title:"使用"},on:{click:function(t){return e.use(n.id)}}}):e._e(),0!==n.status||e.$config.isTeacher?e._e():a("Icon",{attrs:{type:"icon-essence",title:"启用"},on:{click:function(t){return e.enable(n.id)}}}),1!==n.status||e.$config.isTeacher?e._e():a("Icon",{attrs:{type:"icon-un-essence",title:"停用"},on:{click:function(t){return e.enable(n.id)}}}),a("Icon",{attrs:{type:"icon-detail",title:"详情"},on:{click:function(t){return e.showDetail(n.id,8)}}}),e.$config.isTeacher?e._e():a("Icon",{attrs:{type:"icon-delete",title:"删除"},on:{click:function(t){return e.del([n.id])}}})]}}])})],1),e.detailVisible?a("Detail",{attrs:{detailVisible:e.detailVisible,defaultData:e.detailData,type:e.productType},on:{"update:detailVisible":function(t){e.detailVisible=t},"update:detail-visible":function(t){e.detailVisible=t}}}):e._e()],1)])},i=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i})},232:function(e,t,a){"use strict";a.r(t);var n=a(1485),i=a(435);for(var s in i)"default"!==s&&function(e){a.d(t,e,function(){return i[e]})}(s);a(1123);var r=a(0),l=Object(r.a)(i.default,n.a,n.b,!1,null,"6da7db81",null);t.default=l.exports},435:function(e,t,a){"use strict";a.r(t);var n=a(436),i=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);t.default=i.a},436:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=a(278),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(897)),r=a(371),l=(n=r)&&n.__esModule?n:{default:n};t.default={mixins:[i.main],components:{Detail:l.default},data:function(){return{query:{name:"",teach_name:"",status:""},service:s}},methods:{use:function(e){var t=this;this.service.use({id:e}).then(function(e){t.$message.success("你可以在x-publish课程制作中使用该资源，课程产生的收入将首先支付授权价格")},function(e){t.$message.error(e.message)})},enable:function(e){var t=this;this.service.enable({id:e}).then(function(e){t.getList()})}}}},576:function(e,t,a){},897:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/api/shared_resource",e)},t.detail=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(l(e))},t.del=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/shared_resource/delete",e)},t.use=function(e){var t=e.id;return(0,i.request_put)(c({id:t}))},t.enable=function(e){var t=e.id;return(0,i.request_get)(u({id:t}))};var n,i=a(49),s=a(82),r=(n=s)&&n.__esModule?n:{default:n};var l=r.default.compile("/api/shared_resource/:id"),c=r.default.compile("/api/shared_resource/authorization/:id"),u=r.default.compile("/api/shared_resource/status/:id")}}]);