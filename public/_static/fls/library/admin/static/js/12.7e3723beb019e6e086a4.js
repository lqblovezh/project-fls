/*!
 * {
 *   "buildtime": "2019-07-19 15:10:33",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "95ac4eac7",
 *     "message": [
 *       "commit 95ac4eac704fa029807f3f814b494e89f845f835",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Fri Jul 19 15:09:46 2019 +0800",
 *       "    xx"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[12,23],{1104:function(t,e,i){"use strict";var n=i(677);i.n(n).a},1445:function(t,e,n){"use strict";function i(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",[n("Nav"),n("div",{staticClass:"content"},[i._m(0),n("el-radio",{attrs:{label:1},model:{value:i.status,callback:function(t){i.status=t},expression:"status"}},[i._v("圆形")]),n("div",{staticClass:"box"},i._l(i.circular,function(t,e){return n("div",{staticClass:"item",on:{click:function(t){return i.update("circular",e,"1")}}},[n("p",{staticClass:"icon",style:{backgroundImage:"url("+t.img_src}}),n("p",{staticClass:"txt"},[i._v(i._s(t.name))])])}),0),n("div",{staticClass:"line"},[i._v("分割线")]),n("el-radio",{attrs:{label:2},model:{value:i.status,callback:function(t){i.status=t},expression:"status"}},[i._v("方形")]),n("div",{staticClass:"box"},i._l(i.block,function(t,e){return n("div",{staticClass:"item"},[n("el-button",{staticClass:"btn",style:{background:"#ccc url("+t.img_src+") no-repeat 80% center"},on:{click:function(t){return i.update("block",e,"2")}}},[i._v(i._s(t.name))])],1)}),0),n("el-dialog",{attrs:{title:"",visible:i.dialogVisible,width:"30%"},on:{"update:visible":function(t){i.dialogVisible=t}}},[n("span",{staticClass:"dialog"},[n("el-form",{ref:"form",attrs:{"label-width":"60px"}},[n("el-form-item",{attrs:{label:"图标 : "}},[n("input",{ref:"icon",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return i.previewImg(t)}}}),n("img",{staticClass:"icon",attrs:{src:i.src_img}}),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return i.$refs.icon.click()}}},[i._v(" 替换")])],1),n("p",{staticClass:"imgSize"},[n("span",{staticClass:"bannerSize"},[i._v("建议图片大小:126*126px")])]),n("el-form-item",{attrs:{label:"名称 : "}},[n("el-input",{model:{value:i.addlist.name,callback:function(t){i.$set(i.addlist,"name",t)},expression:"addlist.name"}})],1),n("el-form-item",{attrs:{label:"排序 : "}},[n("el-input",{attrs:{type:"number"},model:{value:i.addlist.number,callback:function(t){i.$set(i.addlist,"number",t)},expression:"addlist.number"}})],1),n("el-checkbox",{model:{value:i.addlist.src_status,callback:function(t){i.$set(i.addlist,"src_status",t)},expression:"addlist.src_status"}},[i._v("链接")]),n("el-form-item",{attrs:{label:"https://"}},[n("el-input",{model:{value:i.addlist.src,callback:function(t){i.$set(i.addlist,"src",t)},expression:"addlist.src"}})],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){i.dialogVisible=!1}}},[i._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return i.save()}}},[i._v("确定")])],1)])],1)],1)}var s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info"},[i("img",{attrs:{src:n(670)}}),i("span",[t._v("系统默认圆形按钮显示4个按钮，名称限制为2-3个汉字，方形按钮显示4-8个，名称限制为3-5汉字。")])])}];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s})},253:function(t,e,i){"use strict";i.r(e);var n=i(464),s=i(293);for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);i(452);var r=i(1),c=Object(r.a)(s.default,n.a,n.b,!1,null,"3e65aec9",null);e.default=c.exports},259:function(t,e,i){"use strict";i.r(e);var n=i(1445),s=i(674);for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);i(1104);var r=i(1),c=Object(r.a)(s.default,n.a,n.b,!1,null,"614e6be3",null);e.default=c.exports},293:function(t,e,i){"use strict";i.r(e);var n=i(294),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e.default=s.a},294:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{navTab:[{txt:"Banner设置",href:"/wms/indexSettings/banner",active:"active"},{txt:"栏目设置",href:"/wms/indexSettings/columns",active:""},{txt:"按钮设置",href:"/wms/indexSettings/button",active:""}]}},methods:{handleNavClick:function(t){this.$router.push({path:this.navTab[t].href,query:{index:"/wms/indexSettings"}})},checkSrc:function(){var t=!0,e=!1,i=void 0;try{for(var n,s=this.navTab[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var a=n.value;this.$route.path==a.href?a.active="active":"/wms/indexSettings"==this.$route.path?this.navTab[0].active="active":a.active=""}}catch(t){e=!0,i=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw i}}}},created:function(){this.navTab=[{txt:"Banner设置",href:"/wms/indexSettings/banner",active:"active"},{txt:"按钮设置",href:"/wms/indexSettings/button",active:""},{txt:"首页设置",href:"/wms/indexSettings/home",active:""}],this.checkSrc()},watch:{$route:function(){this.checkSrc()}}}},295:function(t,e,i){},452:function(t,e,i){"use strict";var n=i(295);i.n(n).a},464:function(t,e,i){"use strict";function n(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",[n("div",{staticClass:"settingsNavTab"},[n("ul",i._l(i.navTab,function(t,e){return n("li",{class:t.active,on:{click:function(t){return i.handleNavClick(e)}}},[i._v(i._s(t.txt))])}),0)]),n("router-view")],1)}var s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})},670:function(t,e,i){t.exports=i.p+"static/img/u2001.png?23e21117c7e4bef1ac142340ddacf55a"},674:function(t,e,i){"use strict";i.r(e);var n=i(675),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e.default=s.a},675:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=c(i(16)),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i(676)),r=i(80),n=c(i(253));function c(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Nav:n.default},data:function(){return{block:[],circular:[],dialogVisible:!1,iconImg:"",src_img:"",status:"",addlist:{name:"",img:"",number:"",src:"",src_status:!1,type:"",status:!1,id:""}}},created:function(){this.getList()},methods:{getList:function(){var e=this;a.getList().then(function(t){e.block=t.data.block,e.circular=t.data.circular,log(e.block[0]),"true"==e.block[0].status?e.status=2:e.status=1})},update:function(t,e,i){this.addlist.type=i;var n=this[t][e];this.src_img=n.img_src,this.addlist.name=n.name,this.addlist.src=n.src,this.addlist.id=n.id,n.src_status?this.addlist.src_status=!0:this.addlist.src_status=!1,i==this.status?this.addlist.status=!0:this.addlist.status=!1,this.addlist.number=n.number,this.dialogVisible=!0},previewImg:function(t){var e=t.target.files[0];this.src_img=URL.createObjectURL(e)},add:function(t){this.addlist.type=t,this.src_img="",this.addlist.name="",this.addlist.src="",this.addlist.id=null,this.addlist.num="",this.dialogVisible=!0},save:function(){var n=this;return function(t){return function(){var c=t.apply(this,arguments);return new Promise(function(a,r){return function e(t,i){try{var n=c[t](i),s=n.value}catch(t){return void r(t)}if(!n.done)return Promise.resolve(s).then(function(t){e("next",t)},function(t){e("throw",t)});a(s)}("next")})}}(s.default.mark(function t(){var e,i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(log(n.addlist),e=n.$refs.icon.files[0],i=n.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=3,e)return t.next=7,(0,r.getTask)(e).then(function(t){n.addlist.img=t.data.path});t.next=7;break;case 7:setTimeout(function(){i.close()},500),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),i.close();case 13:n.dialogVisible=!1,a.save(n.addlist).then(function(t){n.getList()});case 15:case"end":return t.stop()}},t,n,[[3,10]])}))()}},watch:{status:function(){1==this.status?a.show({type:1}):2==this.status&&a.show({type:2})}}}},676:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)("/api/buttons",t)},e.save=function(t){var e=t.id,i=c(t,["id"]);if(e)return(0,s.request_put)(u({id:e}),i);return(0,s.request_post)("/api/buttons",i)},e.detail=function(t){var e=t.id,i=c(t,["id"]);return(0,s.request_get)(u({id:e}),i)},e.del=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)("/api/buttons/delete",t)},e.sort=function(t){var e=t.id,i=c(t,["id"]);return(0,s.request_put)(l({id:e}),i)},e.show=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_put)("/api/buttons/status",t)};var n,s=i(15),a=i(22),r=(n=a)&&n.__esModule?n:{default:n};function c(t,e){var i={};for(var n in t)0<=e.indexOf(n)||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}var u=r.default.compile("/api/buttons/:id"),l=r.default.compile("/api/buttons/sort/:id")},677:function(t,e,i){}}]);