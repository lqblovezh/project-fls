/*!
 * {
 *   "buildtime": "2019-07-19 15:10:33",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "95ac4eac7",
 *     "message": [
 *       "commit 95ac4eac704fa029807f3f814b494e89f845f835",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Fri Jul 19 15:09:46 2019 +0800",
 *       "    xx"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1116:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/user/roles",t)},e.save=function(t){var e=t.id,a=function(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}(t,["id"]);if(e)return(0,n.request_put)(o({id:e}),a);return(0,n.request_post)("/api/user/roles",a)},e.detail=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(o(t),t)},e.del=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/user/roles/delete",t)};var i,n=a(15),s=a(22);var o=((i=s)&&i.__esModule?i:{default:i}).default.compile("/api/user/roles/:id")},1117:function(t,e,a){"use strict";var i=a(710);a.n(i).a},1438:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"box"},[i("div",{staticClass:"top serachWrap"},[i("form",{attrs:{id:"mainForm"}},[i("span",{staticClass:"group-inline"},[i("el-input",{attrs:{placeholder:"输入用户名搜索",name:"name",clearable:""},model:{value:a.where.name,callback:function(t){a.$set(a.where,"name",t)},expression:"where.name"}})],1),i("span",{staticClass:"group-inline"},[i("el-input",{attrs:{placeholder:"输入手机号搜索",name:"phone",clearable:""},model:{value:a.where.phone,callback:function(t){a.$set(a.where,"phone",t)},expression:"where.phone"}})],1),i("span",{staticClass:"group-inline"},[i("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),a._m(0),i("span",{staticClass:"group-inline right"},[i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-search"},on:{click:a.search}},[a._v("搜索")]),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return a.educe()}}},[a._v("导出查询")])],1)])]),i("div",{staticClass:"content"},[i("table",{staticClass:"list"},[a._m(1),i("tbody",a._l(a.list,function(e,t){return i("tr",[i("td",[i("span",[a._v(a._s(t+1))]),i("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden"},domProps:{value:e.id}})]),i("td",[a._v(a._s(e.name))]),i("td",[a._v(a._s(e.phone))]),i("td",[a._v(a._s(e.order_paid_count||"0.00"))]),i("td",[a._v(a._s(e.order_paid_money||"0.00"))]),i("td",[a._v(a._s(e.distribute_paid_count||"0.00"))]),i("td",[a._v(a._s(e.distribute_paid_money||"0.00"))]),i("td",[a._v(a._s(e.distribute_reward_money||"0.00"))]),i("td",[a._v(a._s(e.distribute_cashed_money||"0.00"))]),i("td",[a._v(a._s(e.credits||"0"))]),i("td",[a._v(a._s(e.last_login_time))]),i("td",[a._v(a._s("locked"==e.lock_status?"冻结":"正常"))]),i("td",[i("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return a.detail(e.id)}}},[a._v("详情")])],1)])}),0)]),i("div",{staticClass:"page"},[i("el-pagination",{attrs:{background:"","current-page":a.currentPage,"page-sizes":[10,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:a.page.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1)]),i("el-dialog",{attrs:{width:"1055px",visible:a.dialogVisible},on:{"update:visible":function(t){a.dialogVisible=t}}},[i("el-tabs",{attrs:{type:"card"},model:{value:a.activeName,callback:function(t){a.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"详情",name:"first"}},[a.infoData?i("div",{staticClass:"userInfo"},[i("div",{staticClass:"head"},[a.infoData.picture_absolute?i("img",{attrs:{src:a.infoData.picture_absolute}}):a._e(),i("div",{staticClass:"info"},[i("div",{staticClass:"item"},[i("span",[a._v("用户名:")]),i("el-input",{staticClass:"width",attrs:{size:"small",disabled:""},model:{value:a.infoData.name.substr(0,12),callback:function(t){a.$set(a.infoData.name,"substr(0,12)",t)},expression:"infoData.name.substr(0,12)"}})],1),i("div",{staticClass:"item"},[i("span",[a._v("昵称:")]),i("el-input",{staticClass:"width",attrs:{size:"small",disabled:""},model:{value:a.infoData.nick_name,callback:function(t){a.$set(a.infoData,"nick_name",t)},expression:"infoData.nick_name"}})],1),i("div",{staticClass:"item other"},[i("span",[a._v("性别： "+a._s(a.infoData.sex))])]),i("div",{staticClass:"item other"},[i("span",[a._v("出生日期:")]),i("el-input",{staticClass:"width",attrs:{size:"small",type:"date",disabled:""},model:{value:a.infoData.date_of_birth,callback:function(t){a.$set(a.infoData,"date_of_birth",t)},expression:"infoData.date_of_birth"}})],1),i("div",{staticClass:"item other"},[i("span",[a._v("绑定手机号:")]),i("el-input",{staticClass:"width",attrs:{size:"small",disabled:""},model:{value:a.infoData.phone,callback:function(t){a.$set(a.infoData,"phone",t)},expression:"infoData.phone"}})],1),i("div",{staticClass:"item other"},[i("span",[a._v("联系邮箱:")]),i("el-input",{staticClass:"width",attrs:{size:"small",disabled:""},model:{value:a.infoData.email,callback:function(t){a.$set(a.infoData,"email",t)},expression:"infoData.email"}})],1),i("div",{staticClass:"item other w "},[i("span",[a._v("角色权限:")]),i("div",{staticClass:"auth"},a._l(a.infoData.roles,function(t,e){return i("span",{key:e,staticClass:"roles",attrs:{label:t.name}},[a._v(a._s(t.name))])}),0)])])]),i("div",{staticClass:"saleInfo other w sale"},[i("span",[a._v("消费金额： "+a._s(a.infoData.order_paid_money||"0.00"))]),i("span",[a._v("支付订单数： "+a._s(a.infoData.order_paid_count||"0.00"))]),i("span",[a._v("分销次数： "+a._s(a.infoData.distribute_paid_count||"0.00"))]),i("span",[a._v("分销总金额： "+a._s(a.infoData.distribute_paid_money||"0.00"))]),i("span",[a._v("累计奖励金额： "+a._s(a.infoData.distribute_reward_money||"0.00"))]),i("span",[a._v("累计提现金额： "+a._s(a.infoData.distribute_cashed_money||"0.00"))]),i("span",[a._v("用户积分： "+a._s(a.infoData.credits||"0"))])]),i("div",{staticClass:"title"},[a._v("已购产品")]),a.infoData.bought_goods.length?i("div",{staticClass:"imgList"},a._l(a.infoData.bought_goods,function(t){return i("div",{staticClass:"item"},[i("div",{staticClass:"img",style:{backgroundImage:"url("+t.img_src+")"}}),i("div",{staticClass:"goodsname"},[i("span",[a._v(a._s(t.name))])])])}),0):i("div",{staticClass:"noInfo"},[a._v("暂无数据")])]):a._e()])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){a.dialogVisible=!1}}},[a._v("关闭")]),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:a.save}},[a._v("保存")])],1)],1)],1)}var n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"group-inline"},[a("select",{staticClass:"form-control width-small",attrs:{name:"lock_status"}},[a("option",{attrs:{value:""}},[t._v("所有")]),a("option",{attrs:{value:"normal"}},[t._v("正常")]),a("option",{attrs:{value:"locked"}},[t._v("冻结")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"40"}},[t._v("序号")]),a("th",{attrs:{width:"165"}},[t._v("用户名")]),a("th",{attrs:{width:"150"}},[t._v("绑定手机号")]),a("th",[t._v("支付订单数")]),a("th",[t._v("累计消费金额")]),a("th",[t._v("分销次数")]),a("th",[t._v("分销总金额")]),a("th",[t._v("累计奖励金额")]),a("th",[t._v("累计提现金额")]),a("th",[t._v("用户积分")]),a("th",{attrs:{width:"200"}},[t._v("最近登录时间")]),a("th",[t._v("用户状态")]),a("th",[t._v("操作")])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},266:function(t,e,a){"use strict";a.r(e);var i=a(1438),n=a(707);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a(1117);var o=a(1),r=Object(o.a)(n.default,i.a,i.b,!1,null,"3b18c204",null);e.default=r.exports},277:function(t,e,a){"use strict";var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=/^(?:submit|button|image|reset|file)$/i,g=/^(?:input|select|textarea|keygen)/i,n=/(\[[^\[\]]*\])/g;function b(t,e,a){if(e.match(n)){!function t(e,a,i){if(0===a.length)return e=i;var n=a.shift(),s=n.match(/^\[(.+?)\]$/);if("[]"===n)return e=e||[],Array.isArray(e)?e.push(t(null,a,i)):(e._values=e._values||[],e._values.push(t(null,a,i))),e;if(s){var o=s[1],r=+o;isNaN(r)?(e=e||{})[o]=t(e[o],a,i):(e=e||[])[r]=t(e[r],a,i)}else e[n]=t(e[n],a,i);return e}(t,function(t){var e=[],a=new RegExp(n),i=/^([^\[\]]*)/.exec(t);for(i[1]&&e.push(i[1]);null!==(i=a.exec(t));)e.push(i[1]);return e}(e),a)}else{var i=t[e];i?(Array.isArray(i)||(t[e]=[i]),t[e].push(a)):t[e]=a}return t}function k(t,e,a){return a=a.replace(/(\r)?\n/g,"\r\n"),a=(a=encodeURIComponent(a)).replace(/%20/g,"+"),t+(t?"&":"")+encodeURIComponent(e)+"="+a}t.exports=function(t,e){"object"!=(void 0===e?"undefined":m(e))?e={hash:!!e}:void 0===e.hash&&(e.hash=!0);for(var a=e.hash?{}:"",i=e.serializer||(e.hash?b:k),n=t&&t.elements?t.elements:[],s=Object.create(null),o=0;o<n.length;++o){var r=n[o];if((e.disabled||!r.disabled)&&r.name&&(g.test(r.nodeName)&&!_.test(r.type))){var l=r.name,u=r.value;if("checkbox"!==r.type&&"radio"!==r.type||r.checked||(u=void 0),e.empty){if("checkbox"!==r.type||r.checked||(u=""),"radio"===r.type&&(s[r.name]||r.checked?r.checked&&(s[r.name]=!0):s[r.name]=!1),null==u&&"radio"==r.type)continue}else if(!u)continue;if("select-multiple"!==r.type)a=i(a,l,u);else{u=[];for(var c=r.options,d=!1,f=0;f<c.length;++f){var p=c[f],h=e.empty&&!p.value,v=p.value||h;p.selected&&v&&(d=!0,a=e.hash&&"[]"!==l.slice(l.length-2)?i(a,l+"[]",p.value):i(a,l,p.value))}!d&&e.empty&&(a=i(a,l,""))}}}if(e.empty)for(var l in s)s[l]||(a=i(a,l,""));return a}},541:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/user/register",t)},e.login=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/auth/login/user",t).then(function(t){return window.sessionStorage.setItem("token",t.data.token),window.localStorage.setItem("token",t.data.token),s.default.token=t.data.token,t})},e.thirdLogin=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.back_url.match(/.*(\?.*)#.*/),a=e&&e[1];a&&(t.back_url=t.back_url.replace(a,""));return(0,i.request_post)("/common/api/auth/third/link",t)},e.phoneLogin=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/auth/login_by_phone/phone",t).then(function(t){return window.sessionStorage.setItem("token",t.data.token),window.localStorage.setItem("token",t.data.token),s.default.token=t.data.token,t})},e.codeImage=function(){var t=Math.random().toFixed(3);return(0,i.request_get)("/common/api/captcha/image?code="+t)},e.codeCheck=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/captcha/check",t)},e.codePhone=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/captcha/mobile",t)},e.codeEmail=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/captcha/email",t)},e.getUserInfo=function(){return(0,i.request_get)("/api/auth/is_login/user")},e.save=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)("/common/api/user",t)},e.loginOut=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/auth/logout",t).then(function(t){return window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("userInfo"),s.default.token=null,t})},e.changePass=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)("/common/api/auth/pass",t).then(function(t){return window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("userInfo"),s.default.token=null,t})},e.saveMemberData=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)(r(t),t)};var i=a(15),n=o(a(22)),s=(o(a(17)),o(a(23)));function o(t){return t&&t.__esModule?t:{default:t}}var r=n.default.compile("/common/api/user/:id")},707:function(t,e,a){"use strict";a.r(e);var i=a(708),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},708:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(709)),n=(o(a(1116)),a(541)),s=a(306);function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}e.default={mixins:[s.publicMixin],data:function(){return{services:i,pickerOptions:{},ctimePick:"",list:[],currentPage:1,page:"",multipleSelection:[],status:[{txt:"所有",value:""},{txt:"正常",value:"normal"},{txt:"冻结",value:"locked"}],imgListSrc:[{src:"../../../static/images/member/u6294.png"},{src:"../../../static/images/member/u6302.png"},{src:"/static/images/member/u6306.png"},{src:"/static/images/member/u6312.png"},{src:"/static/images/member/u6314.png"}],nameList:[],infoData:null,backMsg:"",stateValue:"",value:"",userInfo:{},checked:!1,where:{pageOffset:10,pageStart:0,name:"",phone:"",lock_status:"",time_start:"",time_end:""},dialogVisible:!1,activeName:"first"}},methods:{getList:function(t){var e=this;i.getList(t).then(function(t){e.list=t.data,e.page=t.page})},addInfo:function(){this.dialogVisible=!0},lock:function(t){var e=this;i.lock({id:t}).then(function(t){e.getList(e.where)})},unlock:function(t){var e=this;i.Unlock({id:t}).then(function(t){e.getList(e.where)})},addsend:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return alert("error submit!!"),!1;(0,n.saveMemberData)(e.infoAdd).then(function(t){e.getList(e.where)}),e.dialogVisible=!1,e.infoAdd={contents:"",title:"",type:""}})},search:function(){this.getList(this.where)},handleSizeChange:function(t){this.where.pageOffset=t,this.getList(this.where)},handleCurrentChange:function(t){this.where.pageStart=(t-1)*this.where.pageOffset,this.getList(this.where)},handleClick:function(){},detail:function(t){var e=this;i.detail({id:t}).then(function(t){e.infoData=t.data,e.infoData.roles=e.infoData.positions,e.infoData.reset_pwd=!1,e.dialogVisible=!0,log(e.infoData)})},backMsgSend:function(){var e=this;(0,n.saveMemberData)({feedback_id:this.infoData.data.id,content:this.backMsg}).then(function(t){e.$message.success("回复成功"),e.backMsg="",e.detail(e.infoData.data.id)})},save:function(t){var e=this;this.checked&&(this.infoData.reset_pass=1),this.infoData.roles.length||(this.infoData.roles=this.domList(this.roleList)),(0,n.saveMemberData)(this.infoData).then(function(t){e.dialogVisible=!1,e.$message.success("设置成功！！")})},domList:function(t){var e={};return t.forEach(function(t){e[t.id]=0}),e}},created:function(){this.getList(this.where)},watch:{ctimePick:function(){this.where.time_start=this.ctimePick[0],this.where.time_end=this.ctimePick[1]}}}},709:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/user/users",t)},e.detail=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(r(t),t)},e.lock=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)(l(t),t)},e.Unlock=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_delete)(l(t),t)},e.educe=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/user/export",t)};var i,n=a(15),s=a(22),o=(i=s)&&i.__esModule?i:{default:i};var r=o.default.compile("/api/user/users/:id"),l=o.default.compile("/api/user/lock/:id")},710:function(t,e,a){}}]);