/*!
 * {
 *   "buildtime": "2019-07-19 15:10:33",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "95ac4eac7",
 *     "message": [
 *       "commit 95ac4eac704fa029807f3f814b494e89f845f835",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Fri Jul 19 15:09:46 2019 +0800",
 *       "    xx"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1121:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/api/order/orders",t)},e.detail=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(r(t),t)},e.educe=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/api/orders/export",t)};var n,i=a(15),s=a(22);var r=((n=s)&&n.__esModule?n:{default:n}).default.compile("/api/order/orders/:id")},1122:function(t,e,a){"use strict";var n=a(716);a.n(n).a},1434:function(t,e,a){"use strict";function n(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"clearfix"},[n("div",{staticClass:"mainRight"},[n("div",{staticClass:"contentWrap"},[n("div",{staticClass:"contentLeft"},[n("div",{staticClass:"maindata"},[n("div",{staticClass:"serachWrap"},[n("div",{staticClass:"title"}),n("form",{attrs:{id:"mainForm"}},[n("span",{staticClass:"group-inline"},[n("el-input",{attrs:{placeholder:"输入单号搜索",name:"order",clearable:""},model:{value:a.searchQuery.order,callback:function(t){a.$set(a.searchQuery,"order",t)},expression:"searchQuery.order"}})],1),n("span",{staticClass:"group-inline"},[n("el-input",{attrs:{placeholder:"输入用户搜索",name:"user_name",clearable:""},model:{value:a.searchQuery.user_name,callback:function(t){a.$set(a.searchQuery,"user_name",t)},expression:"searchQuery.user_name"}})],1),n("span",{staticClass:"group-inline"},[n("el-input",{attrs:{placeholder:"输入手机号搜索",name:"phone",clearable:""},model:{value:a.searchQuery.phone,callback:function(t){a.$set(a.searchQuery,"phone",t)},expression:"searchQuery.phone"}})],1),n("span",{staticClass:"group-inline"},[n("TimePick",{attrs:{inputsName:["start_time","end_time"],placeholder:["创建起始时间","创建结束时间"]}})],1),n("span",{staticClass:"group-inline"},[n("TimePick",{attrs:{inputsName:["start_pay","end_pay"],placeholder:["支付起始时间","支付结束时间"]}})],1),a._m(0),n("span",{staticClass:"group-inline"},[n("el-button",{attrs:{size:"mediu",type:"primary",icon:"el-icon-search",plain:""},on:{click:a.seareHandeler}},[a._v("搜索")]),n("el-button",{attrs:{size:"mediu",type:"primary",icon:"el-icon-search",plain:""},on:{click:function(t){return a.educe()}}},[a._v("导出")])],1)])]),n("div",{staticClass:"tableWrap"},[n("table",{staticClass:"table"},[a._m(1),a.list?n("tbody",a._l(a.list,function(e,t){return n("tr",[n("td",[n("span",[a._v(a._s(t+1))]),n("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden"},domProps:{value:e.id}})]),n("td",{staticClass:"th-name",attrs:{title:e.id}},[a._v(a._s(e.id))]),n("td",[n("div",{attrs:{title:e.user_nick||e.user_name}},[a._v(a._s(e.user_nick||e.user_name))])]),n("td",[a._v(a._s(e.phone))]),n("td",[a._v(a._s(e.create_time))]),n("td",[a._v(a._s(e.goods_num))]),n("td",[a._v(a._s(e.pay_price))]),n("td",[a._v(a._s(e.pay_status))]),n("td",[a._v(a._s(e.pay_time))]),n("td",[n("div",{staticClass:"btns"},[n("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(t){return a.opneDetail(e)}}})])])])}),0):a._e()])]),a.page?n("div",{staticClass:"pageWrap"},[n("el-pagination",{attrs:{small:!1,background:"","current-page":a.page.num,"page-sizes":[10,50,100],"page-size":a.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:a.page.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1):a._e()])])]),a.detailDate?n("el-dialog",{attrs:{visible:a.detailVisible,width:"1000px",top:"50px"},on:{"update:visible":function(t){a.detailVisible=t}}},[n("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[n("el-tabs",{attrs:{value:"detail"}},[n("el-tab-pane",{attrs:{label:"订单详情",name:"detail"}})],1)],1),n("el-form",[n("el-form-item",{attrs:{label:"订单信息:","label-width":"120px"}},[n("p",[n("span",[a._v("订单编号：")]),n("span",[a._v(a._s(a.detailDate.id))])]),n("p",[n("span",[a._v("订单状态：")]),n("span",[a._v(a._s(a.detailDate.pay_status))])]),n("p",[n("span",[a._v("创建时间：")]),n("span",[a._v(a._s(a.detailDate.create_time))])])]),n("el-form-item",{attrs:{label:"商品信息","label-width":"120px"}},[n("table",{staticClass:"table",attrs:{width:"100%"}},[n("thead",[n("tr",[n("th",[a._v("商品序号")]),n("th",[a._v("商品名称")]),n("th",[a._v("所属产品")]),n("th",[a._v("价格")])])]),a.detailDate.goods_info.length?n("tbody",[a._l(a.detailDate.goods_info,function(t,e){return n("tr",[n("td",{domProps:{textContent:a._s(e+1)}}),n("td",[a._v(a._s(t.name))]),n("td",[a._v(a._s(t.type_name))]),n("td",[a._v(a._s(t.goods_price))])])}),n("tr",[n("td",{staticStyle:{"text-align":"right"},attrs:{colspan:"3"}},[a._v("合计:")]),n("td",{domProps:{textContent:a._s(a.totalPrice)}})])],2):a._e()])]),n("el-form-item",{attrs:{label:"用户信息:","label-width":"120px"}},[n("p",[n("span",[a._v("用户名：")]),n("span",[a._v(a._s(a.detailDate.user_nick||a.detailDate.user_name))])]),n("p",[n("span",[a._v("绑定手机号：")]),n("span",[a._v(a._s(a.detailDate.phone))])]),n("p",[n("span",[a._v("用户积分：")]),n("span",[a._v(a._s(a.detailDate.credit))])])]),n("el-form-item",{attrs:{label:"支付信息:","label-width":"120px"}},[n("p",[n("span",[a._v("支付方式：")]),n("span",[a._v(a._s(a.detailDate.pay_name))])]),n("p",[n("span",[a._v("支付金额：")]),n("span",[a._v(a._s(a.detailDate.pay_price))])]),n("p",[n("span",[a._v("支付时间：")]),n("span",[a._v("2016-12-25 15:23:26")])])]),n("el-form-item",{attrs:{label:"分销信息:","label-width":"120px"}},[n("p",[n("span",[a._v("分销用户：")]),n("span",[a._v(a._s(a.detailDate.distributor_info.distributor_name))])]),n("p",[n("span",[a._v("分销产品：")]),n("span",[a._v(a._s(a.detailDate.distributor_info.distributor_name))])]),n("p",[n("span",[a._v("分销金额：")]),n("span",[a._v(a._s(a.detailDate.distributor_info.distribute_money))])]),n("p",[n("span",[a._v("分销提成：")]),n("span",[a._v(a._s(a.detailDate.distributor_info.reward_money))])])])],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){a.detailVisible=!1}}},[a._v("取消")])],1)],1):a._e()],1)])}var i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"group-inline"},[a("select",{staticClass:"form-control width-small",attrs:{name:"pay_status"}},[a("option",{attrs:{value:""}},[t._v("所有")]),a("option",{attrs:{value:"0"}},[t._v("等待支付")]),a("option",{attrs:{value:"1"}},[t._v("支付完成")]),a("option",{attrs:{value:"-1"}},[t._v("支付关闭")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"40"}},[t._v("序号")]),a("th",[t._v("订单单号")]),a("th",[t._v("用户名")]),a("th",[t._v("绑定手机号")]),a("th",[t._v("创建时间")]),a("th",[t._v("商品数量")]),a("th",[t._v("订单金额")]),a("th",[t._v("订单状态")]),a("th",[t._v("支付时间")]),a("th",{attrs:{width:"40"}},[t._v("操作")])])])}];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},268:function(t,e,a){"use strict";a.r(e);var n=a(1434),i=a(714);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a(1122);var r=a(1),l=Object(r.a)(i.default,n.a,n.b,!1,null,"060d60c2",null);e.default=l.exports},277:function(t,e,a){"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m=/^(?:submit|button|image|reset|file)$/i,b=/^(?:input|select|textarea|keygen)/i,i=/(\[[^\[\]]*\])/g;function y(t,e,a){if(e.match(i)){!function t(e,a,n){if(0===a.length)return e=n;var i=a.shift(),s=i.match(/^\[(.+?)\]$/);if("[]"===i)return e=e||[],Array.isArray(e)?e.push(t(null,a,n)):(e._values=e._values||[],e._values.push(t(null,a,n))),e;if(s){var r=s[1],l=+r;isNaN(l)?(e=e||{})[r]=t(e[r],a,n):(e=e||[])[l]=t(e[l],a,n)}else e[i]=t(e[i],a,n);return e}(t,function(t){var e=[],a=new RegExp(i),n=/^([^\[\]]*)/.exec(t);for(n[1]&&e.push(n[1]);null!==(n=a.exec(t));)e.push(n[1]);return e}(e),a)}else{var n=t[e];n?(Array.isArray(n)||(t[e]=[n]),t[e].push(a)):t[e]=a}return t}function g(t,e,a){return a=a.replace(/(\r)?\n/g,"\r\n"),a=(a=encodeURIComponent(a)).replace(/%20/g,"+"),t+(t?"&":"")+encodeURIComponent(e)+"="+a}t.exports=function(t,e){"object"!=(void 0===e?"undefined":h(e))?e={hash:!!e}:void 0===e.hash&&(e.hash=!0);for(var a=e.hash?{}:"",n=e.serializer||(e.hash?y:g),i=t&&t.elements?t.elements:[],s=Object.create(null),r=0;r<i.length;++r){var l=i[r];if((e.disabled||!l.disabled)&&l.name&&(b.test(l.nodeName)&&!m.test(l.type))){var o=l.name,u=l.value;if("checkbox"!==l.type&&"radio"!==l.type||l.checked||(u=void 0),e.empty){if("checkbox"!==l.type||l.checked||(u=""),"radio"===l.type&&(s[l.name]||l.checked?l.checked&&(s[l.name]=!0):s[l.name]=!1),null==u&&"radio"==l.type)continue}else if(!u)continue;if("select-multiple"!==l.type)a=n(a,o,u);else{u=[];for(var c=l.options,p=!1,d=0;d<c.length;++d){var _=c[d],v=e.empty&&!_.value,f=_.value||v;_.selected&&f&&(p=!0,a=e.hash&&"[]"!==o.slice(o.length-2)?n(a,o+"[]",_.value):n(a,o,_.value))}!p&&e.empty&&(a=n(a,o,""))}}}if(e.empty)for(var o in s)s[o]||(a=n(a,o,""));return a}},714:function(t,e,a){"use strict";a.r(e);var n=a(715),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e.default=i.a},715:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(a(16)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},n=a(306),u=(i(a(277)),function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(1121)));function i(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[n.publicMixin],data:function(){return{services:u,list:null,page:null,type:{value:"",list:[{name:"所有",value:""},{name:"等待支付",value:"0"},{name:"支付完成",value:"1"},{name:"支付关闭",value:"-1"}]},timePick:null,ctimePick:null,detailVisible:null,detailDate:null}},computed:{totalPrice:function(){var e=0;return this.detailDate.goods_info.forEach(function(t){e+=t.goods_price}),e.toFixed(2)}},methods:{getList:function(t,e,a){var n=0<arguments.length&&void 0!==t?t:this.page&&this.page.num||1,i=this,s=1<arguments.length&&void 0!==e?e:this.page&&this.page.offset||10,r=a;return function(t){return function(){var l=t.apply(this,arguments);return new Promise(function(s,r){return function e(t,a){try{var n=l[t](a),i=n.value}catch(t){return void r(t)}if(!n.done)return Promise.resolve(i).then(function(t){e("next",t)},function(t){e("throw",t)});s(i)}("next")})}}(l.default.mark(function t(){var e;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=o({pageNum:n,pageOffset:s},r),t.next=3,u.getList(e).then(function(t){i.page=t.page,i.list=t.data,log(i.list)});case 3:case"end":return t.stop()}},t,i)}))()},opneDetail:function(t){var e=this;u.detail({id:t.id}).then(function(t){log(t),e.detailDate=t.data,e.detailDate.order=[],e.detailVisible=!0})}}}},716:function(t,e,a){}}]);