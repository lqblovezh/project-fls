/*!
 * {
 *   "buildtime": "2019-07-19 15:10:33",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "95ac4eac7",
 *     "message": [
 *       "commit 95ac4eac704fa029807f3f814b494e89f845f835",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Fri Jul 19 15:09:46 2019 +0800",
 *       "    xx"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1099:function(t,e,a){"use strict";var i=a(669);a.n(i).a},1447:function(t,e,a){"use strict";function i(){var i=this,t=i.$createElement,r=i._self._c||t;return r("div",{staticClass:"index clearfix"},[r("div",{staticClass:"dialogs"},[i.moveToOtherDiaolog?r("MoveGroup",{attrs:{currGroup:i.currGroup,groupList:i.groupList},on:{back:function(t){i.moveToOtherDiaolog=!1},submit:i.moveToSubmit}}):i._e(),i.upShelfDiaolog?r("Grounding",{attrs:{columnList:i.columnList,type:"subject"},on:{back:function(t){i.upShelfDiaolog=!1},upShelf:i.shelfClass}}):i._e(),i.detailVisible?r("Detail",{attrs:{type:i.detailDialoaType,detailVisible:i.detailVisible,defaultData:i.detailData,detailValue:"info"},on:{"update:detailVisible":function(t){i.detailVisible=t},"update:detail-visible":function(t){i.detailVisible=t}}}):i._e()],1),r("div",{staticClass:"mainRight"},[r("div",{staticClass:"contentWrap"},[r("div",{staticClass:"contentLeft"},[r("div",{staticClass:"maindata"},[r("div",{staticClass:"serachWrap"},[r("div",{staticClass:"title"}),r("form",{staticClass:"clearfix",attrs:{id:"mainForm"}},[r("span",{staticClass:"group-inline"},[r("el-input",{attrs:{placeholder:"名称",name:"name",clearable:""},model:{value:i.searchQuery.name,callback:function(t){i.$set(i.searchQuery,"name",t)},expression:"searchQuery.name"}})],1),r("span",{staticClass:"group-inline"},[r("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),i._m(0),r("span",{staticClass:"group-inline float-right"},[r("el-button",{attrs:{size:"mediu",type:"primary",icon:"el-icon-search",plain:""},on:{click:i.query}},[i._v("搜索")])],1)])]),r("div",{staticClass:"tableWrap"},[r("div",{staticClass:"tableTop"},[r("div",{staticClass:"title vel-line"},[r("span",[i._v("全部 "),i.page?r("span",{staticClass:"totalNum"},[i._v("("+i._s(i.page.total)+")")]):i._e()]),r("div",{staticClass:"btns"},[r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:i.moveToOther}},[i._v("移动分组")]),r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return i.downShelf()}}},[i._v("下架")]),r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return i.delChoosen(!1)}}},[i._v("删除")])],1)])]),r("table",{staticClass:"table"},[r("thead",[r("tr",[r("th",{staticClass:"table-check"},[r("input",{attrs:{type:"checkbox"},on:{click:function(t){return i.$checkAll(t)}}})]),r("th",[i._v("名称")]),r("th",[i._v("类型")]),r("th",[i._v("创建时间")]),r("th",{attrs:{width:"150"}},[i._v("上架状态")]),r("th",{attrs:{width:"70"}},[i._v("使用版本")]),r("th",{attrs:{width:"80"}},[i._v("操作")])])]),i.list?r("tbody",i._l(i.list,function(a){return r("tr",[r("th",[r("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids"},domProps:{value:a.id}})]),r("th",[r("img",{staticClass:"cover-photo",attrs:{src:a.books_info.img_src}}),r("div",{staticClass:"th-name bookName",attrs:{title:a.books_info.name}},[i._v(i._s(a.books_info.name))])]),r("th",[r("div",{staticClass:"th-name",attrs:{title:a.books_info.components.category_name}},[i._v(i._s(a.books_info.components.category_name))])]),r("th",[r("div",{staticClass:"th-name"},[i._v(i._s(a.books_info.create_time))])]),r("th",[r("div",{staticClass:"th-name"},[i._v(i._s(a.status_name))])]),r("th",["0"!=a.status?r("div",{staticClass:"th-name"},[i._v(i._s(a.version_id))]):i._e(),"0"==a.status?r("div",{staticClass:"th-name"},[r("select",{on:{change:function(t){return i.versionChage(t,a)}}},i._l(a.version_list,function(t,e){return r("option",{domProps:{value:t,selected:a.version_id==e}},[i._v(i._s(e))])}),0)]):i._e()]),r("th",[r("div",{staticClass:"btns"},["0"!=a.status?r("Icon",{attrs:{type:"icon-reject",title:"下架"},on:{click:function(t){return i.downShelf(a.id)}}}):i._e(),"1"==a.set&&"1"!=a.status?r("Icon",{attrs:{type:"icon-upload",title:"上架"},on:{click:function(t){return i.upShelf(a.id)}}}):i._e(),r("Icon",{attrs:{type:"el-icon-setting",title:"设置"},on:{click:function(t){return i.showUpShelf(a,"subject")}}}),r("Icon",{attrs:{type:"icon-detail",title:"详情"},on:{click:function(t){return i.opneDetailDialog(10,a.id)}}})],1)])])}),0):i._e()]),i.page?r("div",{staticClass:"pageWrap"},[r("el-pagination",{attrs:{small:!1,background:"","current-page":i.page.num,"page-sizes":[10,50,100],"page-size":i.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:i.page.total},on:{"size-change":i.handleSizeChange,"current-change":i.handleCurrentChange}})],1):i._e()]),r("div",{staticClass:"gruopList"},[r("GroupList",{attrs:{groupList:i.groupList,currGroup:i.currGroup},on:{addGroup:i.addGroup,updateGroup:i.updateGroup,delGroup:i.delGroup,groupChange:i.groupChange}}),i.pustSetDialog?r("el-dialog",{attrs:{title:"价格设置",visible:i.pustSetDialog,width:"500px"},on:{"update:visible":function(t){i.pustSetDialog=t}}},[r("div",{staticClass:"formWrap"},[r("VaForm",{ref:"pustSetForm"},[r("form",{attrs:{id:"pustSetForm"}},[r("div",{staticClass:"group"},[r("span",{staticClass:"left"},[i._v("版本")]),r("span",{staticClass:"right"},[i._v("价格")]),r("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:i.currentPut.id}})]),i._l(i.currentPut.theme_extend_list,function(e,t){return r("div",{staticClass:"group"},[r("span",{staticClass:"left",domProps:{textContent:i._s(e.version_id)}}),r("span",{staticClass:"right"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"item.price"}],staticClass:"form-control info",attrs:{name:"prices",disabled:e.is_put},domProps:{value:e.price},on:{input:function(t){t.target.composing||i.$set(e,"price",t.target.value)}}}),r("input",{staticClass:"hide",attrs:{name:"ids",disabled:e.is_put},domProps:{value:e.xread_book_id}})])])})],2)])],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small",type:"info"},on:{click:function(t){i.pustSetDialog=!1}}},[i._v("取消")]),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:i.pustSetSave}},[i._v("确定")])],1)]):i._e()],1)])])])])])}var r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"group-inline"},[a("select",{staticClass:"form-control width-small",attrs:{placeholder:"标签",name:"status"}},[a("option",{attrs:{value:""}},[t._v("选择状态")]),a("option",{attrs:{value:"1"}},[t._v("已上架")]),a("option",{attrs:{value:"0"}},[t._v("未上架")])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},257:function(t,e,a){"use strict";a.r(e);var i=a(1447),r=a(667);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1099);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"e5ddef54",null);e.default=o.exports},298:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(t){var e=t.type,a=t.id,i=t.resource_type;{if("book"==e)return l({id:a});if("video"==e)return c({id:a});if("resource"==e)return p({id:a,resource_type:i})}},e.del=function(t){var e=t.type,a=o(t,["type"]);{if("book"==e)return u(a);if("video"==e)return f(a);if("resource"==e)return m(a);if("audio"==e)return h(a)}},e.add=function(t){var e=t.type,a=o(t,["type"]);{if("book"==e)return u(a);if("video"==e)return d(a);if("resource"==e)return v(a)}},e.check=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id/check");return(0,r.request_get)(e(t))},e.bookList=l,e.bookInfo=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id");return(0,r.request_get)(e(t))},e.bookDel=u,e.bookSave=function(t){var e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/components_paper/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/components_paper",a)},e.videoList=c,e.videoAdd=d,e.videoDel=f,e.resourceList=p,e.resourceAdd=v,e.resourceDel=m,e.groupList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_groups/:id/list");return(0,r.request_get)(e(t),t)},e.groupSave=function(t){var e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/components_groups/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/components_groups",a)},e.groupDetail=function(t){var e=t.id,a=s.default.compile(restUrl_publish+"/api/components_groups/:id");return(0,r.request_get)(a({id:e}))},e.audioDel=h,e.saveEBook=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t.current_id){var e=s.default.compile(restUrl_publish+"/api/components_ebooks/:id");return(0,r.request_put)(e({id:t.current_id}),t)}return(0,r.request_post)(restUrl_publish+"/api/components_ebooks",t)},e.getEBook=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_ebooks/:id");return(0,r.request_get)(e(t))};var i,r=a(15),n=a(22),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id/list");return(0,r.request_get)(e(t))}function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id");return(0,r.request_delete)(e(t))}function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/video");return(0,r.request_get)(e(t))}function d(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/components/video",t)}function f(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/video");return(0,r.request_delete)(e({id:t.constitute_id}))}function p(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/resource");return(0,r.request_get)(e(t),t)}function v(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/components/resource",t)}function m(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/resource");return(0,r.request_delete)(e({id:t.constitute_id}))}function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_groups/:id");return(0,r.request_delete)(e(t),t)}},299:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addTheme=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes",t).then(function(t){var e=t.data,a=e.id,i=e.name,r=e.type_name,n=e.abs,s=e.tag;return(0,p.addResListener)({res_id:a,res_type:r,res_name:i,res_exp:n,res_lables:[s]}),t})},e.modifyTheme=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/:id");return(0,r.request_put)(i({id:e}),a)},e.ListTheme=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/themes",t)},e.del=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/delete",t)},e.modifyGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.listGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/themes/groups",t)},e.deleteGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/groups/delete",t)},e.addGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/groups",t)},e.moveGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/themes/groups",t)},e.deleteThemeBook=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/book_remove",t)},e.detailTheme=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/:id");return(0,r.request_get)(i({id:e}),a)},e.audits=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/themes/issuance",e).then(function(t){return(0,p.suance)({id:e.id,info:t.data}),t})},e.detailUrgent=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/themes/urgent",t)},e.backups=g,e._themeAdd=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.type,a=void 0===e?"book":e,i=h(t,["type"]);{if("book"==a)return(0,n.listBooks)(i);if("audio"==a)return(0,s.listAudio)(i);if("video"==a)return(0,o.listVideo)(i);if("3d"==a)return(0,u.listContent)(i);if("ar"==a)return(0,c.listLibraries)(i);if("product"==a)return(0,d.listDigitalBook)(i);if("release"==a)return(0,f.getList)(i)}},e._themeDetail=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.type,a=void 0===e?1:e,i=t.c_id,r=h(t,["type","c_id"]);{if(1==a)return i?g(r):(0,n.detailBooks)(r);if(3==a)return(0,l.detailPicture)(r);if(4==a)return(0,s.detailAudio)(r);if(5==a)return(0,o.detailVideo)(r);if(6==a)return(0,u.detailContent)(r);if(8==a)return(0,c.detailLibraries)(r);if(10==a)return(0,d.detailDigitalBook)(r);if(13==a);else if(31==a)return}};var i,r=a(15),n=a(479),s=a(570),o=a(478),l=a(569),u=a(572),c=a(596),d=a(310),f=a(597),p=a(81),v=a(22),m=(i=v)&&i.__esModule?i:{default:i};function h(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function g(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/book/:id");return(0,r.request_get)(i({id:e}),a)}},311:function(t,e,a){"use strict";a.r(e);var i=a(783),r=a(334);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(593);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"4e328e7a",null);e.default=o.exports},312:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(a(16));e.modifyNowledges=function(){var a=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=u(t,["id"]),r=o.default.compile(restUrl_publish+"/api/nowledges/:id");return(0,s.request_put)(r({id:e}),i).then(function(){var e=l(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:i.pid,type:i.type});case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}())},e.deleteNowledges=function(){var a=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)(restUrl_publish+"/api/nowledges/delete",i).then(function(){var e=l(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:i.pid,type:i.type});case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}())},e.addNowledges=function(){var a=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)(restUrl_publish+"/api/nowledges",i).then(function(){var e=l(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:i.pid,type:i.type});case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}())},e.upNowledges=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_put)(restUrl_publish+"/api/nowledges",t)},e.modifyGroup=function(){var a=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,i=u(t,["id"]),r=o.default.compile(restUrl_publish+"/api/nowledges/groups/:id");return(0,s.request_put)(r({id:e}),i).then(function(){var e=l(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:i.pid,type:i.type});case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}())},e.listGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)(restUrl_publish+"/api/nowledges/groups",t)},e.deleteGroup=function(){var a=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)(restUrl_publish+"/api/nowledges/groups/delete",i).then(function(){var e=l(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:i.pid,type:i.type});case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}())},e.addGroup=function(){var a=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)(restUrl_publish+"/api/nowledges/groups",i).then(function(){var e=l(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:i.pid,type:i.type});case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}())},e.listNowledges=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=u(t,["id"]),i=o.default.compile(restUrl_publish+"/api/nowledges/book/:id");return(0,s.request_get)(i({id:e}),a)},e.audioNowledges=r,e.searchNowledges=c,e.videoNowledges=d,e.NowledgesList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.type,a=u(t,["type"]);{if("章节锚点"==e)return c(a);if("音频锚点"==e)return r(a);if("视频锚点"==e)return d(a)}},e.listKnowledge=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)(restUrl_publish+"/api/nowledges",t)},e.addAnchor=function(){var a=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)(restUrl_publish+"/api/nowledge_info",i).then(function(){var e=l(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:i.pid,type:i.ptype});case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}())},e.delAnchor=function(){var a=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)(restUrl_publish+"/api/nowledge_info/delete",i).then(function(){var e=l(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:i.pid,type:i.type});case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}())},e.mount=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)(restUrl_publish+"/api/nowledge_info/mount",r).then(function(t){var e=JSON.parse(window.localStorage.getItem("mounts"))||[],a=e.findIndex(function(t){return t.tid===r.id}),i={tid:r.id,id:t.data.id};-1<a&&e.splice(a,1),e.push(i),window.localStorage.setItem("mounts",JSON.stringify(e))})},e.nowledge_info=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)(restUrl_publish+"/api/nowledge_info",t)},e.mountSchedule=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},a=t.id,i=(u(t,["id"]),(JSON.parse(window.localStorage.getItem("mounts"))||[]).find(function(t){return t.tid===a}));if(!i)return"";var r=o.default.compile(restUrl_publish+"/api/nowledge_info/:id");return(0,s.request_progress)(r({id:i.id}),e)},e.nowledge_btn=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)(restUrl_publish+"/api/nowledge_button",t)};var s=a(15),o=i(a(22));function i(t){return t&&t.__esModule?t:{default:t}}function l(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}function u(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=u(t,["id"]),i=o.default.compile(restUrl_publish+"/api/nowledges/audio/:id");return(0,s.request_get)(i({id:e}),a)}function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=u(t,["id"]),i=o.default.compile(restUrl_publish+"/api/nowledges/book/catalogs/:id");return(0,s.request_get)(i({id:e}),a)}function d(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=u(t,["id"]),i=o.default.compile(restUrl_publish+"/api/nowledges/video/:id");return(0,s.request_get)(i({id:e}),a)}function f(t){var e=t.id,a=t.type,i=o.default.compile(restUrl_publish+"/api/nowledge_status/:id");return(0,s.request_get)(i({id:e}),{type:a})}},314:function(t,e,a){"use strict";a.r(e);var i=a(790),r=a(359);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(602);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"c6b023a6",null);e.default=o.exports},322:function(t,e,a){"use strict";a.r(e);var i=a(323),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},323:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["groupList","currGroup"],data:function(){return{newGroupDialogOpen:!1,updateGroupDialogOpen:!1,currEditGroup:null}},created:function(){},computed:{},methods:{groupChange:function(t){this.$emit("groupChange",t)},addGroupDialog:function(){},delGroup:function(e){var a=this;this.$confirm("是否删除分组:"+e.name).then(function(t){dir(t),a.$emit("delGroup",e.id)}).catch(function(t){dir(t)})},updateGroupDialog:function(t){this.currEditGroup=t,log(t),this.updateGroupDialogOpen=!0},addGroup:function(){if(this.$refs.addGroupForm.valiAll()){var t=document.querySelector("#addGroupForm");this.$emit("addGroup",t),this.newGroupDialogOpen=!1}},updateGroup:function(){if(this.$refs.updateGroupForm.valiAll()){var t=document.querySelector("#updateGroupForm");this.$emit("updateGroup",t),this.updateGroupDialogOpen=!1}},moveToSubmit:function(){this.$emit("moveGroup")}}}},324:function(t,e,a){},325:function(t,e,a){"use strict";a.r(e);var i=a(326),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},326:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["groupList","currGroup"],created:function(){log("重庆插件")},data:function(){return{flag:!0}},methods:{submit:function(){var t=this.$refs.moveToId.value;this.$emit("submit",t)}},watch:{flag:function(){this.flag||this.$emit("back")}}}},327:function(t,e,a){"use strict";a.r(e);var i=a(328),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},328:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(a(568)),r=f(a(607)),n=f(a(614)),s=f(a(617)),o=f(a(621)),l=f(a(650)),u=f(a(653)),c=f(a(658)),d=f(a(660));function f(t){return t&&t.__esModule?t:{default:t}}e.default={components:{releaseDetail:i.default,audioDetail:r.default,themeDetail:n.default,videoDetail:s.default,courseDetail:o.default,resourceDetail:l.default,seriesDetail:u.default,articlesDetail:c.default,resourDetail:d.default},props:{detailVisible:Boolean,defaultData:Object,detailValue:String,detailType:[String,Number],type:{type:Number,default:1}},data:function(){return{detailDialoaType:"info"}},created:function(){log(this.type),1!=this.type&&"metadata"==this.detailValue?this.detailDialoaType="info":this.detailDialoaType=this.detailValue},computed:{currComp:function(){switch(this.type,this.type){case 1:return"themeDetail";case 5:return"videoDetail";case 4:return"releaseDetail";case 7:case 9:return"courseDetail";case 8:return"resourceDetail";case 3:case 6:return"audioDetail";case 10:return"seriesDetail";case 11:return"articlesDetail";case 12:case 13:case 14:case 15:case 16:case 17:case 18:return"resourDetail"}}},methods:{colse:function(){this.$emit("update:detailVisible",!1)}},mounted:function(){}}},329:function(t,e,a){"use strict";a.r(e);var i=a(330),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},330:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);e.default=t}}(a(310));var i=s(a(574)),r=s(a(311)),n=s(a(594));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:i.default,Structure:n.default,Knowledge:r.default},props:["type","detailData","detailDialog","readOnly","defaultData"],created:function(){},data:function(){return{}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name}}}},331:function(t,e,a){"use strict";a.r(e);var i=a(332),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},332:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r(a(16)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},l=(r(a(277)),function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(80))),u=a(575),i=a(811);function r(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{clc_category:"",clc_category_id:"",cp_category:"",cp_category_id:"",describe:"",editor_recommend:"",book_directory:""},xRead:{},activeName:"1",keyWord:"",title:"作者",metadata:[],creatAuthorInfo:{},choiceDialog:!1,creatDialog:!1,authorList:[],authorInfo:{},authorOptions:[],authorValue:[],translatorOptions:[],translatorValue:[],out_print:"2",have_print:"2",imageCropperDialog:!1,file:null,oldBlob:null}},created:function(){this.detailData&&Object.entries(this.detailData).length&&this.getInfo(),this.defaultData&&this.setInfo(),this.init()},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type},gauthorList:function(){return this.authorList}},methods:{init:function(){var t=this;this.searchAuthor=(0,i.debounce)(function(){return t.getAuthors()},500)},setInfo:function(){this.information=this.xRead=this.defaultData.base||{},this.metadata=this.defaultData.attributes||[],this.retailers=this.defaultData.retailers||{},this.setEbookInfo()},getInfo:function(){var e=this;(0,u.getInfo)({id:this.detailData.id}).then(function(t){e.information=t.data,e.retailers=t.data.retailers,e.xRead=t.data["x-read"],e.metadata=t.data.pro_attributes,e.setEbookInfo()})},setEbookInfo:function(){this.out_print=this.retailers.out_print||"2",this.have_print=this.retailers.have_print||"2";var t=this.retailers.author?this.retailers.author.split(","):[],i=this.retailers.author_id?this.retailers.author_id.split(","):[],e=this.retailers.translator?this.retailers.translator.split(","):[],r=this.retailers.translator_id?this.retailers.translator_id.split(","):[];this.authorOptions=t.map(function(t,e){var a={};return a.value=i[e],a.label=t,a}),this.translatorOptions=e.map(function(t,e){var a={};return a.value=r[e],a.label=t,a}),this.authorValue=i,this.translatorValue=r},handleClick:function(t,e){this.$emit("infoClick",t)},previewImg:function(t,e){var a=this,i=t.target;this.file=i.files[0],this.imgFile=URL.createObjectURL(this.file),this.$ImageSize({file:this.file,ratio:.73,interval:.05}).then(function(t){a.previewImgUrl=URL.createObjectURL(a.file)},function(t){201!=t.status?a.$message.error(t.message):a.imageCropperDialog=!0})},addAuthor:function(t){this.title=t,this.keyWord="",this.authorList=[],this.choiceDialog=!0},choiceAuthor:function(){var t=this,a="作者"==this.title?"author":"translator",e=document.querySelector(".authorListForm").querySelectorAll('input[name="ids"]:checked');e.length||this.$message.warning("请选择你要添加的"+this.title);function i(e){if(t[a+"Options"].find(function(t){return e.value==t.value}))return"continue";t[a+"Options"].push({value:e.value,label:e.getAttribute("label")}),t[a+"Value"].push(e.value)}var r=!0,n=!1,s=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0)i(o.value)}catch(t){n=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw s}}this.$message.success("添加"+this.title+"成功!")},saveAuthor:function(){var e=this;return c(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.addAuthor({author_name:e.creatAuthorInfo.name}).then(function(t){e.$message.success("创建成功")}).catch(function(t){e.$message.error(t.messages)});case 2:e.creatDialog=!1;case 3:case"end":return t.stop()}},t,e)}))()},getAuthors:function(){var e=this;log(this.title),l.getAuthor({author_name:this.keyWord}).then(function(t){e.authorList=t.data,log(e.authorList)})},creatAuthor:function(){this.creatAuthorInfo={},this.creatDialog=!0},syncInfo:function(t){var f=this;this.$refs.isbn.value&&l.synchronization({id:this.$refs.isbn.value}).then(function(t){log(t);var e=t.data,a=e.bookname,i=e.writer,r=e.isbn,n=e.bookcatalog,s=e.majorword,o=e.bookbrief,l=e.readership,u=e.editornote,c=(e.price,e.price_min,e.weight,e.bookcategory),d=e.bookcategory2;f.information={name:a,book_isbn:r,abs:o},f.xRead={tag:"",author:i},f.retailers={subject_terms:s,target_audience:l,clc_category:c,cp_category:d,describe:o,editor_recommend:u,book_directory:n}}).catch(function(t){var e=t.payload;for(var a in e.messages){f.$message.error(e.messages[a]);break}})},submitDetail:function(){var n=this;return c(s.default.mark(function t(){var e,a,i,r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.$refs.fenmian.files[0],n.$refs.detailForm.valiAll()){t.next=4;break}return t.abrupt("return");case 4:if(a=n.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=5,e)return t.next=9,l.getTask(e).then(function(t){n.information.img=t.data.path});t.next=9;break;case 9:return t.next=11,(0,u.save)(o({id:n.detailData.id},n.information)).then(function(t){n.$message.success("保存成功"),a.close(),n.$emit("saveok",t.data)});case 11:t.next=24;break;case 13:t.prev=13,t.t0=t.catch(5),i=t.t0.payload,a.close(),t.t1=s.default.keys(i.messages);case 18:if((t.t2=t.t1()).done){t.next=24;break}return r=t.t2.value,n.$message.error(i.messages[r]),t.abrupt("break",24);case 24:case"end":return t.stop()}},t,n,[[5,13]])}))()},preview:function(t){this.previewImgUrl=URL.createObjectURL(t),this.oldBlob=t,this.imageCropperDialog=!1},submitInfo:function(){var r=this;return c(s.default.mark(function t(){var e,a,i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=r.$refs.fenmian.files[0],a=r.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),i=o({},r.information,{pro_attributes:r.metadata,attributes:{xRead:o({},r.xRead),eCommerce:o({},r.retailers,{author_id:r.authorValue.join(","),translator_id:r.translatorValue.join(","),author:r.authorOptions.map(function(t){if(-1<r.authorValue.indexOf(t.value))return t.label}).filter(function(t){if(t)return t}).join(","),translator:r.translatorOptions.map(function(t){if(-1<r.translatorValue.indexOf(t.value))return t.label}).filter(function(t){if(t)return t}).join(","),out_print:r.have_print,have_print:r.have_print})}}),e)return r.oldBlob&&((e=r.oldBlob).name=r.file.name),t.next=10,l.getTask(e).then(function(t){i.img=t.data.path});t.next=10;break;case 10:return t.next=12,(0,u.save)(i).then(function(t){r.detailData.id||(r.information=t.data),a.close(),r.$message.success("操作成功!"),r.$emit("saveok",t.data)}).catch(function(t){a.close(),r.$message.error(t.message||"错误!")});case 12:case"end":return t.stop()}},t,r)}))()}}}},333:function(t,e,a){},334:function(t,e,a){"use strict";a.r(e);var i=a(335),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},335:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=d(a(16)),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=d(a(277)),i=d(a(107)),n=d(a(577)),s=d(a(481)),u=c(a(312));c(a(310));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}function f(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}var p="章节锚点",v="内容锚点";e.default={components:{VaForm:i.default,AnchorList:n.default,Reader:s.default},props:["type","constitute","detailData","readOnly","defaultData"],created:function(){var e=this;return f(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.defaultData){t.next=7;break}if(e.glist=e.defaultData.knowledge,e.glist){t.next=4;break}return t.abrupt("return");case 4:e.currGroupId=e.glist[0].id,e.currGroup=e.glist[0],e.list=e.glist[0].nowledge_info;case 7:return t.prev=7,t.next=10,e.getGlist();case 10:return t.next=12,e.getProgress();case 12:t.next=16;break;case 14:t.prev=14,t.t0=t.catch(7);case 16:case"end":return t.stop()}},t,e,[[7,14]])}))()},data:function(){return{list:null,glist:null,anchorsList:[],page:null,Anchors_chapter:p,Anchors_content:v,Anchors_audio:"音频锚点",Anchors_video:"视频锚点",checkedAll:!1,currGroupId:null,currknowledgeId:null,currGroup:{},openAnchorList:!1,anchorType:p,anchorList:null,bookInfo:{value:"",lsit:[]},groupDialog:!1,knowledgeDialog:!1,addAnchorDialog:!1,readerDialog:!1,readerId:null,editGroup:{},editKnowledge:{},anchorCheckedAll:!1,mount:{number:0}}},computed:{isBook:function(){return this.anchorType==p||this.anchorType==v}},methods:{getGlist:function(){var i=this;return f(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.detailData.id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,u.listGroup({id:i.detailData.id}).then(function(t){var e=t.data.findIndex(function(t){return i.currGroupId===t.id}),a=-1<e?e:0;i.glist=t.data,i.glist&&0<i.glist.length?(i.currGroupId=t.data[a].id,i.currGroup=t.data[a],i.anchorType=p,i.getList()):(i.list=i.glist=i.currGroupId=null,i.currGroup={})}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}});case 4:case"end":return t.stop()}},t,i)}))()},getList:function(t,e,a){var i=0<arguments.length&&void 0!==t?t:1,r=this,n=1<arguments.length&&void 0!==e?e:10,s=a;return f(o.default.mark(function t(){var e;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.anchorCheckedAll=!1,t.next=3,u.listKnowledge(l({pageNum:i,pageOffset:n},s,{id:r.detailData.id,group_id:r.currGroupId})).then(function(t){r.list=t.data,r.page=t.page}).catch(function(t){var e=t.payload;for(var a in e.messages){r.$message.error(e.messages[a]);break}});case 3:if(e=r.$refs.mainListWrap){t.next=6;break}return t.abrupt("return");case 6:e.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1});case 8:case"end":return t.stop()}},t,r)}))()},groupDel:function(e){var a=this;this.$confirm("是否删除该知识结构?").then(function(t){u.deleteGroup({id:[e.id],type:a.detailData.type_number,pid:a.detailData.id}).then(function(t){a.getGlist(),a.$emit("saveok")}).catch(function(t){for(var e in payload.messages){a.$message.error(payload.messages[e]);break}})})},groupEdit:function(t){if(!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");this.editGroup=t,this.groupDialog=!0},KnowledgeEdit:function(t){this.editKnowledge=t,this.knowledgeDialog=!0},groupCommit:function(){var i=this;return f(o.default.mark(function t(){var e,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.$refs.groupFormVa.valiAll()){t.next=2;break}return t.abrupt("return");case 2:if(e=(0,r.default)(i.$refs.groupForm,{hash:!0}),t.prev=3,e.id){t.next=10;break}return e.id=i.detailData.id,t.next=8,u.addGroup(l({},e,{type:i.detailData.type_number,pid:i.detailData.id})).then(function(t){i.groupDialog=!1,i.getGlist(),i.$emit("saveok")});case 8:t.next=12;break;case 10:return t.next=12,u.modifyGroup(l({},e,{type:i.detailData.type_number,pid:i.detailData.id})).then(function(t){i.groupDialog=!1,i.getGlist(),i.$emit("saveok")});case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),a=t.t0.message,i.$message.error(a);case 18:case"end":return t.stop()}},t,i,[[3,14]])}))()},guaZai:function(){var i=this;return f(o.default.mark(function t(){var e,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.mount({id:i.detailData.id});case 3:return t.next=5,i.getProgress();case 5:t.next=17;break;case 7:t.prev=7,t.t0=t.catch(0),e=t.t0.payload,t.t1=o.default.keys(e.messages);case 11:if((t.t2=t.t1()).done){t.next=17;break}return a=t.t2.value,i.$message.error(e.messages[a]),t.abrupt("break",17);case 17:case"end":return t.stop()}},t,i,[[0,7]])}))()},getProgress:function(){var e=this;return f(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.mountSchedule({id:e.detailData.id},function(t){"100"==t.data.number&&e.getList(),e.mount=l({},t.data,{number:parseInt(t.data.number)})}).then(function(t){e.mount=t.data});case 2:case"end":return t.stop()}},t,e)}))()},KnowledgeCommit:function(){var e=this;if(this.$refs.KnowledgeFormVa.valiAll()){var t=(0,r.default)(this.$refs.KnowledgeForm,{hash:!0});try{t.id?u.modifyNowledges(l({},t,{type:this.detailData.type_number,pid:this.detailData.id})).then(function(t){e.knowledgeDialog=!1,e.getList(),e.$emit("saveok")}):(t.t_id=this.detailData.id,t.group_id=this.currGroupId,u.addNowledges(l({},t,{type:this.detailData.type_number,pid:this.detailData.id})).then(function(t){e.knowledgeDialog=!1,e.getGlist(),e.getList(),e.$emit("saveok")}))}catch(t){var a=t.payload;for(var i in a.messages){this.$message.error(a.messages[i]);break}}}},toTop:function(){var i=this,e=[];if(this.$refs.mainListWrap.querySelectorAll("[name='ids']:checked").forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要置顶的内容！");u.upNowledges({id:e}).then(function(t){i.getList()}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},knowDel:function(t){var i=this,e=0<arguments.length&&void 0!==t?t:[],a=this.$refs.mainListWrap.querySelectorAll("[name='ids']:checked");if(e.length||a.forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要删除的内容！");this.$confirm("是否删除选中知识点?").then(function(t){u.deleteNowledges({id:e,type:i.detailData.type_number,pid:i.detailData.id}).then(function(t){i.getGlist(),i.$emit("saveok")}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})})},removeAnchor:function(t){var i=this,e=0<arguments.length&&void 0!==t?t:[],a=this.$refs.anchorList.querySelectorAll("[name='ids']:checked");if(e.length||a.forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要删除的锚点！");this.$confirm("是否删除选中锚点?").then(function(t){u.delAnchor({id:e,type:i.detailData.type_number,pid:i.detailData.id}).then(function(t){i.getAnchorList(),i.$emit("saveok")}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})})},handleSizeChange:function(t){this.getList(1,t)},handleCurrentChange:function(t){this.getList(t,this.page.offset)},changeGroup:function(e){if(this.checkedAll=!1,this.anchorCheckedAll=!1,this.currGroupId=e.id,this.currGroup=e,this.openAnchorList=!1,this.defaultData){var t=this.glist.findIndex(function(t){return t.id===e.id});this.list=this.glist[t].nowledge_info}else this.getList()},getbookList:function(){var i=this;return f(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.listNowledges({id:i.detailData.id}).then(function(t){i.bookInfo.list=t.data}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}});case 2:case"end":return t.stop()}},t,i)}))()},getBtn:function(){var e,i=this;u.nowledge_btn({id:this.detailData.id}).then((e=f(o.default.mark(function t(e){var a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.anchorsList=e.data,t.t0=o.default.keys(i.anchorsList);case 2:if((t.t1=t.t0()).done){t.next=9;break}if(a=t.t1.value,i.anchorsList[a])return i.anchorType=i["Anchors_"+a],t.abrupt("break",9);t.next=7;break;case 7:t.next=2;break;case 9:return t.next=11,i.getbookList();case 11:return t.next=13,i.getAnchorList();case 13:i.openAnchorList=!0;case 14:case"end":return t.stop()}},t,i)})),function(t){return e.apply(this,arguments)}))},addAnchor:function(){this.addAnchorDialog=!0},setAnchor:function(e){var a=this;return f(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.currknowledgeId=e,a.anchorList=[],t.next=4,a.getBtn();case 4:case"end":return t.stop()}},t,a)}))()},changeAnchorType:function(t){this.anchorType=this["Anchors_"+t],this.anchorList=[],this.getAnchorList()},getAnchorList:function(){var e=this;u.nowledge_info({type:this.anchorType,id:this.currknowledgeId}).then(function(t){e.anchorList=t.data}),this.getList()},bookinfoChange:function(t){if(this.anchorType==v)return this.readerId=t,void(this.readerDialog=!0);this.addAnchorDialog=!0},bookinfoBlur:function(t){this.bookInfo.value&&!t&&this.anchorType==p?this.addAnchorDialog=!0:this.bookInfo.value&&!t&&this.anchorType==v&&(this.readerId||(this.readerId=this.bookInfo.value),this.readerDialog=!0)},anchorListCancle:function(){this.addAnchorDialog=!1,this.getAnchorList(),this.$emit("saveok")},addAnchorSuccess:function(){this.$message.success("添加锚点成功!"),this.getAnchorList()},isShowAnchors:function(t){return this.anchorType==this["Anchors_"+t]},getAnchorsText:function(t){return this["Anchors_"+t]},checkedAllBtn:function(t,e){this[e]=t.target.checked}}}},336:function(t,e,a){"use strict";a.r(e);var i=a(337),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},337:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(16)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=s(a(277)),n=s(a(107)),l=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(312));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{VaForm:n.default},props:["type","bookInfo","themeId","currknowledgeId","detailData"],created:function(){var e=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.getList();case 1:case"end":return t.stop()}},t,e)}))()},data:function(){return{list:null,page:null,query:null,obj:{}}},computed:{},methods:{getList:function(t,e,a){var i=0<arguments.length&&void 0!==t?t:this.page&&this.page.num||1,r=this,n=1<arguments.length&&void 0!==e?e:this.page&&this.page.offset||10,s=a;return l.NowledgesList(o({pageNum:i,pageOffset:n},s,{id:"章节锚点"==this.type?this.bookInfo.value:this.themeId,type:this.type})).then(function(t){r.list=t.data,r.page=t.page})},checkedAll:function(e){var a=this;e.target.checked?this.list.forEach(function(t){a.obj[t.id]=t}):this.list.forEach(function(t){a.obj[t.id]=null}),this.$refs.ids.forEach(function(t){t.checked=e.target.checked}),log(this.obj)},choose:function(t,e){t.target.checked?this.obj[e.id]=e:this.obj[e.id]=null},addAnchorCommit:function(){var i=this,t=[];for(var e in this.obj)this.obj.hasOwnProperty(e)&&this.obj[e]&&t.push(this.obj[e]);l.addAnchor({n_id:this.currknowledgeId,b_id:"章节锚点"==this.type?t.map(function(t){return t.id}):"",c_id:"章节锚点"==this.type?[this.bookInfo.value]:t.map(function(t){return t.id}),type:this.type,name:t.map(function(t){return t.chapter_name||t.name}),ptype:this.detailData.type_number,pid:this.detailData.id}).then(function(t){i.$message.success("添加成功"),i.$emit("anchorListCancle")}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},handleSizeChange:function(t){this.getList(1,t)},handleCurrentChange:function(t){this.getList(t,this.page.offset)},seareHandeler:function(){this.query=(0,r.default)(this.$refs.mainForm,{hash:!0}),log(this.query),this.getList(1,10,this.query)}},filters:{formatHolder:function(t){return t.substr(0,2)+"名称"}}}},338:function(t,e,a){},339:function(t,e,a){"use strict";a.r(e);var i=a(340),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},340:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=a(16),n=(i=r)&&i.__esModule?i:{default:i},s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(579)),l=a(312);function o(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}e.default={props:{readerDialog:{type:Boolean,default:!1},title:{type:String,default:"阅读器"},readerId:{type:String,default:""},currId:{type:String,default:""},version:{type:String,default:"production"},markBtn:{type:String,default:""}},data:function(){return{}},created:function(){var e=this;this.$nextTick(function(){var t={};t.do_mark=e.do_mark,t.get_chapter=e.get_chapter,t.get_book=e.get_book,new Reader3({imagePath:"http://xcloud.kf.gli.cn/pc/",markBtnText:e.markBtn,copyEnabled:!0,services:t,params:{bookId:e.readerId}}).mount(document.getElementById("readerIframe"),function(){})})},methods:{colse:function(){this.$emit("update:readerDialog",!1)},do_mark:function(t){var i=this,e=t.bookId,a=t.rangeJSON,r=t.selectedText,n=t.chapterRid,s=t.chapterName,o=void 0===s?"":s;(0,l.addAnchor)({name:[o],range:a,point:r,n_id:this.currId,b_id:[n],c_id:[e],type:"内容锚点"}).then(function(t){i.$emit("addAnchorSuccess")}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},get_chapter:function(t){var e=this,a=t.bookId,i=t.chapterRid;return o(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get_chapter({bookId:a,chapterRid:i,version:e.version});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}))()},get_book:function(t){var e=this,a=t.bookId;return o(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get_book({bookId:a,version:e.version});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}))()}}}},343:function(t,e,a){},344:function(t,e,a){},345:function(t,e,a){"use strict";a.r(e);var i=a(346),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},346:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=b(a(16)),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=b(a(277)),p=g(a(298)),u=g(a(310)),n=b(a(347)),s=a(299),o=b(a(311)),l=b(a(598)),c=b(a(600)),v=b(a(484)),m=b(a(314)),h=b(a(485));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function b(t){return t&&t.__esModule?t:{default:t}}function _(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}e.default={props:["detailData","readOnly","defaultData"],components:{Tab:m.default,Book:l.default,Group:v.default,ContentDetail:n.default,EBook:c.default,Audio:h.default,Knowledge:o.default},data:function(){return{type:"book",soucesType:"1",audioInfo:{},detailAddDialog:!1,bookDialog:!1,groupDialog:!1,infoDialog:!1,currentItem:{},curSoucesList:{},dataList:[],page:null,infoData:{},mediaType:null,optional:[],singleElection:!0,defaultBList:null,defaultEList:null,defaultAList:null,defaultVList:null,defaultRList:null}},created:function(){this.detailData&&this.detailData.id&&this.check(),this.defaultData&&(this.defaultBList=this.defaultData.structure.book,this.defaultEList=this.defaultData.structure.ebooks[0],this.defaultAList=this.defaultData.structure.audios,this.defaultVList=this.defaultData.structure.videos,this.defaultRList=this.defaultData.structure.resources)},computed:{isShowBtn:function(){return 0<this.optional.length}},methods:{handleClick:function(t){this.type=t.name},check:function(){var e=this;this.detailData&&p.check({id:this.detailData.id}).then(function(t){e.optional=t.data})},getAudio:function(){var e=this;p.groupList({id:this.detailData.id,type:"1"}).then(function(t){e.audioList=t.data})},detail:function(t,e){"book"!=this.type?"audio"!=this.type||"object"!=(void 0===e?"undefined":i(e))?this.bookDetailInfo(t,t.type):this.addVideo(t):this.addBook(t)},del:function(t,e){var a=this;p.del(f({},t,{type:this.type})).then(function(t){a.getList()})},bookDetailInfo:function(t,e,a){var i=this,r=t.id,n=t.c_id;(0,s._themeDetail)({c_id:n,id:r,type:e}).then(function(t){i.infoData=t.data,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},getList:function(){this.$refs[this.type].getList(this.type),this.check()},query:function(){var t=(0,r.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(1,this.page.offset,t)},openResources:function(e){var a=this;return _(d.default.mark(function t(){return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.singleElection=!0,a.soucesType=e,a.dataList=[],a.page=null,"audio"==a.type?a.curSoucesList=a.$refs.group.list:"e-book"==a.type?(a.singleElection=!1,a.curSoucesList=[]):a.curSoucesList=a.$refs[a.type].list,t.next=7,a.getAddList();case 7:a.detailAddDialog=!0;case 8:case"end":return t.stop()}},t,a)}))()},getAddList:function(t,e,a){var i=0<arguments.length&&void 0!==t?t:this.page&&this.page.num||1,r=this,n=1<arguments.length&&void 0!==e?e:this.page&&this.page.offset||10,s=a,o=this.soucesType,l=this.$refs.resource.type;if(14==o)switch(l){case"1":o="3";break;case"2":o="5";break;case"3":o="4";break;default:o="3"}u._addBooks(f({pageNum:i,pageOffset:n,type:o},s)).then(function(t){r.dataList=t.data,r.page=t.page})},addBook:function(e){var a=this;return _(d.default.mark(function t(){return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.check();case 2:a.currentItem=e||{},a.bookDialog=!0;case 4:case"end":return t.stop()}},t,a)}))()},addVideo:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");t||(this.curSoucesList=[]),this.currentItem=t||{},this.groupDialog=!0},saveOk:function(){this.bookDialog=!1,this.getList()},handleSizeChange:function(t){var e=(0,r.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(1,t,e)},handleCurrentChange:function(t){var e=(0,r.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(t,this.page.offset,e)},isChecked:function(e){return-1<this.curSoucesList.findIndex(function(t){return t.id===e})},checkAll:function(a,t){document.querySelector("."+t).querySelectorAll('input[name="ids"]').forEach(function(t,e){t.checked=a.target.checked})},addSelection:function(){var c=this;return _(d.default.mark(function t(){var e,a,i,r,n,s,o,l,u;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c.detailData.id){t.next=2;break}return t.abrupt("return",c.$message.error("请保存产品信息后再做添加"));case 2:if(e=document.querySelector(".addBookForm"),(a=e.querySelectorAll('input[name="ids"]:checked')).length){t.next=6;break}return t.abrupt("return",c.$message.warning("请选择添加内容"));case 6:i=function(e){if(-1<c.curSoucesList.findIndex(function(t){return t.id==e.value}))return"continue";c.curSoucesList.push(f({},c.dataList.find(function(t){return t.id==e.value}),{action:"add"}))},n=!(r=!0),s=void 0,t.prev=10,o=a[Symbol.iterator]();case 12:if(r=(l=o.next()).done){t.next=20;break}if(u=l.value,"continue"===i(u))return t.abrupt("continue",17);t.next=17;break;case 17:r=!0,t.next=12;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(10),n=!0,s=t.t0;case 26:t.prev=26,t.prev=27,!r&&o.return&&o.return();case 29:if(t.prev=29,n)throw s;t.next=32;break;case 32:return t.finish(29);case 33:return t.finish(26);case 34:if("audio"==c.type)return c.$refs.group.update(c.curSoucesList),c.detailAddDialog=!1,t.abrupt("return");t.next=38;break;case 38:if("e-book"==c.type)return t.next=41,c.$refs.ebook.getRelation(c.curSoucesList);t.next=43;break;case 41:return c.detailAddDialog=!1,t.abrupt("return");case 43:p.add({type:c.type,product_id:c.detailData.id,constitute:c.curSoucesList,resource_type:c.$refs.resource.type}).then(function(t){c.getList(),c.detailAddDialog=!1});case 44:case"end":return t.stop()}},t,c,[[10,22,26,34],[27,,29,33]])}))()},uncheckedAll:function(t){this.singleElection||(this.$refs.ids.forEach(function(t){return t.checked=!1}),t.target.checked=!0)},saveAudioOK:function(){this.$refs.audio.getAudio()},clear:function(){document.getElementById("text").value=""},clear2:function(){document.getElementById("text2").value=""}},watch:{detailData:function(){this.check()}}}},347:function(t,e,a){"use strict";a.r(e);var i=a(780),r=a(348);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(595);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"45824198",null);e.default=o.exports},348:function(t,e,a){"use strict";a.r(e);var i=a(349),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},349:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["infoData","mediaType","infoDialog"],data:function(){return{metadata:this.infoData.attributes||[]}},computed:{hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{detailType:function(){return this.infoData.img_status}},created:function(){}}},350:function(t,e,a){},351:function(t,e,a){"use strict";a.r(e);var i=a(352),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},352:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(a(16)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},s=(i(a(277)),function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(80))),o=a(298);function i(t){return t&&t.__esModule?t:{default:t}}e.default={props:{bookDialog:{type:Boolean,default:!1},item:{type:Object,default:{}},detailData:Object,optional:Array,readOnly:Boolean},data:function(){return{information:{},previewImgUrl:null,metadata:[],radio:"paperback"}},created:function(){Object.entries(this.item).length?this.getInfo():this.radio=this.optional.length&&this.optional[0]||"paperback"},computed:{setTitle:function(){return Object.entries(this.item).length?this.item.name||"修改纸质书":"新增纸质书"}},methods:{getInfo:function(){var i=this;(0,o.bookInfo)({id:this.item.id}).then(function(t){i.information=t.data,i.metadata=t.data.attributes,i.radio=t.data.type}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},colse:function(){this.$emit("update:bookDialog",!1)},save:function(){var i=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(r.default.mark(function t(){var e,a;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(e=i.$refs.fenmian.files[0],a=i.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,e)return t.next=10,s.getTask(e).then(function(t){i.information.img=t.data.path});t.next=10;break;case 10:if(i.information.img){t.next=14;break}return i.$message.error("封面必填"),a.close(),t.abrupt("return");case 14:return t.next=16,(0,o.bookSave)(n({},i.information,{attributes:i.metadata,product_id:i.detailData.id,type:i.radio})).then(function(t){a.close(),i.$emit("saveok")});case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(6),t.t0.payload,a.close();case 22:case"end":return t.stop()}},t,i,[[6,18]])}))()},previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,e?this.previewPhotoUrl=URL.createObjectURL(a):this.previewImgUrl=URL.createObjectURL(a)},syncInfo:function(){var l=this;this.$refs.isbn.value&&s.synchronization({id:this.$refs.isbn.value}).then(function(t){log(t);var e=t.data,a=e.bookname,i=(e.writer,e.isbn),r=e.price,n=e.price_min,s=e.weight,o=e.isbn_ext;switch(e.bookbinding){case"平":l.radio="paperback";break;case"精":l.radio="hardcover";break;case"软":l.radio="soft_hardcover";break;case"线":l.radio="thread_bound"}l.information={name:a,book_isbn:i,price:r,sales_price_min:n,book_isbn_extension:o,book_weight:s}}).catch(function(t){var e=t.payload;for(var a in log(111,e),log(e),e.messages){l.$message.error(e.messages[a]);break}})},isShow:function(t){return!(-1<this.optional.indexOf(t))}}}},353:function(t,e,a){},354:function(t,e,a){"use strict";a.r(e);var i=a(355),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},355:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(a(16)),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},o=(i(a(277)),function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(298))),l=(a(80),a(299));function i(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},activeName:"first",metadata:[],shopMetadata:[],book_id:null,retailer_id:null,constitute_id:null,ebook_shop:{},current_id:null}},created:function(){this.detailData&&this.detailData.id&&this.getEBook(),this.defaultData&&(this.information=this.defaultData,this.metadata=this.defaultData.attributes,this.ebook_shop=this.defaultData.ebook_shop||{},this.shopMetadata=this.defaultData.ebook_shop?this.defaultData.ebook_shop.attributes:[])},methods:{getEBook:function(){var a=this;o.getEBook({id:this.detailData.id}).then(function(t){var e=t.data||{};a.information=e,a.current_id=e.id,e.length||Object.entries(e).length?(a.constitute_id=e.constitute_id,a.book_id=e.book_id,a.metadata=e.attributes||[],a.ebook_shop=e.ebook_shop||{},e.ebook_shop&&(a.retailer_id=e.ebook_shop.id,a.shopMetadata=e.ebook_shop.attributes||[])):a.retailer_id=a.constitute_id=null})},getRelation:function(t){var i=this;if(t.length){var e=t[0],a=e.c_id,r=e.id,n=e.type;log(a,r,n),(0,l._themeDetail)({c_id:a,id:r,type:n}).then(function(t){i.information=t.data,i.metadata=i.information.attributes,i.constitute_id=null,i.book_id=r,log(i.information)}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})}},submit:function(){var r=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(n.default.mark(function t(){var e,a,i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return",r.$message.error("电子书信息不全!"));case 3:return log(s({},r.information,r.ebook_shop,{book_id:r.book_id,components_id:r.detailData.id,attributes:r.metadata,shop_attributes:r.shopMetadata,constitute_id:r.constitute_id,retailer_id:r.retailer_id,current_id:r.current_id})),e=r.$progress(),t.prev=5,t.next=8,o.saveEBook(s({},r.information,r.ebook_shop,{book_id:r.book_id,components_id:r.detailData.id,attributes:r.metadata,shop_attributes:r.shopMetadata,constitute_id:r.constitute_id,retailer_id:r.retailer_id,id:r.information.id,current_id:r.current_id})).then(function(t){!r.current_id&&t.data&&(r.current_id=t.data.id)});case 8:r.$message.success("保存成功"),t.next=21;break;case 11:t.prev=11,t.t0=t.catch(5),a=t.t0.payload,t.t1=n.default.keys(a.messages);case 15:if((t.t2=t.t1()).done){t.next=21;break}return i=t.t2.value,r.$message.error(a.messages[i]),t.abrupt("break",21);case 21:e.close();case 22:case"end":return t.stop()}},t,r,[[5,11]])}))()}},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}}}},356:function(t,e,a){},357:function(t,e,a){"use strict";a.r(e);var i=a(358),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},358:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(298)),s=a(314),o=(i=s)&&i.__esModule?i:{default:i};e.default={components:{Tab:o.default},props:{groupDialog:{type:Boolean,default:!1},detailData:Object,item:{type:Object,default:{}},isMedia:{type:Number,default:1},onlyShow:Boolean,defaultData:Object},data:function(){return{information:{},list:[],addMediaType:"4"}},created:function(){Object.entries(this.item).length&&this.defaultData,this.information=this.item,this.list=this.item.children||[],2==this.isMedia&&(this.addMediaType="5")},computed:{setTitle:function(){return Object.entries(this.item).length?this.item.name||"修改组":"新增组"}},methods:{getInfo:function(){var i=this;n.groupDetail({id:this.item.id,type:this.isMedia}).then(function(t){i.information=t.data,i.list=t.data.constitute}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},update:function(t){this.list=t},colse:function(){this.$emit("update:groupDialog",!1)},save:function(){var i=this;this.$refs.detailForm.valiAll()&&n.groupSave(r({id:this.item?this.item.id:""},this.information,{product_id:this.detailData.id,type:this.isMedia,constitute:this.list})).then(function(t){log(t),i.$message.success("保存成功"),i.$emit("save"),i.colse()}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},del:function(e){var t=this.list.findIndex(function(t){return t.id===e.id});-1<t&&this.list.splice(t,1)}}}},359:function(t,e,a){"use strict";a.r(e);var i=a(360),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},360:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,n,s,o=a(277),l=((i=o)&&i.__esModule,function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(298)));e.default={props:["dataType","isShow","detailData","defaultList","isLabelHide","onlyShow"],data:function(){return{services:l,type:"1",list:[]}},created:function(){this.defaultList?this.list=this.defaultList:this.getList(this.dataType)},computed:{},methods:(r={handleClick:function(){},getList:function(t){var e=this;this.detailData&&this.detailData.id&&this.services.getList({type:t,id:this.detailData.id,resource_type:this.type}).then(function(t){e.list=t.data})}},n="handleClick",s=function(t){log(t)},n in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,r),watch:{defaultList:function(){this.list=this.defaultList},type:function(t){this.getList(this.dataType)}}}},361:function(t,e,a){},362:function(t,e,a){},363:function(t,e,a){"use strict";a.r(e);var i=a(364),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},364:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(298));e.default={props:{detailData:Object,media:{type:Number,default:1},readOnly:{type:Boolean,default:!1},defaultData:Array},data:function(){return{audioList:[]}},created:function(){this.detailData&&this.detailData.id&&this.getAudio(),this.defaultData&&(this.audioList=this.defaultData)},computed:{},methods:{getAudio:function(){var e=this;s.groupList({id:this.detailData.id,type:this.media}).then(function(t){e.audioList=t.data})},del:function(t,e){var a=this,i=null,r=null;"object"==n(t.children)?i=t.id:(i=e.parent.data.id,r=t.id),log(i),s.audioDel({id:i,resource_id:r,product_id:this.detailData.id}).then(function(t){a.getAudio()})}}}},365:function(t,e,a){},366:function(t,e,a){},367:function(t,e,a){},368:function(t,e,a){"use strict";a.r(e);var i=a(369),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},369:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=m(a(16)),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=m(a(608)),n=m(a(314)),s=m(a(485)),o=m(a(484)),c=m(a(288)),d=m(a(347)),f=m(a(311)),p=a(299),v=a(80);function m(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:r.default,Tab:n.default,Resource:c.default,ContentDetail:d.default,Audio:s.default,Group:o.default,Knowledge:f.default},props:{type:String,detailData:Object,detailDialog:Boolean,services:Object,media:{type:Number,default:1},defaultData:Object,readOnly:Boolean},created:function(){this.curSoucesList=this.detailData&&this.detailData.constitute||this.defaultData&&this.defaultData.structure||[],this.defaultData&&(this.defaultAList=this.defaultData.structure)},data:function(){return{resourceDialog:!1,curSoucesList:[],infoDialog:!1,infoData:null,metadata:[],currentItem:{},groupDialog:!1,defaultAList:null}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name},detail:function(t,e){if("object"==(void 0===e?"undefined":i(e)))return this.curSoucesList=t.children,void this.addVideo(t);this.bookDetailInfo(t,t.type)},del:function(e){var t=this.curSoucesList.findIndex(function(t){return t.id===e.id});-1<t&&this.curSoucesList.splice(t,1)},bookDetailInfo:function(t,e){var i=this,a=t.id,r=t.c_id;(0,p._themeDetail)({c_id:r,id:a,type:e}).then(function(t){i.infoData=t.data,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},openResources:function(t){this.resourceDialog=!0,log(t),this.resourceType=t},addSelcet:function(t){this.$refs.group.update(t),this.curSoucesList=t,this.resourceDialog=!1},addVideo:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");t||(this.curSoucesList=[]),this.currentItem=t||{},this.groupDialog=!0},saveAudioOK:function(){this.$refs.audio.getAudio(),this.$emit("saveok")},submitDetail:function(){var o=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(l.default.mark(function t(){var e,a,i,r,n,s;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.$refs.info.$refs.fenmian.files[0],a=o.$refs.info.$refs.detailForm.valiAll(),i=o.$refs.info.information,a){t.next=5;break}return t.abrupt("return",o.$message.error("请完善产品信息后再提交!"));case 5:if(o.curSoucesList.length){t.next=7;break}return t.abrupt("return",o.$message.error("产品结构必传!"));case 7:if(r=o.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=8,e)return t.next=12,(0,v.getTask)(e).then(function(t){i.img=t.data.path});t.next=12;break;case 12:if(i.img){t.next=14;break}return t.abrupt("return",o.$message.error("请上传封面!"));case 14:return t.next=16,o.services.save(u({id:o.detailData.id},i,{constitute:o.curSoucesList,attributes:{xRead:o.$refs.info.retailers},pro_attributes:o.$refs.info.metadata})).then(function(t){o.$message.success("保存成功"),r.close(),o.$emit("saveok",t.data)});case 16:t.next=29;break;case 18:t.prev=18,t.t0=t.catch(8),n=t.t0.payload,r.close(),t.t1=l.default.keys(n.messages);case 23:if((t.t2=t.t1()).done){t.next=29;break}return s=t.t2.value,o.$message.error(n.messages[s]),t.abrupt("break",29);case 29:case"end":return t.stop()}},t,o,[[8,18]])}))()}}}},370:function(t,e,a){"use strict";a.r(e);var i=a(371),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},371:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(a(16)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},l=(i(a(277)),a(80));function i(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","services","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{},xRead:{},activeName:"1",metadata:[]}},created:function(){log("------",this.readOnly),this.detailData&&Object.entries(this.detailData).length&&this.getInfo(),this.defaultData&&(this.retailers=this.defaultData.retailers||{},this.information=this.defaultData.base||{},this.xRead=this.defaultData.xread||{},this.metadata=this.defaultData.attributes||[])},methods:{getInfo:function(){var e=this;this.services.getInfo({id:this.detailData.id}).then(function(t){e.retailers=t.data.retailers,e.information=t.data,e.xRead=t.data["x-read"],e.metadata=t.data.pro_attributes||[]})},previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,this.previewImgUrl=URL.createObjectURL(a)},submitDetail:function(){var n=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(s.default.mark(function t(){var e,a,i,r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.$refs.fenmian.files[0],n.$refs.detailForm.valiAll()){t.next=4;break}return t.abrupt("return");case 4:if(a=n.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=5,e)return t.next=9,(0,l.getTask)(e).then(function(t){n.information.img=t.data.path});t.next=9;break;case 9:return t.next=11,n.services.save(o({id:n.detailData.id},n.information,{attributes:{xRead:n.xRead,eCommerce:n.retailers},pro_attributes:n.metadata})).then(function(t){a.close(),n.$message.success("保存成功"),n.$emit("saveok",t.data)});case 11:t.next=24;break;case 13:t.prev=13,t.t0=t.catch(5),i=t.t0.payload,a.close(),t.t1=s.default.keys(i.messages);case 18:if((t.t2=t.t1()).done){t.next=24;break}return r=t.t2.value,n.$message.error(i.messages[r]),t.abrupt("break",24);case 24:case"end":return t.stop()}},t,n,[[5,13]])}))()}}}},372:function(t,e,a){},373:function(t,e,a){},374:function(t,e,a){"use strict";a.r(e);var i=a(375),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},375:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(a(16)),n=s(a(312)),i=l(a(376)),o=s(a(299));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}e.default={components:{Info:i.default},props:{type:{type:String,default:"info"},isKnowledge:{type:Boolean,default:!1},isMetadata:{type:Boolean,default:!0},isAuthor:{type:Boolean,default:!0},item:Object,defaultData:Object},data:function(){return{currGroupId:null,currGroup:null,detailId:"",gList:null,list:null,infoDialog:!1,infoData:{},infoValue:"detail",detailData:{}}},created:function(){this.defaultData&&(this.detailData=this.defaultData,this.gList=this.detailData.knowledge,this.currGroup=this.gList[0],this.list=this.gList[0]?this.gList[0].nowledge_info:[])},methods:{handleClick:function(t,e){"Knowledge"===t.name&&this.gList},handKnowledgeClick:function(e){this.currGroupId=e.id,this.currGroup=e;var t=this.gList.findIndex(function(t){return t.id===e.id});this.list=this.gList[t].nowledge_info},getGlist:function(){var i=this;return u(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.listGroup({id:i.item.entity_id||i.item.foreign_id}).then(function(t){var e=t.data.findIndex(function(t){return i.currGroupId===t.id}),a=-1<e?e:0;i.gList=t.data,t.data&&0<t.data.length?(i.currGroupId=t.data[a].id,i.currGroup=t.data[a],i.getList()):log("暂无分组!")}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}});case 2:case"end":return t.stop()}},t,i)}))()},getList:function(){var i=this;return u(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.listKnowledge({id:i.item.entity_id||i.item.foreign_id,group_id:i.currGroupId}).then(function(t){i.list=t.data,i.page=t.page}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}});case 2:case"end":return t.stop()}},t,i)}))()},infoHandleClick:function(t){this.infoValue=t.name},bookDetailInfo:function(t,e,a){var i=this,r=t.content,n=r.id,s=r.c_id;o._themeDetail({c_id:s,id:n,type:e}).then(function(t){i.infoData=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})}}}},376:function(t,e,a){"use strict";a.r(e);var i=a(777),r=a(377);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(615);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"5c869a99",null);e.default=o.exports},377:function(t,e,a){"use strict";a.r(e);var i=a(378),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},378:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(82),r(a(277)),function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);e.default=t}}(a(478));var i=r(a(481));function r(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","infoData","infoDialog","isAuthor"],data:function(){return{readerDialog:!1,readerId:null}},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{handleClick:function(t,e){this.$emit("infoClick",t)},openReader:function(t){log(t),this.readerId=t.b_id,this.readerDialog=!0}},components:{Reader:i.default}}},379:function(t,e,a){},380:function(t,e,a){},381:function(t,e,a){"use strict";a.r(e);var i=a(382),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},382:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=p(a(16)),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},c=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(486)),i=p(a(618)),r=p(a(314)),n=p(a(288)),s=p(a(311)),o=a(299),d=p(a(347)),f=a(80);function p(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:i.default,Tab:r.default,Resource:n.default,ContentDetail:d.default,Knowledge:s.default},props:{type:String,detailData:Object,detailDialog:Boolean,defaultData:Object,readOnly:Boolean},created:function(){this.curSoucesList=this.detailData&&this.detailData.constitute||this.defaultData&&this.defaultData.structure||[]},data:function(){return{resourceDialog:!1,curSoucesList:[],infoDialog:!1,infoData:null}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name},detail:function(t){this.bookDetailInfo(t,t.type)},del:function(e){var t=this.curSoucesList.findIndex(function(t){return t.id===e.id});-1<t&&this.curSoucesList.splice(t,1)},bookDetailInfo:function(t,e){var i=this,a=t.id,r=t.c_id;(0,o._themeDetail)({c_id:r,id:a,type:e}).then(function(t){i.infoData=t.data,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},openResources:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");this.resourceDialog=!0,this.resourceType=t},addSelcet:function(e){var a=this;c.add({product_id:this.detailData.id,constitutes:e}).then(function(t){a.curSoucesList=e,a.resourceDialog=!1}).catch(function(t){t.payload;a.$message.error("添加失败")})},submitDetail:function(){var o=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(l.default.mark(function t(){var e,a,i,r,n,s;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.$refs.info.$refs.fenmian.files[0],a=o.$refs.info.$refs.detailForm.valiAll(),i=o.$refs.info.information,a){t.next=5;break}return t.abrupt("return",o.$message.error("请完善产品信息后再提交!"));case 5:if(r=o.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,e)return t.next=10,(0,f.getTask)(e).then(function(t){i.img=t.data.path});t.next=10;break;case 10:if(i.img){t.next=13;break}return r.close(),t.abrupt("return",o.$message.error("请上传封面!"));case 13:return t.next=15,c.save(u({id:o.detailData.id},i,{attributes:{xRead:o.$refs.info.xRead},pro_attributes:o.$refs.info.metadata})).then(function(t){o.$message.success("保存成功"),r.close(),o.$emit("saveok",t.data)});case 15:t.next=28;break;case 17:t.prev=17,t.t0=t.catch(6),n=t.t0.payload,r.close(),t.t1=l.default.keys(n.messages);case 22:if((t.t2=t.t1()).done){t.next=28;break}return s=t.t2.value,o.$message.error(n.messages[s]),t.abrupt("break",28);case 28:case"end":return t.stop()}},t,o,[[6,17]])}))()}}}},383:function(t,e,a){"use strict";a.r(e);var i=a(384),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},384:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(a(16)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},l=(i(a(277)),function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(486))),u=a(80);function i(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{},xRead:{},activeName:"1",metadata:[]}},created:function(){this.detailData&&(this.information=this.detailData,this.xRead=this.detailData["x-read"]||{},this.metadata=this.detailData.pro_attributes||[]),this.defaultData&&(this.information=this.defaultData.base||{},this.xRead=this.defaultData.xread||{},this.metadata=this.defaultData.attributes||[])},methods:{previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,this.previewImgUrl=URL.createObjectURL(a)},submitDetail:function(){var n=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(s.default.mark(function t(){var e,a,i,r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.$refs.fenmian.files[0],n.$refs.detailForm.valiAll()){t.next=4;break}return t.abrupt("return");case 4:if(a=n.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=5,e)return t.next=9,(0,u.getTask)(e).then(function(t){n.information.img=t.data.path});t.next=9;break;case 9:return t.next=11,l.save(o({id:n.detailData.id},n.information,{attributes:{xRead:n.retailers}})).then(function(t){log(t),n.$message.success("保存成功"),a.close(),n.$emit("saveok",t.data)});case 11:t.next=24;break;case 13:t.prev=13,t.t0=t.catch(5),i=t.t0.payload,a.close(),t.t1=s.default.keys(i.messages);case 18:if((t.t2=t.t1()).done){t.next=24;break}return r=t.t2.value,n.$message.error(i.messages[r]),t.abrupt("break",24);case 24:case"end":return t.stop()}},t,n,[[5,13]])}))()}}}},385:function(t,e,a){},386:function(t,e,a){},387:function(t,e,a){"use strict";a.r(e);var i=a(388),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},388:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=o(a(622)),n=o(a(626)),s=o(a(632));function o(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:r.default,Hour:n.default,Exercise:s.default},props:["type","detailData","defaultData","detailDialog","readOnly","services","hourSever","exerciseSever"],beforeCreate:function(){},data:function(){return{infoDate:{},hourDate:[],exerciseDate:[],priceDate:{}}},created:function(){var t=this.detailData||this.defaultData;this.infoDate=t||{},this.hourDate=t.course_period_list||[],this.exerciseDate=t.examination_paper_list||[],this.priceDate=t.price||{}},methods:{exerciseChange:function(t){var e=this;this.exerciseSever.getList({id:this.detailData.id}).then(function(t){e.exerciseDate=t.data})},hourChange:function(){var e=this;this.hourSever.getList({course_id:this.detailData.id}).then(function(t){e.hourDate=t.data})},savePrice:function(){var e=this;if(!this.detailData.id)return this.$message.warning("请先保存基本信息后再保存!");this.services.savePrice(i({id:this.detailData.id},this.priceDate)).then(function(t){e.$message.success("价格保存成功!")})},restprice:function(){var e=this;this.services.getPrice({id:this.detailData.id}).then(function(t){e.priceDate=t.data})}}}},389:function(t,e,a){"use strict";a.r(e);var i=a(390),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},390:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(a(16)),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},i=(r(a(277)),r(a(623))),o=a(80);function r(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","infoDate","services"],data:function(){return{information:this.infoDate,previewImgUrl:null,imageCropperDialog:!1,oldBlob:null,file:null,timePick:null}},components:{TimePicks:i.default},created:function(){if(this.information){var t=this.information,e=t.effective_duration_start,a=t.effective_duration_end;e&&a&&(this.timePick=[e,a])}},methods:{previewImg:function(t,e){var a=this,i=t.target;this.file=i.files[0],this.imgFile=URL.createObjectURL(this.file),this.$ImageSize({file:this.file,ratio:1.6}).then(function(t){a.previewImgUrl=URL.createObjectURL(a.file)},function(t){201!=t.status?a.$message.error(t.message):a.imageCropperDialog=!0})},submitInfo:function(){var r=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(n.default.mark(function t(){var e,a,i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=r.$refs.fenmian.files[0],a=r.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),i=s({},r.information),e)return r.oldBlob&&((e=r.oldBlob).name=r.file.name),t.next=10,(0,o.getTask)(e).then(function(t){i.img=t.data.path});t.next=10;break;case 10:return t.next=12,r.services.save(i).then(function(t){r.detailData.id||(r.information=t.data),a.close(),r.$message.success("操作成功!"),r.$emit("saveok",t.data)}).catch(function(t){a.close(),r.$message.error(t.message||"错误!")});case 12:case"end":return t.stop()}},t,r)}))()},preview:function(t){this.previewImgUrl=URL.createObjectURL(t),this.oldBlob=t,this.imageCropperDialog=!1},getTime:function(t){t=t||["",""],this.information.effective_duration_start=t[0],this.information.effective_duration_end=t[1]}}}},391:function(t,e,a){"use strict";a.r(e);var i=a(392),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},392:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["inputsName","placeholder","value"],data:function(){return{timePick:this.value,start:"开始日期",end:"结束日期"}},created:function(){this.placeholder&&(this.start=this.placeholder[0]||this.start,this.end=this.placeholder[1]||this.end)},methods:{}}},393:function(t,e,a){},394:function(t,e,a){},395:function(t,e,a){"use strict";a.r(e);var i=a(396),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},396:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(a(16)),r=(n(a(277)),a(80),n(a(627)));function n(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}e.default={props:["detailData","readOnly","hourDate","services"],components:{HourInfo:r.default},data:function(){return{hourInfoDialog:!1,list:this.hourDate}},created:function(){},methods:{delChoosen:function(t){var e=this,a=[];a.push(t),0<a.length&&this.$confirm("是否删除?").then(function(t){e.services.del({id:a}).then(function(t){e.$emit("change"),e.$message.success("操作成功!")})}).catch(function(t){})},showHour:function(e){var a=this;return s(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=10;break}if(a.currentHour=e,a.services)return t.next=5,a.getInfo();t.next=7;break;case 5:t.next=8;break;case 7:a.currentHour=e;case 8:t.next=13;break;case 10:if(a.detailData.id){t.next=12;break}return t.abrupt("return",a.$message.warning("请先保存基本信息后再保存!"));case 12:a.currentHour={};case 13:a.hourInfoDialog=!0;case 14:case"end":return t.stop()}},t,a)}))()},getInfo:function(){var e=this;return s(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.services.getInfo({id:e.currentHour.id}).then(function(t){e.hourInfoDialog&&e.$refs.info.updateList(t.data),e.currentHour=t.data});case 2:case"end":return t.stop()}},t,e)}))()},saveok:function(t){this.currentHour.id||(this.currentHour=t),this.hourInfoDialog=!1,this.$emit("change")},sort:function(t,e){var a=this;this.services.sort({course_id:this.detailData.id,course_period_id:t.id,type:e}).then(function(t){a.$emit("change"),a.$message.success("操作成功!")})},restList:function(){this.getInfo(),this.$emit("restprice")}},watch:{hourDate:function(t){this.list=t}},filters:{formateText:function(t,e){var a=1<arguments.length&&void 0!==e?e:20;return t.length>a?t.substr(0,a)+"...":t}}}},397:function(t,e,a){"use strict";a.r(e);var i=a(398),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},398:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(a(16)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},i=(s(a(277)),a(80),s(a(628)));function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}e.default={components:{planInfo:i.default},props:["detailData","readOnly","currentHour","hourInfoDialog","services"],data:function(){return{information:{},planInfoDialog:!1,currentPlan:null,list:[]}},created:function(){this.information=n({},this.currentHour)},methods:{colse:function(){this.$emit("update:hourInfoDialog",!1)},showPlan:function(e){var a=this;return o(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=9;break}if(a.services)return t.next=4,a.services.getPlanInfo({id:e.id}).then(function(t){a.currentPlan=t.data});t.next=6;break;case 4:t.next=7;break;case 6:a.currentPlan=e;case 7:t.next=10;break;case 9:a.currentPlan={};case 10:a.planInfoDialog=!0;case 11:case"end":return t.stop()}},t,a)}))()},submitInfo:function(){var i=this;return o(r.default.mark(function t(){var e,a;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:return e=i.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),a=n({},i.information,{course_id:i.detailData.id}),t.next=7,i.services.save(a).then(function(t){e.close(),i.$message.success("操作成功!"),i.$emit("saveok",t.data)}).catch(function(t){e.close(),i.$message.error(t.message||"错误!")});case 7:case"end":return t.stop()}},t,i)}))()},delChoosen:function(t){var e=this,a=[];if(t)a.push(t);else{var i=Array.from(document.querySelectorAll('input[name="ids"]:checked'));if(i.forEach(function(t){a.push(t.value)}),!i.length)return void this.$message.error("请先选中!")}0<a.length&&this.$confirm("是否删除?").then(function(t){e.services.delPlan({id:a}).then(function(t){e.$emit("restList")})}).catch(function(t){})},updateList:function(t){this.information=t}},watch:{currentHour:function(t){this.information=t}}}},399:function(t,e,a){"use strict";a.r(e);var i=a(400),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},400:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},i=(n(a(277)),a(80),n(a(288)));function n(t){return t&&t.__esModule?t:{default:t}}e.default={props:["currentPlan","readOnly","currentHour","planInfoDialog","services","detailData"],components:{Resource:i.default},data:function(){return{information:{resources:[]},previewImgUrl:null,resourceDialog:!1,parameter:null}},created:function(){this.information=r({},this.currentPlan,{resources:this.currentPlan.constitute||this.currentPlan.teaching_plan_info||[]}),this.information.time=(this.information.time/60).toFixed(2)},methods:{colse:function(){this.$emit("update:planInfoDialog",!1)},submitInfo:function(){var e=this;if(this.$refs.detailForm.valiAll()){var a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t=r({},this.information);t.resources=this.information.resources.map(function(t){return{id:t.id,type:t.type}}),delete t.constitute,t.time=60*t.time;var i=r({},t,{period_id:this.currentHour.id,course_id:this.detailData.id});this.services.savePlan(i).then(function(t){a.close(),e.$message.success("操作成功!"),e.$emit("update:planInfoDialog",!1),e.$emit("saveok",t.data)}).catch(function(t){a.close(),e.$message.error(t.message||"错误!")})}},addSelcet:function(t){log(t),this.information.resources=t,this.resourceDialog=!1},delChoosen:function(e){var t=this.information.resources.findIndex(function(t){return t.id===e});-1<t&&this.information.resources.splice(t,1)},relation:function(){this.parameter={course_id:this.detailData.id},this.resourceDialog=!0}}}},401:function(t,e,a){},402:function(t,e,a){},403:function(t,e,a){},404:function(t,e,a){"use strict";a.r(e);var i=a(405),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},405:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(n(a(277)),a(80),n(a(633)));function n(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={props:["detailData","readOnly","exerciseDate","hourDate","services"],components:{ExerciseInfo:r.default},data:function(){return{information:{},exerciseDialog:!1,classHour:this.hourDate,currentExerise:null,list:[],selecetArray:[]}},created:function(){var e=this;this.exerciseDate.forEach(function(t){e.$set(t,"isShow",!1)}),this.list=[].concat(s(this.exerciseDate),s(this.list)),this.selecetArray=this.list.map(function(t){return t.period_id})},methods:{getInfo:function(){var e=this;this.services.getInfo({id:this.detailData.id}).then(function(t){e.information=t.data,e.retailers=t.data.retailers,e.xRead=t.data["x-read"],e.metadata=t.data.pro_attributes})},openDetail:function(t){this.currentExerise=t,this.exerciseDialog=!0},add:function(){this.list.push({name:"",id:"",is_auto:!0,isShow:!0,action:"add"})},save:function(t){var e=this;if(!this.detailData.id)return this.$message.warning("请先保存基本信息后再保存!");this.services.save(i({},t,{course_id:this.detailData.id})).then(function(t){e.services.getList({id:e.detailData.id}).then(function(t){e.$emit("change")})})},delChoosen:function(t,e){var a=this,i=[];t?(i.push(t),0<i.length&&this.$confirm("是否删除?").then(function(t){a.services.del({id:i}).then(function(t){a.$emit("change")})}).catch(function(t){})):this.list.splice(e,1)},modify:function(t){t.id&&(t.isShow=!t.isShow)},selecet:function(t,e){this.list[t].is_auto=e},isDisabled:function(t,e){return this.selecetArray.includes(t.id)}},watch:{exerciseDate:function(t){var e=this,a=[];t.forEach(function(t){t.id&&(e.$set(t,"isShow",!1),a.push(t.period_id))}),this.selecetArray=a,this.list=t},hourDate:function(t){this.classHour=t}}}},406:function(t,e,a){"use strict";a.r(e);var i=a(407),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},407:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(a(277));var i=s(a(634)),r=s(a(645)),n=s(a(288));a(480);function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","currentExerise","exerciseDialog","services"],components:{ExerciseInfo:i.default,Resource:n.default,ExerciseDetail:r.default},data:function(){return{exerciseList:[],detailDialog:!1,currentDate:null,currentDateIndex:null,resourceDialog:!1,ExerciseInfoDialog:!1,curSoucesList:[],resourceType:"19",parameter:{},idName:"tp_constitute_id"}},created:function(){var e=this;this.services?this.services.getInfos({id:this.currentExerise.id}).then(function(t){e.exerciseList=t.data.practice_list||[]}):(log(this.currentExerise),this.exerciseList=this.currentExerise.practice_list)},methods:{colse:function(){this.$emit("update:exerciseDialog",!1)},getAnswer:function(t){return"judgment"==t.question_type?t.answer&&"false"!==t.answer?"正确":"错误":"multi"==t.question_type?t.answer.replace(/,/g,""):t.answer},saveExamin:function(t){Object.entries(this.currentDate).length?this.$set(this.exerciseList,this.currentDateIndex,t):this.exerciseList.push(t),this.ExerciseInfoDialog=!1},saveInfo:function(){var e=this;this.services.saveExercises({questions:this.exerciseList,paper_id:this.currentExerise.id}).then(function(t){e.$message.success("保存成功!")},function(t){e.$message.error("保存失败")})},detail:function(e,t){this.currentDate=e||{};var a=this.exerciseList.findIndex(function(t){return e&&t.id&&t.id===e.id});this.currentDateIndex=-1<a?a:t,this.currentDateIndex,e&&e.id?this.detailDialog=!0:this.ExerciseInfoDialog=!0},del:function(t,a){var i=this;this.$confirm("是否删除?").then(function(t){var e=i.exerciseList.findIndex(function(t){return t.id})||a;i.exerciseList.splice(e,1)}).catch(function(t){})},sort:function(e,t){var a=this.exerciseList.findIndex(function(t){return t.id==e.id}),i="up"==t?-1:1,r=this.exerciseList;r.splice.apply(r,[a,1].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(r.splice(a+i,1,r[a]))))},add:function(e,t){this.resourceType="19",this.idName="tp_constitute_id";var a=this.exerciseList.findIndex(function(t){return t.id===e.id});this.currentDateIndex=-1<a?a:t,this.curSoucesList=e.tp_constitute_info||[],this.resourceDialog=!0,this.parameter.course_id=this.detailData.id},addExercise:function(){this.resourceType="31",this.curSoucesList=[],this.currentDate={},this.idName="",this.resourceDialog=!0,this.parameter.course_id=this.detailData.id},addSelcet:function(t){var e=this;"19"==this.resourceType?(this.exerciseList[this.currentDateIndex].tp_constitute_info=t,this.exerciseList[this.currentDateIndex].tp_constitute_id=t.map(function(t){return t.tp_constitute_id})):t.forEach(function(t){e.saveExamin(t)}),this.resourceDialog=!1},delConstitute:function(r,n,t){log(n,n.tp_constitute_info),this.$confirm("你真的要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=n.tp_constitute_info||[],e=t.findIndex(function(t){return r.id===t.id}),a=n.tp_constitute_id||[],i=a.findIndex(function(t){return r.id===t.id});a.splice(i,1),t.splice(e,1)}).catch(function(){})}},computed:{totalScore:function(){var e=0;return this.exerciseList.forEach(function(t){e+=t.score}),e}},filters:{numberToChinese:function(t){if(!/^\d*$/.test(t))return"Null";"number"==typeof t&&(t=t.toString());var e=new RegExp("([0]*)([1-9]+[0-9]+)","g"),a="千百十亿千百十万千百十个";if((t=t.replace(e,"$2")).length>a.length)return"Null";var i="",r=t.length;a=a.substr(a.length-r);for(var n=0;n<r;n++)i+="零一二三四五六七八九".charAt(t[n])+a.charAt(n);for(var s=(i=(i=i.substr(0,i.length-1)).replace(/零(千|百|十)/g,"零").replace(/(零)+/g,"零").replace(/零(亿|万)/g,"$1")).length-1;0<s&&"零"==i[s];s--)i=i.replace(i[s],"");return i},numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]}}}},408:function(t,e,a){"use strict";a.r(e);var i=a(409),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},409:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},i=o(a(635)),n=o(a(642)),s=a(480);function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["currentExerise","exerciseDialog"],components:{Ueditor:i.default,FileUpload:n.default},data:function(){return{answerType:[{label:"单选题",value:"single"},{label:"多选题",value:"multi"},{label:"主观题",value:"subjective_item"},{label:"判断题",value:"judgment"},{label:"填空题",value:"fill"}],answerLevel:[{label:"简单",value:"easy"},{label:"一般",value:"general"},{label:"困难",value:"difficulty"}],scoreList:[1,2,3,4,5,6,7,8,9,10],defaultOption:[{title:"",isAnswer:!1},{title:"",isAnswer:!1},{title:"",isAnswer:!1},{title:"",isAnswer:!1}],groupList:[],currentDetail:JSON.parse(JSON.stringify(this.currentExerise))}},created:function(){Object.entries(this.currentDetail).length||(this.currentDetail={score:2,level:"easy",question_type:"single"}),this.currentDetail.option&&(this.defaultOption=this.currentDetail.option),this.listGroup()},mounted:function(){this.$nextTick(function(){})},methods:{listGroup:function(){var e=this;(0,s.listGroup)().then(function(t){e.groupList=t.data})},colse:function(){this.$emit("update:exerciseDialog",!1)},addOption:function(){if(26<this.defaultOption.length)return this.$message.warning("禁止添加太多!");this.defaultOption.push({title:"",isAnswer:!1,action:"add"})},removeOption:function(e){var a=this;if(this.defaultOption.length<=2)return this.$message.warning("选择项不能少于2项");this.$confirm("是否删除?").then(function(t){a.defaultOption.splice(e,1)}).catch(function(t){})},save:function(){var e=this;if(this.$refs.detailForm.valiAll()){var t=[];if("single"==this.currentDetail.question_type||"multi"==this.currentDetail.question_type){for(var a in this.defaultOption)!0!==this.defaultOption[a].isAnswer&&"true"!==this.defaultOption[a].isAnswer||t.push(this.numberToLetter(a));t=t.join(",")}else t=this.currentDetail.answer;if(!this.currentDetail.score)return this.$message.error("分数不能为空!");if("subjective_item"!=this.currentDetail.question_type&&0==t.length)return this.$message.error("答案不能为空!");var i=this.answerType.find(function(t){return t.value==e.currentDetail.question_type}).label;this.$emit("save",r({},this.currentDetail,{option:this.defaultOption,answer:t,question_type_name:i}))}},selecet:function(t,e){"single"==this.currentDetail.question_type&&this.defaultOption.forEach(function(t){return t.isAnswer=!1}),this.defaultOption[t].isAnswer=e},change:function(t,e,a){a.img=t,a.img_src=e},uechange:function(t,e,a){t[e]=a},numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]},slecetChange:function(){this.$set(this.currentDetail,"answer",""),"single"==this.currentDetail.question_type&&(this.defaultOption.forEach(function(t){return t.isAnswer=!1}),this.defaultOption[0].isAnswer=!0)}}}},410:function(t,e,a){"use strict";a.r(e);var i=a(411),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},411:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=a(636),n=a(637),s=(i=n)&&i.__esModule?i:{default:i};a(846);e.default={props:["item","name","id","isImage"],components:{UeUpload:s.default},data:function(){return{uploadDialog:!1,uploadType:"img",ue:null,editerConfig:{toolbars:[["Source","Undo","Redo","bold","test","kityformula"]],iframeCssUrl:"/cdn/Editor/themes/iframe.css",initialFrameHeight:200,initialFrameWidth:500,wordCount:!1,elementPathEnabled:!1}}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.UeUploadBtn(),t.ue=UE.getEditor(t.id,t.editerConfig),t.ue.addListener("ready",function(){t.ue.execCommand("insertHtml",t.item[t.name])}),t.ue.addListener("contentChange",function(){t.$emit("uechange",t.item,t.name,t.ue.getContent())})})},destroyed:function(){this.ue.destroy()},methods:{UeUploadBtn:function(){this.isImage&&(0,r.imgUploadBtn)(this,5,this.id)},openUploadDialog:function(t){this.uploadType=t,this.uploadDialog=!0,this.uploadDialog}},computed:{switchTypeName:function(){switch(this.uploadType){case"img":return"图片";case"video":return"视频";case"voice":return"音乐"}}}}},412:function(t,e,a){"use strict";a.r(e);var i=a(413),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},413:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(16)),r=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(80)),n=s(a(638));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Progress:n.default},props:["ue","type"],created:function(){this.ue},mounted:function(){},data:function(){return{showImgUrl:null,localUrl:null,linkUrl:null,file:null,percentage:0,fileUrl:null,importType:"local"}},computed:{accept:function(){var t=this.type+"Accept";return this.$config[t]},command:function(){var t=this.type+"Command";return this.$config[t]}},methods:{showImgLocal:function(t){var e=t.target.files[0];e&&(this.file=e,this.localUrl=URL.createObjectURL(e))},back:function(){this.$emit("cancle")},commit:function(){var a=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(i.default.mark(function t(){var e;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("local"!=a.importType){t.next=10;break}if(a.file)return e=a.$progress(),t.next=5,r.getTask(a.file,{is_chunk:!0,size:1048576},function(t){e.percentage=t}).then(function(t){a.fileUrl=t.data.url,a.ue.execCommand(a.command,{src:t.data.url,url:t.data.url}),e.close(),a.back()});t.next=7;break;case 5:t.next=8;break;case 7:a.$message.error("请先选择文件!");case 8:t.next=11;break;case 10:"link"==a.importType&&(a.ue.execCommand(a.command,{src:a.linkUrl,url:a.linkUrl}),a.back());case 11:case"end":return t.stop()}},t,a)}))()}}}},414:function(t,e,a){"use strict";a.r(e);var i=a(415),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},415:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["percentage"],data:function(){return{}}}},416:function(t,e,a){},417:function(t,e,a){},418:function(t,e,a){},419:function(t,e,a){"use strict";a.r(e);var i=a(420),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},420:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=a(16),l=(i=r)&&i.__esModule?i:{default:i},u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(80));e.default={props:["data"],data:function(){return{uploadDialog:!1,previewImgUrl:null,uploadType:"img"}},created:function(){this.previewImgUrl=this.data&&this.data.img_src},mounted:function(){},destroyed:function(){},methods:{previewImg:function(s){var o=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(l.default.mark(function t(){var e,a,i,r,n;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.target,a=e.files[0],i=o.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.next=5,u.getTask(a).catch(function(t){i.close()});case 5:r=t.sent,n=r.data,o.previewImgUrl=n.url,o.$emit("change",n.path,n.url,o.data),i.close();case 10:case"end":return t.stop()}},t,o)}))()}},computed:{switchTypeName:function(){switch(this.uploadType){case"img":return"图片";case"video":return"视频";case"voice":return"音乐"}}}}},421:function(t,e,a){},422:function(t,e,a){},423:function(t,e,a){"use strict";a.r(e);var i=a(424),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},424:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["detailData","detailDialog"],components:{},data:function(){return{answerType:[{label:"单选题",value:"single"},{label:"多选题",value:"multi"},{label:"主观题",value:"subjective_item"},{label:"判断题",value:"judgment"},{label:"填空题",value:"fill"}]}},destroyed:function(){},methods:{numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]},close:function(){this.$emit("update:detailDialog",!1)},getActive:function(t){return this.detailData&&this.detailData.answer.split(",").includes(this.numberToLetter(t))}},computed:{},watch:{}}},425:function(t,e,a){},426:function(t,e,a){},427:function(t,e,a){},428:function(t,e,a){},429:function(t,e,a){"use strict";a.r(e);var i=a(430),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},430:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=c(a(16)),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=c(a(107)),o=a(80),l=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(651)),n=(c(a(277)),c(a(288))),u=c(a(376));function c(t){return t&&t.__esModule?t:{default:t}}function d(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}function f(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={props:["type","detailData","detailDialog","defaultData","readOnly"],components:{Resource:n.default,VaForm:r.default,Info:u.default},data:function(){return{detail:{constitute:[]},previewImgUrl:null,imgUrl:null,resourceDialog:!1,infoDialog:!1,infoData:{},dataList:{},infoValue:"info",isShowAuthor:!1,chocesArray:[]}},created:function(){this.detail=i({},this.detailData,this.defaultData)},methods:{getDetail:function(){var e=this;l.getInfo({id:this.detailData.id}).then(function(t){e.detail=t.data,e.previewImgUrl=t.data.img_src,e.imgUrl=t.data.path,e.detail.img=t.data.path,e.detail.constitute=t.data.constitute,e.chocesArray=[].concat(f(t.data.constitute)),log(11111,e.chocesArray)})},submitDetail:function(){var n=this;return d(s.default.mark(function t(){var e,a,i,r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(e=n.$refs.fenmian.files[0],a=n.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,e)return t.next=10,(0,o.getTask)(e).then(function(t){n.detail.img=t.data.path});t.next=10;break;case 10:return t.next=12,l.save(n.detail).then(function(t){n.$emit("saveok")});case 12:n.$nextTick(function(){a.close(),n.$emit("update:detailDialog",!1)}),t.next=26;break;case 15:t.prev=15,t.t0=t.catch(6),i=t.t0.payload,a.close(),t.t1=s.default.keys(i.messages);case 20:if((t.t2=t.t1()).done){t.next=26;break}return r=t.t2.value,n.$message.error(i.messages[r]),t.abrupt("break",26);case 26:case"end":return t.stop()}},t,n,[[6,15]])}))()},previewImg:function(t){var e=t.target.files[0];this.previewImgUrl=URL.createObjectURL(e)},delDetail:function(t,e){var i=this,a=0<arguments.length&&void 0!==t?t:[],r=e,n={},s=this.$refs.detailForm.$el,o=s.querySelectorAll("[name='ids']:checked");if(a.length?n[a]=r:o.forEach(function(t){n[t.value]=t.getAttribute("data-type"),a.push(t.value)}),!a.length)return this.$message.error("请确认你要移除的内容！");a.forEach(function(e){var t=i.detail.constitute.findIndex(function(t){return t.c_id==e||t.id==e}),a=i.chocesArray.findIndex(function(t){return t.c_id==e||t.id==e});-1<t&&i.detail.constitute.splice(t,1),-1<a&&i.chocesArray.splice(t,1)}),s.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailAddHandle:function(){var e=this;return d(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.resourceDialog=!0;case 1:case"end":return t.stop()}},t,e)}))()},bookDetailInfo:function(t,e,a){var i=this;this.isShowAuthor="1"!=e;var r=t.id,n=t.c_id;if(!l._themeDetail)return this.infoData=t,this.infoValue=a,void(this.infoDialog=!0);l._themeDetail({c_id:n,id:r,type:e}).then(function(t){i.infoData=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},addSelcet:function(){this.detail.constitute=[].concat(f(this.chocesArray)),this.resourceDialog=!1},infoHandleClick:function(t){this.infoValue=t.name}}}},431:function(t,e,a){},432:function(t,e,a){"use strict";a.r(e);var i=a(433),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},433:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(a(16)),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},i=(u(a(277)),u(a(487))),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(436)),r=u(a(288)),l=a(80);function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","detailData","detailDialog","readOnly","defaultData"],components:{Resource:r.default,Info:i.default},data:function(){return{infoData:this.detailData||{},resourceData:this.detailData,checkedSeries:[],file:null,types:null,series:null,previewImgUrl:null,resourceDialog:!1,resList:[],page:null,currentType:null}},created:function(){if(this.detailData&&this.detailData.id&&this.getDetail(),this.defaultData||(this.getSerList(),this.getColList()),this.defaultData){var t=this.defaultData.components,e=t.column_all,a=t.columns_info,i=t.category_all;this.infoData=this.defaultData.components,this.series=e,this.types=i,this.checkedSeries=a?a.map(function(t){return t.id}):[],this.currentType=a[0]?a[0].id:""}},methods:{getRrsouce:function(){var e=this;this.defaultData?o.seriesListOnly({product_id:this.defaultData.product_id,class_id:this.currentType}).then(function(t){e.resList=t.data}):o.seriesResList({id:this.detailData.id,class_id:this.currentType}).then(function(t){e.resList=t.data})},getDetail:function(){var e=this;o.detail({id:this.detailData.id}).then(function(t){e.infoData=t.data,e.checkedSeries=t.data.columns_info?t.data.columns_info.map(function(t){return t.id}):[]})},getSerList:function(){var e=this;o.seriesList({type:"1"}).then(function(t){e.types=t.data})},getColList:function(){var e=this;o.seriesList({type:"2"}).then(function(t){e.series=t.data})},previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},submitInfo:function(){var r=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(n.default.mark(function t(){var e,a,i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=r.$refs.cover.files[0],a=r.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),i=s({},r.infoData,{columns:r.checkedSeries.join(",")}),e)return t.next=9,(0,l.getTask)(e).then(function(t){i.img=t.data.path});t.next=9;break;case 9:return t.next=11,o.save(i).then(function(t){r.detailData.id||(r.infoData=t.data),a.close(),r.$message.success("操作成功!"),r.$emit("saveok",t.data)}).catch(function(t){a.close(),r.$message.error(t.message||"错误!")});case 11:case"end":return t.stop()}},t,r)}))()},addSelcet:function(t){var e=this;o.addSerRes({id:this.detailData.id,class_id:this.currentType,rel_id:t.map(function(t){return t.id})}).then(function(t){e.getRrsouce(),e.resourceDialog=!1})},handleClick:function(t,e){"resource"==t.name&&(this.currentType=this.checkedSeries[0],this.getRrsouce())},add:function(){return this.detailData&&this.detailData.id?this.currentType?void(this.resourceDialog=!0):this.$message.warning("请先添加栏目"):this.$message.warning("请先保存资源")},del:function(e){var a=this;this.$confirm("是否删除?").then(function(t){o.deleteSerRes({id:a.detailData.id,class_id:a.currentType,rel_id:e}).then(function(t){a.getRrsouce()})}).catch(function(t){})}},computed:{getNav:function(){var e=this;return this.series.filter(function(t){if(e.checkedSeries.includes(t.id))return t})},getCode:function(){var e=this,t=this.types&&this.types.find(function(t){return t.id==e.infoData.category});return this.types&&t?t.code:""}},watch:{currentType:function(t,e){e&&t!=e&&this.getRrsouce()}}}},434:function(t,e,a){"use strict";a.r(e);var i=a(435),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},435:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(a(16)),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},o=(u(a(277)),a(80)),l=(r(o),r(a(436))),i=u(a(654));function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","infoData","readOnly","detailDialog"],created:function(){this.detailData&&this.getDetail(),this.getSerList(),this.getColList()},components:{Resource:i.default},data:function(){return{information:this.infoData,previewImgUrl:null,imgUrl:null,file:null,isIndeterminate:!0,checkAll:!1,checkedSeries:[],types:null,series:null}},watch:{checkedSeries:function(){this.$emit("checkedSer")}},methods:{getDetail:function(){var e=this;l.detail({id:this.detailData.id}).then(function(t){e.information=t.data,e.checkedSeries=t.data.columns.split(",")})},getSerList:function(){var e=this;l.seriesList({type:"1"}).then(function(t){e.types=t.data})},getColList:function(){var e=this;l.seriesList({type:"2"}).then(function(t){e.series=t.data})},previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},submitInfo:function(){var r=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(n.default.mark(function t(){var e,a,i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=r.$refs.cover.files[0],a=r.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),i=s({},r.information,r.types,r.series,{columns:r.checkedSeries.join(",")}),e)return t.next=9,(0,o.getTask)(e).then(function(t){i.img=t.data.path});t.next=9;break;case 9:return t.next=11,l.save(i).then(function(t){r.detailData.id||(r.information=t.data),a.close(),r.$message.success("操作成功!"),r.$emit("saveok",t.data)}).catch(function(t){a.close(),r.$message.error(t.message||"错误!")});case 11:case"end":return t.stop()}},t,r)}))()}}}},436:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects",t)},e.urgentDigital=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/datasubjects/urgent",t)},e.audits=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/datasubjects/audits",t)},e.save=function(t){var e=t.id,a=o(t,["id"]);if(e)return(0,r.request_put)(restUrl_publish+"/api/datasubjects/"+e,a);return(0,r.request_post)(restUrl_publish+"/api/datasubjects",a)},e.detail=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/datasubjects/:id");return(0,r.request_get)(e(t),t)},e.del=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/delete",t)},e.seriesResList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects/class/books",t)},e.seriesListOnly=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/data_subjects/class/books",t)},e.deleteSerRes=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/class/books/delete",t)},e.addSerRes=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/class/books",t)},e.seriesList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects/class",t)},e.delSeries=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/datasubjects/class/:id");return(0,r.request_delete)(i({id:e}),a)},e.saveSeries=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/datasubjects/class/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/datasubjects/class",a)},e.modifyGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/datasubjects/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.listGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects/groups",t)},e.addGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/groups",t)},e.deleteGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/datasubjects/groups/:id");return(0,r.request_delete)(i({id:e}),a)},e.moveGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/groups/datasubjects",t)};var i,r=a(15),n=a(22),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},437:function(t,e,a){"use strict";a.r(e);var i=a(438),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},438:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(436)),r=s(a(288)),n=s(a(487));function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["resourceData","detailData","checkedSeries"],created:function(){log("122",this.checkedSeries),this.getList()},data:function(){return{type:"example",reslist:this.resourceData,resourceDialog:!1,resList1:[{name:"杀人案",number:"A1"},{name:"纵火案",number:"V2"},{name:"盗窃案",number:"E3"}],resList2:[{name:"国情",number:"A1"},{name:"权律二",number:"B2"},{name:"法律",number:"C3"}]}},components:{AddResource:r.default,Info:n.default},methods:{getList:function(){var e=this;i.seriesResList({id:this.detailData.id}).then(function(t){e.reslist=t.data})},addSelcet:function(t){this.curSoucesList=t,this.resourceDialog=!1}}}},439:function(t,e,a){},440:function(t,e,a){},441:function(t,e,a){},442:function(t,e,a){"use strict";a.r(e);var i=a(443),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},443:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(a(16)),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},o=a(82),l=i(a(80)),r=i(a(479));u(a(3));function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}e.default={props:["type","detailData","detailDialog","detailType","defaultData","services","readOnly"],created:function(){if(this.readOnly,this.detailType,!this.defaultData&&this.detailData)this.detailData.id&&(this.getDetail(),this.getMulu(this.detailData.id));else{var t=Object.entries(this.defaultData).length?this.defaultData:this.detailData,e=t.attributes,a=t.chapters,i=t.components||this.defaultData;if(this.getMainList&&this.getMainList.forEach(function(t){for(var e in i)e!==t.label&&e!==t.name||(t.value=i[e])}),6==this.detailType?this.detailDataOwn.封面=i.封面:this.detailDataOwn.资源地址=i.资源地址,this.metadata=e||[],this.readOnly&&a){var r=(0,o.recursionTree)(a,"pid","root");this.ml=r,this.currMulu=r}else this.getMulu(this.defaultData.id)}},data:function(){return{detailDataOwn:{attributes:[]},metadata:[],ml:null,defaultProps:{children:"children",label:"chapter_name"},currMulu:null,previewImgUrl:null,file:null,detailReadOnly:!1,viewpoint:[{label:"标题",value:"",required:!0},{label:"副标题"},{label:"作者"},{label:"品类维度"},{label:"品类维度编号"},{label:"专业类别"},{label:"专业类别编号"},{label:"文集类别"},{label:"文集来源ID"},{label:"文献出处"},{label:"文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],statute:[{label:"标题",value:"",required:!0},{label:"发文字号"},{label:"发布单位"},{label:"效力状态"},{label:"品类维度"},{label:"品类维度编号"},{label:"法规类别"},{label:"法规类别编号"},{label:"学科分类"},{label:"学科分类编号"},{label:"法规来源ID"},{label:"文献出处"},{label:"法规文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],case:[{label:"标题",value:"",required:!0},{label:"主要问题(副标题)",name:"副标题"},{label:"案件类别"},{label:"案件类别编号"},{label:"案例编号"},{label:"效力状态"},{label:"品类维度"},{label:"品类维度编号"},{label:"案例来源ID"},{label:"案例(文献)出处",name:"出处"},{label:"文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],referee:[{label:"标题",value:"",required:!0},{label:"案号"},{label:"品类维度"},{label:"品类维度编号"},{label:"案件类别"},{label:"案件类别编号"},{label:"审理法院"},{label:"裁判来源ID"},{label:"裁判文献出处"},{label:"裁判文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],book:[{label:"标题",value:"",required:!0},{label:"副标题"},{label:"出版者"},{label:"ISBN"},{label:"出版日期"},{label:"作者"},{label:"责任方式"},{label:"专业类别"},{label:"专业类别编号"},{label:"品类维度"},{label:"品类维度编号"},{label:"简介"},{label:"归属套系"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],ModelEssay:[{label:"标题",value:"",required:!0},{label:"作者"},{label:"资源出处"},{label:"发表时间"},{label:"资源说明"},{label:"适用场景"},{label:"流程类别"},{label:"价格"},{label:"资源类别"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],ClassVideo:[{label:"标题",value:"",required:!0},{label:"专辑演播者"},{label:"专辑责任者"},{label:"专辑简介"},{label:"专业类别"},{label:"专业类别编号"},{label:"内容原作者"},{label:"出版时间"},{label:"关联资源"},{label:"节目数"},{label:"品类维度"},{label:"品类维度编号"},{label:"节目内容来源"},{label:"价格"}]}},methods:{getDetail:function(){var t=this;this.services.detailResource({id:this.detailData.id}).then(function(a){t.detailDataOwn=a.data,t.getMainList&&t.getMainList.forEach(function(t){for(var e in a.data)e!==t.label&&e!==t.name||(t.value=a.data[e])}),t.metadata=a.data.attributes||[]})},getMulu:function(t){var a=this;r.getBookCatalog({id:t}).then(function(t){var e=(0,o.recursionTree)(t.data,"pid","root");a.ml=e,a.currMulu=e})},handleClick:function(t,e){"ml"==t.name&&(this.currMulu=this.ml)},handleNodeClick:function(t,e,a){this.currMulu=e.data.children},muluSort:function(t,e,a){var i=this.currMulu;"up"===a?0<e&&(i.splice(e,1),i.splice(e-1,0,t)):(i.splice(e,1),i.splice(e+1,0,t)),r.siblingSort({id:t.id,sort:a})},submitDetail:function(t){var r=this;return c(n.default.mark(function t(){var e,a,i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=r.$progress(),t.prev=4,a=void 0,r.imgFile)return t.next=9,l.getTask(r.imgFile).then(function(t){a=t.data.path});t.next=9;break;case 9:return i={},6==r.detailType?i["封面"]=a||r.detailDataOwn.封面:i["资源地址"]=a||r.detailDataOwn.资源地址,r.getMainList&&r.getMainList.forEach(function(t){t.name?i[t.name]=t.value:i[t.label]=t.value}),t.next=14,r.services.save(s({id:r.detailData?r.detailData.id:null},i,{attributes:r.metadata,type:r.detailType,link_id:r.defaultData?r.defaultData.id:null}));case 14:r.$emit("detailBack"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(4),t.t0;case 20:e.close();case 21:case"end":return t.stop()}},t,r,[[4,17]])}))()},previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},upLoadXml:function(){var a=this;return c(n.default.mark(function t(){var e;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.file)return e=a.$progress(),t.next=4,l.getTask(a.file,{is_chunk:!0,size:1048576},function(t){e.percentage=t}).then(function(t){a.detailDataOwn.preview=t.data.path});t.next=5;break;case 4:e.close();case 5:case"end":return t.stop()}},t,a)}))()},previewBook:function(t){var e=t.target.files[0];this.file=e,dir(e,"file")}},computed:{getMainList:function(){switch(Number(this.detailType)){case 1:return this.case;case 2:return this.statute;case 3:return this.viewpoint;case 4:return this.referee;case 6:return this.book;case 7:return this.ModelEssay;case 8:return this.ClassVideo}}}}},444:function(t,e,a){},445:function(t,e,a){"use strict";a.r(e);var i=a(446),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},446:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(a(16)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},s=f(a(573)),i=p(a(288)),o=a(80),l=p(a(661)),u=f(a(299)),c=p(a(376)),d=p(a(662));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","detailData","detailDialog","readOnly","defaultData","detailType"],components:{Resource:i.default,Info:c.default,PracticeInfo:d.default},data:function(){return{infoData:this.detailData||{},resourceData:this.detailData,checkedSeries:[],file:null,types:null,series:null,previewImgUrl:null,resourceDialog:!1,resList:[],page:null,currentType:null,proType:l.default,infoDialog:!1,practiceDialog:!1,infoDetail:{},infoValue:"info"}},computed:{getType:function(){var e=this;return this.proType.find(function(t){return t.value==e.detailType||t.detailType==e.detailType}).label},sourceType:function(){var e=this;return this.proType.find(function(t){return t.value==e.detailType||t.detailType==e.detailType}).type}},created:function(){this.$props,this.detailData&&this.detailData.id?this.getDetail():this.infoData.constitute=[],this.defaultData&&(this.defaultData.info?this.infoData=this.defaultData.info:this.infoData=this.defaultData,this.infoData.constitute=this.infoData.components)},methods:{submitDetail:function(){var i=this;return function(t){return function(){var o=t.apply(this,arguments);return new Promise(function(n,s){return function e(t,a){try{var i=o[t](a),r=i.value}catch(t){return void s(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});n(r)}("next")})}}(r.default.mark(function t(){var e,a;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(e=i.$refs.fenmian.files[0],a=i.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,e)return i.oldBlob&&(e=i.oldBlob),t.next=11,(0,o.getTask)(e).then(function(t){i.infoData.img=t.data.path});t.next=11;break;case 11:return t.next=13,s.save(n({},i.infoData,{product_type:i.detailType})).then(function(t){a.close(),i.$emit("saveok",t.data)});case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(6),i.$message.error(t.t0.message),a.close();case 19:case"end":return t.stop()}},t,i,[[6,15]])}))()},getDetail:function(){var e=this;s.detail({id:this.detailData.id}).then(function(t){e.infoData=t.data,e.$set(e.infoData,"constitute",e.infoData.constitutes)})},previewImg:function(t){var e=t.target.files[0];this.previewImgUrl=URL.createObjectURL(e)},detailTopHandle:function(){var i=this;log(this.infoData.constitute);var r=[],t=document.querySelector(".detailForm");if(t.querySelectorAll("[name='ids']:checked").forEach(function(t){r.push(t.value)}),!r.length)return this.$message.error("请确认你要置顶的内容！");for(var e=function(e){var t=i.infoData.constitute.findIndex(function(t){return t.id==r[e]}),a=i.infoData.constitute[t];i.infoData.constitute.splice(t,1),i.infoData.constitute.unshift(a)},a=r.length-1;0<=a;a--)e(a);t.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailRemoveHandle:function(t,e){var a=this,i=0<arguments.length&&void 0!==t?t:[],r=e,n={},s=this.$refs.detailForm.$el,o=s.querySelectorAll("[name='ids']:checked");if(i.length?n[i]=r:o.forEach(function(t){n[t.value]=t.getAttribute("data-type"),i.push(t.value)}),!i.length)return this.$message.error("请确认你要移除的内容！");i.forEach(function(e){var t=a.infoData.constitute.findIndex(function(t){return t.c_id==e||t.id==e});-1<t&&a.infoData.constitute.splice(t,1)}),s.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailSort:function(t,e){var a=this.detail.constitute.findIndex(function(t){return t.id==e}),i="up"==t?-1:1,r=this.detail.constitute;r.splice.apply(r,[a,1].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(r.splice(a+i,1,r[a]))))},bookDetailInfo:function(t,e,a){var i=this;if(31==e)return this.practiceDialog=!0,void(this.infoDetail=t);if(this.defaultData)return this.infoDetail=t,this.infoValue=a,void(this.infoDialog=!0);var r=t.id,n=t.c_id;u._themeDetail({c_id:n,id:r,type:e}).then(function(t){i.infoDetail=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;i.$message.error(e.message)})},detailAddHandle:function(){this.resourceDialog=!0},addSelcet:function(t){this.resourceDialog=!1},previewCropper:function(t){this.previewImgUrl=URL.createObjectURL(t),this.oldBlob=t}},watch:{}}},447:function(t,e,a){"use strict";a.r(e);var i=a(448),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},448:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["detailData","detailDialog"],components:{},created:function(){this.detailData},data:function(){return{}},mounted:function(){},destroyed:function(){},methods:{numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]},close:function(){this.$emit("close",!1)},getActive:function(t){return this.detailData.answer.split(",").includes(this.numberToLetter(t))}},computed:{},watch:{}}},449:function(t,e,a){},450:function(t,e,a){},451:function(t,e,a){},481:function(t,e,a){"use strict";a.r(e);var i=a(794),r=a(339);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(592);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"6b2531d9",null);e.default=o.exports},484:function(t,e,a){"use strict";a.r(e);var i=a(791),r=a(357);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(603);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"9f5c06d6",null);e.default=o.exports},485:function(t,e,a){"use strict";a.r(e);var i=a(788),r=a(363);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(604);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"3584d4e9",null);e.default=o.exports},486:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/video_product",t)},e.save=function(t){var e=t.id,a=l(t,["id"]);if(e)return(0,r.request_put)(restUrl_publish+"/api/video_product/"+e,a);return(0,r.request_post)(restUrl_publish+"/api/video_product",a)},e.getInfo=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/video_product/:id");return(0,r.request_get)(e(t),t)},e.del=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/video_product/delete",t)},e.urgentDigital=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/video_product/urgent",t)},e.audits=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/video_product/audits",t)},e.issuance=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=s.default.compile(restUrl_publish+"/api/comproduct/:id/issuance");return(0,r.request_put)(i({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})},e.addGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/video_product/groups",t)},e.modifyGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/video_product/:id/groups");return(0,r.request_put)(e(t),t)},e.deleteGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/video_product/:id/groups");return(0,r.request_delete)(e({id:t.id[0]}),t)},e.listGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/video_product/groups",t)},e.moveGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.rel_id=t.id,delete t.id,(0,r.request_put)(restUrl_publish+"/api/groups/video_product",t)},e.add=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/video_product/component",t)};var i,r=a(15),n=a(22),s=(i=n)&&i.__esModule?i:{default:i},o=a(81);function l(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},487:function(t,e,a){"use strict";a.r(e);var i=a(785),r=a(434);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(656);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"231170fe",null);e.default=o.exports},564:function(t,e,a){"use strict";a.r(e);var i=a(768),r=a(322);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(565);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"01130e0a",null);e.default=o.exports},565:function(t,e,a){"use strict";var i=a(324);a.n(i).a},566:function(t,e,a){"use strict";a.r(e);var i=a(766),r=a(325);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"66ea60dc",null);e.default=o.exports},567:function(t,e,a){"use strict";a.r(e);var i=a(767),r=a(327);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(665);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"201b7d34",null);e.default=o.exports},568:function(t,e,a){"use strict";a.r(e);var i=a(772),r=a(329);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(606);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"e47e6618",null);e.default=o.exports},574:function(t,e,a){"use strict";a.r(e);var i=a(786),r=a(331);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(576);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"532c98e1",null);e.default=o.exports},575:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.homeInfo=function(){return(0,r.request_get)(restUrl_publish+"/api/home/statistics")},e.getInfo=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/comproduct/:id");return(0,r.request_get)(e(t))},e.save=function(t){var e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/comproduct/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/comproduct/add",a)},e.saveInfo=function(t){t.id;var e=o(t,["id"]);return(0,r.request_post)(restUrl_publish+"/api/comproduct/attributes",e)};var i,r=a(15),n=a(22),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},576:function(t,e,a){"use strict";var i=a(333);a.n(i).a},577:function(t,e,a){"use strict";a.r(e);var i=a(796),r=a(336);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(578);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2628d7d4",null);e.default=o.exports},578:function(t,e,a){"use strict";var i=a(338);a.n(i).a},579:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],i=!0,r=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(a.push(s.value),!e||a.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw n}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.get_book=function(t,e){var a=t.bookId,i=e.extraParams;return(0,d.request_post)(o+"/reader/books",c({book_id:a},i)).then(function(t){return t.data})},e.get_catalogs=function(t,e){var a=t.bookId,i=t.chapterId,r=e.extraParams;return(0,d.request_post)(o+"/reader/catalogs",c({book_id:a,catalog_pid:i},r)).then(function(t){return t.data})},e.get_chapters=function(t,e){var a=t.bookId,i=t.chapterIds,r=e.extraParams;return(0,d.request_post)(o+"/reader/chapters",c({chapter_id:i,book_id:a},r)).then(function(t){return t.data})},e.search=function(t,e){var a=t.keyword,i=t.bookId,r=t.page,n=t.chapterRid,s=e.extraParams;return(0,d.request_post)(o+"/reader/search",c({keyword:a,book_id:i,chapter_id:n,pageStart:r.start,pageOffset:r.offset},s)).then(function(t){return{list:t.data,page:t.page}})},e.get_labels=function(t,e){var a=t.bookId,i=e.extraParams;return(0,d.request_get)("/api/book_notes",{book_id:a,user_id:i.user_id}).then(function(t){return t.data})},e.add_label=function(t,e){var a=t.bookId,i=t.chapterRid,r=t.chapterName,n=t.userText,s=t.rangeJSON,o=t.selectedText,l=t.status,u=e.extraParams;return(0,d.request_post)("/api/book_notes",c({book_id:a,chapter_id:i,chapter_name:r,chapter_value:o,comm_text:n,range:s,protected:l},u)).then(function(t){return t.data})},e.get_bookmarks=function(t,e){var a=t.bookId,i=e.extraParams;return(0,d.request_get)("/api/book_marks",{book_id:a,user_id:i.user_id}).then(function(t){return t.data})},e.add_bookmark=function(t,e){var a=t.bookId,i=t.chapterRid,r=t.chapterName,n=t.rangeJSON,s=t.text,o=e.extraParams;return(0,d.request_post)("/api/book_marks",c({book_id:a,chapter_id:i,chapter_name:r,chapter_value:s,range:n},o)).then(function(t){return t.data})},e.remove_bookmarks=function(t,e){l(t,e)},e.remove_labels=function(t,e){l(t,e)},e.modify_label=function(t){return t.range=JSON.stringify(t.range),t.comm_text=t.userText,delete t.userText,(0,d.request_put)("/api/book_notes",c({},t)).then(function(t){return t.data})},e.backup_setting=function(t){return(0,d.request_post)("/api/user_read_setting",{data:JSON.stringify(t)})},e.restore_setting=function(){return(0,d.request_get)("/api/user_read_setting").then(function(t){var e=t.data,a=s.default.isArray(e)&&e[0]||e;return a?JSON.parse(a):{}})},e.set_progress=function(t,e){var a=t.bookId,i=(t.chapterRid,t.progressJSON),r=t.percentJSON,n=e.extraParams;return(0,d.request_post)("/api/read_record",{data:i,proportion:r,release_id:n.release_id,book_id:a})},e.get_progress=function(t,e){var a=t.bookId,i=e.extraParams;return(0,d.request_get)("/api/read_record",{book_id:a,release_id:i.release_id}).then(function(t){return r(t.data,1)[0]})};var i,n=a(813),s=(i=n)&&i.__esModule?i:{default:i},d=a(15);var o="publish"=="library"?"/api":"/common/api";function l(t,e){var a=t.ids,i=e.extraParams;return(0,d.request_post)("/api/book_exegesis/delete",c({id:a},i)).then(function(t){return t.data})}},592:function(t,e,a){"use strict";var i=a(343);a.n(i).a},593:function(t,e,a){"use strict";var i=a(344);a.n(i).a},594:function(t,e,a){"use strict";a.r(e);var i=a(781),r=a(345);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(605);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"1ccc8cde",null);e.default=o.exports},595:function(t,e,a){"use strict";var i=a(350);a.n(i).a},596:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/librariess",t).then(function(t){var e=t.data,a=e._id,i=e.name,r=e.abs,n=e.author,s=e.tag,o=e.type_name;return(0,l.addResListener)({res_id:a,res_type:o,res_name:i,res_exp:r,res_author:n,res_lables:[s]}),t})},e.modify=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=n.default.compile(restUrl_publish+"/api/librariess/:id");return(0,r.request_put)(i({id:e}),a)},e.listLibraries=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/librariess",t)},e.educe=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,l.educeResListener)({res_url:(0,r.getFullPath)(restUrl_publish+"/api/librariess/export"+i.default.stringify(t,{addQueryPrefix:!0}))}),(0,r.request_get)(restUrl_publish+"/api/librariess/export",t)},e.putin=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/librariess/import",t)},e.deleteLibraries=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/librariess/delete",t)},e.detailLibraries=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=n.default.compile(restUrl_publish+"/api/librariess/:id");return(0,r.request_get)(e(t))},e.modifyGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=n.default.compile(restUrl_publish+"/api/librariess/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.deleteGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/librariess/groups/delete",t)},e.addGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/librariess/groups",t)},e.listGroup=function(){return(0,r.request_get)(restUrl_publish+"/api/librariess/groups")},e.moveGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/librariess/groups",t)};var r=a(15),i=s(a(17)),n=s(a(22)),l=a(81);function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},597:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/comproduct/list",t)},e.getDetail=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/comproduct",t)},e.del=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/comproduct/delete",t)},e.urgentDigitalBook=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/comproduct/urgent",t)},e.audits=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/comproduct/audits",t)},e.issuance=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=function(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}(t,["id"]),i=s.default.compile(restUrl_publish+"/api/comproduct/:id/issuance");return(0,r.request_put)(i({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})},e.addGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/comproduct/groups",t)},e.modifyGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/comproduct/groups/:id");return(0,r.request_put)(e(t),t)},e.deleteGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/groups/delete",t)},e.listGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/comproduct/groups",t)},e.moveGroup=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.rel_id=t.id,delete t.id,(0,r.request_put)(restUrl_publish+"/api/groups/comproduct",t)};var i,r=a(15),n=a(22),s=(i=n)&&i.__esModule?i:{default:i},o=a(81)},598:function(t,e,a){"use strict";a.r(e);var i=a(793),r=a(351);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(599);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"1f37a8a1",null);e.default=o.exports},599:function(t,e,a){"use strict";var i=a(353);a.n(i).a},600:function(t,e,a){"use strict";a.r(e);var i=a(799),r=a(354);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(601);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"543e02c7",null);e.default=o.exports},601:function(t,e,a){"use strict";var i=a(356);a.n(i).a},602:function(t,e,a){"use strict";var i=a(361);a.n(i).a},603:function(t,e,a){"use strict";var i=a(362);a.n(i).a},604:function(t,e,a){"use strict";var i=a(365);a.n(i).a},605:function(t,e,a){"use strict";var i=a(366);a.n(i).a},606:function(t,e,a){"use strict";var i=a(367);a.n(i).a},607:function(t,e,a){"use strict";a.r(e);var i=a(765),r=a(368);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(613);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2ee670da",null);e.default=o.exports},608:function(t,e,a){"use strict";a.r(e);var i=a(784),r=a(370);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(609);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"5837b292",null);e.default=o.exports},609:function(t,e,a){"use strict";var i=a(372);a.n(i).a},613:function(t,e,a){"use strict";var i=a(373);a.n(i).a},614:function(t,e,a){"use strict";a.r(e);var i=a(773),r=a(374);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(616);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"7745ae26",null);e.default=o.exports},615:function(t,e,a){"use strict";var i=a(379);a.n(i).a},616:function(t,e,a){"use strict";var i=a(380);a.n(i).a},617:function(t,e,a){"use strict";a.r(e);var i=a(776),r=a(381);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(620);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"68502e0e",null);e.default=o.exports},618:function(t,e,a){"use strict";a.r(e);var i=a(787),r=a(383);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(619);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"5ffabffc",null);e.default=o.exports},619:function(t,e,a){"use strict";var i=a(385);a.n(i).a},620:function(t,e,a){"use strict";var i=a(386);a.n(i).a},621:function(t,e,a){"use strict";a.r(e);var i=a(770),r=a(387);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(649);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"4063284c",null);e.default=o.exports},622:function(t,e,a){"use strict";a.r(e);var i=a(789),r=a(389);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(625);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2401e538",null);e.default=o.exports},623:function(t,e,a){"use strict";a.r(e);var i=a(798),r=a(391);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(624);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,null,null);e.default=o.exports},624:function(t,e,a){"use strict";var i=a(393);a.n(i).a},625:function(t,e,a){"use strict";var i=a(394);a.n(i).a},626:function(t,e,a){"use strict";a.r(e);var i=a(782),r=a(395);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(631);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"301da2b3",null);e.default=o.exports},627:function(t,e,a){"use strict";a.r(e);var i=a(797),r=a(397);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(630);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"6f3367bf",null);e.default=o.exports},628:function(t,e,a){"use strict";a.r(e);var i=a(802),r=a(399);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(629);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"7d7817ee",null);e.default=o.exports},629:function(t,e,a){"use strict";var i=a(401);a.n(i).a},630:function(t,e,a){"use strict";var i=a(402);a.n(i).a},631:function(t,e,a){"use strict";var i=a(403);a.n(i).a},632:function(t,e,a){"use strict";a.r(e);var i=a(779),r=a(404);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(648);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"321c8b9c",null);e.default=o.exports},633:function(t,e,a){"use strict";a.r(e);var i=a(795),r=a(406);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(647);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"043667d1",null);e.default=o.exports},634:function(t,e,a){"use strict";a.r(e);var i=a(800),r=a(408);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(644);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"ff93c110",null);e.default=o.exports},635:function(t,e,a){"use strict";a.r(e);var i=a(804),r=a(410);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(641);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"dafc9c74",null);e.default=o.exports},636:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.imgUploadBtn=function(t,e,a){UE.registerUI("img-upload-btn",function(e,a){e.registerCommand(a,{execCommand:function(){t.openUploadDialog("img")}});var i=new UE.ui.Button({name:a,title:a,cssRules:"background-position: -380px 0;",onclick:function(){e.execCommand(a)}});return e.addListener("selectionchange",function(){var t=e.queryCommandState(a);-1==t?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(t))}),i},e,a)},e.videoUploadBtn=function(t,e,a){UE.registerUI("video-upload-btn",function(e,a){e.registerCommand(a,{execCommand:function(){t.openUploadDialog("video")}});var i=new UE.ui.Button({name:a,title:a,cssRules:"background-position: -320px -20px;",onclick:function(){e.execCommand(a)}});return e.addListener("selectionchange",function(){var t=e.queryCommandState(a);-1==t?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(t))}),i},e,a)},e.voiceUploadBtn=function(t,e,a){UE.registerUI("voice-upload-btn",function(e,a){e.registerCommand(a,{execCommand:function(){t.openUploadDialog("voice")}});var i=new UE.ui.Button({name:a,title:a,cssRules:"background-position: -18px -40px;",onclick:function(){e.execCommand(a)}});return e.addListener("selectionchange",function(){var t=e.queryCommandState(a);-1==t?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(t))}),i},e,a)}},637:function(t,e,a){"use strict";a.r(e);var i=a(805),r=a(412);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(640);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"d1e1d4f8",null);e.default=o.exports},638:function(t,e,a){"use strict";a.r(e);var i=a(806),r=a(414);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(639);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"bdda6ef0",null);e.default=o.exports},639:function(t,e,a){"use strict";var i=a(416);a.n(i).a},640:function(t,e,a){"use strict";var i=a(417);a.n(i).a},641:function(t,e,a){"use strict";var i=a(418);a.n(i).a},642:function(t,e,a){"use strict";a.r(e);var i=a(803),r=a(419);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(643);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"72942be8",null);e.default=o.exports},643:function(t,e,a){"use strict";var i=a(421);a.n(i).a},644:function(t,e,a){"use strict";var i=a(422);a.n(i).a},645:function(t,e,a){"use strict";a.r(e);var i=a(801),r=a(423);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(646);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"27c61b36",null);e.default=o.exports},646:function(t,e,a){"use strict";var i=a(425);a.n(i).a},647:function(t,e,a){"use strict";var i=a(426);a.n(i).a},648:function(t,e,a){"use strict";var i=a(427);a.n(i).a},649:function(t,e,a){"use strict";var i=a(428);a.n(i).a},650:function(t,e,a){"use strict";a.r(e);var i=a(771),r=a(429);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(652);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"7bc4efbe",null);e.default=o.exports},651:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/resource",t)},e.save=function(t){var e=t.id,a=l(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/resource/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/resource",a)},e.getInfo=function(t){var e=s.default.compile(restUrl_publish+"/api/resource/:id");return(0,r.request_get)(e({id:t}))},e.del=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/resource/delete",t)},e.urgentDigital=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/resource/urgent",t)},e.audits=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/resource/audits",t)},e.issuance=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=s.default.compile(restUrl_publish+"/api/comproduct/:id/issuance");return(0,r.request_put)(i({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})};var i,r=a(15),n=a(22),s=(i=n)&&i.__esModule?i:{default:i},o=a(81);function l(t,e){var a={};for(var i in t)0<=e.indexOf(i)||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},652:function(t,e,a){"use strict";var i=a(431);a.n(i).a},653:function(t,e,a){"use strict";a.r(e);var i=a(769),r=a(432);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(657);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"591c2f0c",null);e.default=o.exports},654:function(t,e,a){"use strict";a.r(e);var i=a(792),r=a(437);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(655);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"324d6fe3",null);e.default=o.exports},655:function(t,e,a){"use strict";var i=a(439);a.n(i).a},656:function(t,e,a){"use strict";var i=a(440);a.n(i).a},657:function(t,e,a){"use strict";var i=a(441);a.n(i).a},658:function(t,e,a){"use strict";a.r(e);var i=a(775),r=a(442);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(659);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2befa019",null);e.default=o.exports},659:function(t,e,a){"use strict";var i=a(444);a.n(i).a},660:function(t,e,a){"use strict";a.r(e);var i=a(774),r=a(445);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(664);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"7acc2b4a",null);e.default=o.exports},661:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{type:"1",label:"数字图书集",value:"books",detailType:"17"},{type:"2",label:"文章集",value:"articles",detailType:"16"},{type:"3",label:"图集",value:"pictures",detailType:"13"},{type:"4",label:"音频集",value:"audios",detailType:"15"},{type:"5",label:"视频集",value:"videos",detailType:"14"},{type:"31",label:"习题集",value:"practices",detailType:"18"}]},662:function(t,e,a){"use strict";a.r(e);var i=a(778),r=a(447);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(663);var s=a(1),o=Object(s.a)(r.default,i.a,i.b,!1,null,"56504b12",null);e.default=o.exports},663:function(t,e,a){"use strict";var i=a(449);a.n(i).a},664:function(t,e,a){"use strict";var i=a(450);a.n(i).a},665:function(t,e,a){"use strict";var i=a(451);a.n(i).a},667:function(t,e,a){"use strict";a.r(e);var i=a(668),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},668:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=c(a(564)),n=c(a(566)),s=a(306),o=(c(a(277)),function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}}(a(845))),l=c(a(567)),u=a(50);function c(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Detail:l.default,GroupList:r.default,MoveGroup:n.default},mixins:[s.main],data:function(){return{services:o,detailVisible:!1,detailDialoaType:"info",detailData:null,pustSetDialog:!1,currentPut:null,moveToOtherDiaolog:!1,moveIds:null,toId:null,columnBook:null,columnList:[]}},created:function(){this.getColumn()},methods:i({setList:function(t){this.setSerieslist(t)},setGroupList:function(t){this.setSeriesGrouplist(t)},setPage:function(t){this.setSerieslistPage(t)},putSet:function(t){this.currentPut={theme_extend_list:t.theme_extend_list},this.pustSetDialog=!0},getColumn:function(){var e=this;this.services.getColList().then(function(t){e.columnBook=t.data})},pustSetSave:function(){var e=this;this.services.putSave(this.currentPut).then(function(t){e.pustSetDialog=!1,e.getList()})},shelfClass:function(t){var e=this;i({},t,{id:this.currentShelf.id}),o.putSave({category_ids:[t.class_id],id:this.currentShelf.product_id}).then(function(t){e.$message.success("成功"),e.upShelfDiaolog=!1,e.getList()})}},(0,u.mapMutations)(["setSerieslist","setSerieslistPage","setSeriesGrouplist"])),computed:i({},(0,u.mapState)({list:function(t){return t.series.list},page:function(t){return t.series.page},groupList:function(t){return t.series.groupList}}))}},669:function(t,e,a){},765:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[e.resourceDialog?a("Resource",{attrs:{type:e.resourceType,resourceDialog:e.resourceDialog,curSoucesList:e.curSoucesList},on:{"update:resourceDialog":function(t){e.resourceDialog=t},"update:resource-dialog":function(t){e.resourceDialog=t},select:e.addSelcet}}):e._e(),e.infoDialog?a("ContentDetail",{attrs:{infoData:e.infoData,infoDialog:e.infoDialog},on:{"update:infoDialog":function(t){e.infoDialog=t},"update:info-dialog":function(t){e.infoDialog=t}}}):e._e(),e.groupDialog?a("Group",{ref:"group",attrs:{item:e.currentItem,detailData:e.detailData,groupDialog:e.groupDialog,onlyShow:e.readOnly,isMedia:e.media},on:{"update:groupDialog":function(t){e.groupDialog=t},"update:group-dialog":function(t){e.groupDialog=t},open:e.openResources,detail:e.detail,del:e.del,save:e.saveAudioOK}}):e._e(),a("el-tabs",{attrs:{value:e.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{ref:"info",attrs:{detailData:e.detailData,services:e.services,readOnly:e.readOnly,defaultData:e.defaultData},on:{close:function(t){return e.$emit("update:detailDialog",!1)},saveok:function(t){return e.$emit("saveok",t)}}})],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Audio",{ref:"audio",attrs:{detailData:e.detailData,defaultData:e.defaultAList,media:e.media,readOnly:e.readOnly},on:{detail:e.detail,del:e.del}}),e.readOnly?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.addVideo()}}},[e._v("新增组")])],1),1==e.media?a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:e.detailData,readOnly:e.readOnly,defaultData:e.defaultData},on:{saveok:function(t){return e.$emit("saveok")}}})],1):e._e()],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},766:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[a.flag?i("el-dialog",{attrs:{center:!1,visible:a.flag,"close-on-click-modal":!1,title:"移动分组",width:"400px"},on:{"update:visible":function(t){a.flag=t}}},[i("span",{}),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("移动到")]),i("select",{ref:"moveToId",staticClass:"form-control",attrs:{placeholder:"请选择"}},a._l(a.groupList,function(t,e){return t.id!=a.currGroup&&""!=t.id?i("option",{domProps:{value:t.id,textContent:a._s(t.name)}}):a._e()}),0)]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.flag=!1}}},[a._v("返回")]),i("el-button",{attrs:{type:"primary"},on:{click:a.submit}},[a._v(" 确定  ")])],1)]):a._e()],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},767:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"readOnlyDetail"},[a("el-dialog",{attrs:{width:"1000px",visible:e.detailVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,top:"50px","show-close":!1},on:{"update:visible":function(t){e.detailVisible=t}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:e.colse}}),a(e.currComp,{tag:"component",attrs:{type:e.detailDialoaType,defaultData:e.defaultData,readOnly:!0,detailType:e.detailType,media:6==e.type?1:2}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:e.colse}},[e._v("取消")])],1)])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},768:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("div",{staticClass:"groupWrap"},[i("div",{staticClass:"list"},[i("ul",a._l(a.groupList,function(e){return i("li",{staticClass:"licontent",class:{red:e.id==a.currGroup}},[i("div",{staticClass:"name ellipsis",attrs:{title:e.name+"("+e.num+")"},on:{click:function(t){return a.groupChange(e.id)}}},[i("span",{staticClass:"title"},[a._v(a._s(e.name))]),i("span",[a._v(a._s("("+e.num+")"))])]),""!=e.id&&"non"!=e.id?i("div",{staticClass:"btns"},[i("span",{on:{click:function(t){return a.updateGroupDialog(e)}}},[i("i",{staticClass:"el-icon-edit"})]),i("span",{on:{click:function(t){return a.delGroup(e)}}},[i("i",{staticClass:"el-icon-delete"})])]):a._e()])}),0)]),i("div",{staticClass:"addGroupBtnWrap"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){a.newGroupDialogOpen=!0}}},[i("i",{staticClass:"el-icon-plus"},[a._v("新建分组")])])],1)]),i("div",{staticClass:"dialogs"},[a.newGroupDialogOpen?i("el-dialog",{attrs:{title:"新增",visible:a.newGroupDialogOpen,width:"500px"},on:{"update:visible":function(t){a.newGroupDialogOpen=t}}},[i("div",{staticClass:"formWrap"},[i("VaForm",{ref:"addGroupForm"},[i("form",{attrs:{id:"addGroupForm"}},[i("div",{staticClass:"group"},[i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"}})])])])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.newGroupDialogOpen=!1}}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:a.addGroup}},[a._v("确定")])],1)]):a._e(),a.updateGroupDialogOpen?i("el-dialog",{attrs:{title:"修改",visible:a.updateGroupDialogOpen,width:"500px"},on:{"update:visible":function(t){a.updateGroupDialogOpen=t}}},[i("div",{staticClass:"formWrap"},[i("VaForm",{ref:"updateGroupForm"},[a.currEditGroup?i("form",{attrs:{id:"updateGroupForm"}},[i("div",{staticClass:"group"},[i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"},domProps:{value:a.currEditGroup.name}}),i("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:a.currEditGroup.id}})])]):a._e()])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.updateGroupDialogOpen=!1}}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:a.updateGroup}},[a._v("确定")])],1)]):a._e()],1)])}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},769:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("el-tabs",{attrs:{value:a.type},on:{"tab-click":a.handleClick}},[i("el-tab-pane",{attrs:{label:"详情",name:"info"}},[i("VaForm",{ref:"detailForm"},[i("form",{ref:"detailForm",staticClass:"detailForm"},[i("fieldset",{attrs:{disabled:a.readOnly}},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*套系名称:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:a.readOnly},domProps:{value:a.infoData.name},on:{input:function(t){t.target.composing||a.$set(a.infoData,"name",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*套系ID:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.link_id,expression:"infoData.link_id"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:a.readOnly},domProps:{value:a.infoData.link_id},on:{input:function(t){t.target.composing||a.$set(a.infoData,"link_id",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*套系简介:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.abs,expression:"infoData.abs"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:a.readOnly},domProps:{value:a.infoData.abs},on:{input:function(t){t.target.composing||a.$set(a.infoData,"abs",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*套系作者:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:a.readOnly},domProps:{value:a.infoData.author},on:{input:function(t){t.target.composing||a.$set(a.infoData,"author",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*套系类别:")]),i("el-select",{attrs:{maxlength:"20",disabled:a.readOnly},model:{value:a.infoData.category,callback:function(t){a.$set(a.infoData,"category",t)},expression:"infoData.category"}},a._l(a.types,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*类别编号:")]),i("span",{attrs:{type:"text"},domProps:{textContent:a._s(a.getCode)}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*栏目设置:")]),i("el-checkbox-group",{attrs:{disabled:a.readOnly,min:1,max:100},model:{value:a.checkedSeries,callback:function(t){a.checkedSeries=t},expression:"checkedSeries"}},a._l(a.series,function(t){return i("el-checkbox",{key:t.id,attrs:{label:t.id,value:t.id}},[a._v(a._s(t.name))])}),1)],1),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("封面:")]),i("img",{staticClass:"img",attrs:{src:a.previewImgUrl||a.infoData.img_src}})]),a.readOnly?a._e():i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("设置封面:")]),i("label",[i("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){return a.$refs.cover.click()}}},[a._v("上传")]),i("input",{ref:"cover",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return a.previewImg(t)}}})],1)])])]),a.readOnly?a._e():i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){return a.$emit("update:detailDialog",!1)}}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return a.submitInfo("detailForm")}}},[a._v("确定")])],1)])],1),i("el-tab-pane",{attrs:{label:"资源",name:"resource"}},[a.resourceDialog?i("Resource",{attrs:{resourceDialog:a.resourceDialog,curSoucesList:[],type:"20-1",isShowType:!0},on:{"update:resourceDialog":function(t){a.resourceDialog=t},"update:resource-dialog":function(t){a.resourceDialog=t},select:a.addSelcet}}):a._e(),a.checkedSeries&&a.series?i("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small"},model:{value:a.currentType,callback:function(t){a.currentType=t},expression:"currentType"}},a._l(a.getNav,function(t){return i("el-radio-button",{key:t.id,attrs:{label:t.id}},[a._v(a._s(t.name))])}),1):a._e(),i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[a._v("名称")]),i("th",[a._v("类型")]),i("th",[a._v("操作")])])]),i("tbody",a._l(a.resList,function(e){return i("tr",[i("td",[a._v(a._s(e.title||e.name))]),i("td",[a._v(a._s(e.type_name))]),i("td",[i("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete"},on:{click:function(t){a.readOnly||a.del([e.rel_id])}}})],1)])}),0)]),a.readOnly?a._e():i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return a.add()}}},[a._v("新增")])],1)],1)],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},770:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[a("el-tabs",{attrs:{value:e.type||"info"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"info"}},[a("Info",{attrs:{detailData:e.detailData,infoDate:e.infoDate,services:e.services,readOnly:e.readOnly},on:{close:function(t){return e.$emit("update:detailDialog",!1)},saveok:function(t){return e.$emit("saveok",t)}}})],1),a("el-tab-pane",{attrs:{label:"教学计划",name:"hour"}},[a("Hour",{attrs:{detailData:e.detailData,hourDate:e.hourDate,services:e.hourSever,readOnly:e.readOnly},on:{change:e.hourChange,restprice:e.restprice}})],1),a("el-tab-pane",{attrs:{label:"习题设置",name:"example"}},[a("Exercise",{attrs:{detailData:e.detailData,exerciseDate:e.exerciseDate,hourDate:e.hourDate,services:e.exerciseSever,readOnly:e.readOnly},on:{change:e.exerciseChange}})],1),a("el-tab-pane",{attrs:{label:"价格设置",name:"price"}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("使用授权课程价格:")]),a("span",[e._v(e._s(e.priceDate.share_course_price||0))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*设置你的课程价格:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.priceDate.price,expression:"priceDate.price"}],staticClass:"form-control",attrs:{placeholder:"请输入价格",type:"text",disabled:e.readOnly},domProps:{value:e.priceDate.price},on:{input:function(t){t.target.composing||e.$set(e.priceDate,"price",t.target.value)}}}),a("span",{staticClass:"price"},[e._v("*管理员会审核你的价格,价格不能低于授权课程价格")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*预计收益:")]),a("span",[e._v("（设置价格 - 使用授权课程价格）* 80%")])]),e.readOnly?e._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.$emit("update:detailDialog",!1)}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.savePrice}},[e._v("保存")])],1)])],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},771:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("el-dialog",{attrs:{visible:a.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(t){a.infoDialog=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("Info",{attrs:{type:a.infoValue,infoDialog:a.infoDialog,isAuthor:a.isShowAuthor,infoData:a.infoData},on:{infoClick:a.infoHandleClick}})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.infoDialog=!1}}},[a._v("取消")])],1)]),a.resourceDialog?i("Resource",{attrs:{resourceDialog:a.resourceDialog,curSoucesList:a.chocesArray,isShowType:!0},on:{"update:resourceDialog":function(t){a.resourceDialog=t},"update:resource-dialog":function(t){a.resourceDialog=t},select:a.addSelcet}}):a._e(),i("el-tabs",{attrs:{value:a.type||"info"}},[i("el-tab-pane",{attrs:{label:"详情",name:"info"}},[i("div",{staticClass:"div"},[i("VaForm",{ref:"detailForm"},[i("form",{staticClass:"detailForm"},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*资源名称:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.detail.name,expression:"detail.name"}],staticClass:"form-control",attrs:{vali:"",name:"name",type:"text",disabled:a.readOnly},domProps:{value:a.detail.name},on:{input:function(t){t.target.composing||a.$set(a.detail,"name",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*授权价格:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.detail.price,expression:"detail.price"}],staticClass:"form-control",attrs:{name:"price",type:"text",disabled:a.readOnly},domProps:{value:a.detail.price},on:{input:function(t){t.target.composing||a.$set(a.detail,"price",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*简介:")]),i("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.detail.abs,expression:"detail.abs"}],staticClass:"textarea",attrs:{maxlength:a.$config.ABS_MAX_LENGTH,name:"abs",type:"text",disabled:a.readOnly},domProps:{value:a.detail.abs},on:{input:function(t){t.target.composing||a.$set(a.detail,"abs",t.target.value)}}}),a.readOnly?a._e():i("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[a._v("您还可以输入"+a._s(a.$config.ABS_MAX_LENGTH-(a.detail.abs?a.detail.abs.length:0)))])]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*设置封面:")]),a.readOnly?a._e():i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:function(t){return a.$refs.fenmian.click()}}},[a._v("上传")])],1),i("div",{staticClass:"group fenmian"},[i("div",{staticClass:"label fenmain"}),i("img",{staticClass:"previewImgUrl",attrs:{src:a.previewImgUrl||a.detail.img_src,alt:"暂无图片"}}),i("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return a.previewImg(t)}}}),i("input",{staticClass:"hide",attrs:{name:"img",type:"text"},domProps:{value:a.imgUrl}})]),i("p",{staticClass:"imgSizeWrap"},[i("span",{staticClass:"imgSize"},[a._v("建议图片大小：118*160px")])]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("构成:")]),a.readOnly?a._e():i("div",{staticClass:"btn-right"},[i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){return a.delDetail()}}},[a._v("移除")]),i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){return a.detailAddHandle()}}},[a._v("添加")])],1)]),i("div",{staticClass:"group"},[i("table",{staticClass:"table border",attrs:{width:"100%"}},[i("thead",[i("tr",[i("th",{attrs:{width:"55"}},[i("input",{attrs:{type:"checkbox",name:"checkAll"},on:{click:function(t){return a.$checkAll(t)}}}),i("span",[a._v("全选")])]),i("th",[a._v("名称")]),i("th",[a._v("标签")]),i("th",[a._v("类型")]),i("th",{attrs:{width:"100"}},[a._v("操作")])])]),i("tbody",a._l(a.detail.constitute,function(e,t){return i("tr",[i("td",[i("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids","data-type":e.type},domProps:{value:e.id}})]),i("td",[i("div",{staticClass:"th-name",attrs:{title:e.name}},[a._v(a._s(e.name))])]),i("td",[a._v(a._s(e.tag))]),i("td",[a._v(a._s(e.type_name))]),i("td",[i("Icon",{attrs:{title:"详情",type:"icon-detail",size:"mini",plain:""},on:{click:function(t){return a.bookDetailInfo(e,e.type,"info")}}}),a.readOnly?a._e():i("Icon",{attrs:{title:"移除","data-id":e.c_id,type:"icon-delete",size:"mini",plain:""},on:{click:function(t){return a.delDetail([e.c_id||e.id],e.type)}}})],1)])}),0)])])])])],1),a.readOnly?a._e():i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){return a.$emit("update:detailDialog",!1)}}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:a.submitDetail}},[a._v("确定")])],1)])],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},772:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[a("el-tabs",{attrs:{value:e.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{attrs:{detailData:e.detailData,readOnly:e.readOnly,defaultData:e.defaultData},on:{saveok:function(t){return e.$emit("saveok",t)}}})],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Structure",{attrs:{detailData:e.detailData,readOnly:e.readOnly,defaultData:e.defaultData}})],1),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:e.detailData,readOnly:e.readOnly,defaultData:e.defaultData},on:{saveok:function(t){return e.$emit("saveok")}}})],1)],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},773:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("el-dialog",{attrs:{visible:a.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(t){a.infoDialog=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("Info",{attrs:{type:a.infoValue,infoDialog:a.infoDialog,infoData:a.infoData},on:{infoClick:a.infoHandleClick}})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.infoDialog=!1}}},[a._v("取消")])],1)]),i("el-tabs",{attrs:{value:a.type},on:{"tab-click":a.handleClick}},[i("el-tab-pane",{attrs:{label:"详情",name:"info"}},[i("div",{staticClass:"div"},[i("form",{ref:"detailForm",staticClass:"detailForm"},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("名称:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:a.detailData.base.name,expression:"detailData.base.name"}],staticClass:"form-control",attrs:{name:"name",type:"text",disabled:""},domProps:{value:a.detailData.base.name},on:{blur:a.$vali,input:function(t){t.target.composing||a.$set(a.detailData.base,"name",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("标签:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:a.detailData.base.tag,expression:"detailData.base.tag"}],staticClass:"form-control",attrs:{name:"label",type:"text",disabled:""},domProps:{value:a.detailData.base.tag},on:{input:function(t){t.target.composing||a.$set(a.detailData.base,"tag",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("简介:")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:a.detailData.base.abs,expression:"detailData.base.abs"}],staticClass:"textarea",attrs:{name:"intro",type:"text",disabled:""},domProps:{value:a.detailData.base.abs},on:{input:function(t){t.target.composing||a.$set(a.detailData.base,"abs",t.target.value)}}})]),i("div",{staticClass:"group fenmian"},[i("div",{staticClass:"label"},[a._v("封面:")]),i("div",{staticClass:"wrap"},[i("img",{staticClass:"previewImgUrl",attrs:{src:a.detailData.base.img_src,alt:"暂无图片"}})])]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("主题构成:")])]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"}),i("div",{staticClass:"tableBox"},[i("table",{staticClass:"table border",attrs:{width:"100%"}},[i("thead",[i("tr",[i("th",[a._v("名称")]),i("th",[a._v("标签")]),i("th",[a._v("作者")]),i("th",[a._v("发布时间")]),i("th",{attrs:{width:"30"}},[a._v("详情")])])]),i("tbody",a._l(a.detailData.components,function(e,t){return i("tr",[i("td",{domProps:{textContent:a._s(e.content.name)}}),i("td",{domProps:{textContent:a._s(e.content.tag)}}),i("td",{domProps:{textContent:a._s(e.content.author)}}),i("td",{domProps:{textContent:a._s(e.content.create_time)}}),i("td",[i("Icon",{attrs:{title:"详情",type:"icon-detail",size:"mini",plain:""},on:{click:function(t){return a.bookDetailInfo(e,e.content.type,"info")}}})],1)])}),0)])])])])])]),i("el-tab-pane",{attrs:{label:"扩展属性",name:"metadata"}},[i("div",{staticClass:"meta"},a._l(a.detailData.attributes,function(t,e){return i("div",{staticClass:"group rowWrap"},[i("span",{domProps:{textContent:a._s(e+1)}}),i("span",{staticClass:"left",domProps:{textContent:a._s(t.key)}}),i("span",{staticClass:"centet",domProps:{textContent:a._s(t.name)}}),i("span",{staticClass:"right",domProps:{textContent:a._s(t.value)}})])}),0)]),i("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a.gList?i("div",{staticClass:"KnowledgeWrap"},[i("ul",{staticClass:"left"},a._l(a.gList,function(e){return i("li",{on:{click:function(t){return a.handKnowledgeClick(e)}}},[a._v(a._s(e.name))])}),0),i("div",{staticClass:"right"},[i("p",{staticClass:"name",domProps:{textContent:a._s(a.currGroup.name)}}),i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[a._v("知识点名称")]),i("th",[a._v("数量")]),i("th",[a._v("创建时间")])])]),i("tbody",a._l(a.list,function(t){return i("tr",[i("th",[a._v(a._s(t.name))]),i("th",[a._v(a._s(t.num))]),i("th",[a._v(a._s(t.create_time))])])}),0)])])]):a._e()])],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},774:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[a.resourceDialog?i("Resource",{attrs:{resourceDialog:a.resourceDialog,curSoucesList:a.infoData.constitute,type:a.sourceType},on:{"update:resourceDialog":function(t){a.resourceDialog=t},"update:resource-dialog":function(t){a.resourceDialog=t},select:a.addSelcet}}):a._e(),i("el-dialog",{attrs:{visible:a.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(t){a.infoDialog=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("Info",{attrs:{type:a.infoValue,infoDialog:a.infoDialog,isAuthor:!0,infoData:a.infoDetail}})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.infoDialog=!1}}},[a._v("取消")])],1)]),a.practiceDialog?i("PracticeInfo",{attrs:{detailData:a.infoDetail,detailDialog:a.practiceDialog},on:{"update:detailDialog":function(t){a.practiceDialog=t},"update:detail-dialog":function(t){a.practiceDialog=t},close:function(t){a.practiceDialog=!1}}}):a._e(),i("el-tabs",{attrs:{value:"info"}},[i("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[i("div",{staticClass:"div"},[i("VaForm",{ref:"detailForm"},[i("form",{staticClass:"detailForm"},[i("fieldset",{attrs:{disabled:a.readOnly}},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*名称:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{vali:"",name:"name",type:"text",disabled:a.readOnly},domProps:{value:a.infoData.name},on:{input:function(t){t.target.composing||a.$set(a.infoData,"name",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("类型:")]),i("span",{domProps:{textContent:a._s(a.getType)}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*标签:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:a.readOnly},domProps:{value:a.infoData.tag},on:{input:function(t){t.target.composing||a.$set(a.infoData,"tag",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*简介:")]),i("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{maxlength:a.$config.ABS_MAX_LENGTH,name:"abs",type:"text",disabled:a.readOnly},domProps:{value:a.infoData.abs},on:{input:function(t){t.target.composing||a.$set(a.infoData,"abs",t.target.value)}}}),a.readOnly?a._e():i("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[a._v("您还可以输入"+a._s(a.$config.ABS_MAX_LENGTH-(a.infoData.abs?a.infoData.abs.length:0)))])]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*价格:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:a.infoData.price,expression:"infoData.price"}],staticClass:"form-control price",attrs:{name:"price",type:"text",disabled:a.readOnly},domProps:{value:a.infoData.price},on:{input:function(t){t.target.composing||a.$set(a.infoData,"price",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*设置封面:")]),a.readOnly?a._e():i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:function(t){return a.$refs.fenmian.click()}}},[a._v("上传")])],1),i("div",{staticClass:"group fenmian"},[i("div",{staticClass:"label fenmain"}),i("img",{staticClass:"previewImgUrl",attrs:{src:a.previewImgUrl||a.infoData.img_src}}),i("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return a.previewImg(t)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("构成:")]),a.readOnly?a._e():i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:a.detailTopHandle}},[a._v("置顶")]),i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){return a.detailRemoveHandle()}}},[a._v("移除")]),i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){return a.detailAddHandle()}}},[a._v("添加")])],1)]),i("div",{staticClass:"group"},[i("table",{staticClass:"table border",attrs:{width:"100%"}},[i("thead",[i("tr",[i("th",{attrs:{width:"55"}},[i("input",{attrs:{type:"checkbox",name:"checkAll"},on:{click:function(t){return a.$checkAll(t)}}}),i("span",[a._v("全选")])]),i("th",[a._v("名称")]),31!=a.sourceType?i("th",[a._v("标签")]):a._e(),31==a.sourceType?i("th",[a._v("难易程度")]):a._e(),31==a.sourceType?i("th",[a._v("分值")]):a._e(),i("th",[a._v("类型")]),i("th",[a._v("创建时间")]),a.readOnly?a._e():i("th",{attrs:{width:"100"}},[a._v("调序")]),i("th",{attrs:{width:"100"}},[a._v("操作")])])]),i("tbody",a._l(a.infoData.constitute,function(e,t){return i("tr",[i("td",[i("input",{attrs:{type:"checkbox",name:"ids","data-type":e.type},domProps:{value:e.id}})]),i("td",[i("div",{staticClass:"th-name",attrs:{title:e.name||e.question},domProps:{innerHTML:a._s(e.name||e.question)}})]),31!=a.sourceType?i("td",[a._v(a._s(e.tag))]):a._e(),31==a.sourceType?i("th",[a._v(a._s(e.level_name))]):a._e(),31==a.sourceType?i("th",[a._v(a._s(e.score))]):a._e(),i("td",[a._v(a._s(e.type_name))]),i("td",[a._v(a._s(e.create_time))]),a.readOnly?a._e():i("td",[i("i",{staticClass:"el-icon-sort-up el-icon-sort",on:{click:function(t){return a.detailSort("up",e.id)}}}),t!=a.infoData.constitute.length-1?i("i",{staticClass:"el-icon-sort-down el-icon-sort",on:{click:function(t){return a.detailSort("down",e.id)}}}):a._e()]),i("td",[i("Icon",{attrs:{title:"详情",type:"icon-detail",size:"mini",plain:""},on:{click:function(t){return a.bookDetailInfo(e,e.type,"info")}}}),a.readOnly?a._e():i("Icon",{attrs:{title:"移除","data-id":e.c_id,type:"icon-delete",size:"mini",plain:""},on:{click:function(t){return a.detailRemoveHandle([e.c_id||e.id],e.type)}}})],1)])}),0)])])])])])],1),a.readOnly?a._e():i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){return a.$emit("update:detailDialog",!1)}}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:a.submitDetail}},[a._v("确定")])],1)])],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},775:function(t,e,a){"use strict";function i(){var i=this,t=i.$createElement,r=i._self._c||t;return r("div",{staticClass:"div"},[!i.readOnly&&i.detailReadOnly?r("el-button",{staticClass:"modifyBtn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(t){i.detailReadOnly=!1}}},[i._v("修改")]):i._e(),r("el-tabs",{attrs:{value:i.type},on:{"tab-click":i.handleClick}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"info"}},[r("div",{staticClass:"div"},[r("VaForm",{ref:"detailForm"},[r("form",{ref:"detailForm",staticClass:"detailForm"},[r("fieldset",{attrs:{disabled:i.readOnly||i.detailReadOnly}},[i._l(i.getMainList,function(e){return r("div",{staticClass:"group"},[r("div",{staticClass:"label"},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.required,expression:"item.required"}]},[i._v("*")]),i._v(i._s(e.label)+":")]),"标题"===e.label?r("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{type: 'required'}"},{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"text",disabled:e.isDdisabled&&e.value&&10<=e.value.length},domProps:{value:e.value},on:{input:function(t){t.target.composing||i.$set(e,"value",t.target.value)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"text",disabled:e.isDdisabled&&e.value&&10<=e.value.length},domProps:{value:e.value},on:{input:function(t){t.target.composing||i.$set(e,"value",t.target.value)}}})])}),(Number(i.detailType),r("div",[r("div",{staticClass:"group",staticStyle:{width:"50%",float:"left"}},[r("div",{staticClass:"label"},[i._v("封面:")]),r("label",[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return i.$refs.fenmian.click()}}},[i._v("导入封面")]),r("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:i.previewImg}})],1)]),r("div",{staticClass:"group"},[r("div",{staticClass:"label"}),r("img",{staticClass:"previewImgUrl",attrs:{src:i.detailDataOwn.封面}})])])),7===Number(i.detailType)?r("div",[r("div",{staticClass:"group",staticStyle:{float:"left"}},[r("div",{staticClass:"label"},[i._v("资源地址:")]),r("label",[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return i.$refs.dizhi.click()}}},[i._v("上传")]),r("input",{ref:"dizhi",staticClass:"hide",attrs:{type:"file",accept:"*"},on:{change:i.previewImg}})],1)]),r("div",{staticClass:"group"},[r("a",{attrs:{href:i.detailDataOwn.资源地址,download:"File"}},[i._v("下载")])])]):i._e(),8===Number(i.detailType)?r("div"):i._e()],2),i.readOnly?i._e():r("div",{staticClass:"btns"},[r("el-button",{attrs:{ype:"info"},on:{click:function(t){return i.$emit("update:detailDialog",!1)}}},[i._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return i.submitDetail()}}},[i._v("确定")])],1)])])],1)]),r("el-tab-pane",{attrs:{label:"扩展属性",name:"data"}},[r("MetaData",{attrs:{metadata:i.metadata,readOnly:i.readOnly||i.detailReadOnly},on:{submit:function(t){return i.submitDetail()},back:function(t){return i.$emit("update:detailDialog",!1)}}})],1),r("el-tab-pane",{attrs:{label:"目录",name:"ml"}},[r("div",{staticClass:"muluWrap"},[r("div",{staticClass:"left"},[r("el-tree",{staticClass:"muluList",attrs:{data:i.ml,props:i.defaultProps,"node-key":"id"},on:{"node-click":i.handleNodeClick}})],1),r("div",{staticClass:"right"},[r("fieldset",{attrs:{disabled:i.readOnly||i.detailReadOnly}},[r("table",{staticClass:"table"},[r("thead",[r("tr",[r("th",{attrs:{width:"50"}},[i._v("序号")]),r("th",[i._v(" 名称")]),i.readOnly?i._e():r("th",{attrs:{width:"110"}},[i._v(" 调序")])])]),r("tbody",i._l(i.currMulu,function(e,a){return r("tr",[r("th",{domProps:{textContent:i._s(a+1)}}),r("th",{staticClass:"th-name",domProps:{textContent:i._s(e.chapter_name)}}),i.readOnly?i._e():r("th",[r("div",{staticClass:"div"},[r("el-button",{staticClass:"iconRotate up",attrs:{disabled:0==a,icon:"el-icon-back",size:"mini"},on:{click:function(t){0!=a&&i.muluSort(e,a,"up")}}}),r("el-button",{staticClass:"iconRotate down",attrs:{disabled:a+1==i.currMulu.length,icon:"el-icon-back",size:"mini"},on:{click:function(t){a+1!=i.currMulu.length&&i.muluSort(e,a,"down")}}})],1)])])}),0)])])])])])],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},776:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[e.resourceDialog?a("Resource",{attrs:{type:e.resourceType,resourceDialog:e.resourceDialog,curSoucesList:e.curSoucesList},on:{"update:resourceDialog":function(t){e.resourceDialog=t},"update:resource-dialog":function(t){e.resourceDialog=t},select:e.addSelcet}}):e._e(),e.infoDialog?a("ContentDetail",{attrs:{infoData:e.infoData,infoDialog:e.infoDialog},on:{"update:infoDialog":function(t){e.infoDialog=t},"update:info-dialog":function(t){e.infoDialog=t}}}):e._e(),a("el-tabs",{attrs:{value:e.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{ref:"info",attrs:{detailData:e.detailData,readOnly:e.readOnly,defaultData:e.defaultData}}),e.readOnly?e._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.$emit("update:detailDialog",!1)}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitDetail("detailForm")}}},[e._v("保存")])],1)],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Tab",{ref:"video",attrs:{dataType:"video",defaultList:e.curSoucesList,detailData:e.detailData,onlyShow:e.readOnly},on:{detail:e.detail,del:e.del}}),e.readOnly?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.openResources("5")}}},[e._v("新增")])],1),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:e.detailData,readOnly:e.readOnly,defaultData:e.defaultData},on:{saveok:function(t){return e.$emit("saveok")}}})],1)],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},777:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("div",{staticClass:"dialogs"},[a.readerDialog?i("Reader",{attrs:{readerDialog:a.readerDialog,readerId:a.readerId,version:"draft"},on:{"update:readerDialog":function(t){a.readerDialog=t},"update:reader-dialog":function(t){a.readerDialog=t}}}):a._e()],1),i("el-tabs",{attrs:{value:a.type},on:{"tab-click":a.handleClick}},[i("el-tab-pane",{attrs:{label:"详情",name:"info"}},[i("div",{staticClass:"div"},[i("form",{ref:"infoForm",staticClass:"infoForm"},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("名称:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:a.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.infoData.name},on:{input:function(t){t.target.composing||a.$set(a.infoData,"name",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("类型:")]),i("span",{staticClass:"types"},[i("span",[a._v(" "+a._s(a.infoData.type_name))]),i("span",[a._v(" 创建时间: "+a._s(a.infoData.create_time))])])]),a.isAuthor?a._e():i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("作者:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:a.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.infoData.author},on:{input:function(t){t.target.composing||a.$set(a.infoData,"author",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("标签:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:a.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.infoData.tag},on:{input:function(t){t.target.composing||a.$set(a.infoData,"tag",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("简介:")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:a.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:a.infoData.abs},on:{input:function(t){t.target.composing||a.$set(a.infoData,"abs",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("详情:")]),1==a.infoData.type?i("el-button",{attrs:{title:"预览",size:"mini",type:"primary",plain:""},on:{click:function(t){return a.openReader(a.infoData)}}},[a._v("预览")]):a._e()],1),a.detailType&&3!=a.infoData.type?i("div",{staticClass:"group wailianinput"},[i("div",{staticClass:"label"}),i("span",[i("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:a.infoData.preview}})])]):a._e(),a.hassVideo||4==a.infoData.type?i("div",{staticClass:"group detailmain wailian"},[i("div",{staticClass:"label"}),i("div",{staticClass:"left"},[i("img",{staticClass:"coverImg",attrs:{src:a.infoData.img_src||a.infoData.img}}),3==a.infoData.type?i("img",{staticClass:"coverImg",attrs:{src:a.infoData.preview_path}}):a._e()]),i("div",{staticClass:"right"},[i("span",{staticClass:"wrap"},[a.hassVideo?i("video",{attrs:{src:a.infoData.preview,controls:""}}):a._e(),4==a.infoData.type?i("audio",{attrs:{src:a.infoData.preview,controls:""}}):a._e()]),i("span",{staticClass:"msg"},[i("div",{staticClass:"type"},[a._v("格式:"),i("span",{staticClass:"val",domProps:{textContent:a._s(a.infoData.format)}})]),i("div",{staticClass:"size"},[a._v("大小:"),i("span",{staticClass:"val",domProps:{textContent:a._s((a.infoData.size/1024).toFixed(2)+"KB")}})])])])]):i("div",{staticClass:"group detailmain"},[i("div",{staticClass:"label"}),i("span",{staticClass:"wrap"},[i("img",{staticClass:"coverImg",attrs:{src:a.infoData.img_src||a.infoData.img}}),3==a.infoData.type?i("img",{staticClass:"coverImg",attrs:{src:a.infoData.preview_path}}):a._e()])]),10==a.infoData.type?i("div",{staticClass:"group"},[i("table",{staticClass:"table border",attrs:{width:"100%"}},[i("thead",[i("tr",[i("th",[a._v("名称")]),i("th",[a._v("标签")]),i("th",[a._v("作者")]),i("th",[a._v("发布时间")])])]),i("tbody",a._l(a.infoData.constitute,function(t,e){return i("tr",[i("td",{domProps:{textContent:a._s(t.name)}}),i("td",{domProps:{textContent:a._s(t.tag)}}),i("td",{domProps:{textContent:a._s(t.author)}}),i("td",{domProps:{textContent:a._s(t.create_time)}})])}),0)])]):a._e()])])]),i("el-tab-pane",{attrs:{label:"扩展属性",name:"data"}},[i("MetaData",{attrs:{metadata:a.infoData.attributes,isShowBtn:!1,readOnly:!0}})],1)],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},778:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("el-dialog",{attrs:{center:!1,visible:a.detailDialog,"close-on-click-modal":!1,"before-close":a.close,"append-to-body":"",top:"50px",width:"1000px"},on:{"update:visible":function(t){a.detailDialog=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("el-tabs",{attrs:{value:"detail"}},[i("el-tab-pane",{attrs:{label:"查看题目",name:"detail"}})],1)],1),i("div",{staticClass:"content"},[i("div",{staticClass:"topic-title",domProps:{innerHTML:a._s(a.detailData.question)}}),i("ul",{staticClass:"answer-area"},a._l(a.detailData.option,function(t,e){return i("li",{staticClass:"answer-item"},[i("span",{staticClass:"answer-title",class:{active:a.getActive(e)}},[a._v(a._s(a.numberToLetter(e)))]),i("div",{staticClass:"answer-content-wrap"},[i("div",{staticClass:"answer-content",domProps:{innerHTML:a._s(t.title)}}),t.img?i("img",{staticClass:"img",attrs:{src:t.img}}):a._e()])])}),0),i("div",{staticClass:"analysis-area"},[i("p",{staticClass:"analysis-title"},[a._v("题目解析")]),i("div",{staticClass:"analysis",domProps:{innerHTML:a._s(a.detailData.analysis||"暂无解析")}})])]),i("div",{staticClass:"btns",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){return a.$emit("update:detailDialog",!1)}}},[a._v("取消")])],1)])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},779:function(t,e,a){"use strict";function i(){var i=this,t=i.$createElement,r=i._self._c||t;return r("div",{staticClass:"div"},[i.exerciseDialog?r("ExerciseInfo",{attrs:{detailData:i.detailData,exerciseDialog:i.exerciseDialog,currentExerise:i.currentExerise,services:i.services,readOnly:i.readOnly},on:{"update:exerciseDialog":function(t){i.exerciseDialog=t},"update:exercise-dialog":function(t){i.exerciseDialog=t}}}):i._e(),r("table",{staticClass:"table"},[i._m(0),i.list?r("tbody",i._l(i.list,function(e,a){return r("tr",[r("td",[e.isShow?i._e():r("span",[i._v(i._s(e.name))]),e.isShow?r("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticClass:"form-control",domProps:{value:e.name},on:{input:function(t){t.target.composing||i.$set(e,"name",t.target.value)}}}):i._e()]),r("td",[r("el-select",{attrs:{placeholder:"请选择",disabled:i.readOnly},model:{value:e.period_id,callback:function(t){i.$set(e,"period_id",t)},expression:"item.period_id"}},i._l(i.classHour,function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id,disabled:i.isDisabled(t,e)}})}),1)],1),r("td",[r("div",{staticClass:"btns"},[e.id?r("Icon",{attrs:{size:"mini",title:"详情",type:"icon-detail",plain:""},on:{click:function(t){return i.openDetail(e)}}}):i._e(),i.readOnly?i._e():r("Icon",{attrs:{size:"mini",title:"修改",type:"icon-menu-publish",plain:""},on:{click:function(t){return i.modify(e)}}}),i.readOnly?i._e():r("Icon",{attrs:{size:"mini",title:"保存",type:"icon-upload",plain:""},on:{click:function(t){return i.save(e)}}}),i.readOnly?i._e():r("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(t){return i.delChoosen(e.id,a)}}}),i.readOnly?i._e():r("el-checkbox",{attrs:{value:"true"===e.is_auto||!0===e.is_auto,label:"true"},on:{change:function(t){return i.selecet(a,t)}}},[i._v("自动阅卷")])],1)])])}),0):i._e()]),r("div",{staticClass:"btns"},[i.list.length<i.hourDate.length&&!i.readOnly?r("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(t){return i.add()}}},[i._v("新增习题")]):i._e()],1)],1)}var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("关联习题")]),e("th",[this._v("选择课时")]),e("th",{attrs:{width:"180"}},[this._v("操作")])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},780:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:e.infoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:function(t){return e.$emit("update:infoDialog",!1)}}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"详情",name:"ff"}})],1)],1),a("form",{ref:"infoForm",staticClass:"infoForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("名称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.infoData.name},on:{input:function(t){t.target.composing||e.$set(e.infoData,"name",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("类型:")]),a("span",{staticClass:"types"},[a("span",[e._v(" "+e._s(e.infoData.type_name))]),a("span",[e._v(" 创建时间: "+e._s(e.infoData.create_time))])])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.infoData.tag},on:{input:function(t){t.target.composing||e.$set(e.infoData,"tag",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:e.infoData.abs},on:{input:function(t){t.target.composing||e.$set(e.infoData,"abs",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("详情:")])]),e.detailType&&3!=e.infoData.type?a("div",{staticClass:"group wailianinput"},[a("div",{staticClass:"label"}),a("span",[a("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.infoData.preview}})])]):e._e(),e.hassVideo||4==e.infoData.type?a("div",{staticClass:"group detailmain wailian"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[e.hassVideo?a("video",{attrs:{src:e.infoData.preview,controls:""}}):e._e(),4==e.infoData.type?a("audio",{attrs:{src:e.infoData.preview,controls:""}}):e._e(),a("span",{staticClass:"msg"},[a("div",{staticClass:"type"},[e._v("格式:"),a("span",{staticClass:"val",domProps:{textContent:e._s(e.infoData.format)}})]),a("div",{staticClass:"size"},[e._v("大小:"),a("span",{staticClass:"val",domProps:{textContent:e._s(((this.infoData.size||0)/1024).toFixed(2)+"KB")}})])])])]):e._e(),a("div",{staticClass:"group detailmain"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[3==e.infoData.type?a("img",{staticClass:"coverImg",attrs:{src:e.infoData.preview_path}}):e._e(),a("img",{staticClass:"coverImg",attrs:{src:e.infoData.img_src||e.infoData.img,"else-if":""}})])]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("扩展属性")])]),a("div",{staticClass:"group"},[a("MetaData",{attrs:{metadata:e.metadata,isShowBtn:!1,isOption:!1}})],1)]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.$emit("update:infoDialog",!1)}}},[e._v("取消")])],1)])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},781:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[a.infoDialog?i("ContentDetail",{attrs:{infoData:a.infoData,infoDialog:a.infoDialog,mediaType:a.mediaType},on:{"update:infoDialog":function(t){a.infoDialog=t},"update:info-dialog":function(t){a.infoDialog=t}}}):a._e(),a.groupDialog?i("Group",{ref:"group",attrs:{item:a.currentItem,detailData:a.detailData,groupDialog:a.groupDialog,onlyShow:a.readOnly},on:{"update:groupDialog":function(t){a.groupDialog=t},"update:group-dialog":function(t){a.groupDialog=t},open:a.openResources,detail:a.detail,del:a.del,save:a.saveAudioOK}}):a._e(),a.bookDialog?i("Book",{attrs:{item:a.currentItem,detailData:a.detailData,optional:a.optional,bookDialog:a.bookDialog,readOnly:a.readOnly},on:{"update:bookDialog":function(t){a.bookDialog=t},"update:book-dialog":function(t){a.bookDialog=t},saveok:a.saveOk}}):a._e(),i("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:a.detailAddDialog,width:"1200px",top:"50px","append-to-body":""},on:{"update:visible":function(t){a.detailAddDialog=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("el-tabs",{attrs:{value:"detail"}},[i("el-tab-pane",{attrs:{label:"添加",name:"detail"}})],1)],1),i("el-form",{staticClass:"addBookForm"},[i("div",{staticClass:"serachWrap"},[i("form",{attrs:{id:"detailSearchForm"}},[i("span",{staticClass:"group-inline"},[i("input",{staticClass:"form-control",attrs:{placeholder:"输入名称",name:"name",id:"text"}}),i("span",{staticClass:"clear",on:{click:function(t){return a.clear()}}},[a._v("x")])]),i("span",{staticClass:"group-inline"},[i("input",{staticClass:"form-control",attrs:{placeholder:"输入标签",name:"tag",id:"text2"}}),i("span",{staticClass:"clear2",on:{click:function(t){return a.clear2()}}},[a._v("x")])]),i("span",{staticClass:"group-inline"},[i("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),i("span",{staticClass:"group-inline"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:a.query}},[a._v("搜索")]),i("el-button",{attrs:{type:"primary",plain:""},on:{click:a.addSelection}},[a._v("添加选中")])],1)])]),i("table",{staticClass:"table",attrs:{width:"100%"}},[i("thead",[i("tr",[i("th",{attrs:{width:"80"}},[a.singleElection?i("input",{attrs:{type:"checkbox"},on:{click:function(t){return a.checkAll(t,"addBookForm")}}}):a._e(),i("span",{domProps:{textContent:a._s(a.singleElection?"全选":"选择")}})]),i("th",[a._v("名称")]),i("th",[a._v("标签")]),i("th",[a._v("类型")]),i("th",[a._v("创建时间")])])]),a.dataList.length?i("tbody",a._l(a.dataList,function(t,e){return i("tr",[i("td",[i("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox","data-type":t.status,name:"ids"},domProps:{value:t.id,checked:a.isChecked(t.id)},on:{click:a.uncheckedAll}})]),i("td",[a._v(a._s(t.name))]),i("td",[a._v(a._s(t.tag))]),i("td",[a._v(a._s(t.type_name))]),i("td",[a._v(a._s(t.create_time))])])}),0):a._e()]),a.page?i("div",{staticClass:"pageWrap"},[i("el-pagination",{attrs:{small:!1,background:"","current-page":a.page.num,"page-sizes":[10,50,100],"page-size":a.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:a.page.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1):a._e()]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){a.detailAddDialog=!1}}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:a.addSelection}},[a._v("确定")])],1)],1),i("el-tabs",{staticClass:"release-tab",attrs:{type:"border-card",value:a.type},on:{"tab-click":a.handleClick}},[i("el-tab-pane",{attrs:{label:"纸质书籍",name:"book"}},[i("Tab",{ref:"book",attrs:{dataType:"book",defaultList:a.defaultBList,detailData:a.detailData,isLabelHide:!0,onlyShow:a.readOnly},on:{detail:a.detail,del:a.del}}),a.isShowBtn&&!a.readOnly?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return a.addBook()}}},[a._v("新增")]):a._e()],1),i("el-tab-pane",{attrs:{label:"电子书",name:"e-book"}},[i("EBook",{ref:"ebook",attrs:{defaultData:a.defaultEList,detailData:a.detailData,readOnly:a.readOnly},on:{open:a.openResources}})],1),i("el-tab-pane",{attrs:{label:"听读",name:"audio"}},[i("Audio",{ref:"audio",attrs:{detailData:a.detailData,defaultData:a.defaultAList,readOnly:a.readOnly},on:{detail:a.detail,del:a.del}}),a.readOnly?a._e():i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return a.addVideo()}}},[a._v("新增组")])],1),i("el-tab-pane",{attrs:{label:"视读",name:"video"}},[i("Tab",{ref:"video",attrs:{dataType:"video",defaultList:a.defaultVList,detailData:a.detailData,onlyShow:a.readOnly},on:{detail:a.detail,del:a.del}}),a.readOnly?a._e():i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return a.openResources("5")}}},[a._v("新增")])],1),i("el-tab-pane",{attrs:{label:"资源",name:"resource"}},[i("Tab",{ref:"resource",attrs:{dataType:"resource",defaultList:a.defaultRList,detailData:a.detailData,onlyShow:a.readOnly,isShow:!0},on:{detail:a.detail,del:a.del}}),a.readOnly?a._e():i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return a.openResources("14")}}},[a._v("新增")])],1)],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},782:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[a.hourInfoDialog?i("HourInfo",{ref:"info",attrs:{hourInfoDialog:a.hourInfoDialog,currentHour:a.currentHour,detailData:a.detailData,services:a.services,readOnly:a.readOnly},on:{"update:hourInfoDialog":function(t){a.hourInfoDialog=t},"update:hour-info-dialog":function(t){a.hourInfoDialog=t},saveok:a.saveok,restList:a.restList}}):a._e(),i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[a._v("序号")]),i("th",[a._v("知识点名称")]),i("th",[a._v("知识点简介")]),a.readOnly?a._e():i("th",[a._v("排序")]),i("th",{staticClass:"operate"},[a._v("操作")])])]),a.list?i("tbody",a._l(a.list,function(e,t){return i("tr",[i("td",[a._v(a._s(t+1)),i("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden",name:"ids"},domProps:{value:e.id}})]),i("td",[a._v(a._s(e.name))]),i("td",{attrs:{title:e.ab}},[a._v(a._s(a._f("formateText")(e.abs,33)))]),a.readOnly?a._e():i("td",[0!=t?i("Icon",{attrs:{size:"mini",title:"上移",type:"el-icon-sort-up"},on:{click:function(t){return a.sort(e,"up")}}}):a._e(),t!=a.list.length-1?i("Icon",{attrs:{size:"mini",title:"下移",type:"el-icon-sort-down"},on:{click:function(t){return a.sort(e,"down")}}}):a._e()],1),i("td",[i("div",{staticClass:"btns"},[i("Icon",{attrs:{size:"mini",title:"详情",type:"icon-detail",plain:""},on:{click:function(t){return a.showHour(e)}}}),a.readOnly?a._e():i("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(t){return a.delChoosen(e.id)}}})],1)])])}),0):a._e()]),i("div",{staticClass:"btns"},[a.readOnly?a._e():i("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(t){return a.showHour()}}},[a._v("新增课时")])],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},783:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[a.readerDialog?i("Reader",{attrs:{readerDialog:a.readerDialog,currId:a.currknowledgeId,readerId:a.readerId,detailData:a.detailData,version:"production",markBtn:"锚点"},on:{"update:readerDialog":function(t){a.readerDialog=t},"update:reader-dialog":function(t){a.readerDialog=t},addAnchorSuccess:a.addAnchorSuccess}}):a._e(),i("div",{staticClass:"dialogs"},[i("el-dialog",{attrs:{center:!1,visible:a.groupDialog,"close-on-click-modal":!1,top:"50px",width:"500px","append-to-body":""},on:{"update:visible":function(t){a.groupDialog=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("el-tabs",{attrs:{value:"detail"}},[i("el-tab-pane",{attrs:{label:"知识点结构",name:"detail"}})],1)],1),i("VaForm",{ref:"groupFormVa"},[i("form",{ref:"groupForm"},[i("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:a.editGroup.id}}),a.groupDialog?i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("名称:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name",type:"text"},domProps:{value:a.editGroup.name}})]):a._e(),i("div",{staticClass:"btns"},[i("el-button",{attrs:{size:"mediu",type:"primary"},on:{click:a.groupCommit}},[a._v("确定")]),i("el-button",{attrs:{size:"mediu",type:"info"},on:{click:function(t){a.groupDialog=!1}}},[a._v("取消")])],1)])])],1),i("el-dialog",{attrs:{center:!1,visible:a.knowledgeDialog,"close-on-click-modal":!1,top:"50px",width:"500px","append-to-body":""},on:{"update:visible":function(t){a.knowledgeDialog=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("el-tabs",{attrs:{value:"detail"}},[i("el-tab-pane",{attrs:{label:"知识点",name:"detail"}})],1)],1),i("VaForm",{ref:"KnowledgeFormVa"},[i("form",{ref:"KnowledgeForm"},[i("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:a.editKnowledge.id}}),a.knowledgeDialog?i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("名称:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name",type:"text"},domProps:{value:a.editKnowledge.name}})]):a._e(),i("div",{staticClass:"btns"},[i("el-button",{attrs:{size:"mediu",type:"primary"},on:{click:a.KnowledgeCommit}},[a._v("确定")]),i("el-button",{attrs:{size:"mediu",type:"info"},on:{click:function(t){a.knowledgeDialog=!1}}},[a._v("取消")])],1)])])],1),i("el-dialog",{attrs:{center:!1,visible:a.addAnchorDialog,"close-on-click-modal":!1,top:"50px",width:"80%","append-to-body":"",title:"锚点添加"},on:{"update:visible":function(t){a.addAnchorDialog=t}}},[a.addAnchorDialog?i("AnchorList",{attrs:{type:a.anchorType,bookInfo:a.bookInfo,themeId:a.detailData.id,currknowledgeId:a.currknowledgeId,detailData:a.detailData},on:{anchorListCancle:a.anchorListCancle}}):a._e()],1)],1),i("div",{staticClass:"topWrap"},[a.mount&&0<a.mount.number&&100!=a.mount.number&&!a.readOnly?i("div",{staticClass:"mount"},[i("el-progress",{staticClass:"mountProgress",attrs:{"text-inside":!0,"stroke-width":18,percentage:a.mount.number}}),100<=a.mount.number?i("span",[a._v("挂载完成")]):i("span",[a._v('正在挂载"'+a._s(a.mount.name)+'"')])],1):a._e(),i("div",{staticClass:"btns"},[a.readOnly?a._e():i("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return a.groupEdit({})}}},[a._v("新增知识结构")]),a.currGroupId&&!a.readOnly?i("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:a.guaZai}},[a._v("一键挂载")]):a._e()],1)]),a.currGroupId?i("div",{staticClass:"content clearfix"},[i("div",{staticClass:"left"},[i("ul",a._l(a.glist,function(e){return i("div",{staticClass:"li",class:{currGroup:e.id==a.currGroupId},on:{click:function(t){return a.changeGroup(e)}}},[i("span",{staticClass:"name",attrs:{title:e.name+"(100)"},domProps:{textContent:a._s(e.name+"("+e.num+")")}}),a.readOnly?a._e():i("div",{staticClass:"btns"},[i("Icon",{attrs:{type:"icon-menu-publish"},on:{click:function(t){return t.stopPropagation(),a.groupEdit(e)}}}),i("Icon",{attrs:{type:"el-icon-delete"},on:{click:function(t){return t.stopPropagation(),a.groupDel(e)}}})],1)])}),0)]),i("div",{staticClass:"tableWrap"},[i("div",{staticClass:"nav clearfix"},[i("div",{staticClass:"name",domProps:{textContent:a._s(a.currGroup.name)}}),a.openAnchorList?i("div",{staticClass:"btns"},[i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){a.openAnchorList=!1}}},[a._v("返回")]),a.isBook?a._e():i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:a.addAnchor}},[a._v("增加锚点")]),!a.bookInfo||a.anchorType!=a.Anchors_chapter&&a.anchorType!=a.Anchors_content?a._e():i("el-select",{attrs:{placeholder:"书籍设置",size:"small"},on:{change:a.bookinfoChange,"visible-change":a.bookinfoBlur},model:{value:a.bookInfo.value,callback:function(t){a.$set(a.bookInfo,"value",t)},expression:"bookInfo.value"}},a._l(a.bookInfo.list,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return a.removeAnchor()}}},[a._v("移除")])],1):i("div",{staticClass:"btns"},[a.readOnly?a._e():i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return a.KnowledgeEdit({})}}},[a._v("新增知识点")]),a.readOnly?a._e():i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:a.toTop}},[a._v("置顶")]),a.readOnly?a._e():i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return a.knowDel()}}},[a._v("删除")])],1)]),a.openAnchorList?a._e():i("div",{ref:"mainListWrap",staticClass:"mainListWrap"},[i("table",{staticClass:"table"},[i("thead",[i("tr",[a.readOnly?a._e():i("th",[a._v("全选"),i("input",{attrs:{type:"checkbox"},on:{click:function(t){return a.checkedAllBtn(t,"checkedAll")}}})]),i("th",[a._v("名称")]),i("th",[a._v("数量")]),i("th",{attrs:{width:"160"}},[a._v("创建时间")]),a.readOnly?a._e():i("th",{staticStyle:{"text-align":"center"},attrs:{width:"250"}},[a._v("操作")])])]),i("tbody",a._l(a.list,function(e){return i("tr",[a.readOnly?a._e():i("th",[i("input",{attrs:{type:"checkbox",name:"ids"},domProps:{checked:a.checkedAll,value:e.id}})]),i("th",[a._v(a._s(e.name))]),i("th",[a._v(a._s(e.num))]),i("th",[a._v(a._s(e.create_time))]),a.readOnly?a._e():i("th",[i("div",{staticClass:"btns"},[i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return a.KnowledgeEdit(e)}}},[a._v("重命名")]),i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return a.setAnchor(e.id)}}},[a._v("设置锚点")]),i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return a.knowDel([e.id])}}},[a._v("删除")])],1)])])}),0)]),a.page?i("div",{staticClass:"pageWrap"},[i("el-pagination",{attrs:{small:!1,background:"","current-page":a.page.num,"page-sizes":[10,50,100],"page-size":a.page.offset,layout:"sizes,prev, pager, next, jumper",total:a.page.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1):a._e(),i("div",{staticClass:"btns"})]),a.openAnchorList?i("div",{staticClass:"anchorListWrap"},[i("div",{staticClass:"article"},[a.openAnchorList?i("table",{ref:"anchorList",staticClass:"table"},[i("thead",[i("tr",[i("th",{attrs:{width:"50"}},[a._v("全选"),i("input",{attrs:{type:"checkbox"},on:{click:function(t){return a.checkedAllBtn(t,"anchorCheckedAll")}}})]),i("th",[i("div",{staticClass:"title"},[i("span",{staticClass:"btns"},a._l(a.anchorsList,function(t,e){return t?i("span",{class:{currAnchorType:a.isShowAnchors(e)},domProps:{textContent:a._s(a.getAnchorsText(e))},on:{click:function(t){return a.changeAnchorType(e)}}}):a._e()}),0)])]),i("th",{directives:[{name:"show",rawName:"v-show",value:a.isBook,expression:"isBook"}],attrs:{width:"180"}},[a._v("所属图书")]),i("th",{staticClass:"btns",staticStyle:{"padding-right":"30px"},attrs:{width:"50"}},[a._v("操作")])])]),i("tbody",{staticClass:"contentAnchors"},a._l(a.anchorList,function(e){return i("tr",[i("td",[i("div",{staticClass:"input"},[i("input",{attrs:{type:"checkbox",name:"ids"},domProps:{checked:a.anchorCheckedAll,value:e.id}})])]),i("td",{staticClass:"point"},[a.anchorType==a.Anchors_content?i("div",{staticClass:"div"},[a._v(a._s(e.point))]):i("div",{staticClass:"div"},[a._v(a._s(e.name))])]),a.isBook?i("td",[a._v(a._s(e.book_name))]):a._e(),i("td",[i("div",{staticClass:"btns"},[i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return a.removeAnchor([e.n_info_id])}}},[a._v("移除")])],1)])])}),0)]):a._e()])]):a._e()])]):a._e()],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},784:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.information.name},on:{input:function(t){t.target.composing||e.$set(e.information,"name",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:e.$config.ABS_MAX_LENGTH,type:"text",disabled:e.readOnly},domProps:{value:e.information.abs},on:{input:function(t){t.target.composing||e.$set(e.information,"abs",t.target.value)}}}),e.readOnly?e._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[e._v("您还可以输入"+e._s(e.$config.ABS_MAX_LENGTH-(e.information.abs?e.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*设置封面:")]),e.readOnly?e._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$refs.fenmian.click()}}},[e._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return e.previewImg(t)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:e.previewImgUrl||e.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:e.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[e._v("建议图片大小：250*140px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.xRead.tag},on:{input:function(t){t.target.composing||e.$set(e.xRead,"tag",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.xRead.author},on:{input:function(t){t.target.composing||e.$set(e.xRead,"author",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("扩展属性:")]),a("MetaData",{attrs:{metadata:e.metadata,isShowBtn:!1,readOnly:e.readOnly}})],1)]),e.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"2"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("主题词:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.retailers.subject_terms,expression:"retailers.subject_terms"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.subject_terms},on:{input:function(t){t.target.composing||e.$set(e.retailers,"subject_terms",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("读者对象:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.retailers.target_audience,expression:"retailers.target_audience"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.target_audience},on:{input:function(t){t.target.composing||e.$set(e.retailers,"target_audience",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("中图法分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.retailers.clc_category,expression:"retailers.clc_category"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.clc_category},on:{input:function(t){t.target.composing||e.$set(e.retailers,"clc_category",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("营销分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.retailers.cp_category,expression:"retailers.cp_category"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.cp_category},on:{input:function(t){t.target.composing||e.$set(e.retailers,"cp_category",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("内容简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.retailers.describe,expression:"retailers.describe"}],staticClass:"textarea",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.describe},on:{input:function(t){t.target.composing||e.$set(e.retailers,"describe",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("编辑推荐:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.retailers.editor_recommend,expression:"retailers.editor_recommend"}],staticClass:"textarea",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.editor_recommend},on:{input:function(t){t.target.composing||e.$set(e.retailers,"editor_recommend",t.target.value)}}})])])]):e._e()],1)],1),e.readOnly?e._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.$emit("close")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitDetail("detailForm")}}},[e._v("保存")])],1)])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},785:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:e.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*套系名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:e.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:e.readOnly},domProps:{value:e.information.name},on:{input:function(t){t.target.composing||e.$set(e.information,"name",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*套系ID:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:e.information.link_id,expression:"information.link_id"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:e.readOnly},domProps:{value:e.information.link_id},on:{input:function(t){t.target.composing||e.$set(e.information,"link_id",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*套系简介:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:e.information.abs,expression:"information.abs"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:e.readOnly},domProps:{value:e.information.abs},on:{input:function(t){t.target.composing||e.$set(e.information,"abs",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*套系作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:e.information.author,expression:"information.author"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:e.readOnly},domProps:{value:e.information.author},on:{input:function(t){t.target.composing||e.$set(e.information,"author",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*套系类别:")]),a("el-select",{attrs:{maxlength:"20",disabled:e.readOnly},model:{value:e.information.category_name,callback:function(t){e.$set(e.information,"category_name",t)},expression:"information.category_name"}},e._l(e.types,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*类别编号:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:e.information.category_code,expression:"information.category_code"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:e.readOnly},domProps:{value:e.information.category_code},on:{input:function(t){t.target.composing||e.$set(e.information,"category_code",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*栏目一:")]),a("el-checkbox-group",{attrs:{disabled:e.readOnly,min:1,max:100},model:{value:e.checkedSeries,callback:function(t){e.checkedSeries=t},expression:"checkedSeries"}},e._l(e.series,function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.name}},[e._v(e._s(t.name))])}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("封面:")]),a("img",{attrs:{src:e.previewImgUrl||e.information.img_src}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("设置封面：")]),a("label",[e.readOnly?e._e():a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.$refs.cover.click()}}},[e._v("修改")]),a("input",{ref:"cover",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return e.previewImg(t)}}})],1)])])]),e.readOnly?e._e():a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.$emit("close")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitInfo("detailForm")}}},[e._v("确定")])],1)])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},786:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[e.imageCropperDialog?a("ImageCropper",{ref:"imageCropper",attrs:{imageCropperDialog:e.imageCropperDialog,imgFile:e.imgFile,autoCropWidth:290,autoCropHeight:400},on:{"update:imageCropperDialog":function(t){e.imageCropperDialog=t},"update:image-cropper-dialog":function(t){e.imageCropperDialog=t},preview:e.preview}}):e._e(),a("el-dialog",{attrs:{visible:e.choiceDialog,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.choiceDialog=t}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"选择"+e.title,name:"detail"}})],1)],1),a("form",{staticClass:"rowWrap"},[a("div",{staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.keyWord,expression:"keyWord"}],staticClass:"form-control",attrs:{placeholder:"输入查询"+e.title,type:"text"},domProps:{value:e.keyWord},on:{input:[function(t){t.target.composing||(e.keyWord=t.target.value)},e.searchAuthor]}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.creatAuthor}},[e._v("创建新"+e._s(e.title))])],1),a("ul",{staticClass:"authorListForm"},e._l(e.gauthorList,function(t){return a("li",[a("input",{ref:"ids",refInFor:!0,attrs:{name:"ids",type:"checkbox",label:t.name,id:"author_"+t.id},domProps:{value:t.id}}),a("label",{attrs:{for:"author_"+t.id}},[e._v(e._s(t.name))])])}),0)]),a("div",{staticClass:"div dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.choiceDialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.choiceAuthor}},[e._v("确定")])],1)]),a("el-dialog",{attrs:{visible:e.creatDialog,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.creatDialog=t}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"创建"+e.title,name:"detail"}})],1)],1),a("form",{staticClass:"authorInfo"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("姓名:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.creatAuthorInfo.name,expression:"creatAuthorInfo.name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:e.creatAuthorInfo.name},on:{input:function(t){t.target.composing||e.$set(e.creatAuthorInfo,"name",t.target.value)}}})])]),a("div",{staticClass:"div dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.creatDialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveAuthor}},[e._v("确定")])],1)]),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.information.name},on:{input:function(t){t.target.composing||e.$set(e.information,"name",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("ISBN:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.information.ISBN||e.information.book_isbn,expression:"information.ISBN||information.book_isbn"}],ref:"isbn",staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.information.ISBN||e.information.book_isbn},on:{input:function(t){t.target.composing||e.$set(e.information.ISBN||e.information,"book_isbn",t.target.value)}}}),e.readOnly?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.syncInfo}},[e._v("同步")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:e.$config.ABS_MAX_LENGTH,type:"text",disabled:e.readOnly},domProps:{value:e.information.abs},on:{input:function(t){t.target.composing||e.$set(e.information,"abs",t.target.value)}}}),e.readOnly?e._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[e._v("您还可以输入"+e._s(e.$config.ABS_MAX_LENGTH-(e.information.abs?e.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*设置封面:")]),e.readOnly?e._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$refs.fenmian.click()}}},[e._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return e.previewImg(t)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:e.previewImgUrl||e.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:e.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[e._v("建议图片大小：290*400px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("form",{staticClass:"readForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*标签:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.xRead.tag},on:{input:function(t){t.target.composing||e.$set(e.xRead,"tag",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.xRead.author},on:{input:function(t){t.target.composing||e.$set(e.xRead,"author",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("扩展属性:")]),a("MetaData",{attrs:{metadata:e.metadata,isShowBtn:!1,readOnly:e.readOnly}})],1)])]),e.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"2"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("绝版:")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"out_print",label:"1",disabled:e.readOnly},model:{value:e.out_print,callback:function(t){e.out_print=t},expression:"out_print"}},[e._v("是")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"out_print",label:"2",disabled:e.readOnly},model:{value:e.out_print,callback:function(t){e.out_print=t},expression:"out_print"}},[e._v("否")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("是否有版:")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"have_print",label:"1",disabled:e.readOnly},model:{value:e.have_print,callback:function(t){e.have_print=t},expression:"have_print"}},[e._v("是")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"have_print",label:"2",disabled:e.readOnly},model:{value:e.have_print,callback:function(t){e.have_print=t},expression:"have_print"}},[e._v("否")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("作者:")]),a("el-select",{staticStyle:{"margin-right":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择",size:"small",name:"author",disabled:e.readOnly},model:{value:e.authorValue,callback:function(t){e.authorValue=t},expression:"authorValue"}},e._l(e.authorOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),e.readOnly?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.addAuthor("作者")}}},[e._v("添加")])],1),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("译者:")]),a("el-select",{staticStyle:{"margin-right":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择",size:"small",name:"translator",disabled:e.readOnly},model:{value:e.translatorValue,callback:function(t){e.translatorValue=t},expression:"translatorValue"}},e._l(e.translatorOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),e.readOnly?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.addAuthor("译者")}}},[e._v("添加")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("主题词:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.retailers.subject_terms,expression:"retailers.subject_terms"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.subject_terms},on:{input:function(t){t.target.composing||e.$set(e.retailers,"subject_terms",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("读者对象:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.retailers.target_audience,expression:"retailers.target_audience"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.target_audience},on:{input:function(t){t.target.composing||e.$set(e.retailers,"target_audience",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("中图法分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.retailers.clc_category,expression:"retailers.clc_category"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.clc_category},on:{input:function(t){t.target.composing||e.$set(e.retailers,"clc_category",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("营销分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.retailers.cp_category,expression:"retailers.cp_category"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.cp_category},on:{input:function(t){t.target.composing||e.$set(e.retailers,"cp_category",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("内容简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.retailers.describe,expression:"retailers.describe"}],staticClass:"textarea",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.describe},on:{input:function(t){t.target.composing||e.$set(e.retailers,"describe",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("编辑推荐:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.retailers.editor_recommend,expression:"retailers.editor_recommend"}],staticClass:"textarea",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.editor_recommend},on:{input:function(t){t.target.composing||e.$set(e.retailers,"editor_recommend",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("图书目录:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.retailers.book_directory,expression:"retailers.book_directory"}],staticClass:"textarea",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.retailers.book_directory},on:{input:function(t){t.target.composing||e.$set(e.retailers,"book_directory",t.target.value)}}})])])]):e._e(),a("el-tab-pane",{attrs:{name:"3"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("收起"),a("i",{staticClass:"el-icon-arrow-up"})])])],1)],1),a("div",{staticClass:"btns"},[e.readOnly?e._e():a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitInfo()}}},[e._v("保存")])],1)])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},787:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.information.name},on:{input:function(t){t.target.composing||e.$set(e.information,"name",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:e.$config.ABS_MAX_LENGTH,type:"text",disabled:e.readOnly},domProps:{value:e.information.abs},on:{input:function(t){t.target.composing||e.$set(e.information,"abs",t.target.value)}}}),e.readOnly?e._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[e._v("您还可以输入"+e._s(e.$config.ABS_MAX_LENGTH-(e.information.abs?e.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*设置封面:")]),e.readOnly?e._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$refs.fenmian.click()}}},[e._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return e.previewImg(t)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:e.previewImgUrl||e.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:e.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[e._v("建议图片大小：250*140px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.xRead.author},on:{input:function(t){t.target.composing||e.$set(e.xRead,"author",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.xRead.tag},on:{input:function(t){t.target.composing||e.$set(e.xRead,"tag",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("扩展属性:")]),a("MetaData",{attrs:{metadata:e.metadata,isShowBtn:!1,disabled:e.readOnly,readOnly:e.readOnly}})],1)])])],1)],1)])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},788:function(t,e,a){"use strict";function i(){var i=this,t=i.$createElement,r=i._self._c||t;return r("div",{staticClass:"div box"},[i._m(0),r("el-tree",{attrs:{data:i.audioList,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:i._u([{key:"default",fn:function(t){var e=t.node,a=t.data;return r("span",{staticClass:"custom-tree-node"},[r("span",[i._v(i._s(a.name))]),r("span",{staticClass:"options",staticStyle:{float:"right"}},[r("div",{staticClass:"icon icon-detail",attrs:{title:"详情"},on:{click:function(t){return i.$emit("detail",a,a.children)}}}),i.readOnly?i._e():r("div",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(t){return i.del(a,e)}}})])])}}])})],1)}var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[this._v("组名称")]),e("th",{attrs:{width:"100"}},[this._v("操作")])])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},789:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[e.imageCropperDialog?a("ImageCropper",{ref:"imageCropper",attrs:{imageCropperDialog:e.imageCropperDialog,imgFile:e.imgFile},on:{"update:imageCropperDialog":function(t){e.imageCropperDialog=t},"update:image-cropper-dialog":function(t){e.imageCropperDialog=t},preview:e.preview}}):e._e(),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:e.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*课程名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{placeholder:"请输入课程的名称（标题）",type:"text",disabled:e.readOnly},domProps:{value:e.information.name},on:{input:function(t){t.target.composing||e.$set(e.information,"name",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*课程介绍:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{placeholder:"请简要介绍下该课程的内容",maxlength:e.$config.ABS_MAX_LENGTH,type:"text",disabled:e.readOnly},domProps:{value:e.information.abs},on:{input:function(t){t.target.composing||e.$set(e.information,"abs",t.target.value)}}}),e.readOnly?e._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[e._v("您还可以输入"+e._s(e.$config.ABS_MAX_LENGTH-(e.information.abs?e.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*开课时间:")]),a("div",{staticClass:"inline"},[a("TimePicks",{attrs:{value:e.timePick},on:{getTime:e.getTime}})],1)]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*导师:")]),a("img",{staticClass:"previewImgUrl",attrs:{src:e.information.owenr_img_src||e.$config.userInfo.user.picture_absolute}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*课程封面:")]),e.readOnly?e._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$refs.fenmian.click()}}},[e._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return e.previewImg(t)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:e.previewImgUrl||e.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:e.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[e._v("建议图片大小：250*140px")])])]),e.readOnly?e._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.$emit("close")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitInfo()}}},[e._v("保存")])],1)])])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},790:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return a.list?i("div",{staticClass:"tableWrap"},[a.isShow&&!a.onlyShow?i("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small"},model:{value:a.type,callback:function(t){a.type=t},expression:"type"}},[i("el-radio-button",{attrs:{label:"1"}},[a._v("图集")]),i("el-radio-button",{attrs:{label:"2"}},[a._v("视频集")]),i("el-radio-button",{attrs:{label:"3"}},[a._v("音频集")])],1):a._e(),i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[a._v("名称")]),i("th",[a._v("类型")]),a.isLabelHide?a._e():i("th",[a._v("标签")]),i("th",[a._v("创建时间")]),i("th",{attrs:{width:"100"}},[a._v("操作")])])]),i("tbody",[a.list.length?a._e():i("tr",[i("td",{staticClass:"colspan",attrs:{colspan:a.isLabelHide?4:5}},[a._v("暂无数据")])]),a._l(a.list,function(e,t){return i("tr",[i("th",[i("div",{staticClass:"th-name"},[a._v(a._s(e.name))])]),i("th",[i("div",{staticClass:"th-name"},[a._v(a._s(e.type_name))])]),a.isLabelHide?a._e():i("th",[i("div",{staticClass:"th-name"},[a._v(a._s(e.tag))])]),i("th",[i("div",{staticClass:"th-name"},[a._v(a._s(e.create_time))])]),i("th",[i("div",{staticClass:"icon icon-detail",attrs:{title:"详情"},on:{click:function(t){return a.$emit("detail",e)}}}),a.onlyShow?a._e():i("div",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(t){return a.$emit("del",e)}}})])])})],2)])],1):a._e()}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},791:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:e.groupDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:e.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:e.setTitle,name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm rowWrap"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("基本信息(必填)")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("组名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.group_name,expression:"information.group_name"}],staticClass:"form-control",attrs:{type:"text",disabled:e.onlyShow},domProps:{value:e.information.group_name},on:{input:function(t){t.target.composing||e.$set(e.information,"group_name",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.price,expression:"information.price"}],staticClass:"form-control",attrs:{type:"text",disabled:e.onlyShow},domProps:{value:e.information.price},on:{input:function(t){t.target.composing||e.$set(e.information,"price",t.target.value)}}}),a("span",[e._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("最低定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.min_price,expression:"information.min_price"}],staticClass:"form-control",attrs:{type:"text",disabled:e.onlyShow},domProps:{value:e.information.min_price},on:{input:function(t){t.target.composing||e.$set(e.information,"min_price",t.target.value)}}}),a("span",[e._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("主讲人:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.speaker,expression:"information.speaker"}],staticClass:"form-control",attrs:{type:"text",disabled:e.onlyShow},domProps:{value:e.information.speaker},on:{input:function(t){t.target.composing||e.$set(e.information,"speaker",t.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("试听地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.information.src,expression:"information.src"}],staticClass:"form-control",attrs:{type:"url",disabled:e.onlyShow},domProps:{value:e.information.src},on:{input:function(t){t.target.composing||e.$set(e.information,"src",t.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label",domProps:{textContent:e._s("2"==e.isMedia?"关联视频":"关联音频")}})]),a("div",{staticClass:"group"},[a("Tab",{ref:"video",attrs:{dataType:"audio",onlyShow:e.onlyShow,defaultList:e.list,detailData:e.item},on:{detail:function(t){return e.$emit("detail",t)},del:function(t){return e.del(t)}}}),e.onlyShow?e._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$emit("open",e.addMediaType)}}},[e._v("新增")])],1)])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:e.colse}},[e._v("取消")]),e.onlyShow?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确定")])],1)],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},792:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[e.resourceDialog?a("AddResource",{attrs:{resourceDialog:e.resourceDialog,curSoucesList:[],type:"20",isShowType:!0},on:{"update:resourceDialog":function(t){e.resourceDialog=t},"update:resource-dialog":function(t){e.resourceDialog=t},select:e.addSelcet}}):e._e(),a("el-tabs",{attrs:{value:e.type},on:{"tab-click":function(t){return e.$emit("handleClick")}}},[a("el-tab-pane",{attrs:{label:"指导案例",name:"example"}},[a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("名称")]),a("th",[e._v("编号")])])]),a("tbody",e._l(e.resList1,function(t){return a("tr",[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.number))])])}),0)])])]),a("el-tab-pane",{attrs:{label:"栏目",name:"column"}},[a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("名称")]),a("th",[e._v("编号")])])]),a("tbody",e._l(e.resList2,function(t){return a("tr",[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.number))])])}),0)])])])],1),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.resourceDialog=!0}}},[e._v("新增")])],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},793:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:e.bookDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:e.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:e.setTitle,name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm rowWrap"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("基本信息(必填)")])]),a("div",{staticClass:"left"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{name:"name",type:"text",disabled:e.readOnly},domProps:{value:e.information.name},on:{input:function(t){t.target.composing||e.$set(e.information,"name",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("ISBN:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.book_isbn,expression:"information.book_isbn"}],ref:"isbn",staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.information.book_isbn},on:{input:function(t){t.target.composing||e.$set(e.information,"book_isbn",t.target.value)}}}),e.readOnly?e._e():a("el-button",{staticClass:"margin",attrs:{type:"primary",size:"small"},on:{click:e.syncInfo}},[e._v("同步")])],1),e.optional.length?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("类型:")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:e.isShow("paperback")||e.readOnly,label:"paperback"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("平装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:e.isShow("hardcover")||e.readOnly,label:"hardcover"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("精装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:e.isShow("soft_hardcover")||e.readOnly,label:"soft_hardcover"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("软精装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:e.isShow("thread_bound")||e.readOnly,label:"thread_bound"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("线装")])],1):e._e(),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.price,expression:"information.price"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.information.price},on:{input:function(t){t.target.composing||e.$set(e.information,"price",t.target.value)}}}),a("span",[e._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("最低定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.sales_price_min,expression:"information.sales_price_min"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.information.sales_price_min},on:{input:function(t){t.target.composing||e.$set(e.information,"sales_price_min",t.target.value)}}}),a("span",[e._v(" 元")])])]),a("div",{staticClass:"right"},[a("img",{staticClass:"previewImgUrl",attrs:{src:e.previewImgUrl||e.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:e.information.img}}),e.readOnly?e._e():a("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.$refs.fenmian.click()}}},[e._v("选择封面")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(t){return e.previewImg(t)}}})],1),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("ISBN扩展:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.information.book_isbn_extension,expression:"information.book_isbn_extension"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.information.book_isbn_extension},on:{input:function(t){t.target.composing||e.$set(e.information,"book_isbn_extension",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("图书重量:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.information.book_weight,expression:"information.book_weight"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.information.book_weight},on:{input:function(t){t.target.composing||e.$set(e.information,"book_weight",t.target.value)}}}),a("span",[e._v(" KG")])]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("扩展属性")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:e.metadata,isShowBtn:!1,readOnly:e.readOnly}})],1)])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:e.colse}},[e._v("取消")]),e.readOnly?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确定")])],1)],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},794:function(t,e,a){"use strict";function i(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-dialog",{attrs:{center:!1,visible:this.readerDialog,top:"50px",width:"1000px","show-close":!1,"append-to-body":""}},[e("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[e("i",{staticClass:"el-icon-close",on:{click:this.colse}}),e("el-tabs",{attrs:{value:"reader"}},[e("el-tab-pane",{attrs:{label:this.title,name:"reader"}})],1)],1),e("div",{ref:"readerIframe",staticClass:"content"},[e("div",{staticStyle:{height:"500px"},attrs:{id:"readerIframe"}})]),e("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"info"},on:{click:this.colse}},[this._v("关闭")])],1)])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},795:function(t,e,a){"use strict";function i(){var r=this,t=r.$createElement,n=r._self._c||t;return n("div",{staticClass:"div"},[r.resourceDialog?n("Resource",{attrs:{resourceDialog:r.resourceDialog,curSoucesList:r.curSoucesList,type:r.resourceType},on:{"update:resourceDialog":function(t){r.resourceDialog=t},"update:resource-dialog":function(t){r.resourceDialog=t},select:r.addSelcet}}):r._e(),r.ExerciseInfoDialog?n("ExerciseInfo",{attrs:{detailData:r.detailData,exerciseDialog:r.ExerciseInfoDialog,currentExerise:r.currentDate,services:r.services},on:{"update:exerciseDialog":function(t){r.ExerciseInfoDialog=t},"update:exercise-dialog":function(t){r.ExerciseInfoDialog=t},save:r.saveExamin}}):r._e(),r.detailDialog?n("ExerciseDetail",{attrs:{detailDialog:r.detailDialog,detailData:r.currentDate},on:{"update:detailDialog":function(t){r.detailDialog=t},"update:detail-dialog":function(t){r.detailDialog=t}}}):r._e(),n("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:r.exerciseDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[n("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[n("div",{staticClass:"el-icon-close",on:{click:r.colse}}),n("div",{staticClass:"total-score"},[r._v("总分 "),n("span",[r._v(r._s(r.totalScore))])]),n("el-tabs",{attrs:{value:"ff"}},[n("el-tab-pane",{attrs:{label:"习题",name:"ff"}})],1)],1),n("div",{staticClass:"content"},[n("ul",{staticClass:"exerciseInfo"},r._l(r.exerciseList,function(a,i){return n("li",{key:i},[n("div",{staticClass:"top"},[n("span",{staticClass:"title"},[r._v("第"+r._s(r._f("numberToChinese")(i+1))+"题")]),n("span",{staticClass:"score"},[r._v(r._s(a.score)+"分")]),n("span",{staticClass:"name"},[r._v(r._s(a.question_type_name))]),"subjective_item"!=a.question_type?n("span",{staticClass:"answer"},[r._v("正确答案："+r._s(r.getAnswer(a)))]):r._e()]),n("div",{staticClass:"exercise"},[n("div",{staticClass:"title"},[n("span",{staticClass:"title-name"},[r._v("题目：")]),n("div",{staticClass:"title-text",domProps:{innerHTML:r._s(a.question)}})]),"single"==a.question_type||"multi"==a.question_type?n("ul",{staticClass:"options"},r._l(a.option,function(t,e){return n("li",[n("span",{staticClass:"options-option"},[r._v(r._s(r._f("numberToLetter")(e)))]),n("div",{staticClass:"options-text",domProps:{innerHTML:r._s(t.title)}})])}),0):r._e()]),n("div",{staticClass:"relation"},[n("ul",[n("span",{staticClass:"title"},[r._v("课时计划链接")]),r._l(a.tp_constitute_info,function(e){return n("li",[n("span",[r._v(r._s(e.teaching_plan_info||e.tag)+" ")]),n("span",[r._v(r._s(e.resource_name||e.name)+" ")]),n("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(t){return r.delConstitute(e,a,i)}}})],1)})],2)]),n("div",{staticClass:"analysis"},[n("div",{staticClass:"title"},[n("span",[r._v("【解析】:")]),n("div",{staticClass:"analysis_text",domProps:{innerHTML:r._s(a.analysis)}})])]),r.readOnly?r._e():n("div",{staticClass:"operation"},[n("Icon",{attrs:{size:"mini",title:"详情",type:"icon-detail",plain:""},on:{click:function(t){return r.detail(a,i)}}}),n("Icon",{attrs:{size:"mini",title:"添加课时计划链接",type:"icon-link",plain:""},on:{click:function(t){return r.add(a,i)}}}),n("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(t){return r.del(a,i)}}}),0!=i?n("Icon",{attrs:{size:"mini",title:"上移",type:"el-icon-sort-up"},on:{click:function(t){return r.sort(a,"up")}}}):r._e(),i!=r.exerciseList.length-1?n("Icon",{attrs:{size:"mini",title:"下移",type:"el-icon-sort-down"},on:{click:function(t){return r.sort(a,"down")}}}):r._e()],1)])}),0),n("div",{staticClass:"btns"},[r.readOnly?r._e():n("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(t){return r.detail()}}},[r._v("新增题目")]),r.readOnly?r._e():n("el-button",{staticClass:"el-icon-search",attrs:{size:"small",type:"primary"},on:{click:function(t){return r.addExercise()}}},[r._v("选择题目")])],1)]),n("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"info"},on:{click:r.colse}},[r._v("取消")]),r.readOnly?r._e():n("el-button",{attrs:{type:"primary"},on:{click:r.saveInfo}},[r._v("确定")])],1)])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},796:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("div",{staticClass:"serachWrapd"},[i("div",{staticClass:"title"}),i("form",{ref:"mainForm"},[i("span",{staticClass:"group-inline"},[a.bookInfo&&"章节锚点"==a.type?i("el-select",{attrs:{placeholder:"选择所属书籍",size:"small",clearable:""},model:{value:a.bookInfo.value,callback:function(t){a.$set(a.bookInfo,"value",t)},expression:"bookInfo.value"}},a._l(a.bookInfo.list,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1):a._e()],1),i("span",{staticClass:"group-inline"},[i("input",{staticClass:"form-control",attrs:{placeholder:a._f("formatHolder")(a.type),name:"name"}})]),i("span",{staticClass:"group-inline btn"},[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search",plain:""},on:{click:a.seareHandeler}},[a._v("搜索")]),i("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:a.addAnchorCommit}},[a._v("添加选中")])],1)])]),i("div",{staticClass:"tableWrap"},[i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[a._v("全选"),i("input",{attrs:{type:"checkbox"},on:{click:a.checkedAll}})]),i("th",[a._v("名称")]),i("th",[a._v("创建时间")])])]),i("tbody",a._l(a.list,function(e){return i("tr",[i("th",[i("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids"},domProps:{checked:!!a.obj[e.id],value:e.id},on:{click:function(t){return a.choose(t,e)}}})]),i("th",[a._v(a._s(e.chapter_name||e.name))]),i("th",[a._v(a._s(e.create_time))])])}),0)]),a.page?i("div",{staticClass:"pageWrap"},[i("el-pagination",{attrs:{small:!1,background:"","current-page":a.page.num,"page-sizes":[10,50,100],"page-size":a.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:a.page.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1):a._e()]),i("div",{staticClass:"btns"},[i("el-button",{attrs:{type:"info"},on:{click:function(t){return a.$emit("anchorListCancle")}}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:a.addAnchorCommit}},[a._v("确定")])],1)])}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},797:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[a.planInfoDialog?i("planInfo",{attrs:{planInfoDialog:a.planInfoDialog,currentPlan:a.currentPlan,currentHour:a.currentHour,services:a.services,readOnly:a.readOnly,detailData:a.detailData},on:{"update:planInfoDialog":function(t){a.planInfoDialog=t},"update:plan-info-dialog":function(t){a.planInfoDialog=t},saveok:function(t){return a.$emit("restList")}}}):a._e(),i("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:a.hourInfoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"el-icon-close",on:{click:a.colse}}),i("el-tabs",{attrs:{value:"ff"}},[i("el-tab-pane",{attrs:{label:"知识点",name:"ff"}})],1)],1),i("VaForm",{ref:"detailForm"},[i("form",{staticClass:"detailForm"},[i("fieldset",{attrs:{disabled:a.readOnly}},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*知识点名称:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:a.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{placeholder:"请输入该课时的知识点名称",type:"text",disabled:a.readOnly},domProps:{value:a.information.name},on:{input:function(t){t.target.composing||a.$set(a.information,"name",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*知识点简介:")]),i("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:a.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{placeholder:"请输入该课时所学知识点的简要介绍",type:"text",disabled:a.readOnly},domProps:{value:a.information.abs},on:{input:function(t){t.target.composing||a.$set(a.information,"abs",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*学习项目:")]),!a.readOnly&&a.information.id?i("el-button",{staticClass:"el-icon-plus",staticStyle:{float:"right"},attrs:{size:"small",plain:"",type:"primary"},on:{click:function(t){return a.showPlan()}}},[a._v("新增学习项目")]):a._e(),i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[a._v("序号")]),i("th",[a._v("学习项目名称")]),a.readOnly?a._e():i("th",[a._v("排序")]),i("th",{staticClass:"operate"},[a._v("操作")])])]),a.information.teaching_plan?i("tbody",a._l(a.information.teaching_plan,function(e,t){return i("tr",[i("td",[a._v(a._s(t+1)),i("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden",name:"ids"},domProps:{value:e.id}})]),i("td",[a._v(a._s(e.name))]),a.readOnly?a._e():i("td",[i("Icon",{attrs:{size:"mini",title:"上移",type:"el-icon-sort-up"}}),i("Icon",{attrs:{size:"mini",title:"下移",type:"el-icon-sort-down"}})],1),i("td",[i("div",{staticClass:"btns"},[i("Icon",{attrs:{size:"mini",title:"详情",type:"icon-detail",plain:""},on:{click:function(t){return a.showPlan(e)}}}),a.readOnly?a._e():i("Icon",{attrs:{size:"mini",title:"删除",type:"icon-delete",plain:""},on:{click:function(t){return a.delChoosen(e.id)}}})],1)])])}),0):a._e()])],1)])])]),i("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:a.colse}},[a._v("取消")]),a.readOnly?a._e():i("el-button",{attrs:{type:"primary"},on:{click:a.submitInfo}},[a._v("确定")])],1)],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},798:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"li"},[a("el-date-picker",{staticClass:"picker",attrs:{type:"daterange",align:"right","unlink-panels":!0,name:e.inputsName,"value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"-","start-placeholder":e.start,"end-placeholder":e.end,"default-time":["00:00:00","23:59:59"]},on:{change:function(t){return e.$emit("getTime",e.timePick)}},model:{value:e.timePick,callback:function(t){e.timePick=t},expression:"timePick"}})],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},799:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*关联书籍:")]),e.readOnly?e._e():a("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$emit("open","1")}}},[e._v("关联")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.information.name},on:{input:function(t){t.target.composing||e.$set(e.information,"name",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.information.author,expression:"information.author"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.information.author},on:{input:function(t){t.target.composing||e.$set(e.information,"author",t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("*类型:")]),a("span",{staticClass:"types"},[a("span",[e._v(" "+e._s(e.information.type_name))]),a("span",[e._v(" 创建时间: "+e._s(e.information.create_time))])])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{rows:"3",type:"text",maxlength:e.$config.ABS_MAX_LENGTH,disabled:e.readOnly},domProps:{value:e.information.abs},on:{input:function(t){t.target.composing||e.$set(e.information,"abs",t.target.value)}}}),e.readOnly?e._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[e._v("您还可以输入"+e._s(e.$config.ABS_MAX_LENGTH-(e.information.abs?e.information.abs.length:0)))])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav restBody",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"first"}},[a("form",{staticClass:"readForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("扩展属性")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:e.metadata,isShowBtn:!1,readOnly:e.readOnly}})],1)])]),e.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"second"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("定价:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ebook_shop.sale_price,expression:"ebook_shop.sale_price"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.ebook_shop.sale_price},on:{input:function(t){t.target.composing||e.$set(e.ebook_shop,"sale_price",t.target.value)}}}),a("span",[e._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("最低定价:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ebook_shop.min_sale_price,expression:"ebook_shop.min_sale_price"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.ebook_shop.min_sale_price},on:{input:function(t){t.target.composing||e.$set(e.ebook_shop,"min_sale_price",t.target.value)}}}),a("span",[e._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("内容阅读地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ebook_shop.read_url,expression:"ebook_shop.read_url"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.ebook_shop.read_url},on:{input:function(t){t.target.composing||e.$set(e.ebook_shop,"read_url",t.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("内容试读地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ebook_shop.trial_url,expression:"ebook_shop.trial_url"}],staticClass:"form-control",attrs:{type:"text",disabled:e.readOnly},domProps:{value:e.ebook_shop.trial_url},on:{input:function(t){t.target.composing||e.$set(e.ebook_shop,"trial_url",t.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[e._v("扩展属性")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:e.shopMetadata,isShowBtn:!1,readOnly:e.readOnly}})],1)])]):e._e(),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("收起"),a("i",{staticClass:"el-icon-arrow-up"})])])],1)],1),e.book_id?a("div",{staticClass:"btns"},[e.readOnly?e._e():a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("detailForm")}}},[e._v("保存")])],1):e._e()])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},800:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:a.exerciseDialog,"before-close":a.colse,top:"50px",width:"800px",title:(a.currentDetail.id?"修改":"新增")+"题目","append-to-body":""}},[i("div",{staticClass:"content"},[i("VaForm",{ref:"detailForm"},[i("form",[i("div",{staticClass:"group inline"},[i("div",{staticClass:"label"},[a._v("*分值:")]),i("el-input-number",{attrs:{min:1,max:100},model:{value:a.currentDetail.score,callback:function(t){a.$set(a.currentDetail,"score",t)},expression:"currentDetail.score"}})],1),i("div",{staticClass:"group inline"},[i("div",{staticClass:"label"},[a._v("*完成时间:")]),i("el-input-number",{attrs:{min:1,max:100},model:{value:a.currentDetail.time,callback:function(t){a.$set(a.currentDetail,"time",t)},expression:"currentDetail.time"}}),a._v(" "),i("span",[a._v("秒")])],1),i("div",{staticClass:"group inline"},[i("div",{staticClass:"label"},[a._v("*题目类型:")]),i("el-select",{attrs:{placeholder:"请选择"},on:{change:a.slecetChange},model:{value:a.currentDetail.question_type,callback:function(t){a.$set(a.currentDetail,"question_type",t)},expression:"currentDetail.question_type"}},a._l(a.answerType,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),i("div",{staticClass:"group inline"},[i("div",{staticClass:"label"},[a._v("*难易程度:")]),i("el-select",{attrs:{placeholder:"请选择"},model:{value:a.currentDetail.level,callback:function(t){a.$set(a.currentDetail,"level",t)},expression:"currentDetail.level"}},a._l(a.answerLevel,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),i("div",{staticClass:"group inline"},[i("div",{staticClass:"label"},[a._v("*分组:")]),i("el-select",{attrs:{placeholder:"请选择"},model:{value:a.currentDetail.group_id,callback:function(t){a.$set(a.currentDetail,"group_id",t)},expression:"currentDetail.group_id"}},a._l(a.groupList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*题目名称:")]),i("Ueditor",{attrs:{id:"question",isImage:!0,item:a.currentDetail,name:"question"},on:{uechange:a.uechange}})],1),"single"==a.currentDetail.question_type||"multi"==a.currentDetail.question_type?i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*题目选项:")]),i("ul",{staticClass:"exerciseList",staticStyle:{display:"inline-block"}},a._l(a.defaultOption,function(t,e){return i("li",[i("span",{staticClass:"option"},[a._v(a._s(a.numberToLetter(e)))]),i("span",["single"==a.currentDetail.question_type?i("el-checkbox",{attrs:{value:"true"===t.isAnswer||!0===t.isAnswer,label:a.numberToLetter(e)},on:{change:function(t){return a.selecet(e,t)}}},[a._v("正确答案")]):a._e(),"multi"==a.currentDetail.question_type?i("el-checkbox",{attrs:{value:"true"===t.isAnswer||!0===t.isAnswer,label:a.numberToLetter(e)},on:{change:function(t){return a.selecet(e,t)}}},[a._v("正确答案")]):a._e()],1),i("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger",title:"删除选项",size:"mini"},on:{click:function(t){return a.removeOption(e)}}},[a._v("删除选项")]),i("div",[i("FileUpload",{attrs:{data:t},on:{change:a.change}}),i("Ueditor",{attrs:{id:"option"+e,item:t,name:"title"},on:{uechange:a.uechange}})],1)],1)}),0)]):a._e(),"single"==a.currentDetail.question_type||"multi"==a.currentDetail.question_type?i("div",{staticClass:"group"},[i("div",{staticClass:"label"}),i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",plain:"",size:"mini"},on:{click:a.addOption}},[a._v("新增选项")])],1):a._e(),"judgment"==a.currentDetail.question_type?i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*答案:")]),i("el-select",{attrs:{placeholder:"请选择"},model:{value:a.currentDetail.answer,callback:function(t){a.$set(a.currentDetail,"answer",t)},expression:"currentDetail.answer"}},[i("el-option",{key:"1",attrs:{label:"正确",value:"true"}}),i("el-option",{key:"2",attrs:{label:"错误",value:"false"}})],1)],1):a._e(),"fill"==a.currentDetail.question_type?i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*答案:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:a.currentDetail.answer,expression:"currentDetail.answer"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.currentDetail.answer},on:{input:function(t){t.target.composing||a.$set(a.currentDetail,"answer",t.target.value)}}})]):a._e(),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("题目解析:")]),i("Ueditor",{attrs:{id:"analysis",isImage:!0,item:a.currentDetail,name:"analysis"},on:{uechange:a.uechange}})],1)])])],1),i("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:a.colse}},[a._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:a.save}},[a._v("确定")])],1)])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},801:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[i("el-dialog",{attrs:{center:!1,visible:a.detailDialog,"close-on-click-modal":!1,"before-close":a.close,"append-to-body":"",top:"50px",width:"1000px"},on:{"update:visible":function(t){a.detailDialog=t}}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("el-tabs",{attrs:{value:"detail"}},[i("el-tab-pane",{attrs:{label:"查看题目",name:"detail"}})],1)],1),i("div",{staticClass:"content"},[i("div",{staticClass:"topic-title",domProps:{innerHTML:a._s(a.detailData.question)}}),"subjective_item"==a.detailData.question_type||"fill"==a.detailData.question_type?i("div",{staticClass:"answer-area"},[a.detailData.answer?i("p",{staticClass:"answer"},[a._v(a._s(a.detailData.answer))]):a._e()]):"judgment"==a.detailData.question_type?i("div",{staticClass:"answer-area"},[i("li",{staticClass:"answer-item"},[i("span",{staticClass:"answer-title",class:{active:"true"==a.detailData.answer}},[a._v("A")]),i("div",{staticClass:"answer-content-wrap"},[i("div",{staticClass:"answer-content"},[a._v("正确")])])]),i("li",{staticClass:"answer-item"},[i("span",{staticClass:"answer-title",class:{active:"false"==a.detailData.answer}},[a._v("B")]),i("div",{staticClass:"answer-content-wrap"},[i("div",{staticClass:"answer-content"},[a._v("错误")])])])]):i("ul",{staticClass:"answer-area"},a._l(a.detailData.option,function(t,e){return i("li",{staticClass:"answer-item"},[i("span",{staticClass:"answer-title",class:{active:a.getActive(e)}},[a._v(a._s(a.numberToLetter(e)))]),i("div",{staticClass:"answer-content-wrap"},[i("div",{staticClass:"answer-content",domProps:{innerHTML:a._s(t.title)}}),t.img?i("img",{staticClass:"img",attrs:{src:t.img}}):a._e()])])}),0),i("div",{staticClass:"analysis-area"},[i("p",{staticClass:"analysis-title"},[a._v("题目解析")]),i("div",{staticClass:"analysis",domProps:{innerHTML:a._s(a.detailData.analysis||"暂无解析")}})])]),i("div",{staticClass:"btns",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:a.close}},[a._v("取消")])],1)])],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},802:function(t,e,a){"use strict";function i(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"div"},[a.resourceDialog?i("Resource",{attrs:{resourceDialog:a.resourceDialog,curSoucesList:a.information.resources,singleElection:!0,isShowType:!0,isShowResource:!1,parameter:a.parameter},on:{"update:resourceDialog":function(t){a.resourceDialog=t},"update:resource-dialog":function(t){a.resourceDialog=t},select:a.addSelcet}}):a._e(),i("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:a.planInfoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"el-icon-close",on:{click:a.colse}}),i("el-tabs",{attrs:{value:"ff"}},[i("el-tab-pane",{attrs:{label:"学习项目",name:"ff"}})],1)],1),i("VaForm",{ref:"detailForm"},[i("form",{staticClass:"detailForm"},[i("fieldset",{attrs:{disabled:a.readOnly}},[i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*名称:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:a.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{placeholder:"请输入该学习项目的名称",type:"text",disabled:a.readOnly},domProps:{value:a.information.name},on:{input:function(t){t.target.composing||a.$set(a.information,"name",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*简介:")]),i("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:a.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{placeholder:"请输入该学习项目的简要介绍",type:"text",disabled:a.readOnly},domProps:{value:a.information.abs},on:{input:function(t){t.target.composing||a.$set(a.information,"abs",t.target.value)}}})]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("*学习时长:")]),i("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:a.information.time,expression:"information.time"}],staticClass:"form-control time",attrs:{type:"text",placeholder:"学习该项目所需时间",disabled:a.readOnly},domProps:{value:a.information.time},on:{input:function(t){t.target.composing||a.$set(a.information,"time",t.target.value)}}}),i("span",[a._v("分")])]),i("div",{staticClass:"group"},[i("div",{staticClass:"label"},[a._v("资源")]),i("ul",{staticClass:"preview"},a._l(a.information.resources,function(e){return i("li",[i("img",{staticClass:"previewImgUrl",attrs:{src:e.img_src||e.preview_path}}),i("p",{staticClass:"name",attrs:{title:e.name}},[a._v(a._s(e.name))]),a.readOnly?a._e():i("Icon",{attrs:{title:"删除",type:"icon-delete"},on:{click:function(t){return a.delChoosen(e.id)}}})],1)}),0),a.readOnly?a._e():i("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary"},on:{click:function(t){return a.relation()}}},[a._v("关联")])],1)])])]),i("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"info"},on:{click:a.colse}},[a._v("取消")]),a.readOnly?a._e():i("el-button",{attrs:{type:"primary"},on:{click:a.submitInfo}},[a._v("确定")])],1)],1)],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},803:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fileUpload",on:{click:function(t){return e.$refs.file.click()}}},[e.previewImgUrl?a("img",{staticClass:"img",attrs:{src:e.previewImgUrl}}):a("div",{staticClass:"box"},[a("div",{staticClass:"el-icon-plus"}),a("div",{staticClass:"icon-name"},[e._v("添加图片")])]),a("input",{ref:"file",staticClass:"hide",attrs:{type:"file",accept:"image/*"},on:{change:e.previewImg}})])}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},804:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editor-wapper"},[e.uploadDialog?a("el-dialog",{attrs:{center:!1,visible:e.uploadDialog,"close-on-click-modal":!1,"append-to-body":"",top:"50px",width:"800px",title:"上传"+e.switchTypeName},on:{"update:visible":function(t){e.uploadDialog=t}}},[a("UeUpload",{attrs:{ue:e.ue,type:e.uploadType},on:{cancle:function(t){e.uploadDialog=!1}}})],1):e._e(),a("div",{staticClass:"editor",attrs:{id:this.id}})],1)}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},805:function(t,e,a){"use strict";function i(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"div"},[a("div",{staticClass:"wrap"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("导入方式:")]),a("span",[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.importType,expression:"importType"}],attrs:{type:"radio",name:"methd",value:"local"},domProps:{checked:e._q(e.importType,"local")},on:{change:function(t){e.importType="local"}}}),e._v("本地")]),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.importType,expression:"importType"}],attrs:{type:"radio",name:"methd",value:"link"},domProps:{checked:e._q(e.importType,"link")},on:{change:function(t){e.importType="link"}}}),e._v("外链")])])]),"local"==e.importType?a("div",{staticClass:"local"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(t){return e.$refs.media.click()}}},[e._v("选择")]),a("input",{ref:"media",staticClass:"hide",attrs:{type:"file",accept:e.accept},on:{change:e.showImgLocal}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("span",{staticClass:"imgShow"},["img"==e.type&&e.localUrl?a("img",{attrs:{src:e.localUrl}}):e._e(),"video"==e.type&&e.localUrl?a("video",{attrs:{src:e.localUrl,controls:""}}):e._e(),"audio"==e.type&&e.localUrl?a("audio",{attrs:{src:e.localUrl,controls:""}}):e._e()])])]):e._e(),"link"==e.importType?a("div",{staticClass:"link"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[e._v("外链")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.linkUrl,expression:"linkUrl"}],ref:"link",staticClass:"short form-control",domProps:{value:e.linkUrl},on:{input:function(t){t.target.composing||(e.linkUrl=t.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("span",{staticClass:"imgShow"},["img"==e.type&&e.linkUrl?a("img",{attrs:{src:e.linkUrl}}):e._e(),"video"==e.type&&e.linkUrl?a("video",{attrs:{src:e.linkUrl,controls:""}}):e._e(),"audio"==e.type&&e.linkUrl?a("audio",{attrs:{src:e.linkUrl,controls:""}}):e._e()])])]):e._e()])]),a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:e.back}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.commit}},[e._v("确定")])],1)])}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},806:function(t,e,a){"use strict";function i(){var t=this.$createElement,e=this._self._c||t;return this.percentage?e("div",{staticClass:"progressWrap"},[e("div",{staticClass:"content"},[e("el-progress",{attrs:{type:"circle",percentage:this.percentage,color:"#F7793E",width:80}})],1)]):this._e()}var r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})}}]);