/*!
 * {
 *   "buildtime": "2019-07-17 10:58:50",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "a51842995",
 *     "message": [
 *       "commit a51842995ac312d7b576d646ab99c7a4f3f34d0b",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Wed Jul 17 10:58:23 2019 +0800",
 *       "    xxx"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1022:function(t,e,n){"use strict";n.r(e);var c=n(1129),i=n(861);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);n(1023);var o=n(0),a=Object(o.a)(i.default,c.a,c.b,!1,null,null,null);e.default=a.exports},1023:function(t,e,n){"use strict";var c=n(863);n.n(c).a},1024:function(t,e,n){"use strict";n.r(e);var c=n(1130),i=n(864);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);n(1025);var o=n(0),a=Object(o.a)(i.default,c.a,c.b,!1,null,null,null);e.default=a.exports},1025:function(t,e,n){"use strict";var c=n(866);n.n(c).a},1026:function(t,e,n){"use strict";n.r(e);var c=n(1131),i=n(867);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);n(1027);var o=n(0),a=Object(o.a)(i.default,c.a,c.b,!1,null,null,null);e.default=a.exports},1027:function(t,e,n){"use strict";var c=n(869);n.n(c).a},1028:function(t,e,n){"use strict";var c=n(870);n.n(c).a},1069:function(t,e,n){"use strict";var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-bookRoom"},[n("Head",{attrs:{type:"dark",name:"书房"}}),n("div",{staticClass:"icon-book-room bg-user"},[!t.manage&&t.list.length>0?n("div",{staticClass:"tr mr20"},[n("button",{staticClass:"icon-br-manage-btn",on:{click:function(e){t.manage=!t.manage}}})]):t.list.length>0?n("div",{staticClass:"tr mr20"},[n("button",{staticClass:"icon-br-complete-btn",on:{click:function(e){t.manage=!t.manage}}})]):t._e()]),n("TopNav",{model:{value:t.top,callback:function(e){t.top=e},expression:"top"}}),n("MultiNav",{attrs:{top:"90px",list:t.columnSecond},on:{itemClickHandler:t.itemClickHandler}}),n("SortNav",{model:{value:t.sortType,callback:function(e){t.sortType=e},expression:"sortType"}}),n("div",{staticClass:"line"}),n("Scroll",{attrs:{top:"354px",bottom:"45px"},on:{loadMore:t.getList}},t._l(t.list,function(e,c){return n("BookRoomItem",{key:c,attrs:{item:e,idx:c,top:t.top},on:{selectItem:t.selectItem}})}),1),n("footer",{staticClass:"manage f16"},[t.manage&&t.lenOfList>0?n("div",{staticClass:"footer-manage flex-between-center"},[n("div",{staticClass:"footer-select c_f_bg flex"},[n("div",{staticClass:"item-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.allChecked,expression:"allChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allChecked)?t._i(t.allChecked,null)>-1:t.allChecked},on:{click:t.selectAll,change:function(e){var n=t.allChecked,c=e.target,i=!!c.checked;if(Array.isArray(n)){var s=t._i(n,null);c.checked?s<0&&(t.allChecked=n.concat([null])):s>-1&&(t.allChecked=n.slice(0,s).concat(n.slice(s+1)))}else t.allChecked=i}}})]),n("span",{staticClass:"f14"},[t._v("全选")])]),n("button",{staticClass:"c_f linear-btn"},[t._v("清理")]),n("button",{staticClass:"c_f btn-error",on:{click:t.del}},[t._v("删除")])]):"unafford"===t.top&&t.list.length>0?n("div",{staticClass:"footer-buy flex c_f_bg"},[n("div",{staticClass:"footer-select c_f_bg flex"},[n("div",{staticClass:"item-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.allChecked,expression:"allChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allChecked)?t._i(t.allChecked,null)>-1:t.allChecked},on:{click:t.selectAll,change:function(e){var n=t.allChecked,c=e.target,i=!!c.checked;if(Array.isArray(n)){var s=t._i(n,null);c.checked?s<0&&(t.allChecked=n.concat([null])):s>-1&&(t.allChecked=n.slice(0,s).concat(n.slice(s+1)))}else t.allChecked=i}}})]),n("span",{staticClass:"f14"},[t._v("全选")])]),n("div",{staticClass:"footer-text flex-between-center f14"},[n("p",[t._v("合计："),n("span",{staticClass:"f16"},[t._v("￥"+t._s(t.totalPrice))])])]),n("button",{staticClass:"c_f btn-error",on:{click:t.createOrder}},[t._v("立即购买")])]):t._e()])],1)},i=[];n.d(e,"a",function(){return c}),n.d(e,"b",function(){return i})},1129:function(t,e,n){"use strict";var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"com-top-nav flex-between tc ui-user-nav"},[n("div",{staticClass:"nav-item",class:{"nav-topitem__active":"unafford"===t.value},on:{click:function(e){return t.$emit("input","unafford")}}},[n("p",[t._v("未购买")])]),n("div",{staticClass:"nav-item",class:{"nav-topitem__active":"afford"===t.value},on:{click:function(e){return t.$emit("input","afford")}}},[n("p",[t._v("已购买")])])])},i=[];n.d(e,"a",function(){return c}),n.d(e,"b",function(){return i})},1130:function(t,e,n){"use strict";var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comp-sort-nav flex f14"},[n("div",{staticClass:"sort-left tc",on:{click:function(e){return t.sortType("default")}}},[t._v("默认")]),n("div",{staticClass:"sort-center flex",on:{click:function(e){return t.sortType("hot")}}},[t._v("热度"),n("div",{staticClass:"ib icon-sort"})]),n("div",{staticClass:"sort-right flex",on:{click:function(e){return t.sortType("joinTime")}}},[t._v("加入时间"),n("div",{staticClass:"ib icon-sort"})])])},i=[];n.d(e,"a",function(){return c}),n.d(e,"b",function(){return i})},1131:function(t,e,n){"use strict";var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookroom-item flex",on:{click:function(e){return t.goRead(t.item)}}},["bookroom"===t.type?n("div",{staticClass:"item-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.item.checked,expression:"item.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.item.checked)?t._i(t.item.checked,null)>-1:t.item.checked},on:{click:function(e){return e.stopPropagation(),t.$emit("selectItem",{idx:t.idx,item:t.item})},change:function(e){var n=t.item.checked,c=e.target,i=!!c.checked;if(Array.isArray(n)){var s=t._i(n,null);c.checked?s<0&&t.$set(t.item,"checked",n.concat([null])):s>-1&&t.$set(t.item,"checked",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.item,"checked",i)}}})]):t._e(),n("div",{staticClass:"item-content f14"},[n("div",{staticClass:"item-content__title"},[1==t.item.components.type?n("span",[t._v(t._s(t.item.components["案例编号"]))]):t._e(),t._v(t._s(t.item.name))]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.item.components["副标题"],expression:"item.components['副标题']"}],staticClass:"item-content__intro"},[t._v("——"+t._s(t.item.components["副标题"]))]),t.item.components["案例出处"]&&1==t.item.components.type?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("案例出处："+t._s(t.item.components["案例出处"]))]):t._e(),t.item.components["发文字号"]&&2==t.item.components.type?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("发文字号："+t._s(t.item.components["发文字号"]))]):t._e(),t.item.components["文献出处"]&&3==t.item.components.type?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("文献出处："+t._s(t.item.components["文献出处"]))]):t._e(),t.item.components["审理法院"]&&4==t.item.components.type?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("审理法院："+t._s(t.item.components["审理法院"]))]):t._e(),t.item.components["判决时间"]&&4==t.item.components.type?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("判决时间："+t._s(t.item.components["判决时间"]))]):t._e(),t.item.components["裁判出处"]&&4==t.item.components.type?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("裁判出处："+t._s(t.item.components["裁判出处"]))]):t._e(),t.item.components["资源出处"]&&7==t.item.components.type?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("资源出处："+t._s(t.item.components["资源出处"]))]):t._e(),t.item.components["卷册号"]&&6==t.item.components.type?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("卷册号："+t._s(t.item.components["卷册号"]))]):t._e(),t.item.components["专辑演播者"]&&8==t.item.components.type?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("专辑演播者："+t._s(t.item.components["专辑演播者"]))]):t._e(),t.item.components["专辑责任者"]&&8==t.item.components.type?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("专辑责任者："+t._s(t.item.components["专辑责任者"]))]):t._e(),t.item.components["作者"]?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("作者："+t._s(t.item.components["作者"]))]):t._e(),t.item.components["案例作者"]&&1==t.item.components.type?n("div",{staticClass:"item-content__source f12 c_gray1"},[t._v("案例作者："+t._s(t.item.components["案例作者"]))]):t._e(),n("div",{staticClass:"item-content__footer f12 c_gray1 flex-between-center"},[t.item.components["发布时间"]?n("div",{staticClass:"time"},[t._v("发布时间："+t._s(t.item.components["发布时间"]))]):t._e(),t.item.components["发布日期"]?n("div",{staticClass:"time"},[t._v("发布日期："+t._s(t.item.components["发布日期"]))]):t._e(),t.item.components["发表时间"]?n("div",{staticClass:"time"},[t._v("发表时间："+t._s(t.item.components["发表时间"]))]):t._e(),"afford"===t.top?n("div",{staticClass:"hot flex"},[n("div",{staticClass:"icon-fire"}),n("span",[t._v(t._s(t.item.hot))])]):t._e(),n("div",{staticClass:"price"},[n("span",{staticClass:"f14"},[t._v("￥")]),t._v(t._s(parseInt(t.item.components.price)))])])])])},i=[];n.d(e,"a",function(){return c}),n.d(e,"b",function(){return i})},621:function(t,e,n){"use strict";n.r(e);var c=n(1069),i=n(859);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);n(1028);var o=n(0),a=Object(o.a)(i.default,c.a,c.b,!1,null,null,null);e.default=a.exports},632:function(t,e,n){"use strict";n.r(e);var c=n(633),i=n.n(c);for(var s in c)"default"!==s&&function(t){n.d(e,t,function(){return c[t]})}(s);e.default=i.a},633:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{list:{},fixLen:{type:Boolean,default:!1}},methods:{}}},634:function(t,e,n){},637:function(t,e,n){"use strict";n.r(e);var c=n(639),i=n(632);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);n(638);var o=n(0),a=Object(o.a)(i.default,c.a,c.b,!1,null,null,null);e.default=a.exports},638:function(t,e,n){"use strict";var c=n(634);n.n(c).a},639:function(t,e,n){"use strict";var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"com-nav flex tc ui-user-nav nav-slide pl15 f14 c_f_bg",class:{len:t.fixLen}},t._l(t.list,function(e,c){return n("div",{staticClass:"nav-item",class:{"nav-item__active":e.checked},on:{click:function(e){return t.$emit("itemClickHandler",c)}}},[n("p",[t._v(t._s(e.name)),e.num?n("span",[t._v("("+t._s(e.num)+")")]):t._e()])])}),0)},i=[];n.d(e,"a",function(){return c}),n.d(e,"b",function(){return i})},859:function(t,e,n){"use strict";n.r(e);var c=n(860),i=n.n(c);for(var s in c)"default"!==s&&function(t){n.d(e,t,function(){return c[t]})}(s);e.default=i.a},860:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=l(n(9)),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},s=l(n(1022)),o=l(n(637)),a=l(n(1024)),r=l(n(1026));function l(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function d(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function c(i,s){try{var o=e[i](s),a=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(a).then(function(t){c("next",t)},function(t){c("throw",t)});t(a)}("next")})}}e.default={data:function(){return{top:"unafford",columnSecond:[{keyId:1,checked:!0,name:"案例"},{keyId:2,name:"法规",checked:!1},{keyId:3,checked:!1,name:"文献"},{keyId:4,name:"裁判",checked:!1},{keyId:6,name:"图书",checked:!1},{keyId:7,name:"文书范本",checked:!1},{keyId:8,name:"课程影音",checked:!1}],sort:"default",list:[],manage:!1,items:[],selectedItems:[],page:{pageStart:0,pageOffset:10},allChecked:!1,sortType:"default"}},computed:{checkedItem:function(){return this.columnSecond.filter(function(t){return t.checked})[0]||this.columnSecond[0]},totalPrice:function(){var t=0;return this.list.map(function(e){e.checked&&(t+=Number(e.price))}),t},lenOfList:function(){return this.list.length}},components:{TopNav:s.default,MultiNav:o.default,SortNav:a.default,BookRoomItem:r.default},mounted:function(){this.getList()},methods:{getList:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d(c.default.mark(function e(){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$service.bookShelf.getList(i({is_pay:"unafford"===t.top?0:1,type:t.checkedItem.keyId},t.page));case 3:n=e.sent,t.list=[].concat(u(JSON.parse(JSON.stringify(t.list))),u(n.data)),t.page.pageStart=t.list.length,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),t.$Toast({message:"获取数据失败"});case 12:case"end":return e.stop()}},e,t,[[0,8]])}))()},itemClickHandler:function(t){var e=0,n=null;this.columnSecond.map(function(t,c){t.checked&&(n=t,e=c)}),n&&e!==t&&(n.checked=!1,this.columnSecond[t].checked=!0,this.initState(),this.getList())},initState:function(){this.page.pageStart=0,this.list=[],this.allChecked=!1,this.manage=!1},selectAll:function(){this.allChecked?this.toggleAllSelect(!1):this.toggleAllSelect(!0)},toggleAllSelect:function(t){var e=this;this.list.map(function(n){e.$set(n,"checked",t)}),this.allChecked=t},selectItem:function(t){var e=t.idx;t.item.checked?this.$set(this.list[e],"checked",!1):this.$set(this.list[e],"checked",!0),this.observeList()},observeList:function(){this.allChecked=this.list&&this.list.every(function(t){return t.checked})},del:function(){var t=this;return d(c.default.mark(function e(){var n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=t.getSelectedItemId()).length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.$service.bookShelf.del({id:n});case 6:t.$Toast("删除成功"),t.removeItems(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0,t.$Toast("删除失败");case 14:case"end":return e.stop()}},e,t,[[3,10]])}))()},removeItems:function(){this.list=this.list.filter(function(t){return!t.checked})},getSelectedItemId:function(){var t=[];return this.list.map(function(e){e.checked&&t.push(e.id)}),t},createOrder:function(){var t=this.list.filter(function(t){return t.checked});if(0!==t.length){var e={};e[this.$user.id]=t,window.localStorage.setItem("cart",JSON.stringify(e)),this.$go("/order")}}},watch:{top:function(t){this.initState(),this.getList()}}}},861:function(t,e,n){"use strict";n.r(e);var c=n(862),i=n.n(c);for(var s in c)"default"!==s&&function(t){n.d(e,t,function(){return c[t]})}(s);e.default=i.a},862:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["value"],mounted:function(){},methods:{}}},863:function(t,e,n){},864:function(t,e,n){"use strict";n.r(e);var c=n(865),i=n.n(c);for(var s in c)"default"!==s&&function(t){n.d(e,t,function(){return c[t]})}(s);e.default=i.a},865:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{}},methods:{selectType:function(t){}}}},866:function(t,e,n){},867:function(t,e,n){"use strict";n.r(e);var c=n(868),i=n.n(c);for(var s in c)"default"!==s&&function(t){n.d(e,t,function(){return c[t]})}(s);e.default=i.a},868:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c,i=n(9),s=(c=i)&&c.__esModule?c:{default:c};e.default={props:{item:{type:Object},idx:{},top:{},type:{type:String,default:"bookroom"}},computed:{},methods:{goRead:function(t){var e,n=this;return(e=s.default.mark(function e(){var c;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(8!=t.type){e.next=4;break}return n.$go("/column-bookproduct",{id:t.product_id,name:t.type_name}),e.abrupt("return");case 4:return e.prev=4,e.next=7,n.$service.category.getAccessCode({product_id:t.components.read_product,book_id:t.components.read_book});case 7:c=e.sent,localStorage.access_code=c.data,n.$go("/reader",{product_id:t.components.read_product,book_id:t.components.read_book}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),e.t0;case 16:case"end":return e.stop()}},e,n,[[4,13]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function c(i,s){try{var o=t[i](s),a=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(a).then(function(t){c("next",t)},function(t){c("throw",t)});e(a)}("next")})})()}}}},869:function(t,e,n){},870:function(t,e,n){}}]);