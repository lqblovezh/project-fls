/*!
 * {
 *   "buildtime": "2019-07-17 10:58:50",
 *   "workspace": "F:\\project\\x-book4\\js",
 *   "username": "Administrator",
 *   "hostname": "PC201608171616",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "a51842995",
 *     "message": [
 *       "commit a51842995ac312d7b576d646ab99c7a4f3f34d0b",
 *       "Author: YangZai <552396385@qq.com>",
 *       "Date:   Wed Jul 17 10:58:23 2019 +0800",
 *       "    xxx"
 *     ],
 *     "user": "YangZai",
 *     "email": "552396385@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1029:function(t,e,n){"use strict";n.r(e);var a=n(1132),i=n(873);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(1030);var c=n(0),s=Object(c.a)(i.default,a.a,a.b,!1,null,null,null);e.default=s.exports},1030:function(t,e,n){"use strict";var a=n(875);n.n(a).a},1031:function(t,e,n){"use strict";n.r(e);var a=n(1133),i=n(876);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(1032);var c=n(0),s=Object(c.a)(i.default,a.a,a.b,!1,null,null,null);e.default=s.exports},1032:function(t,e,n){"use strict";var a=n(878);n.n(a).a},1033:function(t,e,n){"use strict";var a=n(879);n.n(a).a},1068:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-note"},[n("Head",{attrs:{type:"dark",name:"我的笔记"}}),n("div",{staticClass:"icon-note-bg bg-user"},[t.manage?n("div",{staticClass:"tr mr20"},[n("button",{staticClass:"icon-br-complete-btn btn-reset",on:{click:function(e){t.manage=!t.manage}}})]):n("div",{staticClass:"tr mr20"},[n("button",{staticClass:"icon-br-manage-btn btn-reset",on:{click:function(e){t.manage=!t.manage}}})])]),n("MessageDialog",{ref:"nodeChild",attrs:{itemFaData:t.itemList},on:{loadMoreNote:t.loadMoreNote},model:{value:t.dialogState,callback:function(e){t.dialogState=e},expression:"dialogState"}}),n("MultiNav",{attrs:{top:"90px",list:t.tabs},on:{itemClickHandler:t.itemClickHandler}}),n("Scroll",{attrs:{top:"248px"},on:{loadMore:t.getList}},t._l(t.list,function(e,a){return n("NoteItem",{key:a,ref:"noteItem",refInFor:!0,attrs:{item:e,idx:a},on:{selectItem:t.selectItem,updateNote:t.updateNote},model:{value:t.manage,callback:function(e){t.manage=e},expression:"manage"}})}),1),n("Footer",{attrs:{allChecked:t.allChecked},on:{selectAll:t.selectAll,del:t.del},model:{value:t.manage,callback:function(e){t.manage=e},expression:"manage"}})],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},1132:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comp-note c_f_bg"},[n("div",{staticClass:"note-container flex"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"item-checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.item.checked,expression:"item.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.item.checked)?t._i(t.item.checked,null)>-1:t.item.checked},on:{click:function(e){return t.$emit("selectItem",{idx:t.idx,item:t.item})},change:function(e){var n=t.item.checked,a=e.target,i=!!a.checked;if(Array.isArray(n)){var r=t._i(n,null);a.checked?r<0&&t.$set(t.item,"checked",n.concat([null])):r>-1&&t.$set(t.item,"checked",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.item,"checked",i)}}})]),n("div",{staticClass:"note-wrap"},[n("div",{staticClass:"note-head"},[t._v(t._s(t.item.comm_text))]),n("div",{staticClass:"note-info flex-between-center c_gray1 f12"},[n("p",[n("span",{staticClass:"icon icon-write_color",on:{click:function(e){return t.$emit("updateNote",t.item)}}})]),n("p",[t._v(t._s(t.item.create_time))])]),n("div",{staticClass:"note-content f14",on:{click:t.goRead}},[t._v(t._s(t.item.chapter_value))])])]),n("div",{staticClass:"line"})])},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},1133:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"mask"},[n("div",{staticClass:"dialog"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msgData,expression:"msgData"}],attrs:{placeholder:"轻松记录您的所想，所感"},domProps:{value:t.msgData},on:{input:function(e){e.target.composing||(t.msgData=e.target.value)}}}),n("p"),n("input",{staticClass:"btn commit classBtn",attrs:{type:"button",value:"保存"},on:{click:function(e){return e.preventDefault(),t.hide(e)}}}),n("p"),n("input",{staticClass:"btn off",attrs:{type:"button",value:"取消"},on:{click:function(e){return e.preventDefault(),t.off(e)}}})])])},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},622:function(t,e,n){"use strict";n.r(e);var a=n(1068),i=n(871);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(1033);var c=n(0),s=Object(c.a)(i.default,a.a,a.b,!1,null,null,null);e.default=s.exports},632:function(t,e,n){"use strict";n.r(e);var a=n(633),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},633:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{list:{},fixLen:{type:Boolean,default:!1}},methods:{}}},634:function(t,e,n){},635:function(t,e,n){"use strict";n.r(e);var a=n(636),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},636:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{},allChecked:{}}}},637:function(t,e,n){"use strict";n.r(e);var a=n(639),i=n(632);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(638);var c=n(0),s=Object(c.a)(i.default,a.a,a.b,!1,null,null,null);e.default=s.exports},638:function(t,e,n){"use strict";var a=n(634);n.n(a).a},639:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"com-nav flex tc ui-user-nav nav-slide pl15 f14 c_f_bg",class:{len:t.fixLen}},t._l(t.list,function(e,a){return n("div",{staticClass:"nav-item",class:{"nav-item__active":e.checked},on:{click:function(e){return t.$emit("itemClickHandler",a)}}},[n("p",[t._v(t._s(e.name)),e.num?n("span",[t._v("("+t._s(e.num)+")")]):t._e()])])}),0)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},661:function(t,e,n){"use strict";n.r(e);var a=n(663),i=n(635);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var c=n(0),s=Object(c.a)(i.default,a.a,a.b,!1,null,null,null);e.default=s.exports},662:function(t,e,n){"use strict";t.exports={select:{data:function(){return{page:{pageStart:0,pageOffset:10},list:[],selectedItems:[],allChecked:!1}},methods:{initState:function(){this.page.pageStart=0,this.list=[],this.allChecked=!1},selectItem:function(t){var e=t.idx;t.item.checked?this.$set(this.list[e],"checked",!1):this.$set(this.list[e],"checked",!0),this.observeList()},observeList:function(){this.allChecked=this.list&&this.list.every(function(t){return t.checked})},selectAll:function(){this.allChecked?this.toggleAllSelect(!1):this.toggleAllSelect(!0)},toggleAllSelect:function(t){var e=this;this.list.map(function(n){e.$set(n,"checked",t)}),this.allChecked=t},removeItems:function(){this.list=this.list.filter(function(t){return!t.checked})},getSelectedItemId:function(){var t=[];return this.list.map(function(e){e.checked&&t.push(e.id)}),t}}}}},663:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],staticClass:"manage footer-fixed f16"},[n("div",{staticClass:"footer-manage flex-between-center"},[n("div",{staticClass:"footer-select c_f_bg flex"},[n("div",{staticClass:"item-checkbox"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:t.allChecked},on:{click:function(e){return t.$emit("selectAll")}}})]),n("span",{staticClass:"f14"},[t._v("全选")])]),n("button",{staticClass:"c_f linear-btn btn-reset"},[t._v("清理")]),n("button",{staticClass:"c_f btn-error btn-reset",on:{click:function(e){return t.$emit("del")}}},[t._v("删除")])])])},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},871:function(t,e,n){"use strict";n.r(e);var a=n(872),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},872:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l(n(9)),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},r=l(n(637)),c=l(n(1029)),s=l(n(661)),o=n(662),u=l(n(1031));function l(t){return t&&t.__esModule?t:{default:t}}function d(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function f(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(i,r){try{var c=e[i](r),s=c.value}catch(t){return void n(t)}if(!c.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}("next")})}}e.default={mixins:[o.select],data:function(){return{itemList:[],book_id:null,dialogState:!1,manage:!1,tabs:[{keyId:1,name:"案例",checked:!0},{keyId:2,name:"法规",checked:!1},{keyId:3,name:"文献",checked:!1},{keyId:4,name:"裁判",checked:!1},{keyId:6,name:"图书",checked:!1},{keyId:7,name:"文书范文",checked:!1}],page:{pageStart:0,pageOffset:10}}},components:{MultiNav:r.default,NoteItem:c.default,Footer:s.default,MessageDialog:u.default},mounted:function(){this.list=[],this.getList()},methods:{getList:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(a.default.mark(function e(){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.tabs.filter(function(t){return t.checked})[0],e.next=4,t.$service.info.getNotes(i({data_base_type:n.keyId},t.page));case 4:r=e.sent,t.list=[].concat(d(JSON.parse(JSON.stringify(t.list))),d(r.data)),t.page.pageStart=t.list.length,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.$Toast("获取数据失败");case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},itemClickHandler:function(t){var e=0,n=null;this.tabs.map(function(t,a){t.checked&&(n=t,e=a)}),n&&e!==t&&(n.checked=!1,this.tabs[t].checked=!0,this.initState(),this.getList())},initState:function(){this.page.pageStart=0,this.list=[],this.allChecked=!1,this.manage=!1},del:function(){var t=this;return f(a.default.mark(function e(){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=t.getSelectedItemId()).length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.$service.info.delNotes({id:n});case 6:t.$Toast("删除成功"),t.removeItems(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0,t.$Toast("删除失败");case 14:case"end":return e.stop()}},e,t,[[3,10]])}))()},updateNote:function(t){this.itemList=t,this.book_id=t.book_id,this.dialogState=!0,this.$refs.nodeChild.msgData=this.itemList.comm_text,this.itemList},loadMoreNote:function(){this.list=[],this.getList()}}}},873:function(t,e,n){"use strict";n.r(e);var a=n(874),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},874:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=n(9),r=(a=i)&&a.__esModule?a:{default:a};e.default={data:function(){return{}},props:{item:{type:Object},value:{},idx:{}},methods:{goRead:function(){var t,e=this;return(t=r.default.mark(function t(){var n,a,i,c,s,o;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.item,a=n.read_product_id,i=n.book_id,c=n.range,s=n.chapter_id,t.prev=1,t.next=4,e.$service.category.getAccessCode({product_id:a});case 4:o=t.sent,localStorage.access_code=o.data,e.$go("/reader",{product_id:a,book_id:i,range:c,chapter_rid:s}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),t.t0;case 12:case"end":return t.stop()}},t,e,[[1,9]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(i,r){try{var c=e[i](r),s=c.value}catch(t){return void n(t)}if(!c.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}("next")})})()}}}},875:function(t,e,n){},876:function(t,e,n){"use strict";n.r(e);var a=n(877),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},877:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};e.default={data:function(){return{book_id:null,msgData:""}},props:{itemFaData:{},value:{}},methods:{hide:function(){var t=this;this.book_id=this.$parent.book_id,this.$emit("input",!1);var e=a({},this.itemFaData,{userText:this.msgData});this.$readerService.modify_label(e,{}).then(function(e){t.$emit("loadMoreNote")}).catch(function(e){t.$emit("loadMoreNote")})},off:function(){this.$emit("input",!1)}}}},878:function(t,e,n){},879:function(t,e,n){}}]);