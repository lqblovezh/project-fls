/*!
 * {
 *   "buildtime": "2019-05-31 16:22:54",
 *   "workspace": "F:\\X-BOOK\\xcloud\\x-book4\\js",
 *   "username": "LQB",
 *   "hostname": "DESKTOP-QL56OJS",
 *   "platform": "win32",
 *   "git": {
 *     "branch": "master",
 *     "hash": "fbc007935",
 *     "message": [
 *       "commit fbc00793544e5767db1868f95f89c64b93f3aa79",
 *       "Author: 骆秋波 <1277678760@qq.com>",
 *       "Date:   Fri May 31 15:21:03 2019 +0800",
 *       "    打包上传"
 *     ],
 *     "user": "骆秋波",
 *     "email": "1277678760@qq.com",
 *     "remote": [
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (fetch)",
 *       "origin http://gitlab.kf.gli.cn/xcloud/x-book4.git (push)"
 *     ]
 *   }
 * }
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1059:function(t,e,a){"use strict";a.r(e);var i=a(1290),s=a(509);for(var r in s)"default"!==r&&function(t){a.d(e,t,function(){return s[t]})}(r);var n=a(0),l=Object(n.a)(s.default,i.a,i.b,!1,null,"103c9cc3",null);e.default=l.exports},1060:function(t,e,a){"use strict";var i=a(511);a.n(i).a},1266:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mainRight"},[a("div",{staticClass:"headGuide"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:t.plantInfo?t.plantInfo.logo_absolute:"",alt:"alt"}})]),a("div",{staticClass:"guide"},[a("h2",[t._v(t._s(t.plantInfo?t.plantInfo.name:""))]),a("p",[t._v(t._s(t.plantInfo?t.plantInfo.exp:""))]),t.seriverTime?a("RunningTime",{attrs:{currentTime:t.seriverTime}},[a("span",[t._v("服务器当前时间：")])]):t._e()],1)]),a("div",{staticClass:"content"},[a("div",{staticClass:"top"},[a("div",{staticClass:"lside"},[t._m(0),a("dl",t._l(t.yesterdayData,function(e,i){return a("div",[a("dd",{style:{borderColor:t.color[i],color:t.color[i]}},[t._v(t._s(e[1]))]),a("dt",[t._v(t._s(e[0]))])])}),0)]),a("div",{staticClass:"rside"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text",domProps:{innerHTML:t._s("您已累计运营 <span style='color:#1ABFAE'> "+this.runDayData.days+" </span>天 , 拥有 <span style='color:#1ABFAE'> "+this.runDayData.book_num+" </span> 个 资源")}})]),a("div",{staticClass:"box"},[a("div",{staticClass:"totalMoney"},[t._m(1),a("div",{staticClass:"text"},[t._v(t._s(t.runDayData.sale))])])])])]),a("div",{staticClass:"bottom"},[a("div",{staticClass:"lside"},[t._m(2),a("div",{ref:"charts",staticClass:"draw"}),a("div",{staticClass:"setting"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.setting}},[t._v("设置预计")])],1)]),a("div",{staticClass:"rside"},[a("div",{staticClass:"title"},[a("div",{staticClass:"btn"},[a("div",{staticClass:"text",class:"browse"==t.type?"active":null,on:{click:function(e){return t.draw2("browse")}}},[t._v("访问趋势图")]),a("div",{staticClass:"text",class:"sale"==t.type?"active":null,on:{click:function(e){return t.draw2("sale")}}},[t._v(" 销售趋势图")])]),a("div",{staticClass:"date"},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"选择开始时间","end-placeholder":"选择结束时间","value-format":"yyyy-MM-dd","range-separator":"至"},on:{change:function(e){return t.draw2(t.type)}},model:{value:t.chooseDate2,callback:function(e){t.chooseDate2=e},expression:"chooseDate2"}})],1)]),a("div",{ref:"charts2",staticClass:"draw"})])])]),a("el-dialog",{staticClass:"dialog",attrs:{width:"500px",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"详情",name:"first"}},[a("el-form",{ref:"ruleForm",attrs:{model:t.update,"status-icon":"",rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"新增用户",prop:"user_value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.update.user_value,callback:function(e){t.$set(t.update,"user_value",e)},expression:"update.user_value"}})],1),a("el-form-item",{attrs:{label:"分销次数",prop:"sale_bution"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.update.sale_bution,callback:function(e){t.$set(t.update,"sale_bution",e)},expression:"update.sale_bution"}})],1),a("el-form-item",{attrs:{label:"阅读次数",prop:"read_value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.update.read_value,callback:function(e){t.$set(t.update,"read_value",e)},expression:"update.read_value"}})],1),a("el-form-item",{attrs:{label:"PV数",prop:"browse_value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.update.browse_value,callback:function(e){t.$set(t.update,"browse_value",e)},expression:"update.browse_value"}})],1),a("el-form-item",{attrs:{label:"购买次数",prop:"sale_value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.update.sale_value,callback:function(e){t.$set(t.update,"sale_value",e)},expression:"update.sale_value"}})],1),a("el-form-item",{attrs:{label:"分享次数",prop:"share_value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.update.share_value,callback:function(e){t.$set(t.update,"share_value",e)},expression:"update.share_value"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.draw}},[t._v("确定")])],1)],1)],1)},s=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"text"},[this._v("昨日统计")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("img",{attrs:{src:a(762)}}),e("p",[this._v("累计收益")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"btn"},[e("div",{staticClass:"text active"},[this._v("运营雷达图")])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},1290:function(t,e,a){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"div"},[this._t("default"),e("span",{domProps:{textContent:this._s(this.seriverTime)}})],2)},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},224:function(t,e,a){"use strict";a.r(e);var i=a(1266),s=a(475);for(var r in s)"default"!==r&&function(t){a.d(e,t,function(){return s[t]})}(r);a(1060);var n=a(0),l=Object(n.a)(s.default,i.a,i.b,!1,null,"c39044e2",null);e.default=l.exports},475:function(t,e,a){"use strict";a.r(e);var i=a(476),s=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=s.a},476:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});l(a(78));var i=l(a(477)),s=n(a(478)),r=n(a(1059));function n(t){return t&&t.__esModule?t:{default:t}}function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function o(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={components:{RunningTime:r.default},data:function(){return{seriverTime:"",timmer:null,yesterdayData:"",dialogVisible:!1,runDayData:{days:"",book_num:""},update:{user_value:0,browse_value:0,share_value:0,sale_value:0,sale_bution:0,read_value:0},rules:{user_value:[{required:!0,message:"请填写预期新增用户数",trigger:"change"}],browse_value:[{required:!0,message:"请填写预期PV数",trigger:"change"}],share_value:[{required:!0,message:"请填写预期分享数",trigger:"change"}],sale_value:[{required:!0,message:"请填写预期销售数",trigger:"change"}],sale_bution:[{required:!0,message:"请填写预期分销数",trigger:"change"}],read_value:[{required:!0,message:"请填写预期阅读数",trigger:"change"}]},chooseDate:["2018-06-01","2018-06-30"],chooseDate2:["0","0"],type:"",activeName:"first",color:["#2ca2fa","#1ABFAE","#FFB53C","#E96E5D"],plantInfo:this.$config.plantInfo}},computed:{},created:function(){this.getTotal(),this.draw(),this.draw2()},methods:{getTotal:function(){var t=this;i.statistics().then(function(e){log(e),t.seriverTime=e.data.now_time,t.yesterdayData=Object.entries(e.data.yester),t.runDayData=e.data.count,t.yesterdayData.map(function(t){switch(t[0]){case"browse_value":t[0]="昨日访问";break;case"share_value":t[0]="昨日分享";break;case"sale_money":t[0]="昨日销售";break;case"distribute_money":t[0]="昨日分销";break;default:t[0]="未知"}})})},draw:function(t){var e=this;i.expected(this.update).then(function(t){var a={};i.statistics().then(function(t){var i,r,n=void 0;a.expect=Object.values(t.data.Expect),a.month=Object.values(t.data.month),i=Math.max.apply(Math,o(a.expect)),r=Math.max.apply(Math,o(a.month)),n=i>=r?i:r,log(n),setTimeout(function(t){s.default.init(e.$refs.charts).setOption({tooltip:{},legend:{data:["预期","实际"],left:0},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[{name:"新增用户",max:n},{name:"分享数",max:n},{name:"购买次数",max:n},{name:"PV数",max:n},{name:"阅读次数",max:n},{name:"分销次数",max:n}]},series:[{name:"预期 vs 实际",type:"radar",data:[{value:a.expect,name:"预期"},{value:a.month,name:"实际"}]}]})},10)}),e.dialogVisible=!1})},draw2:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browse";this.type=e,i.trend({type:this.type,start_time:this.chooseDate2[0],end_time:this.chooseDate2[1]}).then(function(e){var a={value:[],date:[],money:[],bution:[]};(e.data||[]).forEach(function(t){a.date.push(t.date),a.value.push(t.value)}),setTimeout(function(e){s.default.init(t.$refs.charts2).setOption({xAxis:{type:"category",data:a.date||["test","test2"]},yAxis:{type:"value"},series:[{data:a.value||["1212","21"],type:"line",smooth:!0}]})},10)})},setting:function(){this.dialogVisible=!0}}}},477:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.saleInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)("/api/sale_achievement_info",t)},e.saleByDate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)("/api/book_sale",t)},e.statistics=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)("/api/admin_index",t)},e.expected=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)("/api/admin_index",t)},e.trend=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)("/api/admin_type",t)};var i,s=a(45),r=a(77);(i=r)&&i.__esModule},509:function(t,e,a){"use strict";a.r(e);var i=a(510),s=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=s.a},510:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={props:["currentTime"],data:function(){return{timmer:null,seriverTime:null}},created:function(){"object"==i(this.currentTime)?this.seriverTime=this.timeReset("",this.currentTime):this.seriverTime=this.currentTime,this.time()},computed:{},methods:{time:function(){var t=this;clearInterval(this.timmer),this.timmer=setInterval(function(){t.seriverTime=t.format()},1e3)},format:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="";return e=this.currentTime?"object"==i(this.currentTime)?new Date:new Date(Date.parse(this.seriverTime.replace(/-/g,"/"))):"",this.timeReset(t,e)},timeReset:function(t,e){var a={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds()+1};return e.getSeconds()>=59&&(a.s=0,a.m+=1),e.getMinutes()>=59&&(a.s=0,a.m=0,a.h+=1),a.y+"-"+this.toMax(a.M)+"-"+this.toMax(a.d)+" "+this.toMax(a.h)+":"+this.toMax(a.m)+":"+this.toMax(a.s)},toMax:function(t){return t<10?"0"+t:t}}}},511:function(t,e,a){},762:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAtCAYAAAD/aHgLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENEVBMzQ5QjdCNDgxMUU4QThGQ0IxNzYzRjYxN0U5MCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENEVBMzQ5QzdCNDgxMUU4QThGQ0IxNzYzRjYxN0U5MCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0RUEzNDk5N0I0ODExRThBOEZDQjE3NjNGNjE3RTkwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ0RUEzNDlBN0I0ODExRThBOEZDQjE3NjNGNjE3RTkwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+IP0uqwAABYxJREFUeNrUmnlsFVUUxu9rEVBaWpVGW9FWEQPK5oJapYhRSwqKK9FEqAYFaiMoVf5AJNYlLhEFFRURWdyoGsUNBEmEWgkIImoFkSAirWhEgitVFB7fke/J6c0dXudtfXOSX+jcmffenLlnH0LhcNhElYUlphXkKFAKTgIZoBEsBRt8f9OgOtPGpKcMBzNBW8e5x8A4EPbzhRlpqGQxmEMl7wLruH4T2A5uoaIm6Irere6rHFSDOtAB5HF9ksdue0q6mW4IDFDHXUARGA/eV+u5oA9YFdQdbQcOUcfvgk/ANiqrpWOQTfcvBqE9PJaoey+QsD/ZuvbroPvoSHAy+Ih+2AvcDrLVNR+AhiAp2h4c4VjfSF+dRhM9VZ3bwQic9lG3kApsBU28cfl3MbiKAcnQfMfQlPVOFvNB+ItyKa6MZCemRkkNUv0M5QMwvPYC8BXYEtOvojJK5Y5Kon+qBfnvfO5cxCd3g/diVjLFptsDPKJM8gxwjzrfyNo2kislAD2UyBtIlaJ3gEz+Lf9OBA+Dn7hWTeVK1WdGgYIgKSqmOsRauxycBu5jN/ISi3UtmY7PxSypKAHzWafaIkHpHLBW5U5bugZJ0fYe65IbrwDvgLc9rjksSKbb6Ogdp4PDwRvgT3AC6O347JYg7agoshz0U2ulNOkappIZHru3JGhRd6p1LDt4KehGBeXvi6xrPgSfBk3R18F8x/r13FVbfgeVibyBWExX+sVjwfGKAu5ADetWlwwDr4LBVt1baF23k+lnXUI7+vCCfn1V+N+EurCR9a1M386yFCqikl6W8Ct4gT5X72FBN4IJ/C4tUurN45ikIaH2xCngHJXDxil/qmR96kdywM1kFRWuYUAS2cu1GayEunGq8CNYAf6I0f2G0MePAb+AWvCa/r54o24TU0Bbzne0nEmmgJfBs2CNOv8FiUcGcvLQw1q/Djxg9o9Nl/gJRr+B51ijXsuKJp8RU6zhRNAfvMhxiBbpQkZz9iOKVvid9zikuzgXWORQMiLSJCzgfbVY0W/pW/dzd1bQ3LTU8QnKAxgLvnR8j9S3T4Mf+ODO9qngkeBJ+n+Zde57Brt6K3DORLwJJSO9iI88AXpSkVlgl6O0G8EHVs9JQm6UxqAKfMPYkWkFwPHMzVezwnrUqpdzkplHJaquBjdwlys8CgAxvcdpIXN5w3ans579bI5a30Pr6Eo/3c11KTfvVMciWclUtJomL+kiCzwDTmfTPZ1FgRaJvuXsZvqy6F/GetgOdIu4c7K72x2//Y85MDL9L40muzI6jpOEBnYpl4DPODvKp9+vtD7TkZFSAtd51rn19M2yKAWFpLdDdb2dqhJQfuditmMy/ZOhdCcGpGLm1HlWPg6p45+5e725m17SmZF/ilqTwLczmYrO5lDLbtEK6ENi1jLivJJThioPE5zM9CX++K/Hb3Wg5Wxk+tNSgcoonMw2rZYUMsKO4BP/32/YrpVyx+wH8ia4DWyOYinlTHv5jvawMtLUp8J0vzP733MWsVR7ywoUhmacp45XcvpwMCX7swiZ7VDyFUbz51PdpkXSgQSkyxikJtF8bZEgNNR4v9Huwkhca5q/qhD5GJwLrrGnE631fnQbJ4BiciUsKdtwhxaz+Lcll7491jR/tWgY1SewagvH04/mcCds2RrnFGCv8uWD9cyjmZc7OfzwQRYTTYlovIs8JgRzOSVIlpRRie7Wepjt5USmj7QYjsUip1DBgR7R/FYWHmk3M2qp5DFffu5QchPr3gF+lYyMUrJVN9CE5Pp3sysWlmRb3YI9/tgVp3IXsr3L5DQwy9ENSSU1zSrUfY1SQmnwP8eqzIE3bcbRnUgQ2pGImVFry9GuR8uqaEOifiQdFJ3PwiGDPekak8BXERHZJ8AAoC5Cf4Qgo4cAAAAASUVORK5CYII="}}]);