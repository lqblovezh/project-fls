(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{1595:function(t,e,i){"use strict";var a=i(863);i.n(a).a},1682:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index clearfix"},[i("div",{staticClass:"mainRight"},[i("div",{staticClass:"contentWrap"},[i("div",{staticClass:"contentLeft"},[i("div",{staticClass:"maindata"},[i("div",{staticClass:"btnGroup"},[i("el-button-group",[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.$router.push({path:"/wms/userList",query:{index:t.$route.query.index,id:t.$route.query.id}})}}},[t._v("扫码用户列表")]),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.$router.push({path:"/wms/analys",query:{index:t.$route.query.index,id:t.$route.query.id}})}}},[t._v("数据分析")]),i("el-button",{attrs:{type:"primary"}},[t._v("扫码记录")])],1)],1),i("div",{staticClass:"tableWrap"},[i("div",{staticClass:"tableTop"},[i("div",{staticClass:"title vel-line"},[i("span",[t._v("全部 "),t.page?i("span",{staticClass:"totalNum"},[t._v("("+t._s(t.page.total)+")")]):t._e()]),i("div",{staticClass:"btns"},[i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.scanExport}},[t._v("导出")])],1)])]),i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",{attrs:{width:"70"}},[i("input",{attrs:{type:"checkbox"},on:{click:function(e){return t.$checkAll(e)}}}),i("span",[t._v("选择")])]),i("th",[t._v("昵称")]),i("th",[t._v("性别")]),i("th",[t._v("地域")]),i("th",[t._v("电话")]),i("th",[t._v("扫码时间")]),i("th",[t._v("停留时间")])])]),t.list?i("tbody",t._l(t.list,function(e){return i("tr",[i("th",[i("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids"},domProps:{value:e.id}})]),i("th",[i("img",{staticClass:"cover-photo"}),i("div",{staticClass:"th-name bookName",attrs:{title:e.name}},[t._v(t._s(e.nick_name))])]),i("th",[t._v(t._s(e.sex))]),i("th",[t._v(t._s(e.pro))]),i("th",[t._v(t._s(e.phone))]),i("th",[t._v(t._s(e.create_time))]),i("th",[t._v(t._s(e.duration))])])}),0):t._e()]),t.page?i("div",{staticClass:"pageWrap"},[i("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()])])])])])])},r=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return r})},255:function(t,e,i){"use strict";i.r(e);var a=i(1682),r=i(861);for(var s in r)"default"!==s&&function(t){i.d(e,t,function(){return r[t]})}(s);i(1595);var n=i(0),o=Object(n.a)(r.default,a.a,a.b,!1,null,"1c1bd7dc",null);e.default=o.exports},282:function(t,e){var i=/^(?:submit|button|image|reset|file)$/i,a=/^(?:input|select|textarea|keygen)/i,r=/(\[[^\[\]]*\])/g;function s(t,e,i){if(e.match(r)){!function t(e,i,a){if(0===i.length)return e=a;var r=i.shift(),s=r.match(/^\[(.+?)\]$/);if("[]"===r)return e=e||[],Array.isArray(e)?e.push(t(null,i,a)):(e._values=e._values||[],e._values.push(t(null,i,a))),e;if(s){var n=s[1],o=+n;isNaN(o)?(e=e||{})[n]=t(e[n],i,a):(e=e||[])[o]=t(e[o],i,a)}else e[r]=t(e[r],i,a);return e}(t,function(t){var e=[],i=new RegExp(r),a=/^([^\[\]]*)/.exec(t);for(a[1]&&e.push(a[1]);null!==(a=i.exec(t));)e.push(a[1]);return e}(e),i)}else{var a=t[e];a?(Array.isArray(a)||(t[e]=[a]),t[e].push(i)):t[e]=i}return t}function n(t,e,i){return i=i.replace(/(\r)?\n/g,"\r\n"),i=(i=encodeURIComponent(i)).replace(/%20/g,"+"),t+(t?"&":"")+encodeURIComponent(e)+"="+i}t.exports=function(t,e){"object"!=typeof e?e={hash:!!e}:void 0===e.hash&&(e.hash=!0);for(var r=e.hash?{}:"",o=e.serializer||(e.hash?s:n),u=t&&t.elements?t.elements:[],c=Object.create(null),l=0;l<u.length;++l){var p=u[l];if((e.disabled||!p.disabled)&&p.name&&a.test(p.nodeName)&&!i.test(p.type)){var d=p.name,h=p.value;if("checkbox"!==p.type&&"radio"!==p.type||p.checked||(h=void 0),e.empty){if("checkbox"!==p.type||p.checked||(h=""),"radio"===p.type&&(c[p.name]||p.checked?p.checked&&(c[p.name]=!0):c[p.name]=!1),void 0==h&&"radio"==p.type)continue}else if(!h)continue;if("select-multiple"!==p.type)r=o(r,d,h);else{h=[];for(var f=p.options,v=!1,g=0;g<f.length;++g){var _=f[g],y=e.empty&&!_.value,m=_.value||y;_.selected&&m&&(v=!0,r=e.hash&&"[]"!==d.slice(d.length-2)?o(r,d+"[]",_.value):o(r,d,_.value))}!v&&e.empty&&(r=o(r,d,""))}}}if(e.empty)for(var d in c)c[d]||(r=o(r,d,""));return r}},566:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.analysAll=e.analysisData=e.userStatics=void 0;var a,r,s,n=c(i(15));e.userStatics=(a=l(n.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,o.request_get)("/api/statistics/user",e));case 1:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)}),e.analysisData=(r=l(n.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"/wms/proStatics"==e.type?e.product_id=e.id:"/wms/bookStatics"==e.type&&(e.book_id=e.id),t.abrupt("return",(0,o.request_get)("/api/statistics/data_analysis",e));case 2:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)}),e.analysAll=(s=l(n.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,o.request_get)("/api/statistics/all",e));case 1:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)});e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_get)("/api/statistics/product_list",t)},e.getBookList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_get)("/api/statistics/book_list",t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/api/statistics/product_list",t)},e.detail=p,e.scanList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"/wms/proStatics"==t.type?t.product_id=t.id:"/wms/bookStatics"==t.type&&(t.book_id=t.id);return(0,o.request_get)("/api/statistics/scan_record_list",t)},e.userList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"/wms/proStatics"==t.type?t.product_id=t.id:"/wms/bookStatics"==t.type&&(t.book_id=t.id);return(0,o.request_get)("/api/statistics/user_list",t)},e.scanExport=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"/wms/proStatics"==t.type?t.product_id=t.ids:"/wms/bookStatics"==t.type&&(t.book_id=t.ids);return(0,o.request_get)("/api/statistics/scan_record_list_export",t)},e.userExport=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"/wms/proStatics"==t.type?(t.product_ids=t.ids,t.product_id=t.id):"/wms/bookStatics"==t.type&&(t.book_ids=t.ids,t.book_id=t.id);return(0,o.request_get)("/api/statistics/user_list_export",t)};var o=i(16),u=c(i(21));function c(t){return t&&t.__esModule?t:{default:t}}function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function a(r,s){try{var n=e[r](s),o=n.value}catch(t){return void i(t)}if(!n.done)return Promise.resolve(o).then(function(t){a("next",t)},function(t){a("throw",t)});t(o)}("next")})}}u.default.compile("/api/statistics/product_list/:id");var p=u.default.compile("/api/statistics/product_list/:id");function p(t){var e=t.id,i=function(t,e){var i={};for(var a in t)e.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a]);return i}(t,["id"]);return(0,o.request_get)(p({id:e}),i)}},861:function(t,e,i){"use strict";i.r(e);var a=i(862),r=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e.default=r.a},862:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},s=(i(293),i(282)),n=((a=s)&&a.__esModule,function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(566))),o=i(49);e.default={data:function(){return{services:n,detailDialog:!1,detailDialoaType:"info",detailData:null}},created:function(){this.resetPage(),this.getList()},methods:r({getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services.scanList(r({type:this.$route.query.index,id:this.$route.query.id,pageNum:t,pageOffset:i},this.parameter,a)).then(function(t){e.setList(t.data),e.setPage(t.page)})},handleSizeChange:function(t){this.page.num=1,this.getList(1,t,this.query)},handleCurrentChange:function(t){t!==this.page.nun&&this.getList(t,this.page.offset,this.query)},scanExport:function(){var t;t=this.$getChecked({isShowMessage:!1}),n.scanExport({type:this.$route.query.index,ids:t}).then(function(t){window.location.href=t.data})},setList:function(t){this.setQrcodelist(t)},setPage:function(t){this.setQrcodelistPage(t)}},(0,o.mapMutations)(["setQrcodelist","setQrcodelistPage","resetPage"])),computed:r({},(0,o.mapState)({list:function(t){return t.qrcode.list},page:function(t){return t.qrcode.page}}))}},863:function(t,e,i){}}]);