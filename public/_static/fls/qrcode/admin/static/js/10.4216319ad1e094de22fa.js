(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1266:function(t,e,a){"use strict";var i=a(776);a.n(i).a},1697:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index clearfix"},[a("div",{staticClass:"dialogs"},[t.moveToOtherDiaolog?a("MoveGroup",{attrs:{currGroup:t.currGroup,groupList:t.groupList},on:{back:function(e){t.moveToOtherDiaolog=!1},submit:t.moveToSubmit}}):t._e(),t.upShelfDiaolog?a("Grounding",{attrs:{type:"subject"},on:{back:function(e){t.upShelfDiaolog=!1},upShelf:t.shelfClass}}):t._e(),t.detailVisible?a("Detail",{attrs:{type:t.detailDialoaType,detailVisible:t.detailVisible,defaultData:t.detailData,detailValue:"info"},on:{"update:detailVisible":function(e){t.detailVisible=e},"update:detail-visible":function(e){t.detailVisible=e}}}):t._e()],1),a("div",{staticClass:"mainRight"},[a("div",{staticClass:"contentWrap"},[a("div",{staticClass:"contentLeft"},[a("div",{staticClass:"maindata"},[a("div",{staticClass:"serachWrap"},[a("div",{staticClass:"title"}),a("form",{staticClass:"clearfix",attrs:{id:"mainForm"}},[a("span",{staticClass:"group-inline"},[a("el-input",{attrs:{placeholder:"名称",name:"name",clearable:""},model:{value:t.searchQuery.name,callback:function(e){t.$set(t.searchQuery,"name",e)},expression:"searchQuery.name"}})],1),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),t._m(0),a("span",{staticClass:"group-inline float-right"},[a("el-button",{attrs:{size:"mediu",type:"primary",icon:"el-icon-search",plain:""},on:{click:t.query}},[t._v("搜索")])],1)])]),a("div",{staticClass:"tableWrap"},[a("div",{staticClass:"tableTop"},[a("div",{staticClass:"title vel-line"},[a("span",[t._v("全部 "),t.page?a("span",{staticClass:"totalNum"},[t._v("("+t._s(t.page.total)+")")]):t._e()]),a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.moveToOther}},[t._v("移动分组")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.downShelf()}}},[t._v("下架")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.delChoosen(!1)}}},[t._v("删除")])],1)])]),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{staticClass:"table-check"},[a("input",{attrs:{type:"checkbox"},on:{click:function(e){return t.$checkAll(e)}}})]),a("th",[t._v("名称")]),a("th",[t._v("类型")]),a("th",[t._v("创建时间")]),a("th",{attrs:{width:"150"}},[t._v("上架状态")]),a("th",{attrs:{width:"70"}},[t._v("使用版本")]),a("th",{attrs:{width:"80"}},[t._v("操作")])])]),t.list?a("tbody",t._l(t.list,function(e){return a("tr",[a("th",[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids"},domProps:{value:e.id}})]),a("th",[a("img",{staticClass:"cover-photo",attrs:{src:e.books_info.img_src}}),a("div",{staticClass:"th-name bookName",attrs:{title:e.books_info.name}},[t._v(t._s(e.books_info.name))])]),a("th",[a("div",{staticClass:"th-name",attrs:{title:e.books_info.components.category_name}},[t._v(t._s(e.books_info.components.category_name))])]),a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.books_info.create_time))])]),a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.status_name))])]),a("th",["0"!=e.status?a("div",{staticClass:"th-name"},[t._v(t._s(e.version_id))]):t._e(),"0"==e.status?a("div",{staticClass:"th-name"},[a("select",{on:{change:function(a){return t.versionChage(a,e)}}},t._l(e.version_list,function(i,r){return a("option",{domProps:{value:i,selected:e.version_id==r}},[t._v(t._s(r))])}),0)]):t._e()]),a("th",[a("div",{staticClass:"btns"},["0"!=e.status?a("Icon",{attrs:{type:"icon-reject",title:"下架"},on:{click:function(a){return t.downShelf(e.id)}}}):t._e(),a("Icon",{attrs:{type:"icon-upload",title:"上架"},on:{click:function(a){return t.upShelf(e.id)}}}),a("Icon",{attrs:{type:"el-icon-setting",title:"上架"},on:{click:function(a){return t.showUpShelf(e)}}}),a("Icon",{attrs:{type:"icon-detail",title:"详情"},on:{click:function(a){return t.opneDetailDialog(10,e.id)}}})],1)])])}),0):t._e()]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),a("div",{staticClass:"gruopList"},[a("GroupList",{attrs:{groupList:t.groupList,currGroup:t.currGroup},on:{addGroup:t.addGroup,updateGroup:t.updateGroup,delGroup:t.delGroup,groupChange:t.groupChange}}),t.pustSetDialog?a("el-dialog",{attrs:{title:"价格设置",visible:t.pustSetDialog,width:"500px"},on:{"update:visible":function(e){t.pustSetDialog=e}}},[a("div",{staticClass:"formWrap"},[a("VaForm",{ref:"pustSetForm"},[a("form",{attrs:{id:"pustSetForm"}},[a("div",{staticClass:"group"},[a("span",{staticClass:"left"},[t._v("版本")]),a("span",{staticClass:"right"},[t._v("价格")]),a("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:t.currentPut.id}})]),t._l(t.currentPut.theme_extend_list,function(e,i){return a("div",{staticClass:"group"},[a("span",{staticClass:"left",domProps:{textContent:t._s(e.version_id)}}),a("span",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"item.price"}],staticClass:"form-control info",attrs:{name:"prices",disabled:e.is_put},domProps:{value:e.price},on:{input:function(a){a.target.composing||t.$set(e,"price",a.target.value)}}}),a("input",{staticClass:"hide",attrs:{name:"ids",disabled:e.is_put},domProps:{value:e.xread_book_id}})])])})],2)])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(e){t.pustSetDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.pustSetSave}},[t._v("确定")])],1)]):t._e()],1)])])])])])},r=[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"group-inline"},[e("select",{staticClass:"form-control width-small",attrs:{placeholder:"标签",name:"status"}},[e("option",{attrs:{value:""}},[this._v("选择状态")]),e("option",{attrs:{value:"1"}},[this._v("已上架")]),e("option",{attrs:{value:"0"}},[this._v("未上架")])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},241:function(t,e,a){"use strict";a.r(e);var i=a(1697),r=a(774);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(1266);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"a51a8c0a",null);e.default=o.exports},286:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(t){var e=t.type,a=t.id,i=t.resource_type;if("book"==e)return l({id:a});if("video"==e)return c({id:a});if("resource"==e)return p({id:a,resource_type:i})},e.del=function(t){var e=t.type,a=o(t,["type"]);if("book"==e)return u(a);if("video"==e)return f(a);if("resource"==e)return m(a);if("audio"==e)return h(a)},e.add=function(t){var e=t.type,a=o(t,["type"]);if("book"==e)return u(a);if("video"==e)return d(a);if("resource"==e)return v(a)},e.check=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id/check");return(0,r.request_get)(e(t))},e.bookList=l,e.bookInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id");return(0,r.request_get)(e(t))},e.bookDel=u,e.bookSave=function(t){var e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/components_paper/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/components_paper",a)},e.videoList=c,e.videoAdd=d,e.videoDel=f,e.resourceList=p,e.resourceAdd=v,e.resourceDel=m,e.groupList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_groups/:id/list");return(0,r.request_get)(e(t),t)},e.groupSave=function(t){var e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/components_groups/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/components_groups",a)},e.groupDetail=function(t){var e=t.id,a=s.default.compile(restUrl_publish+"/api/components_groups/:id");return(0,r.request_get)(a({id:e}))},e.audioDel=h,e.saveEBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.current_id){var e=s.default.compile(restUrl_publish+"/api/components_ebooks/:id");return(0,r.request_put)(e({id:t.current_id}),t)}return(0,r.request_post)(restUrl_publish+"/api/components_ebooks",t)},e.getEBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_ebooks/:id");return(0,r.request_get)(e(t))};var i,r=a(16),n=a(21),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id/list");return(0,r.request_get)(e(t))}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_paper/:id");return(0,r.request_delete)(e(t))}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/video");return(0,r.request_get)(e(t))}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/components/video",t)}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/video");return(0,r.request_delete)(e({id:t.constitute_id}))}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/resource");return(0,r.request_get)(e(t),t)}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/components/resource",t)}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components/:id/resource");return(0,r.request_delete)(e({id:t.constitute_id}))}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/components_groups/:id");return(0,r.request_delete)(e(t),t)}},287:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addTheme=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes",t).then(function(t){var e=t.data,a=e.id,i=e.name,r=e.type_name,n=e.abs,s=e.tag;return(0,p.addResListener)({res_id:a,res_type:r,res_name:i,res_exp:n,res_lables:[s]}),t})},e.modifyTheme=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/:id");return(0,r.request_put)(i({id:e}),a)},e.ListTheme=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/themes",t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/delete",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/themes/groups",t)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/groups/delete",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/groups",t)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/themes/groups",t)},e.deleteThemeBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/book_remove",t)},e.detailTheme=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/:id");return(0,r.request_get)(i({id:e}),a)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/themes/issuance",t).then(function(e){return(0,p.suance)({id:t.id,info:e.data}),e})},e.detailUrgent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/themes/urgent",t)},e.backups=g,e._themeAdd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,a=void 0===e?"book":e,i=h(t,["type"]);if("book"==a)return(0,n.listBooks)(i);if("audio"==a)return(0,s.listAudio)(i);if("video"==a)return(0,o.listVideo)(i);if("3d"==a)return(0,u.listContent)(i);if("ar"==a)return(0,c.listLibraries)(i);if("product"==a)return(0,d.listDigitalBook)(i);if("release"==a)return(0,f.getList)(i)},e._themeDetail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,a=void 0===e?1:e,i=t.c_id,r=h(t,["type","c_id"]);if(1==a)return i?g(r):(0,n.detailBooks)(r);if(3==a)return(0,l.detailPicture)(r);if(4==a)return(0,s.detailAudio)(r);if(5==a)return(0,o.detailVideo)(r);if(6==a)return(0,u.detailContent)(r);if(8==a)return(0,c.detailLibraries)(r);if(10==a)return(0,d.detailDigitalBook)(r);if(13==a);else if(31==a)return};var i,r=a(16),n=a(429),s=a(571),o=a(428),l=a(570),u=a(572),c=a(455),d=a(292),f=a(456),p=a(77),v=a(21),m=(i=v)&&i.__esModule?i:{default:i};function h(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=h(t,["id"]),i=m.default.compile(restUrl_publish+"/api/themes/book/:id");return(0,r.request_get)(i({id:e}),a)}},289:function(t,e,a){"use strict";a.r(e);var i=a(543),r=a(301);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(452);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"ef79f1ce",null);e.default=o.exports},290:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(15));e.modifyNowledges=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,s=l(e,["id"]),u=n.default.compile(restUrl_publish+"/api/nowledges/:id");return(0,r.request_put)(u({id:a}),s).then((c=o(i.default.mark(function e(a){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:s.pid,type:s.type});case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}},e,t)})),function(t){return c.apply(this,arguments)}));var c},e.deleteNowledges=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledges/delete",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:e.pid,type:e.type});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.addNowledges=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledges",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:e.pid,type:e.type});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.upNowledges=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/nowledges",t)},e.modifyGroup=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.id,s=l(e,["id"]),u=n.default.compile(restUrl_publish+"/api/nowledges/groups/:id");return(0,r.request_put)(u({id:a}),s).then((c=o(i.default.mark(function e(a){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:s.pid,type:s.type});case 2:return t.abrupt("return",a);case 3:case"end":return t.stop()}},e,t)})),function(t){return c.apply(this,arguments)}));var c},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/nowledges/groups",t)},e.deleteGroup=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledges/groups/delete",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:e.pid,type:e.type});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.addGroup=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledges/groups",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:e.pid,type:e.type});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.listNowledges=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=n.default.compile(restUrl_publish+"/api/nowledges/book/:id");return(0,r.request_get)(i({id:e}),a)},e.audioNowledges=u,e.searchNowledges=c,e.videoNowledges=d,e.NowledgesList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,a=l(t,["type"]);if("章节锚点"==e)return c(a);if("音频锚点"==e)return u(a);if("视频锚点"==e)return d(a)},e.listKnowledge=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/nowledges",t)},e.addAnchor=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledge_info",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:e.pid,type:e.ptype});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.delAnchor=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledge_info/delete",e).then((a=o(i.default.mark(function a(r){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({id:e.pid,type:e.type});case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}},a,t)})),function(t){return a.apply(this,arguments)}));var a},e.mount=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/nowledge_info/mount",t).then(function(e){var a=JSON.parse(window.localStorage.getItem("mounts"))||[],i=a.findIndex(function(e){return e.tid===t.id}),r={tid:t.id,id:e.data.id};i>-1&&a.splice(i,1),a.push(r),window.localStorage.setItem("mounts",JSON.stringify(a))})},e.nowledge_info=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/nowledge_info",t)},e.mountSchedule=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=(l(t,["id"]),arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){}),i=(JSON.parse(window.localStorage.getItem("mounts"))||[]).find(function(t){return t.tid===e});if(!i)return"";var s=n.default.compile(restUrl_publish+"/api/nowledge_info/:id");return(0,r.request_progress)(s({id:i.id}),a)},e.nowledge_btn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/nowledge_button",t)};var r=a(16),n=s(a(21));function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=n.default.compile(restUrl_publish+"/api/nowledges/audio/:id");return(0,r.request_get)(i({id:e}),a)}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=n.default.compile(restUrl_publish+"/api/nowledges/book/catalogs/:id");return(0,r.request_get)(i({id:e}),a)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=n.default.compile(restUrl_publish+"/api/nowledges/video/:id");return(0,r.request_get)(i({id:e}),a)}function f(t){var e=t.id,a=t.type,i=n.default.compile(restUrl_publish+"/api/nowledge_status/:id");return(0,r.request_get)(i({id:e}),{type:a})}},291:function(t,e,a){"use strict";a.r(e);var i=a(541),r=a(324);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(461);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"c6b023a6",null);e.default=o.exports},294:function(t,e,a){"use strict";a.r(e);var i=a(295),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},295:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(a(444)),r=f(a(466)),n=f(a(470)),s=f(a(473)),o=f(a(477)),l=f(a(506)),u=f(a(509)),c=f(a(514)),d=f(a(516));function f(t){return t&&t.__esModule?t:{default:t}}e.default={components:{releaseDetail:i.default,audioDetail:r.default,themeDetail:n.default,videoDetail:s.default,courseDetail:o.default,resourceDetail:l.default,seriesDetail:u.default,articlesDetail:c.default,resourDetail:d.default},props:{detailVisible:Boolean,defaultData:Object,detailValue:String,detailType:String,type:{type:Number,default:1}},data:function(){return{detailDialoaType:"info"}},created:function(){log(this.type),1!=this.type&&"metadata"==this.detailValue?this.detailDialoaType="info":this.detailDialoaType=this.detailValue},computed:{currComp:function(){switch(this.type){case 1:return"themeDetail";case 5:return"videoDetail";case 4:return"releaseDetail";case 7:case 9:return"courseDetail";case 8:return"resourceDetail";case 3:case 6:return"audioDetail";case 10:return"seriesDetail";case 11:return"articlesDetail";case 12:return"resourDetail"}}},methods:{colse:function(){this.$emit("update:detailVisible",!1)}},mounted:function(){}}},296:function(t,e,a){"use strict";a.r(e);var i=a(297),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},297:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);e.default=t}(a(292));var i=s(a(445)),r=s(a(289)),n=s(a(453));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:i.default,Structure:n.default,Knowledge:r.default},props:["type","detailData","detailDialog","readOnly","defaultData"],created:function(){},data:function(){return{}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name}}}},298:function(t,e,a){"use strict";a.r(e);var i=a(299),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},299:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(l(a(282)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(103))),s=a(446),o=a(591);function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{clc_category:"",clc_category_id:"",cp_category:"",cp_category_id:"",describe:"",editor_recommend:"",book_directory:""},xRead:{},activeName:"1",keyWord:"",title:"作者",metadata:[],creatAuthorInfo:{},choiceDialog:!1,creatDialog:!1,authorList:[],authorInfo:{},authorOptions:[],authorValue:[],translatorOptions:[],translatorValue:[],out_print:"2",have_print:"2",imageCropperDialog:!1,file:null,oldBlob:null}},created:function(){this.detailData&&Object.entries(this.detailData).length&&this.getInfo(),this.defaultData&&this.setInfo(),this.init()},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type},gauthorList:function(){return this.authorList}},methods:{init:function(){var t=this;this.searchAuthor=(0,o.debounce)(function(){return t.getAuthors()},500)},setInfo:function(){this.information=this.xRead=this.defaultData.base||{},this.metadata=this.defaultData.attributes||[],this.retailers=this.defaultData.retailers||{},this.setEbookInfo()},getInfo:function(){var t=this;(0,s.getInfo)({id:this.detailData.id}).then(function(e){t.information=e.data,t.retailers=e.data.retailers,t.xRead=e.data["x-read"],t.metadata=e.data.pro_attributes,t.setEbookInfo()})},setEbookInfo:function(){this.out_print=this.retailers.out_print||"2",this.have_print=this.retailers.have_print||"2";var t=this.retailers.author?this.retailers.author.split(","):[],e=this.retailers.author_id?this.retailers.author_id.split(","):[],a=this.retailers.translator?this.retailers.translator.split(","):[],i=this.retailers.translator_id?this.retailers.translator_id.split(","):[];this.authorOptions=t.map(function(t,a){var i={};return i.value=e[a],i.label=t,i}),this.translatorOptions=a.map(function(t,e){var a={};return a.value=i[e],a.label=t,a}),this.authorValue=e,this.translatorValue=i},handleClick:function(t,e){this.$emit("infoClick",t)},previewImg:function(t,e){var a=this,i=t.target;this.file=i.files[0],this.imgFile=URL.createObjectURL(this.file),this.$ImageSize({file:this.file,ratio:.73,interval:.05}).then(function(t){a.previewImgUrl=URL.createObjectURL(a.file)},function(t){201!=t.status?a.$message.error(t.message):a.imageCropperDialog=!0})},addAuthor:function(t){this.title=t,this.keyWord="",this.authorList=[],this.choiceDialog=!0},choiceAuthor:function(){var t=this,e="作者"==this.title?"author":"translator",a=document.querySelector(".authorListForm").querySelectorAll('input[name="ids"]:checked');a.length||this.$message.warning("请选择你要添加的"+this.title);var i=!0,r=!1,n=void 0;try{for(var s,o=function(){var a=s.value;if(t[e+"Options"].find(function(t){return a.value==t.value}))return"continue";t[e+"Options"].push({value:a.value,label:a.getAttribute("label")}),t[e+"Value"].push(a.value)},l=a[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)o()}catch(t){r=!0,n=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw n}}this.$message.success("添加"+this.title+"成功!")},saveAuthor:function(){var t=u(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.addAuthor({author_name:this.creatAuthorInfo.name}).then(function(t){e.$message.success("创建成功")}).catch(function(t){e.$message.error(t.messages)});case 2:this.creatDialog=!1;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getAuthors:function(){var t=this;log(this.title),n.getAuthor({author_name:this.keyWord}).then(function(e){t.authorList=e.data,log(t.authorList)})},creatAuthor:function(){this.creatAuthorInfo={},this.creatDialog=!0},syncInfo:function(t){var e=this;this.$refs.isbn.value&&n.synchronization({id:this.$refs.isbn.value}).then(function(t){log(t);var a=t.data,i=a.bookname,r=a.writer,n=a.isbn,s=a.bookcatalog,o=a.majorword,l=a.bookbrief,u=a.readership,c=a.editornote,d=(a.price,a.price_min,a.weight,a.bookcategory),f=a.bookcategory2;e.information={name:i,book_isbn:n,abs:l},e.xRead={tag:"",author:r},e.retailers={subject_terms:o,target_audience:u,clc_category:d,cp_category:f,describe:l,editor_recommend:c,book_directory:s}}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}})},submitDetail:function(){var t=u(i.default.mark(function t(){var e,a,o,l,u=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.fenmian.files[0],this.$refs.detailForm.valiAll()){t.next=4;break}return t.abrupt("return");case 4:if(a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=5,!e){t.next=9;break}return t.next=9,n.getTask(e).then(function(t){u.information.img=t.data.path});case 9:return t.next=11,(0,s.save)(r({id:this.detailData.id},this.information)).then(function(t){u.$message.success("保存成功"),a.close(),u.$emit("saveok",t.data)});case 11:t.next=24;break;case 13:t.prev=13,t.t0=t.catch(5),o=t.t0.payload,a.close(),t.t1=i.default.keys(o.messages);case 18:if((t.t2=t.t1()).done){t.next=24;break}return l=t.t2.value,this.$message.error(o.messages[l]),t.abrupt("break",24);case 24:case"end":return t.stop()}},t,this,[[5,13]])}));return function(){return t.apply(this,arguments)}}(),preview:function(t){this.previewImgUrl=URL.createObjectURL(t),this.oldBlob=t,this.imageCropperDialog=!1},submitInfo:function(){var t=u(i.default.mark(function t(){var e,a,o,l=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=this.$refs.fenmian.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),o=r({},this.information,{pro_attributes:this.metadata,attributes:{xRead:r({},this.xRead),eCommerce:r({},this.retailers,{author_id:this.authorValue.join(","),translator_id:this.translatorValue.join(","),author:this.authorOptions.map(function(t){if(l.authorValue.indexOf(t.value)>-1)return t.label}).filter(function(t){if(t)return t}).join(","),translator:this.translatorOptions.map(function(t){if(l.translatorValue.indexOf(t.value)>-1)return t.label}).filter(function(t){if(t)return t}).join(","),out_print:this.have_print,have_print:this.have_print})}}),!e){t.next=10;break}return this.oldBlob&&((e=this.oldBlob).name=this.file.name),t.next=10,n.getTask(e).then(function(t){o.img=t.data.path});case 10:return t.next=12,(0,s.save)(o).then(function(t){l.detailData.id||(l.information=t.data),a.close(),l.$message.success("操作成功!"),l.$emit("saveok",t.data)}).catch(function(t){a.close(),l.$message({message:t.message||"错误!",type:"error"})});case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}},300:function(t,e,a){},301:function(t,e,a){"use strict";a.r(e);var i=a(302),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},302:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=d(a(282)),s=d(a(104)),o=d(a(448)),l=d(a(420)),u=c(a(290));c(a(292));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}function f(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={components:{VaForm:s.default,AnchorList:o.default,Reader:l.default},props:["type","constitute","detailData","readOnly","defaultData"],created:function(){var t=f(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.defaultData){t.next=7;break}if(this.glist=this.defaultData.knowledge,this.glist){t.next=4;break}return t.abrupt("return");case 4:this.currGroupId=this.glist[0].id,this.currGroup=this.glist[0],this.list=this.glist[0].nowledge_info;case 7:return t.prev=7,t.next=10,this.getGlist();case 10:return t.next=12,this.getProgress();case 12:t.next=16;break;case 14:t.prev=14,t.t0=t.catch(7);case 16:case"end":return t.stop()}},t,this,[[7,14]])}));return function(){return t.apply(this,arguments)}}(),data:function(){return{list:null,glist:null,anchorsList:[],page:null,Anchors_chapter:"章节锚点",Anchors_content:"内容锚点",Anchors_audio:"音频锚点",Anchors_video:"视频锚点",checkedAll:!1,currGroupId:null,currknowledgeId:null,currGroup:{},openAnchorList:!1,anchorType:"章节锚点",anchorList:null,bookInfo:{value:"",lsit:[]},groupDialog:!1,knowledgeDialog:!1,addAnchorDialog:!1,readerDialog:!1,readerId:null,editGroup:{},editKnowledge:{},anchorCheckedAll:!1,mount:{number:0}}},computed:{isBook:function(){return"章节锚点"==this.anchorType||"内容锚点"==this.anchorType}},methods:{getGlist:function(){var t=f(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.detailData.id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,u.listGroup({id:this.detailData.id}).then(function(t){var a=t.data.findIndex(function(t){return e.currGroupId===t.id}),i=a>-1?a:0;e.glist=t.data,e.glist&&e.glist.length>0?(e.currGroupId=t.data[i].id,e.currGroup=t.data[i],e.anchorType="章节锚点",e.getList()):(e.list=e.glist=e.currGroupId=null,e.currGroup={})}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getList:function(){var t=f(i.default.mark(function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments[2];return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.anchorCheckedAll=!1,t.next=3,u.listKnowledge(r({pageNum:a,pageOffset:s},o,{id:this.detailData.id,group_id:this.currGroupId})).then(function(t){n.list=t.data,n.page=t.page}).catch(function(t){var e=t.payload;for(var a in e.messages){n.$message.error(e.messages[a]);break}});case 3:if(e=this.$refs.mainListWrap){t.next=6;break}return t.abrupt("return");case 6:e.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),groupDel:function(t){var e=this;this.$confirm("是否删除该知识结构?").then(function(a){u.deleteGroup({id:[t.id],type:e.detailData.type_number,pid:e.detailData.id}).then(function(t){e.getGlist(),e.$emit("saveok")}).catch(function(t){for(var a in payload.messages){e.$message.error(payload.messages[a]);break}})})},groupEdit:function(t){if(!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");this.editGroup=t,this.groupDialog=!0},KnowledgeEdit:function(t){this.editKnowledge=t,this.knowledgeDialog=!0},groupCommit:function(){var t=f(i.default.mark(function t(){var e,a,s=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.groupFormVa.valiAll()){t.next=2;break}return t.abrupt("return");case 2:if(e=(0,n.default)(this.$refs.groupForm,{hash:!0}),t.prev=3,e.id){t.next=10;break}return e.id=this.detailData.id,t.next=8,u.addGroup(r({},e,{type:this.detailData.type_number,pid:this.detailData.id})).then(function(t){s.groupDialog=!1,s.getGlist(),s.$emit("saveok")});case 8:t.next=12;break;case 10:return t.next=12,u.modifyGroup(r({},e,{type:this.detailData.type_number,pid:this.detailData.id})).then(function(t){s.groupDialog=!1,s.getGlist(),s.$emit("saveok")});case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),a=t.t0.message,this.$message.error(a);case 18:case"end":return t.stop()}},t,this,[[3,14]])}));return function(){return t.apply(this,arguments)}}(),guaZai:function(){var t=f(i.default.mark(function t(){var e,a;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.mount({id:this.detailData.id});case 3:return t.next=5,this.getProgress();case 5:t.next=17;break;case 7:t.prev=7,t.t0=t.catch(0),e=t.t0.payload,t.t1=i.default.keys(e.messages);case 11:if((t.t2=t.t1()).done){t.next=17;break}return a=t.t2.value,this.$message.error(e.messages[a]),t.abrupt("break",17);case 17:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),getProgress:function(){var t=f(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.mountSchedule({id:this.detailData.id},function(t){"100"==t.data.number&&e.getList(),e.mount=r({},t.data,{number:parseInt(t.data.number)})}).then(function(t){e.mount=t.data});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),KnowledgeCommit:function(){var t=this;if(this.$refs.KnowledgeFormVa.valiAll()){var e=(0,n.default)(this.$refs.KnowledgeForm,{hash:!0});try{e.id?u.modifyNowledges(r({},e,{type:this.detailData.type_number,pid:this.detailData.id})).then(function(e){t.knowledgeDialog=!1,t.getList(),t.$emit("saveok")}):(e.t_id=this.detailData.id,e.group_id=this.currGroupId,u.addNowledges(r({},e,{type:this.detailData.type_number,pid:this.detailData.id})).then(function(e){t.knowledgeDialog=!1,t.getGlist(),t.getList(),t.$emit("saveok")}))}catch(t){var a=t.payload;for(var i in a.messages){this.$message.error(a.messages[i]);break}}}},toTop:function(){var t=this,e=[];if(this.$refs.mainListWrap.querySelectorAll("[name='ids']:checked").forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要置顶的内容！");u.upNowledges({id:e}).then(function(e){t.getList()}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},knowDel:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this.$refs.mainListWrap.querySelectorAll("[name='ids']:checked");if(e.length||a.forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要删除的内容！");this.$confirm("是否删除选中知识点?").then(function(a){u.deleteNowledges({id:e,type:t.detailData.type_number,pid:t.detailData.id}).then(function(e){t.getGlist(),t.$emit("saveok")}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})})},removeAnchor:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=this.$refs.anchorList.querySelectorAll("[name='ids']:checked");if(e.length||a.forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要删除的锚点！");this.$confirm("是否删除选中锚点?").then(function(a){u.delAnchor({id:e,type:t.detailData.type_number,pid:t.detailData.id}).then(function(e){t.getAnchorList(),t.$emit("saveok")}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})})},handleSizeChange:function(t){this.getList(1,t)},handleCurrentChange:function(t){this.getList(t,this.page.offset)},changeGroup:function(t){if(this.checkedAll=!1,this.anchorCheckedAll=!1,this.currGroupId=t.id,this.currGroup=t,this.openAnchorList=!1,this.defaultData){var e=this.glist.findIndex(function(e){return e.id===t.id});this.list=this.glist[e].nowledge_info}else this.getList()},getbookList:function(){var t=f(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.listNowledges({id:this.detailData.id}).then(function(t){e.bookInfo.list=t.data}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getBtn:function(){var t,e=this;u.nowledge_btn({id:this.detailData.id}).then((t=f(i.default.mark(function t(a){var r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.anchorsList=a.data,t.t0=i.default.keys(e.anchorsList);case 2:if((t.t1=t.t0()).done){t.next=9;break}if(r=t.t1.value,!e.anchorsList[r]){t.next=7;break}return e.anchorType=e["Anchors_"+r],t.abrupt("break",9);case 7:t.next=2;break;case 9:return t.next=11,e.getbookList();case 11:return t.next=13,e.getAnchorList();case 13:e.openAnchorList=!0;case 14:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},addAnchor:function(){this.addAnchorDialog=!0},setAnchor:function(){var t=f(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.currknowledgeId=e,this.anchorList=[],t.next=4,this.getBtn();case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),changeAnchorType:function(t){this.anchorType=this["Anchors_"+t],this.anchorList=[],this.getAnchorList()},getAnchorList:function(){var t=this;u.nowledge_info({type:this.anchorType,id:this.currknowledgeId}).then(function(e){t.anchorList=e.data}),this.getList()},bookinfoChange:function(t){if("内容锚点"==this.anchorType)return this.readerId=t,void(this.readerDialog=!0);this.addAnchorDialog=!0},bookinfoBlur:function(t){this.bookInfo.value&&!t&&"章节锚点"==this.anchorType?this.addAnchorDialog=!0:this.bookInfo.value&&!t&&"内容锚点"==this.anchorType&&(this.readerId||(this.readerId=this.bookInfo.value),this.readerDialog=!0)},anchorListCancle:function(){this.addAnchorDialog=!1,this.getAnchorList(),this.$emit("saveok")},addAnchorSuccess:function(){this.$message.success("添加锚点成功!"),this.getAnchorList()},isShowAnchors:function(t){return this.anchorType==this["Anchors_"+t]},getAnchorsText:function(t){return this["Anchors_"+t]},checkedAllBtn:function(t,e){this[e]=t.target.checked}}}},303:function(t,e,a){"use strict";a.r(e);var i=a(304),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},304:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=l(a(282)),s=l(a(104)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(290));function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{VaForm:s.default},props:["type","bookInfo","themeId","currknowledgeId","detailData"],created:function(){var t,e=(t=i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.getList();case 1:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}(),data:function(){return{list:null,page:null,query:null,obj:{}}},computed:{},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,i=arguments[2];return o.NowledgesList(r({pageNum:t,pageOffset:a},i,{id:"章节锚点"==this.type?this.bookInfo.value:this.themeId,type:this.type})).then(function(t){e.list=t.data,e.page=t.page})},checkedAll:function(t){var e=this;t.target.checked?this.list.forEach(function(t){e.obj[t.id]=t}):this.list.forEach(function(t){e.obj[t.id]=null}),this.$refs.ids.forEach(function(e){e.checked=t.target.checked}),log(this.obj)},choose:function(t,e){t.target.checked?this.obj[e.id]=e:this.obj[e.id]=null},addAnchorCommit:function(){var t=this,e=[];for(var a in this.obj)this.obj.hasOwnProperty(a)&&this.obj[a]&&e.push(this.obj[a]);o.addAnchor({n_id:this.currknowledgeId,b_id:"章节锚点"==this.type?e.map(function(t){return t.id}):"",c_id:"章节锚点"==this.type?[this.bookInfo.value]:e.map(function(t){return t.id}),type:this.type,name:e.map(function(t){return t.chapter_name||t.name}),ptype:this.detailData.type_number,pid:this.detailData.id}).then(function(e){t.$message.success("添加成功"),t.$emit("anchorListCancle")}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},handleSizeChange:function(t){this.getList(1,t)},handleCurrentChange:function(t){this.getList(t,this.page.offset)},seareHandeler:function(){this.query=(0,n.default)(this.$refs.mainForm,{hash:!0}),log(this.query),this.getList(1,10,this.query)}},filters:{formatHolder:function(t){return t.substr(0,2)+"名称"}}}},305:function(t,e,a){},306:function(t,e,a){"use strict";a.r(e);var i=a(307),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},307:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=a(15),n=(i=r)&&i.__esModule?i:{default:i},s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(450)),o=a(290);function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:{readerDialog:{type:Boolean,default:!1},title:{type:String,default:"阅读器"},readerId:{type:String,default:""},currId:{type:String,default:""},version:{type:String,default:"production"},markBtn:{type:String,default:""}},data:function(){return{}},created:function(){var t=this;this.$nextTick(function(){var e={};e.do_mark=t.do_mark,e.get_chapter=t.get_chapter,e.get_book=t.get_book,new Reader3({imagePath:"http://xcloud.kf.gli.cn/pc/",markBtnText:t.markBtn,copyEnabled:!0,services:e,params:{bookId:t.readerId}}).mount(document.getElementById("readerIframe"),function(){})})},methods:{colse:function(){this.$emit("update:readerDialog",!1)},do_mark:function(t){var e=this,a=t.bookId,i=t.rangeJSON,r=t.selectedText,n=t.chapterRid,s=t.chapterName,l=void 0===s?"":s;(0,o.addAnchor)({name:[l],range:i,point:r,n_id:this.currId,b_id:[n],c_id:[a],type:"内容锚点"}).then(function(t){e.$emit("addAnchorSuccess")}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}})},get_chapter:function(){var t=l(n.default.mark(function t(e){var a=e.bookId,i=e.chapterRid;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get_chapter({bookId:a,chapterRid:i,version:this.version});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),get_book:function(){var t=l(n.default.mark(function t(e){var a=e.bookId;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.get_book({bookId:a,version:this.version});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}},308:function(t,e,a){},309:function(t,e,a){},310:function(t,e,a){"use strict";a.r(e);var i=a(311),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},311:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=b(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=b(a(282)),o=g(a(286)),l=g(a(292)),u=b(a(312)),c=a(287),d=b(a(289)),f=b(a(457)),p=b(a(459)),v=b(a(421)),m=b(a(291)),h=b(a(422));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function b(t){return t&&t.__esModule?t:{default:t}}function _(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["detailData","readOnly","defaultData"],components:{Tab:m.default,Book:f.default,Group:v.default,ContentDetail:u.default,EBook:p.default,Audio:h.default,Knowledge:d.default},data:function(){return{type:"book",soucesType:"1",audioInfo:{},detailAddDialog:!1,bookDialog:!1,groupDialog:!1,infoDialog:!1,currentItem:{},curSoucesList:{},dataList:[],page:null,infoData:{},mediaType:null,optional:[],singleElection:!0,defaultBList:null,defaultEList:null,defaultAList:null,defaultVList:null,defaultRList:null}},created:function(){this.detailData&&this.detailData.id&&this.check(),this.defaultData&&(this.defaultBList=this.defaultData.structure.book,this.defaultEList=this.defaultData.structure.ebooks[0],this.defaultAList=this.defaultData.structure.audios,this.defaultVList=this.defaultData.structure.videos,this.defaultRList=this.defaultData.structure.resources)},computed:{isShowBtn:function(){return this.optional.length>0}},methods:{handleClick:function(t){this.type=t.name},check:function(){var t=this;this.detailData&&o.check({id:this.detailData.id}).then(function(e){t.optional=e.data})},getAudio:function(){var t=this;o.groupList({id:this.detailData.id,type:"1"}).then(function(e){t.audioList=e.data})},detail:function(t,e){"book"!=this.type?"audio"!=this.type||"object"!=(void 0===e?"undefined":n(e))?this.bookDetailInfo(t,t.type):this.addVideo(t):this.addBook(t)},del:function(t,e){var a=this;o.del(r({},t,{type:this.type})).then(function(t){a.getList()})},bookDetailInfo:function(t,e,a){var i=this,r=t.id,n=t.c_id;(0,c._themeDetail)({c_id:n,id:r,type:e}).then(function(t){i.infoData=t.data,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},getList:function(){this.$refs[this.type].getList(this.type),this.check()},query:function(){var t=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(1,this.page.offset,t)},openResources:function(){var t=_(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.singleElection=!0,this.soucesType=e,this.dataList=[],this.page=null,"audio"==this.type?this.curSoucesList=this.$refs.group.list:"e-book"==this.type?(this.singleElection=!1,this.curSoucesList=[]):this.curSoucesList=this.$refs[this.type].list,t.next=7,this.getAddList();case 7:this.detailAddDialog=!0;case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAddList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,i=arguments[2],n=this.soucesType,s=this.$refs.resource.type;if(14==n)switch(s){case"1":n="3";break;case"2":n="5";break;case"3":n="4";break;default:n="3"}l._addBooks(r({pageNum:t,pageOffset:a,type:n},i)).then(function(t){e.dataList=t.data,e.page=t.page})},addBook:function(){var t=_(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.check();case 2:this.currentItem=e||{},this.bookDialog=!0;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),addVideo:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");t||(this.curSoucesList=[]),this.currentItem=t||{},this.groupDialog=!0},saveOk:function(){this.bookDialog=!1,this.getList()},handleSizeChange:function(t){var e=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(1,t,e)},handleCurrentChange:function(t){var e=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(t,this.page.offset,e)},isChecked:function(t){return this.curSoucesList.findIndex(function(e){return e.id===t})>-1},checkAll:function(t,e){document.querySelector("."+e).querySelectorAll('input[name="ids"]').forEach(function(e,a){e.checked=t.target.checked})},addSelection:function(){var t=_(i.default.mark(function t(){var e,a,n,s,l,u,c,d,f=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.detailData.id){t.next=2;break}return t.abrupt("return",this.$message.error("请保存产品信息后再做添加"));case 2:if(e=document.querySelector(".addBookForm"),(a=e.querySelectorAll('input[name="ids"]:checked')).length){t.next=6;break}return t.abrupt("return",this.$message.warning("请选择添加内容"));case 6:n=!0,s=!1,l=void 0,t.prev=9,u=function(){var t=d.value;if(f.curSoucesList.findIndex(function(e){return e.id==t.value})>-1)return"continue";f.curSoucesList.push(r({},f.dataList.find(function(e){return e.id==t.value}),{action:"add"}))},c=a[Symbol.iterator]();case 12:if(n=(d=c.next()).done){t.next=19;break}if("continue"!==u()){t.next=16;break}return t.abrupt("continue",16);case 16:n=!0,t.next=12;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(9),s=!0,l=t.t0;case 25:t.prev=25,t.prev=26,!n&&c.return&&c.return();case 28:if(t.prev=28,!s){t.next=31;break}throw l;case 31:return t.finish(28);case 32:return t.finish(25);case 33:if("audio"!=this.type){t.next=37;break}return this.$refs.group.update(this.curSoucesList),this.detailAddDialog=!1,t.abrupt("return");case 37:if("e-book"!=this.type){t.next=42;break}return t.next=40,this.$refs.ebook.getRelation(this.curSoucesList);case 40:return this.detailAddDialog=!1,t.abrupt("return");case 42:o.add({type:this.type,product_id:this.detailData.id,constitute:this.curSoucesList,resource_type:this.$refs.resource.type}).then(function(t){f.getList(),f.detailAddDialog=!1});case 43:case"end":return t.stop()}},t,this,[[9,21,25,33],[26,,28,32]])}));return function(){return t.apply(this,arguments)}}(),uncheckedAll:function(t){this.singleElection||(this.$refs.ids.forEach(function(t){return t.checked=!1}),t.target.checked=!0)},saveAudioOK:function(){this.$refs.audio.getAudio()},clear:function(){document.getElementById("text").value=""},clear2:function(){document.getElementById("text2").value=""}},watch:{detailData:function(){this.check()}}}},312:function(t,e,a){"use strict";a.r(e);var i=a(545),r=a(313);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(454);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2ec97c58",null);e.default=o.exports},313:function(t,e,a){"use strict";a.r(e);var i=a(314),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},314:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["infoData","mediaType","infoDialog"],data:function(){return{metadata:this.infoData.attributes||[]}},computed:{hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{detailType:function(){return this.infoData.img_status}},created:function(){}}},315:function(t,e,a){},316:function(t,e,a){"use strict";a.r(e);var i=a(317),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},317:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(o(a(282)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(103))),s=a(286);function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:{bookDialog:{type:Boolean,default:!1},item:{type:Object,default:{}},detailData:Object,optional:Array,readOnly:Boolean},data:function(){return{information:{},previewImgUrl:null,metadata:[],radio:"paperback"}},created:function(){Object.entries(this.item).length?this.getInfo():this.radio=this.optional.length&&this.optional[0]||"paperback"},computed:{setTitle:function(){return Object.entries(this.item).length?this.item.name||"修改纸质书":"新增纸质书"}},methods:{getInfo:function(){var t=this;(0,s.bookInfo)({id:this.item.id}).then(function(e){t.information=e.data,t.metadata=e.data.attributes,t.radio=e.data.type}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},colse:function(){this.$emit("update:bookDialog",!1)},save:function(){var t,e=(t=i.default.mark(function t(){var e,a,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(e=this.$refs.fenmian.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,!e){t.next=10;break}return t.next=10,n.getTask(e).then(function(t){o.information.img=t.data.path});case 10:if(this.information.img){t.next=14;break}return this.$message.error("封面必填"),a.close(),t.abrupt("return");case 14:return t.next=16,(0,s.bookSave)(r({},this.information,{attributes:this.metadata,product_id:this.detailData.id,type:this.radio})).then(function(t){a.close(),o.$emit("saveok")});case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(6),t.t0.payload,a.close();case 22:case"end":return t.stop()}},t,this,[[6,18]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}(),previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,e?this.previewPhotoUrl=URL.createObjectURL(a):this.previewImgUrl=URL.createObjectURL(a)},syncInfo:function(){var t=this;this.$refs.isbn.value&&n.synchronization({id:this.$refs.isbn.value}).then(function(e){log(e);var a=e.data,i=a.bookname,r=(a.writer,a.isbn),n=a.price,s=a.price_min,o=a.weight,l=a.isbn_ext;switch(a.bookbinding){case"平":t.radio="paperback";break;case"精":t.radio="hardcover";break;case"软":t.radio="soft_hardcover";break;case"线":t.radio="thread_bound"}t.information={name:i,book_isbn:r,price:n,sales_price_min:s,book_isbn_extension:l,book_weight:o}}).catch(function(e){var a=e.payload;for(var i in log(111,a),log(a),a.messages){t.$message.error(a.messages[i]);break}})},isShow:function(t){return!(this.optional.indexOf(t)>-1)}}}},318:function(t,e,a){},319:function(t,e,a){"use strict";a.r(e);var i=a(320),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},320:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(o(a(282)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(286))),s=(a(103),a(287));function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},activeName:"first",metadata:[],shopMetadata:[],book_id:null,retailer_id:null,constitute_id:null,ebook_shop:{},current_id:null}},created:function(){this.detailData&&this.detailData.id&&this.getEBook(),this.defaultData&&(this.information=this.defaultData,this.metadata=this.defaultData.attributes,this.ebook_shop=this.defaultData.ebook_shop||{},this.shopMetadata=this.defaultData.ebook_shop?this.defaultData.ebook_shop.attributes:[])},methods:{getEBook:function(){var t=this;n.getEBook({id:this.detailData.id}).then(function(e){var a=e.data||{};t.information=a,t.current_id=a.id,a.length||Object.entries(a).length?(t.constitute_id=a.constitute_id,t.book_id=a.book_id,t.metadata=a.attributes||[],t.ebook_shop=a.ebook_shop||{},a.ebook_shop&&(t.retailer_id=a.ebook_shop.id,t.shopMetadata=a.ebook_shop.attributes||[])):t.retailer_id=t.constitute_id=null})},getRelation:function(t){var e=this;if(t.length){var a=t[0],i=a.c_id,r=a.id,n=a.type;log(i,r,n),(0,s._themeDetail)({c_id:i,id:r,type:n}).then(function(t){e.information=t.data,e.metadata=e.information.attributes,e.constitute_id=null,e.book_id=r,log(e.information)}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}})}},submit:function(){var t,e=(t=i.default.mark(function t(){var e,a,s,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return",this.$message.error("电子书信息不全!"));case 3:return log(r({},this.information,this.ebook_shop,{book_id:this.book_id,components_id:this.detailData.id,attributes:this.metadata,shop_attributes:this.shopMetadata,constitute_id:this.constitute_id,retailer_id:this.retailer_id,current_id:this.current_id})),e=this.$progress(),t.prev=5,t.next=8,n.saveEBook(r({},this.information,this.ebook_shop,{book_id:this.book_id,components_id:this.detailData.id,attributes:this.metadata,shop_attributes:this.shopMetadata,constitute_id:this.constitute_id,retailer_id:this.retailer_id,id:this.information.id,current_id:this.current_id})).then(function(t){!o.current_id&&t.data&&(o.current_id=t.data.id)});case 8:this.$message.success("保存成功"),t.next=21;break;case 11:t.prev=11,t.t0=t.catch(5),a=t.t0.payload,t.t1=i.default.keys(a.messages);case 15:if((t.t2=t.t1()).done){t.next=21;break}return s=t.t2.value,this.$message.error(a.messages[s]),t.abrupt("break",21);case 21:e.close();case 22:case"end":return t.stop()}},t,this,[[5,11]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}}}},321:function(t,e,a){},322:function(t,e,a){"use strict";a.r(e);var i=a(323),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},323:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(286)),s=a(291),o=(i=s)&&i.__esModule?i:{default:i};e.default={components:{Tab:o.default},props:{groupDialog:{type:Boolean,default:!1},detailData:Object,item:{type:Object,default:{}},isMedia:{type:Number,default:1},onlyShow:Boolean,defaultData:Object},data:function(){return{information:{},list:[],addMediaType:"4"}},created:function(){Object.entries(this.item).length&&this.defaultData,this.information=this.item,this.list=this.item.children||[],2==this.isMedia&&(this.addMediaType="5")},computed:{setTitle:function(){return Object.entries(this.item).length?this.item.name||"修改组":"新增组"}},methods:{getInfo:function(){var t=this;n.groupDetail({id:this.item.id,type:this.isMedia}).then(function(e){t.information=e.data,t.list=e.data.constitute}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},update:function(t){this.list=t},colse:function(){this.$emit("update:groupDialog",!1)},save:function(){var t=this;this.$refs.detailForm.valiAll()&&n.groupSave(r({id:this.item?this.item.id:""},this.information,{product_id:this.detailData.id,type:this.isMedia,constitute:this.list})).then(function(e){log(e),t.$message.success("保存成功"),t.$emit("save"),t.colse()}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},del:function(t){var e=this.list.findIndex(function(e){return e.id===t.id});e>-1&&this.list.splice(e,1)}}}},324:function(t,e,a){"use strict";a.r(e);var i=a(325),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},325:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=a(282),n=((i=r)&&i.__esModule,function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(286)));e.default={props:["dataType","isShow","detailData","defaultList","isLabelHide","onlyShow"],data:function(){return{services:n,type:"1",list:[]}},created:function(){this.defaultList?this.list=this.defaultList:this.getList(this.dataType)},computed:{},methods:function(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}({handleClick:function(){},getList:function(t){var e=this;this.detailData&&this.detailData.id&&this.services.getList({type:t,id:this.detailData.id,resource_type:this.type}).then(function(t){e.list=t.data})}},"handleClick",function(t){log(t)}),watch:{defaultList:function(){this.list=this.defaultList},type:function(t){this.getList(this.dataType)}}}},326:function(t,e,a){},327:function(t,e,a){},328:function(t,e,a){"use strict";a.r(e);var i=a(329),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},329:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(286));e.default={props:{detailData:Object,media:{type:Number,default:1},readOnly:{type:Boolean,default:!1},defaultData:Array},data:function(){return{audioList:[]}},created:function(){this.detailData&&this.detailData.id&&this.getAudio(),this.defaultData&&(this.audioList=this.defaultData)},computed:{},methods:{getAudio:function(){var t=this;r.groupList({id:this.detailData.id,type:this.media}).then(function(e){t.audioList=e.data})},del:function(t,e){var a=this,n=null,s=null;"object"==i(t.children)?n=t.id:(n=e.parent.data.id,s=t.id),log(n),r.audioDel({id:n,resource_id:s,product_id:this.detailData.id}).then(function(t){a.getAudio()})}}}},330:function(t,e,a){},331:function(t,e,a){},332:function(t,e,a){},333:function(t,e,a){"use strict";a.r(e);var i=a(334),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},334:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=m(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=m(a(467)),o=m(a(291)),l=m(a(422)),u=m(a(421)),c=m(a(284)),d=m(a(312)),f=m(a(289)),p=a(287),v=a(103);function m(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:s.default,Tab:o.default,Resource:c.default,ContentDetail:d.default,Audio:l.default,Group:u.default,Knowledge:f.default},props:{type:String,detailData:Object,detailDialog:Boolean,services:Object,media:{type:Number,default:1},defaultData:Object,readOnly:Boolean},created:function(){this.curSoucesList=this.detailData&&this.detailData.constitute||this.defaultData&&this.defaultData.structure||[],this.defaultData&&(this.defaultAList=this.defaultData.structure)},data:function(){return{resourceDialog:!1,curSoucesList:[],infoDialog:!1,infoData:null,metadata:[],currentItem:{},groupDialog:!1,defaultAList:null}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name},detail:function(t,e){if("object"==(void 0===e?"undefined":n(e)))return this.curSoucesList=t.children,void this.addVideo(t);this.bookDetailInfo(t,t.type)},del:function(t){var e=this.curSoucesList.findIndex(function(e){return e.id===t.id});e>-1&&this.curSoucesList.splice(e,1)},bookDetailInfo:function(t,e){var a=this,i=t.id,r=t.c_id;(0,p._themeDetail)({c_id:r,id:i,type:e}).then(function(t){a.infoData=t.data,a.infoDialog=!0}).catch(function(t){var e=t.payload;for(var i in e.messages){a.$message.error(e.messages[i]);break}})},openResources:function(t){this.resourceDialog=!0,log(t),this.resourceType=t},addSelcet:function(t){this.$refs.group.update(t),this.curSoucesList=t,this.resourceDialog=!1},addVideo:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");t||(this.curSoucesList=[]),this.currentItem=t||{},this.groupDialog=!0},saveAudioOK:function(){this.$refs.audio.getAudio(),this.$emit("saveok")},submitDetail:function(){var t,e=(t=i.default.mark(function t(){var e,a,n,s,o,l,u=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.info.$refs.fenmian.files[0],a=this.$refs.info.$refs.detailForm.valiAll(),n=this.$refs.info.information,a){t.next=5;break}return t.abrupt("return",this.$message.error("请完善产品信息后再提交!"));case 5:if(this.curSoucesList.length){t.next=7;break}return t.abrupt("return",this.$message.error("产品结构必传!"));case 7:if(s=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=8,!e){t.next=12;break}return t.next=12,(0,v.getTask)(e).then(function(t){n.img=t.data.path});case 12:if(n.img){t.next=14;break}return t.abrupt("return",this.$message.error("请上传封面!"));case 14:return t.next=16,this.services.save(r({id:this.detailData.id},n,{constitute:this.curSoucesList,attributes:{xRead:this.$refs.info.retailers},pro_attributes:this.$refs.info.metadata})).then(function(t){u.$message.success("保存成功"),s.close(),u.$emit("saveok",t.data)});case 16:t.next=29;break;case 18:t.prev=18,t.t0=t.catch(8),o=t.t0.payload,s.close(),t.t1=i.default.keys(o.messages);case 23:if((t.t2=t.t1()).done){t.next=29;break}return l=t.t2.value,this.$message.error(o.messages[l]),t.abrupt("break",29);case 29:case"end":return t.stop()}},t,this,[[8,18]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},335:function(t,e,a){"use strict";a.r(e);var i=a(336),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},336:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(s(a(282)),a(103));function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","services","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{},xRead:{},activeName:"1",metadata:[]}},created:function(){log("------",this.readOnly),this.detailData&&Object.entries(this.detailData).length&&this.getInfo(),this.defaultData&&(this.retailers=this.defaultData.retailers||{},this.information=this.defaultData.base||{},this.xRead=this.defaultData.xread||{},this.metadata=this.defaultData.attributes||[])},methods:{getInfo:function(){var t=this;this.services.getInfo({id:this.detailData.id}).then(function(e){t.retailers=e.data.retailers,t.information=e.data,t.xRead=e.data["x-read"],t.metadata=e.data.pro_attributes||[]})},previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,this.previewImgUrl=URL.createObjectURL(a)},submitDetail:function(){var t,e=(t=i.default.mark(function t(){var e,a,s,o,l=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.fenmian.files[0],this.$refs.detailForm.valiAll()){t.next=4;break}return t.abrupt("return");case 4:if(a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=5,!e){t.next=9;break}return t.next=9,(0,n.getTask)(e).then(function(t){l.information.img=t.data.path});case 9:return t.next=11,this.services.save(r({id:this.detailData.id},this.information,{attributes:{xRead:this.xRead,eCommerce:this.retailers},pro_attributes:this.metadata})).then(function(t){a.close(),l.$message.success("保存成功"),l.$emit("saveok",t.data)});case 11:t.next=24;break;case 13:t.prev=13,t.t0=t.catch(5),s=t.t0.payload,a.close(),t.t1=i.default.keys(s.messages);case 18:if((t.t2=t.t1()).done){t.next=24;break}return o=t.t2.value,this.$message.error(s.messages[o]),t.abrupt("break",24);case 24:case"end":return t.stop()}},t,this,[[5,13]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},337:function(t,e,a){},338:function(t,e,a){},339:function(t,e,a){"use strict";a.r(e);var i=a(340),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},340:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a(15)),r=o(a(290)),n=l(a(341)),s=o(a(287));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={components:{Info:n.default},props:{type:{type:String,default:"info"},isKnowledge:{type:Boolean,default:!1},isMetadata:{type:Boolean,default:!0},isAuthor:{type:Boolean,default:!0},item:Object,defaultData:Object},data:function(){return{currGroupId:null,currGroup:null,detailId:"",gList:null,list:null,infoDialog:!1,infoData:{},infoValue:"detail",detailData:{}}},created:function(){this.defaultData&&(this.detailData=this.defaultData,this.gList=this.detailData.knowledge,this.currGroup=this.gList[0],this.list=this.gList[0]?this.gList[0].nowledge_info:[])},methods:{handleClick:function(t,e){"Knowledge"===t.name&&this.gList},handKnowledgeClick:function(t){this.currGroupId=t.id,this.currGroup=t;var e=this.gList.findIndex(function(e){return e.id===t.id});this.list=this.gList[e].nowledge_info},getGlist:function(){var t=u(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.listGroup({id:this.item.entity_id||this.item.foreign_id}).then(function(t){var a=t.data.findIndex(function(t){return e.currGroupId===t.id}),i=a>-1?a:0;e.gList=t.data,t.data&&t.data.length>0?(e.currGroupId=t.data[i].id,e.currGroup=t.data[i],e.getList()):log("暂无分组!")}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getList:function(){var t=u(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.listKnowledge({id:this.item.entity_id||this.item.foreign_id,group_id:this.currGroupId}).then(function(t){e.list=t.data,e.page=t.page}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),infoHandleClick:function(t){this.infoValue=t.name},bookDetailInfo:function(t,e,a){var i=this,r=t.content,n=r.id,o=r.c_id;s._themeDetail({c_id:o,id:n,type:e}).then(function(t){i.infoData=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})}}}},341:function(t,e,a){"use strict";a.r(e);var i=a(538),r=a(342);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(471);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"03bdad44",null);e.default=o.exports},342:function(t,e,a){"use strict";a.r(e);var i=a(343),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},343:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(78),r(a(282)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);e.default=t}(a(428));var i=r(a(420));function r(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","infoData","infoDialog","isAuthor"],data:function(){return{readerDialog:!1,readerId:null}},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{handleClick:function(t,e){this.$emit("infoClick",t)},openReader:function(t){log(t),this.readerId=t.b_id,this.readerDialog=!0}},components:{Reader:i.default}}},344:function(t,e,a){},345:function(t,e,a){},346:function(t,e,a){"use strict";a.r(e);var i=a(347),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},347:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(423)),s=p(a(474)),o=p(a(291)),l=p(a(284)),u=p(a(289)),c=a(287),d=p(a(312)),f=a(103);function p(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:s.default,Tab:o.default,Resource:l.default,ContentDetail:d.default,Knowledge:u.default},props:{type:String,detailData:Object,detailDialog:Boolean,defaultData:Object,readOnly:Boolean},created:function(){this.curSoucesList=this.detailData&&this.detailData.constitute||this.defaultData&&this.defaultData.structure||[]},data:function(){return{resourceDialog:!1,curSoucesList:[],infoDialog:!1,infoData:null}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name},detail:function(t){this.bookDetailInfo(t,t.type)},del:function(t){var e=this.curSoucesList.findIndex(function(e){return e.id===t.id});e>-1&&this.curSoucesList.splice(e,1)},bookDetailInfo:function(t,e){var a=this,i=t.id,r=t.c_id;(0,c._themeDetail)({c_id:r,id:i,type:e}).then(function(t){a.infoData=t.data,a.infoDialog=!0}).catch(function(t){var e=t.payload;for(var i in e.messages){a.$message.error(e.messages[i]);break}})},openResources:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");this.resourceDialog=!0,this.resourceType=t},addSelcet:function(t){var e=this;n.add({product_id:this.detailData.id,constitutes:t}).then(function(a){e.curSoucesList=t,e.resourceDialog=!1}).catch(function(t){t.payload;e.$message.error("添加失败")})},submitDetail:function(){var t,e=(t=i.default.mark(function t(){var e,a,s,o,l,u,c=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.info.$refs.fenmian.files[0],a=this.$refs.info.$refs.detailForm.valiAll(),s=this.$refs.info.information,a){t.next=5;break}return t.abrupt("return",this.$message.error("请完善产品信息后再提交!"));case 5:if(o=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,!e){t.next=10;break}return t.next=10,(0,f.getTask)(e).then(function(t){s.img=t.data.path});case 10:if(s.img){t.next=13;break}return o.close(),t.abrupt("return",this.$message.error("请上传封面!"));case 13:return t.next=15,n.save(r({id:this.detailData.id},s,{attributes:{xRead:this.$refs.info.xRead},pro_attributes:this.$refs.info.metadata})).then(function(t){c.$message.success("保存成功"),o.close(),c.$emit("saveok",t.data)});case 15:t.next=28;break;case 17:t.prev=17,t.t0=t.catch(6),l=t.t0.payload,o.close(),t.t1=i.default.keys(l.messages);case 22:if((t.t2=t.t1()).done){t.next=28;break}return u=t.t2.value,this.$message.error(l.messages[u]),t.abrupt("break",28);case 28:case"end":return t.stop()}},t,this,[[6,17]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},348:function(t,e,a){"use strict";a.r(e);var i=a(349),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},349:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(o(a(282)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(423))),s=a(103);function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{},xRead:{},activeName:"1",metadata:[]}},created:function(){this.detailData&&(this.information=this.detailData,this.xRead=this.detailData["x-read"]||{},this.metadata=this.detailData.pro_attributes||[]),this.defaultData&&(this.information=this.defaultData.base||{},this.xRead=this.defaultData.xread||{},this.metadata=this.defaultData.attributes||[])},methods:{previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,this.previewImgUrl=URL.createObjectURL(a)},submitDetail:function(){var t,e=(t=i.default.mark(function t(){var e,a,o,l,u=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.fenmian.files[0],this.$refs.detailForm.valiAll()){t.next=4;break}return t.abrupt("return");case 4:if(a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=5,!e){t.next=9;break}return t.next=9,(0,s.getTask)(e).then(function(t){u.information.img=t.data.path});case 9:return t.next=11,n.save(r({id:this.detailData.id},this.information,{attributes:{xRead:this.retailers}})).then(function(t){log(t),u.$message.success("保存成功"),a.close(),u.$emit("saveok",t.data)});case 11:t.next=24;break;case 13:t.prev=13,t.t0=t.catch(5),o=t.t0.payload,a.close(),t.t1=i.default.keys(o.messages);case 18:if((t.t2=t.t1()).done){t.next=24;break}return l=t.t2.value,this.$message.error(o.messages[l]),t.abrupt("break",24);case 24:case"end":return t.stop()}},t,this,[[5,13]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},350:function(t,e,a){},351:function(t,e,a){},352:function(t,e,a){"use strict";a.r(e);var i=a(353),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},353:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=o(a(478)),n=o(a(482)),s=o(a(488));function o(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:r.default,Hour:n.default,Exercise:s.default},props:["type","detailData","defaultData","detailDialog","readOnly","services","hourSever","exerciseSever"],beforeCreate:function(){},data:function(){return{infoDate:{},hourDate:[],exerciseDate:[],priceDate:{}}},created:function(){var t=this.detailData||this.defaultData;this.infoDate=t||{},this.hourDate=t.course_period_list||[],this.exerciseDate=t.examination_paper_list||[],this.priceDate=t.price||{}},methods:{exerciseChange:function(t){var e=this;this.exerciseSever.getList({id:this.detailData.id}).then(function(t){e.exerciseDate=t.data})},hourChange:function(){var t=this;this.hourSever.getList({course_id:this.detailData.id}).then(function(e){t.hourDate=e.data})},savePrice:function(){var t=this;if(!this.detailData.id)return this.$message.warning("请先保存基本信息后再保存!");this.services.savePrice(i({id:this.detailData.id},this.priceDate)).then(function(e){t.$message.success("价格保存成功!")})},restprice:function(){var t=this;this.services.getPrice({id:this.detailData.id}).then(function(e){t.priceDate=e.data})}}}},354:function(t,e,a){"use strict";a.r(e);var i=a(355),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},355:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(o(a(282)),o(a(479))),s=a(103);function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","infoDate","services"],data:function(){return{information:this.infoDate,previewImgUrl:null,imageCropperDialog:!1,oldBlob:null,file:null,timePick:null}},components:{TimePicks:n.default},created:function(){if(this.information){var t=this.information,e=t.effective_duration_start,a=t.effective_duration_end;e&&a&&(this.timePick=[e,a])}},methods:{previewImg:function(t,e){var a=this,i=t.target;this.file=i.files[0],this.imgFile=URL.createObjectURL(this.file),this.$ImageSize({file:this.file,ratio:1.6}).then(function(t){a.previewImgUrl=URL.createObjectURL(a.file)},function(t){201!=t.status?a.$message.error(t.message):a.imageCropperDialog=!0})},submitInfo:function(){var t,e=(t=i.default.mark(function t(){var e,a,n,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=this.$refs.fenmian.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),n=r({},this.information),!e){t.next=10;break}return this.oldBlob&&((e=this.oldBlob).name=this.file.name),t.next=10,(0,s.getTask)(e).then(function(t){n.img=t.data.path});case 10:return t.next=12,this.services.save(n).then(function(t){o.detailData.id||(o.information=t.data),a.close(),o.$message.success("操作成功!"),o.$emit("saveok",t.data)}).catch(function(t){a.close(),o.$message({message:t.message||"错误!",type:"error"})});case 12:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}(),preview:function(t){this.previewImgUrl=URL.createObjectURL(t),this.oldBlob=t,this.imageCropperDialog=!1},getTime:function(t){t||(t=["",""]),this.information.effective_duration_start=t[0],this.information.effective_duration_end=t[1]}}}},356:function(t,e,a){"use strict";a.r(e);var i=a(357),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},357:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["inputsName","placeholder","value"],data:function(){return{timePick:this.value,start:"开始日期",end:"结束日期"}},created:function(){this.placeholder&&(this.start=this.placeholder[0]||this.start,this.end=this.placeholder[1]||this.end)},methods:{}}},358:function(t,e,a){},359:function(t,e,a){},360:function(t,e,a){"use strict";a.r(e);var i=a(361),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},361:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(a(15)),r=(n(a(282)),a(103),n(a(483)));function n(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["detailData","readOnly","hourDate","services"],components:{HourInfo:r.default},data:function(){return{hourInfoDialog:!1,list:this.hourDate}},created:function(){},methods:{delChoosen:function(t){var e=this,a=[];a.push(t),a.length>0&&this.$confirm("是否删除?").then(function(t){e.services.del({id:a}).then(function(t){e.$emit("change"),e.$message.success("操作成功!")})}).catch(function(t){})},showHour:function(){var t=s(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=10;break}if(this.currentHour=e,!this.services){t.next=7;break}return t.next=5,this.getInfo();case 5:t.next=8;break;case 7:this.currentHour=e;case 8:t.next=13;break;case 10:if(this.detailData.id){t.next=12;break}return t.abrupt("return",this.$message.warning("请先保存基本信息后再保存!"));case 12:this.currentHour={};case 13:this.hourInfoDialog=!0;case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getInfo:function(){var t=s(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.services.getInfo({id:this.currentHour.id}).then(function(t){e.hourInfoDialog&&e.$refs.info.updateList(t.data),e.currentHour=t.data});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),saveok:function(t){this.currentHour.id||(this.currentHour=t),this.$emit("change")},sort:function(t,e){var a=this;this.services.sort({course_id:this.detailData.id,course_period_id:t.id,type:e}).then(function(t){a.$emit("change"),a.$message.success("操作成功!")})},restList:function(){this.getInfo(),this.$emit("restprice")}},watch:{hourDate:function(t){this.list=t}},filters:{formateText:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return t.length>e?t.substr(0,e)+"...":t}}}},362:function(t,e,a){"use strict";a.r(e);var i=a(363),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},363:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(s(a(282)),a(103),s(a(484)));function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={components:{planInfo:n.default},props:["detailData","readOnly","currentHour","hourInfoDialog","services"],data:function(){return{information:{},planInfoDialog:!1,currentPlan:null,list:[]}},created:function(){this.information=r({},this.currentHour)},methods:{colse:function(){this.$emit("update:hourInfoDialog",!1)},showPlan:function(){var t=o(i.default.mark(function t(e){var a=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=9;break}if(!this.services){t.next=6;break}return t.next=4,this.services.getPlanInfo({id:e.id}).then(function(t){a.currentPlan=t.data});case 4:t.next=7;break;case 6:this.currentPlan=e;case 7:t.next=10;break;case 9:this.currentPlan={};case 10:this.planInfoDialog=!0;case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),submitInfo:function(){var t=o(i.default.mark(function t(){var e,a,n=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:return e=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),a=r({},this.information,{course_id:this.detailData.id}),t.next=7,this.services.save(a).then(function(t){e.close(),n.$message.success("操作成功!"),n.$emit("saveok",t.data)}).catch(function(t){e.close(),n.$message({message:t.message||"错误!",type:"error"})});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),delChoosen:function(t){var e=this,a=[];if(t)a.push(t);else{var i=Array.from(document.querySelectorAll('input[name="ids"]:checked'));if(i.forEach(function(t){a.push(t.value)}),!i.length)return void this.$message.error("请先选中!")}a.length>0&&this.$confirm("是否删除?").then(function(t){e.services.delPlan({id:a}).then(function(t){e.$emit("restList")})}).catch(function(t){})},updateList:function(t){this.information=t}},watch:{currentHour:function(t){this.information=t}}}},364:function(t,e,a){"use strict";a.r(e);var i=a(365),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},365:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(n(a(282)),a(103),n(a(284)));function n(t){return t&&t.__esModule?t:{default:t}}e.default={props:["currentPlan","readOnly","currentHour","planInfoDialog","services","detailData"],components:{Resource:r.default},data:function(){return{information:{resources:[]},previewImgUrl:null,resourceDialog:!1,value2:null,list:[{name:"计划一",id:"12"}],parameter:null}},created:function(){this.information=i({},this.currentPlan,{resources:this.currentPlan.constitute||this.currentPlan.teaching_plan_info||[]})},methods:{colse:function(){this.$emit("update:planInfoDialog",!1)},submitInfo:function(){var t=this;if(this.$refs.detailForm.valiAll()){var e=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),a=i({},this.information);a.resources=this.information.resources.map(function(t){return{id:t.id,type:t.type}}),delete a.constitute;var r=i({},a,{period_id:this.currentHour.id,course_id:this.detailData.id});this.services.savePlan(r).then(function(a){e.close(),t.$message.success("操作成功!"),t.$emit("saveok",a.data)}).catch(function(a){e.close(),t.$message({message:a.message||"错误!",type:"error"})})}},addSelcet:function(t){log(t),this.information.resources=t,this.resourceDialog=!1},delChoosen:function(t){var e=this.information.resources.findIndex(function(e){return e.id===t});e>-1&&this.information.resources.splice(e,1)},relation:function(){this.parameter={course_id:this.detailData.id},this.resourceDialog=!0}}}},366:function(t,e,a){},367:function(t,e,a){},368:function(t,e,a){},369:function(t,e,a){"use strict";a.r(e);var i=a(370),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},370:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(n(a(282)),a(103),n(a(489)));function n(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={props:["detailData","readOnly","exerciseDate","hourDate","services"],components:{ExerciseInfo:r.default},data:function(){return{information:{},exerciseDialog:!1,classHour:this.hourDate,currentExerise:null,list:[],selecetArray:[]}},created:function(){var t=this;this.exerciseDate.forEach(function(e){t.$set(e,"isShow",!1)}),this.list=[].concat(s(this.exerciseDate),s(this.list)),this.selecetArray=this.list.map(function(t){return t.period_id})},methods:{getInfo:function(){var t=this;this.services.getInfo({id:this.detailData.id}).then(function(e){t.information=e.data,t.retailers=e.data.retailers,t.xRead=e.data["x-read"],t.metadata=e.data.pro_attributes})},openDetail:function(t){this.currentExerise=t,this.exerciseDialog=!0},add:function(){this.list.push({name:"",id:"",is_auto:!0,isShow:!0,action:"add"})},save:function(t){var e=this;if(!this.detailData.id)return this.$message.warning("请先保存基本信息后再保存!");this.services.save(i({},t,{course_id:this.detailData.id})).then(function(t){e.services.getList({id:e.detailData.id}).then(function(t){e.$emit("change")})})},delChoosen:function(t,e){var a=this,i=[];t?(i.push(t),i.length>0&&this.$confirm("是否删除?").then(function(t){a.services.del({id:i}).then(function(t){a.$emit("change")})}).catch(function(t){})):this.list.splice(e,1)},modify:function(t){t.id&&(t.isShow=!t.isShow)},selecet:function(t,e){this.list[t].is_auto=e},isDisabled:function(t,e){return this.selecetArray.includes(t.id)}},watch:{exerciseDate:function(t){var e=this,a=[];t.forEach(function(t){t.id&&(e.$set(t,"isShow",!1),a.push(t.period_id))}),this.selecetArray=a,this.list=t},hourDate:function(t){this.classHour=t}}}},371:function(t,e,a){"use strict";a.r(e);var i=a(372),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},372:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(a(282));var i=s(a(490)),r=s(a(501)),n=s(a(284));a(430);function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","currentExerise","exerciseDialog","services"],components:{ExerciseInfo:i.default,Resource:n.default,ExerciseDetail:r.default},data:function(){return{exerciseList:[],detailDialog:!1,currentDate:null,currentDateIndex:null,resourceDialog:!1,ExerciseInfoDialog:!1,curSoucesList:[],resourceType:"19",parameter:{},idName:"tp_constitute_id"}},created:function(){var t=this;this.services?this.services.getInfos({id:this.currentExerise.id}).then(function(e){t.exerciseList=e.data.practice_list||[]}):(log(this.currentExerise),this.exerciseList=this.currentExerise.practice_list)},methods:{colse:function(){this.$emit("update:exerciseDialog",!1)},getAnswer:function(t){return"judgment"==t.question_type?t.answer&&"false"!==t.answer?"正确":"错误":"multi"==t.question_type?t.answer.replace(/,/g,""):t.answer},saveExamin:function(t){Object.entries(this.currentDate).length?this.$set(this.exerciseList,this.currentDateIndex,t):this.exerciseList.push(t),this.ExerciseInfoDialog=!1},saveInfo:function(){var t=this;this.services.saveExercises({questions:this.exerciseList,paper_id:this.currentExerise.id}).then(function(e){t.$message.success("保存成功!")},function(e){t.$message.error("保存失败")})},detail:function(t,e){this.currentDate=t||{};var a=this.exerciseList.findIndex(function(e){return t&&e.id&&e.id===t.id});this.currentDateIndex=a>-1?a:e,this.currentDateIndex,t&&t.id?this.detailDialog=!0:this.ExerciseInfoDialog=!0},del:function(t,e){var a=this;this.$confirm("是否删除?").then(function(t){var i=a.exerciseList.findIndex(function(t){return t.id})||e;a.exerciseList.splice(i,1)}).catch(function(t){})},sort:function(t,e){var a=this.exerciseList.findIndex(function(e){return e.id==t.id}),i="up"==e?-1:1,r=this.exerciseList;r.splice.apply(r,[a,1].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(r.splice(a+i,1,r[a]))))},add:function(t,e){this.resourceType="19",this.idName="tp_constitute_id";var a=this.exerciseList.findIndex(function(e){return e.id===t.id});this.currentDateIndex=a>-1?a:e,this.curSoucesList=t.tp_constitute_info||[],this.resourceDialog=!0,this.parameter.course_id=this.detailData.id},addExercise:function(){this.resourceType="31",this.curSoucesList=[],this.currentDate={},this.idName="",this.resourceDialog=!0,this.parameter.course_id=this.detailData.id},addSelcet:function(t){var e=this;"19"==this.resourceType?(this.exerciseList[this.currentDateIndex].tp_constitute_info=t,this.exerciseList[this.currentDateIndex].tp_constitute_id=t.map(function(t){return t.tp_constitute_id})):t.forEach(function(t){e.saveExamin(t)}),this.resourceDialog=!1},delConstitute:function(t,e,a){log(e,e.tp_constitute_info),this.$confirm("你真的要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=e.tp_constitute_info||[],i=a.findIndex(function(e){return t.id===e.id}),r=e.tp_constitute_id||[],n=r.findIndex(function(e){return t.id===e.id});r.splice(n,1),a.splice(i,1)}).catch(function(){})}},computed:{totalScore:function(){var t=0;return this.exerciseList.forEach(function(e){t+=e.score}),t}},filters:{numberToChinese:function(t){if(!/^\d*$/.test(t))return"Null";"number"==typeof t&&(t=t.toString());var e=new RegExp("([0]*)([1-9]+[0-9]+)","g"),a="千百十亿千百十万千百十个";if((t=t.replace(e,"$2")).length>a.length)return"Null";var i="",r=t.length;a=a.substr(a.length-r);for(var n=0;n<r;n++)i+="零一二三四五六七八九".charAt(t[n])+a.charAt(n);for(var s=(i=(i=i.substr(0,i.length-1)).replace(/零(千|百|十)/g,"零").replace(/(零)+/g,"零").replace(/零(亿|万)/g,"$1")).length-1;s>0&&"零"==i[s];s--)i=i.replace(i[s],"");return i},numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]}}}},373:function(t,e,a){"use strict";a.r(e);var i=a(374),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},374:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=o(a(491)),n=o(a(498)),s=a(430);function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["currentExerise","exerciseDialog"],components:{Ueditor:r.default,FileUpload:n.default},data:function(){return{answerType:[{label:"单选题",value:"single"},{label:"多选题",value:"multi"},{label:"主观题",value:"subjective_item"},{label:"判断题",value:"judgment"},{label:"填空题",value:"fill"}],answerLevel:[{label:"简单",value:"easy"},{label:"一般",value:"general"},{label:"困难",value:"difficulty"}],scoreList:[1,2,3,4,5,6,7,8,9,10],defaultOption:[{title:"",isAnswer:!1},{title:"",isAnswer:!1},{title:"",isAnswer:!1},{title:"",isAnswer:!1}],groupList:[],currentDetail:JSON.parse(JSON.stringify(this.currentExerise))}},created:function(){Object.entries(this.currentDetail).length||(this.currentDetail={score:2,level:"easy",question_type:"single"}),this.currentDetail.option&&(this.defaultOption=this.currentDetail.option),this.listGroup()},mounted:function(){this.$nextTick(function(){})},methods:{listGroup:function(){var t=this;(0,s.listGroup)().then(function(e){t.groupList=e.data})},colse:function(){this.$emit("update:exerciseDialog",!1)},addOption:function(){if(this.defaultOption.length>26)return this.$message.warning("禁止添加太多!");this.defaultOption.push({title:"",isAnswer:!1,action:"add"})},removeOption:function(t){var e=this;if(this.defaultOption.length<=2)return this.$message.warning("选择项不能少于2项");this.$confirm("是否删除?").then(function(a){e.defaultOption.splice(t,1)}).catch(function(t){})},save:function(){var t=this;if(this.$refs.detailForm.valiAll()){var e=[];if("single"==this.currentDetail.question_type||"multi"==this.currentDetail.question_type){for(var a in this.defaultOption)!0!==this.defaultOption[a].isAnswer&&"true"!==this.defaultOption[a].isAnswer||e.push(this.numberToLetter(a));e=e.join(",")}else e=this.currentDetail.answer;if(!this.currentDetail.score)return this.$message.error("分数不能为空!");if("subjective_item"!=this.currentDetail.question_type&&0==e.length)return this.$message.error("答案不能为空!");var r=this.answerType.find(function(e){return e.value==t.currentDetail.question_type}).label;this.$emit("save",i({},this.currentDetail,{option:this.defaultOption,answer:e,question_type_name:r}))}},selecet:function(t,e){"single"==this.currentDetail.question_type&&this.defaultOption.forEach(function(t){return t.isAnswer=!1}),this.defaultOption[t].isAnswer=e},change:function(t,e,a){a.img=t,a.img_src=e},uechange:function(t,e,a){t[e]=a},numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]},slecetChange:function(){this.currentDetail.answer="","single"==this.currentDetail.question_type&&(this.defaultOption.forEach(function(t){return t.isAnswer=!1}),this.defaultOption[0].isAnswer=!0)}}}},375:function(t,e,a){"use strict";a.r(e);var i=a(376),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},376:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=a(492),n=a(493),s=(i=n)&&i.__esModule?i:{default:i};a(562);e.default={props:["item","name","id","isImage"],components:{UeUpload:s.default},data:function(){return{uploadDialog:!1,uploadType:"img",ue:null,editerConfig:{toolbars:[["Source","Undo","Redo","bold","test","kityformula"]],iframeCssUrl:"/cdn/Editor/themes/iframe.css",initialFrameHeight:200,initialFrameWidth:500,wordCount:!1,elementPathEnabled:!1}}},created:function(){},mounted:function(){var t=this;this.$nextTick(function(){t.UeUploadBtn(),t.ue=UE.getEditor(t.id,t.editerConfig),t.ue.addListener("ready",function(){t.ue.execCommand("insertHtml",t.item[t.name])}),t.ue.addListener("contentChange",function(){t.$emit("uechange",t.item,t.name,t.ue.getContent())})})},destroyed:function(){this.ue.destroy()},methods:{UeUploadBtn:function(){this.isImage&&(0,r.imgUploadBtn)(this,5,this.id)},openUploadDialog:function(t){this.uploadType=t,this.uploadDialog=!0,this.uploadDialog}},computed:{switchTypeName:function(){switch(this.uploadType){case"img":return"图片";case"video":return"视频";case"voice":return"音乐"}}}}},377:function(t,e,a){"use strict";a.r(e);var i=a(378),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},378:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(15)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(103)),n=s(a(494));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Progress:n.default},props:["ue","type"],created:function(){this.ue},mounted:function(){},data:function(){return{showImgUrl:null,localUrl:null,linkUrl:null,file:null,percentage:0,fileUrl:null,importType:"local"}},computed:{accept:function(){var t=this.type+"Accept";return this.$config[t]},command:function(){var t=this.type+"Command";return this.$config[t]}},methods:{showImgLocal:function(t){var e=t.target.files[0];e&&(this.file=e,this.localUrl=URL.createObjectURL(e))},back:function(){this.$emit("cancle")},commit:function(){var t,e=(t=i.default.mark(function t(){var e,a=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("local"!=this.importType){t.next=10;break}if(!this.file){t.next=7;break}return e=this.$progress(),t.next=5,r.getTask(this.file,{is_chunk:!0,size:1048576},function(t){e.percentage=t}).then(function(t){a.fileUrl=t.data.url,a.ue.execCommand(a.command,{src:t.data.url,url:t.data.url}),e.close(),a.back()});case 5:t.next=8;break;case 7:this.$message.error("请先选择文件!");case 8:t.next=11;break;case 10:"link"==this.importType&&(this.ue.execCommand(this.command,{src:this.linkUrl,url:this.linkUrl}),this.back());case 11:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},379:function(t,e,a){"use strict";a.r(e);var i=a(380),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},380:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["percentage"],data:function(){return{}}}},381:function(t,e,a){},382:function(t,e,a){},383:function(t,e,a){},384:function(t,e,a){"use strict";a.r(e);var i=a(385),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},385:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=a(15),n=(i=r)&&i.__esModule?i:{default:i},s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(103));e.default={props:["data"],data:function(){return{uploadDialog:!1,previewImgUrl:null,uploadType:"img"}},created:function(){this.previewImgUrl=this.data&&this.data.img_src},mounted:function(){},destroyed:function(){},methods:{previewImg:function(){var t,e=(t=n.default.mark(function t(e){var a,i,r,o,l;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target,i=a.files[0],r=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.next=5,s.getTask(i).catch(function(t){r.close()});case 5:o=t.sent,l=o.data,this.previewImgUrl=l.url,this.$emit("change",l.path,l.url,this.data),r.close();case 10:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(t){return e.apply(this,arguments)}}()},computed:{switchTypeName:function(){switch(this.uploadType){case"img":return"图片";case"video":return"视频";case"voice":return"音乐"}}}}},386:function(t,e,a){},387:function(t,e,a){},388:function(t,e,a){"use strict";a.r(e);var i=a(389),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},389:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["detailData","detailDialog"],components:{},data:function(){return{answerType:[{label:"单选题",value:"single"},{label:"多选题",value:"multi"},{label:"主观题",value:"subjective_item"},{label:"判断题",value:"judgment"},{label:"填空题",value:"fill"}]}},destroyed:function(){},methods:{numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]},close:function(){this.$emit("update:detailDialog",!1)},getActive:function(t){return this.detailData&&this.detailData.answer.split(",").includes(this.numberToLetter(t))}},computed:{},watch:{}}},390:function(t,e,a){},391:function(t,e,a){},392:function(t,e,a){},393:function(t,e,a){},394:function(t,e,a){"use strict";a.r(e);var i=a(395),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},395:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=c(a(104)),s=a(103),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(507)),l=(c(a(282)),c(a(284))),u=c(a(341));function c(t){return t&&t.__esModule?t:{default:t}}function d(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}function f(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={props:["type","detailData","detailDialog","defaultData","readOnly"],components:{Resource:l.default,VaForm:n.default,Info:u.default},data:function(){return{detail:{constitute:[]},previewImgUrl:null,imgUrl:null,resourceDialog:!1,infoDialog:!1,infoData:{},dataList:{},infoValue:"info",isShowAuthor:!1,chocesArray:[]}},created:function(){this.detail=r({},this.detailData,this.defaultData)},methods:{getDetail:function(){var t=this;o.getInfo({id:this.detailData.id}).then(function(e){t.detail=e.data,t.previewImgUrl=e.data.img_src,t.imgUrl=e.data.path,t.detail.img=e.data.path,t.detail.constitute=e.data.constitute,t.chocesArray=[].concat(f(e.data.constitute)),log(11111,t.chocesArray)})},submitDetail:function(){var t=d(i.default.mark(function t(){var e,a,r,n,l=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(e=this.$refs.fenmian.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,!e){t.next=10;break}return t.next=10,(0,s.getTask)(e).then(function(t){l.detail.img=t.data.path});case 10:return t.next=12,o.save(this.detail).then(function(t){l.$emit("saveok")});case 12:this.$nextTick(function(){a.close(),l.$emit("update:detailDialog",!1)}),t.next=26;break;case 15:t.prev=15,t.t0=t.catch(6),r=t.t0.payload,a.close(),t.t1=i.default.keys(r.messages);case 20:if((t.t2=t.t1()).done){t.next=26;break}return n=t.t2.value,this.$message.error(r.messages[n]),t.abrupt("break",26);case 26:case"end":return t.stop()}},t,this,[[6,15]])}));return function(){return t.apply(this,arguments)}}(),previewImg:function(t){var e=t.target.files[0];this.previewImgUrl=URL.createObjectURL(e)},delDetail:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],i={},r=this.$refs.detailForm.$el,n=r.querySelectorAll("[name='ids']:checked");if(e.length?i[e]=a:n.forEach(function(t){i[t.value]=t.getAttribute("data-type"),e.push(t.value)}),!e.length)return this.$message.error("请确认你要移除的内容！");e.forEach(function(e){var a=t.detail.constitute.findIndex(function(t){return t.c_id==e||t.id==e}),i=t.chocesArray.findIndex(function(t){return t.c_id==e||t.id==e});a>-1&&t.detail.constitute.splice(a,1),i>-1&&t.chocesArray.splice(a,1)}),r.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailAddHandle:function(){var t=d(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.resourceDialog=!0;case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),bookDetailInfo:function(t,e,a){var i=this;this.isShowAuthor="1"!=e;var r=t.id,n=t.c_id;if(!o._themeDetail)return this.infoData=t,this.infoValue=a,void(this.infoDialog=!0);o._themeDetail({c_id:n,id:r,type:e}).then(function(t){i.infoData=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},addSelcet:function(){this.detail.constitute=[].concat(f(this.chocesArray)),this.resourceDialog=!1},infoHandleClick:function(t){this.infoValue=t.name}}}},396:function(t,e,a){},397:function(t,e,a){"use strict";a.r(e);var i=a(398),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},398:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(u(a(282)),u(a(424))),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(401)),o=u(a(284)),l=a(103);function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","detailData","detailDialog","readOnly","defaultData"],components:{Resource:o.default,Info:n.default},data:function(){return{infoData:this.detailData||{},resourceData:this.detailData,checkedSeries:[],file:null,types:null,series:null,previewImgUrl:null,resourceDialog:!1,resList:[],page:null,currentType:null}},created:function(){if(this.detailData&&this.detailData.id&&this.getDetail(),this.defaultData||(this.getSerList(),this.getColList()),this.defaultData){var t=this.defaultData.components,e=t.column_all,a=t.columns_info,i=t.category_all;this.infoData=this.defaultData.components,this.series=e,this.types=i,this.checkedSeries=a?a.map(function(t){return t.id}):[],this.currentType=a[0]?a[0].id:""}},methods:{getRrsouce:function(){var t=this;this.defaultData?s.seriesListOnly({product_id:this.defaultData.product_id,class_id:this.currentType}).then(function(e){t.resList=e.data}):s.seriesResList({id:this.detailData.id,class_id:this.currentType}).then(function(e){t.resList=e.data})},getDetail:function(){var t=this;s.detail({id:this.detailData.id}).then(function(e){t.infoData=e.data,t.checkedSeries=e.data.columns_info?e.data.columns_info.map(function(t){return t.id}):[]})},getSerList:function(){var t=this;s.seriesList({type:"1"}).then(function(e){t.types=e.data})},getColList:function(){var t=this;s.seriesList({type:"2"}).then(function(e){t.series=e.data})},previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},submitInfo:function(){var t,e=(t=i.default.mark(function t(){var e,a,n,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=this.$refs.cover.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),n=r({},this.infoData,{columns:this.checkedSeries.join(",")}),!e){t.next=9;break}return t.next=9,(0,l.getTask)(e).then(function(t){n.img=t.data.path});case 9:return t.next=11,s.save(n).then(function(t){o.detailData.id||(o.infoData=t.data),a.close(),o.$message.success("操作成功!"),o.$emit("saveok",t.data)}).catch(function(t){a.close(),o.$message({message:t.message||"错误!",type:"error"})});case 11:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}(),addSelcet:function(t){var e=this;s.addSerRes({id:this.detailData.id,class_id:this.currentType,rel_id:t.map(function(t){return t.id})}).then(function(t){e.getRrsouce(),e.resourceDialog=!1})},handleClick:function(t,e){"resource"==t.name&&(this.currentType=this.checkedSeries[0],this.getRrsouce())},add:function(){return this.detailData&&this.detailData.id?this.currentType?void(this.resourceDialog=!0):this.$message.warning("请先添加栏目"):this.$message.warning("请先保存资源")},del:function(t){var e=this;this.$confirm("是否删除?").then(function(a){s.deleteSerRes({id:e.detailData.id,class_id:e.currentType,rel_id:t}).then(function(t){e.getRrsouce()})}).catch(function(t){})}},computed:{getNav:function(){var t=this;return this.series.filter(function(e){if(t.checkedSeries.includes(e.id))return e})},getCode:function(){var t=this,e=this.types&&this.types.find(function(e){return e.id==t.infoData.category});return this.types&&e?e.code:""}},watch:{currentType:function(t,e){e&&t!=e&&this.getRrsouce()}}}},399:function(t,e,a){"use strict";a.r(e);var i=a(400),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},400:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(u(a(282)),a(103)),s=(l(n),l(a(401))),o=u(a(510));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","infoData","readOnly","detailDialog"],created:function(){this.detailData&&this.getDetail(),this.getSerList(),this.getColList()},components:{Resource:o.default},data:function(){return{information:this.infoData,previewImgUrl:null,imgUrl:null,file:null,isIndeterminate:!0,checkAll:!1,checkedSeries:[],types:null,series:null}},watch:{checkedSeries:function(){this.$emit("checkedSer")}},methods:{getDetail:function(){var t=this;s.detail({id:this.detailData.id}).then(function(e){t.information=e.data,t.checkedSeries=e.data.columns.split(",")})},getSerList:function(){var t=this;s.seriesList({type:"1"}).then(function(e){t.types=e.data})},getColList:function(){var t=this;s.seriesList({type:"2"}).then(function(e){t.series=e.data})},previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},submitInfo:function(){var t,e=(t=i.default.mark(function t(){var e,a,o,l=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=this.$refs.cover.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),o=r({},this.information,this.types,this.series,{columns:this.checkedSeries.join(",")}),!e){t.next=9;break}return t.next=9,(0,n.getTask)(e).then(function(t){o.img=t.data.path});case 9:return t.next=11,s.save(o).then(function(t){l.detailData.id||(l.information=t.data),a.close(),l.$message.success("操作成功!"),l.$emit("saveok",t.data)}).catch(function(t){a.close(),l.$message({message:t.message||"错误!",type:"error"})});case 11:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},401:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects",t)},e.urgentDigital=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/datasubjects/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/datasubjects/audits",t)},e.save=function(t){var e=t.id,a=o(t,["id"]);if(e)return(0,r.request_put)(restUrl_publish+"/api/datasubjects/"+e,a);return(0,r.request_post)(restUrl_publish+"/api/datasubjects",a)},e.detail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/datasubjects/:id");return(0,r.request_get)(e(t),t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/delete",t)},e.seriesResList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects/class/books",t)},e.seriesListOnly=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/data_subjects/class/books",t)},e.deleteSerRes=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/class/books/delete",t)},e.addSerRes=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/class/books",t)},e.seriesList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects/class",t)},e.delSeries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/datasubjects/class/:id");return(0,r.request_delete)(i({id:e}),a)},e.saveSeries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/datasubjects/class/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/datasubjects/class",a)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/datasubjects/groups/:id");return(0,r.request_put)(i({id:e}),a)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/datasubjects/groups",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/datasubjects/groups",t)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]),i=s.default.compile(restUrl_publish+"/api/datasubjects/groups/:id");return(0,r.request_delete)(i({id:e}),a)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/groups/datasubjects",t)};var i,r=a(16),n=a(21),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},402:function(t,e,a){"use strict";a.r(e);var i=a(403),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},403:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(401)),r=s(a(284)),n=s(a(424));function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["resourceData","detailData","checkedSeries"],created:function(){log("122",this.checkedSeries),this.getList()},data:function(){return{type:"example",reslist:this.resourceData,resourceDialog:!1,resList1:[{name:"杀人案",number:"A1"},{name:"纵火案",number:"V2"},{name:"盗窃案",number:"E3"}],resList2:[{name:"国情",number:"A1"},{name:"权律二",number:"B2"},{name:"法律",number:"C3"}]}},components:{AddResource:r.default,Info:n.default},methods:{getList:function(){var t=this;i.seriesResList({id:this.detailData.id}).then(function(e){t.reslist=e.data})},addSelcet:function(t){this.curSoucesList=t,this.resourceDialog=!1}}}},404:function(t,e,a){},405:function(t,e,a){},406:function(t,e,a){},407:function(t,e,a){"use strict";a.r(e);var i=a(408),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},408:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=a(78),s=l(a(103)),o=l(a(429));u(a(1));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["type","detailData","detailDialog","detailType","defaultData","services","readOnly"],created:function(){if(this.readOnly,this.detailType,!this.defaultData&&this.detailData)this.getDetail(),this.getMulu(this.detailData.id);else{var t=Object.entries(this.defaultData).length?this.defaultData:this.detailData,e=t.attributes,a=t.chapters,i=t.components||this.defaultData;if(this.getMainList.forEach(function(t){for(var e in i)e!==t.label&&e!==t.name||(t.value=i[e])}),this.metadata=e||[],this.readOnly&&a){var r=(0,n.recursionTree)(a,"pid","root");this.ml=r,this.currMulu=r}else this.getMulu(this.defaultData.id)}},data:function(){return{detailDataOwn:{attributes:[]},metadata:[],ml:null,defaultProps:{children:"children",label:"chapter_name"},currMulu:null,previewImgUrl:null,file:null,detailReadOnly:!1,viewpoint:[{label:"标题",value:""},{label:"副标题"},{label:"作者"},{label:"品类维度"},{label:"品类维度编号"},{label:"专业类别"},{label:"专业类别编号"},{label:"文集类别"},{label:"文集来源ID"},{label:"文献出处"},{label:"文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],statute:[{label:"标题",value:""},{label:"发文字号"},{label:"发布单位"},{label:"效力状态"},{label:"品类维度"},{label:"品类维度编号"},{label:"法规类别"},{label:"法规类别编号"},{label:"学科分类"},{label:"学科分类编号"},{label:"法规来源ID"},{label:"文献出处"},{label:"法规文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],case:[{label:"标题",value:""},{label:"主要问题(副标题)",name:"副标题"},{label:"案件类别"},{label:"案件类别编号"},{label:"案例编号"},{label:"效力状态"},{label:"品类维度"},{label:"品类维度编号"},{label:"案例来源ID"},{label:"案例(文献)出处",name:"出处"},{label:"文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}],referee:[{label:"标题",value:""},{label:"案号"},{label:"品类维度"},{label:"品类维度编号"},{label:"案件类别"},{label:"案件类别编号"},{label:"审理法院"},{label:"裁判来源ID"},{label:"裁判文献出处"},{label:"裁判文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",name:"create_time",isDdisabled:!0,NoNeed:!0}]}},methods:{getDetail:function(){var t=this;this.services.detailResource({id:this.detailData.id}).then(function(e){t.detailDataOwn=e.data,t.getMainList.forEach(function(t){for(var a in e.data)a!==t.label&&a!==t.name||(t.value=e.data[a])}),t.metadata=e.data.attributes||[]})},getMulu:function(t){var e=this;o.getBookCatalog({id:t}).then(function(t){var a=(0,n.recursionTree)(t.data,"pid","root");e.ml=a,e.currMulu=a})},handleClick:function(t,e){"ml"==t.name&&(this.currMulu=this.ml)},handleNodeClick:function(t,e,a){this.currMulu=e.data.children},muluSort:function(t,e,a){var i=this.currMulu;"up"===a?e>0&&(i.splice(e,1),i.splice(e-1,0,t)):(i.splice(e,1),i.splice(e+1,0,t)),o.siblingSort({id:t.id,sort:a})},submitDetail:function(){var t=c(i.default.mark(function t(e){var a,n,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(a=this.$progress(),t.prev=4,!this.imgFile){t.next=8;break}return t.next=8,s.getTask(this.imgFile).then(function(t){o.detailDataOwn.img=t.data.path});case 8:return n={},this.getMainList.forEach(function(t){t.name?n[t.name]=t.value:n[t.label]=t.value}),t.next=12,this.services.save(r({id:this.detailData?this.detailData.id:null},n,{attributes:this.metadata,type:this.detailType,link_id:this.defaultData?this.defaultData.id:null}));case 12:this.$emit("detailBack"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),t.t0;case 18:a.close();case 19:case"end":return t.stop()}},t,this,[[4,15]])}));return function(e){return t.apply(this,arguments)}}(),previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},upLoadXml:function(){var t=c(i.default.mark(function t(){var e,a=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.file){t.next=5;break}return e=this.$progress(),t.next=4,s.getTask(this.file,{is_chunk:!0,size:1048576},function(t){e.percentage=t}).then(function(t){a.detailDataOwn.preview=t.data.path});case 4:e.close();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),previewBook:function(t){var e=t.target.files[0];this.file=e,dir(e,"file")}},computed:{getMainList:function(){switch(Number(this.detailType)){case 1:return this.case;case 2:return this.statute;case 3:return this.viewpoint;case 4:return this.referee}}}}},409:function(t,e,a){},410:function(t,e,a){"use strict";a.r(e);var i=a(411),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},411:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(a(15)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=f(a(573)),s=p(a(284)),o=a(103),l=p(a(517)),u=f(a(287)),c=p(a(341)),d=p(a(518));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.default={props:["type","detailData","detailDialog","readOnly","defaultData","detailType"],components:{Resource:s.default,Info:c.default,PracticeInfo:d.default},data:function(){var t;return v(t={infoData:this.detailData||{},resourceData:this.detailData,resourceDialog:!1,checkedSeries:[],file:null,types:null,series:null,previewImgUrl:null},"resourceDialog",!1),v(t,"resList",[]),v(t,"page",null),v(t,"currentType",null),v(t,"proType",l.default),v(t,"infoDialog",!1),v(t,"practiceDialog",!1),v(t,"infoDetail",{}),v(t,"infoValue","info"),t},computed:{getType:function(){var t=this;return this.proType.find(function(e){return e.value==t.detailType}).label},sourceType:function(){var t=this;return this.proType.find(function(e){return e.value==t.detailType}).type}},created:function(){this.detailData&&this.detailData.id?this.getDetail():this.infoData.constitute=[],this.defaultData&&(this.infoData=this.defaultData.info,this.infoData.constitute=this.infoData.components)},methods:{submitDetail:function(){var t,e=(t=i.default.mark(function t(){var e,a,s=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(e=this.$refs.fenmian.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,!e){t.next=10;break}return t.next=10,(0,o.getTask)(e).then(function(t){s.infoData.img=t.data.path});case 10:return t.next=12,n.save(r({},this.infoData,{product_type:this.detailType})).then(function(t){a.close(),s.$emit("saveok",t.data)});case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),this.$message.error(t.t0.message),a.close();case 18:case"end":return t.stop()}},t,this,[[6,14]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(r,n){try{var s=e[r](n),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}(),getDetail:function(){var t=this;n.detail({id:this.detailData.id}).then(function(e){t.infoData=e.data,t.$set(t.infoData,"constitute",t.infoData.constitutes)})},previewImg:function(t){var e=t.target.files[0];this.previewImgUrl=URL.createObjectURL(e)},detailTopHandle:function(){var t=this;log(this.infoData.constitute);var e=[],a=document.querySelector(".detailForm");if(a.querySelectorAll("[name='ids']:checked").forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要置顶的内容！");for(var i=function(a){var i=t.infoData.constitute.findIndex(function(t){return t.id==e[a]}),r=t.infoData.constitute[i];t.infoData.constitute.splice(i,1),t.infoData.constitute.unshift(r)},r=e.length-1;r>=0;r--)i(r);a.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailRemoveHandle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],i={},r=this.$refs.detailForm.$el,n=r.querySelectorAll("[name='ids']:checked");if(e.length?i[e]=a:n.forEach(function(t){i[t.value]=t.getAttribute("data-type"),e.push(t.value)}),!e.length)return this.$message.error("请确认你要移除的内容！");e.forEach(function(e){var a=t.infoData.constitute.findIndex(function(t){return t.c_id==e||t.id==e});a>-1&&t.infoData.constitute.splice(a,1)}),r.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailSort:function(t,e){var a=this.detail.constitute.findIndex(function(t){return t.id==e}),i="up"==t?-1:1,r=this.detail.constitute;r.splice.apply(r,[a,1].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(r.splice(a+i,1,r[a]))))},bookDetailInfo:function(t,e,a){var i=this;if(31==e)return this.practiceDialog=!0,void(this.infoData=t);if(this.defaultData)return this.infoDetail=t,this.infoValue=a,void(this.infoDialog=!0);var r=t.id,n=t.c_id;u._themeDetail({c_id:n,id:r,type:e}).then(function(t){i.infoDetail=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;i.$message.error(e.message)})},detailAddHandle:function(){this.resourceDialog=!0},addSelcet:function(t){this.resourceDialog=!1}},watch:{}}},412:function(t,e,a){"use strict";a.r(e);var i=a(413),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},413:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["detailData","detailDialog"],components:{},created:function(){this.detailData},data:function(){return{}},mounted:function(){},destroyed:function(){},methods:{numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]},close:function(){this.$emit("close",!1)},getActive:function(t){return this.detailData.answer.split(",").includes(this.numberToLetter(t))}},computed:{},watch:{}}},414:function(t,e,a){},415:function(t,e,a){},416:function(t,e,a){},420:function(t,e,a){"use strict";a.r(e);var i=a(549),r=a(306);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(451);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"3fc1a9de",null);e.default=o.exports},421:function(t,e,a){"use strict";a.r(e);var i=a(533),r=a(322);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(462);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"9f5c06d6",null);e.default=o.exports},422:function(t,e,a){"use strict";a.r(e);var i=a(532),r=a(328);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(463);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"3584d4e9",null);e.default=o.exports},423:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/video_product",t)},e.save=function(t){var e=t.id,a=l(t,["id"]);if(e)return(0,r.request_put)(restUrl_publish+"/api/video_product/"+e,a);return(0,r.request_post)(restUrl_publish+"/api/video_product",a)},e.getInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/video_product/:id");return(0,r.request_get)(e(t),t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/video_product/delete",t)},e.urgentDigital=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/video_product/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/video_product/audits",t)},e.issuance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=s.default.compile(restUrl_publish+"/api/comproduct/:id/issuance");return(0,r.request_put)(i({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/video_product/groups",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/video_product/:id/groups");return(0,r.request_put)(e(t),t)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/video_product/:id/groups");return(0,r.request_delete)(e({id:t.id[0]}),t)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/video_product/groups",t)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.rel_id=t.id,delete t.id,(0,r.request_put)(restUrl_publish+"/api/groups/video_product",t)},e.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/video_product/component",t)};var i,r=a(16),n=a(21),s=(i=n)&&i.__esModule?i:{default:i},o=a(77);function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},424:function(t,e,a){"use strict";a.r(e);var i=a(542),r=a(399);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(512);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"f29d208e",null);e.default=o.exports},443:function(t,e,a){"use strict";a.r(e);var i=a(522),r=a(294);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(521);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"18b79e07",null);e.default=o.exports},444:function(t,e,a){"use strict";a.r(e);var i=a(524),r=a(296);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(465);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"e47e6618",null);e.default=o.exports},445:function(t,e,a){"use strict";a.r(e);var i=a(544),r=a(298);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(447);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"775510e4",null);e.default=o.exports},446:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.homeInfo=function(){return(0,r.request_get)(restUrl_publish+"/api/home/statistics")},e.getInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/comproduct/:id");return(0,r.request_get)(e(t))},e.save=function(t){var e=t.id,a=o(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/comproduct/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/comproduct/add",a)},e.saveInfo=function(t){t.id;var e=o(t,["id"]);return(0,r.request_post)(restUrl_publish+"/api/comproduct/attributes",e)};var i,r=a(16),n=a(21),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},447:function(t,e,a){"use strict";var i=a(300);a.n(i).a},448:function(t,e,a){"use strict";a.r(e);var i=a(548),r=a(303);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(449);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2628d7d4",null);e.default=o.exports},449:function(t,e,a){"use strict";var i=a(305);a.n(i).a},450:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var a=[],i=!0,r=!1,n=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(a.push(s.value),!e||a.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw n}}return a}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.get_book=function(t,e){var a=t.bookId,i=e.extraParams;return(0,l.request_post)(u+"/reader/books",r({book_id:a},i)).then(function(t){var e=t.data;return e})},e.get_catalogs=function(t,e){var a=t.bookId,i=t.chapterId,n=e.extraParams;return(0,l.request_post)(u+"/reader/catalogs",r({book_id:a,catalog_pid:i},n)).then(function(t){var e=t.data;return e})},e.get_chapters=function(t,e){var a=t.bookId,i=t.chapterIds,n=e.extraParams;return(0,l.request_post)(u+"/reader/chapters",r({chapter_id:i,book_id:a},n)).then(function(t){var e=t.data;return e})},e.search=function(t,e){var a=t.keyword,i=t.bookId,n=t.page,s=t.chapterRid,o=e.extraParams;return(0,l.request_post)(u+"/reader/search",r({keyword:a,book_id:i,chapter_id:s,pageStart:n.start,pageOffset:n.offset},o)).then(function(t){var e=t.data,a=t.page;return{list:e,page:a}})},e.get_labels=function(t,e){var a=t.bookId,i=e.extraParams;return(0,l.request_get)("/api/book_notes",{book_id:a,user_id:i.user_id}).then(function(t){var e=t.data;return e})},e.add_label=function(t,e){var a=t.bookId,i=t.chapterRid,n=t.chapterName,s=t.userText,o=t.rangeJSON,u=t.selectedText,c=t.status,d=e.extraParams;return(0,l.request_post)("/api/book_notes",r({book_id:a,chapter_id:i,chapter_name:n,chapter_value:u,comm_text:s,range:o,protected:c},d)).then(function(t){var e=t.data;return e})},e.get_bookmarks=function(t,e){var a=t.bookId,i=e.extraParams;return(0,l.request_get)("/api/book_marks",{book_id:a,user_id:i.user_id}).then(function(t){var e=t.data;return e})},e.add_bookmark=function(t,e){var a=t.bookId,i=t.chapterRid,n=t.chapterName,s=t.rangeJSON,o=t.text,u=e.extraParams;return(0,l.request_post)("/api/book_marks",r({book_id:a,chapter_id:i,chapter_name:n,chapter_value:o,range:s},u)).then(function(t){var e=t.data;return e})},e.remove_bookmarks=function(t,e){c(t,e)},e.remove_labels=function(t,e){c(t,e)},e.modify_label=function(t){return t.range=JSON.stringify(t.range),t.comm_text=t.userText,delete t.userText,(0,l.request_put)("/api/book_notes",r({},t)).then(function(t){return t.data})},e.backup_setting=function(t){return(0,l.request_post)("/api/user_read_setting",{data:JSON.stringify(t)})},e.restore_setting=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,l.request_get)("/api/user_read_setting").then(function(t){var e=t.data,a=o.default.isArray(e)&&e[0]||e;return a?JSON.parse(a):{}})},e.set_progress=function(t,e){var a=t.bookId,i=(t.chapterRid,t.progressJSON),r=t.percentJSON,n=e.extraParams;return(0,l.request_post)("/api/read_record",{data:i,proportion:r,release_id:n.release_id,book_id:a})},e.get_progress=function(t,e){var a=t.bookId,r=e.extraParams;return(0,l.request_get)("/api/read_record",{book_id:a,release_id:r.release_id}).then(function(t){var e=i(t.data,1),a=e[0];return a})};var n,s=a(592),o=(n=s)&&n.__esModule?n:{default:n},l=a(16);var u="publish"=="qrcode"?"/api":"/common/api";function c(t,e){var a=t.ids,i=e.extraParams;return(0,l.request_post)("/api/book_exegesis/delete",r({id:a},i)).then(function(t){return t.data})}},451:function(t,e,a){"use strict";var i=a(308);a.n(i).a},452:function(t,e,a){"use strict";var i=a(309);a.n(i).a},453:function(t,e,a){"use strict";a.r(e);var i=a(540),r=a(310);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(464);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"72e921a3",null);e.default=o.exports},454:function(t,e,a){"use strict";var i=a(315);a.n(i).a},455:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess",t).then(function(t){var e=t.data,a=e._id,i=e.name,r=e.abs,n=e.author,o=e.tag,l=e.type_name;return(0,s.addResListener)({res_id:a,res_type:l,res_name:i,res_exp:r,res_author:n,res_lables:[o]}),t})},e.modify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess/:id");return(0,i.request_put)(r({id:e}),a)},e.listLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(restUrl_publish+"/api/librariess",t)},e.educe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.educeResListener)({res_url:(0,i.getFullPath)(restUrl_publish+"/api/librariess/export"+r.default.stringify(t,{addQueryPrefix:!0}))}),(0,i.request_get)(restUrl_publish+"/api/librariess/export",t)},e.putin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess/import",t)},e.deleteLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess/delete",t)},e.detailLibraries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.default.compile(restUrl_publish+"/api/librariess/:id");return(0,i.request_get)(e(t))},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),r=n.default.compile(restUrl_publish+"/api/librariess/groups/:id");return(0,i.request_put)(r({id:e}),a)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess/groups/delete",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)(restUrl_publish+"/api/librariess/groups",t)},e.listGroup=function(){return(0,i.request_get)(restUrl_publish+"/api/librariess/groups")},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)(restUrl_publish+"/api/librariess/groups",t)};var i=a(16),r=o(a(22)),n=o(a(21)),s=a(77);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},456:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/comproduct/list",t)},e.getDetail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/comproduct",t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/comproduct/delete",t)},e.urgentDigitalBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/comproduct/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/comproduct/audits",t)},e.issuance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=function(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}(t,["id"]),i=s.default.compile(restUrl_publish+"/api/comproduct/:id/issuance");return(0,r.request_put)(i({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/comproduct/groups",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s.default.compile(restUrl_publish+"/api/comproduct/groups/:id");return(0,r.request_put)(e(t),t)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/themes/groups/delete",t)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/comproduct/groups",t)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.rel_id=t.id,delete t.id,(0,r.request_put)(restUrl_publish+"/api/groups/comproduct",t)};var i,r=a(16),n=a(21),s=(i=n)&&i.__esModule?i:{default:i},o=a(77)},457:function(t,e,a){"use strict";a.r(e);var i=a(551),r=a(316);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(458);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"90ed6866",null);e.default=o.exports},458:function(t,e,a){"use strict";var i=a(318);a.n(i).a},459:function(t,e,a){"use strict";a.r(e);var i=a(553),r=a(319);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(460);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"1d3956ae",null);e.default=o.exports},460:function(t,e,a){"use strict";var i=a(321);a.n(i).a},461:function(t,e,a){"use strict";var i=a(326);a.n(i).a},462:function(t,e,a){"use strict";var i=a(327);a.n(i).a},463:function(t,e,a){"use strict";var i=a(330);a.n(i).a},464:function(t,e,a){"use strict";var i=a(331);a.n(i).a},465:function(t,e,a){"use strict";var i=a(332);a.n(i).a},466:function(t,e,a){"use strict";a.r(e);var i=a(525),r=a(333);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(469);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2ee670da",null);e.default=o.exports},467:function(t,e,a){"use strict";a.r(e);var i=a(535),r=a(335);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(468);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"8b4c15ea",null);e.default=o.exports},468:function(t,e,a){"use strict";var i=a(337);a.n(i).a},469:function(t,e,a){"use strict";var i=a(338);a.n(i).a},470:function(t,e,a){"use strict";a.r(e);var i=a(529),r=a(339);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(472);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"d07aba0a",null);e.default=o.exports},471:function(t,e,a){"use strict";var i=a(344);a.n(i).a},472:function(t,e,a){"use strict";var i=a(345);a.n(i).a},473:function(t,e,a){"use strict";a.r(e);var i=a(526),r=a(346);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(476);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"68502e0e",null);e.default=o.exports},474:function(t,e,a){"use strict";a.r(e);var i=a(546),r=a(348);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(475);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"b88b8f0c",null);e.default=o.exports},475:function(t,e,a){"use strict";var i=a(350);a.n(i).a},476:function(t,e,a){"use strict";var i=a(351);a.n(i).a},477:function(t,e,a){"use strict";a.r(e);var i=a(531),r=a(352);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(505);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"4af6c8b8",null);e.default=o.exports},478:function(t,e,a){"use strict";a.r(e);var i=a(534),r=a(354);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(481);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"1a676e47",null);e.default=o.exports},479:function(t,e,a){"use strict";a.r(e);var i=a(554),r=a(356);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(480);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,null,null);e.default=o.exports},480:function(t,e,a){"use strict";var i=a(358);a.n(i).a},481:function(t,e,a){"use strict";var i=a(359);a.n(i).a},482:function(t,e,a){"use strict";a.r(e);var i=a(536),r=a(360);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(487);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"c79b4b08",null);e.default=o.exports},483:function(t,e,a){"use strict";a.r(e);var i=a(552),r=a(362);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(486);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"7cb59bca",null);e.default=o.exports},484:function(t,e,a){"use strict";a.r(e);var i=a(556),r=a(364);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(485);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"040ac116",null);e.default=o.exports},485:function(t,e,a){"use strict";var i=a(366);a.n(i).a},486:function(t,e,a){"use strict";var i=a(367);a.n(i).a},487:function(t,e,a){"use strict";var i=a(368);a.n(i).a},488:function(t,e,a){"use strict";a.r(e);var i=a(537),r=a(369);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(504);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"7ed614e4",null);e.default=o.exports},489:function(t,e,a){"use strict";a.r(e);var i=a(547),r=a(371);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(503);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"2e8c94e6",null);e.default=o.exports},490:function(t,e,a){"use strict";a.r(e);var i=a(555),r=a(373);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(500);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"486c1c3a",null);e.default=o.exports},491:function(t,e,a){"use strict";a.r(e);var i=a(558),r=a(375);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(497);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"dafc9c74",null);e.default=o.exports},492:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.imgUploadBtn=function(t,e,a){UE.registerUI("img-upload-btn",function(e,a){e.registerCommand(a,{execCommand:function(){t.openUploadDialog("img")}});var i=new UE.ui.Button({name:a,title:a,cssRules:"background-position: -380px 0;",onclick:function(){e.execCommand(a)}});return e.addListener("selectionchange",function(){var t=e.queryCommandState(a);-1==t?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(t))}),i},e,a)},e.videoUploadBtn=function(t,e,a){UE.registerUI("video-upload-btn",function(e,a){e.registerCommand(a,{execCommand:function(){t.openUploadDialog("video")}});var i=new UE.ui.Button({name:a,title:a,cssRules:"background-position: -320px -20px;",onclick:function(){e.execCommand(a)}});return e.addListener("selectionchange",function(){var t=e.queryCommandState(a);-1==t?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(t))}),i},e,a)},e.voiceUploadBtn=function(t,e,a){UE.registerUI("voice-upload-btn",function(e,a){e.registerCommand(a,{execCommand:function(){t.openUploadDialog("voice")}});var i=new UE.ui.Button({name:a,title:a,cssRules:"background-position: -18px -40px;",onclick:function(){e.execCommand(a)}});return e.addListener("selectionchange",function(){var t=e.queryCommandState(a);-1==t?(i.setDisabled(!0),i.setChecked(!1)):(i.setDisabled(!1),i.setChecked(t))}),i},e,a)}},493:function(t,e,a){"use strict";a.r(e);var i=a(560),r=a(377);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(496);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"d1e1d4f8",null);e.default=o.exports},494:function(t,e,a){"use strict";a.r(e);var i=a(561),r=a(379);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(495);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"bdda6ef0",null);e.default=o.exports},495:function(t,e,a){"use strict";var i=a(381);a.n(i).a},496:function(t,e,a){"use strict";var i=a(382);a.n(i).a},497:function(t,e,a){"use strict";var i=a(383);a.n(i).a},498:function(t,e,a){"use strict";a.r(e);var i=a(559),r=a(384);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(499);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"72942be8",null);e.default=o.exports},499:function(t,e,a){"use strict";var i=a(386);a.n(i).a},500:function(t,e,a){"use strict";var i=a(387);a.n(i).a},501:function(t,e,a){"use strict";a.r(e);var i=a(557),r=a(388);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(502);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"33646690",null);e.default=o.exports},502:function(t,e,a){"use strict";var i=a(390);a.n(i).a},503:function(t,e,a){"use strict";var i=a(391);a.n(i).a},504:function(t,e,a){"use strict";var i=a(392);a.n(i).a},505:function(t,e,a){"use strict";var i=a(393);a.n(i).a},506:function(t,e,a){"use strict";a.r(e);var i=a(530),r=a(394);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(508);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"ada791c8",null);e.default=o.exports},507:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(restUrl_publish+"/api/resource",t)},e.save=function(t){var e=t.id,a=l(t,["id"]);if(e){var i=s.default.compile(restUrl_publish+"/api/resource/:id");return(0,r.request_put)(i({id:e}),a)}return(0,r.request_post)(restUrl_publish+"/api/resource",a)},e.getInfo=function(t){var e=s.default.compile(restUrl_publish+"/api/resource/:id");return(0,r.request_get)(e({id:t}))},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)(restUrl_publish+"/api/resource/delete",t)},e.urgentDigital=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/resource/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_put)(restUrl_publish+"/api/resource/audits",t)},e.issuance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]),i=s.default.compile(restUrl_publish+"/api/comproduct/:id/issuance");return(0,r.request_put)(i({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})};var i,r=a(16),n=a(21),s=(i=n)&&i.__esModule?i:{default:i},o=a(77);function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}},508:function(t,e,a){"use strict";var i=a(396);a.n(i).a},509:function(t,e,a){"use strict";a.r(e);var i=a(523),r=a(397);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(513);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"0177901b",null);e.default=o.exports},510:function(t,e,a){"use strict";a.r(e);var i=a(550),r=a(402);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(511);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"324d6fe3",null);e.default=o.exports},511:function(t,e,a){"use strict";var i=a(404);a.n(i).a},512:function(t,e,a){"use strict";var i=a(405);a.n(i).a},513:function(t,e,a){"use strict";var i=a(406);a.n(i).a},514:function(t,e,a){"use strict";a.r(e);var i=a(527),r=a(407);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(515);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"70309756",null);e.default=o.exports},515:function(t,e,a){"use strict";var i=a(409);a.n(i).a},516:function(t,e,a){"use strict";a.r(e);var i=a(528),r=a(410);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(520);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"4815ce40",null);e.default=o.exports},517:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{type:"1",label:"数字图书集",value:"books"},{type:"2",label:"文章集",value:"articles"},{type:"3",label:"图集",value:"pictures"},{type:"4",label:"音频集",value:"audios"},{type:"5",label:"视频集",value:"videos"},{type:"31",label:"习题集",value:"practices"}]},518:function(t,e,a){"use strict";a.r(e);var i=a(539),r=a(412);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(519);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"56504b12",null);e.default=o.exports},519:function(t,e,a){"use strict";var i=a(414);a.n(i).a},520:function(t,e,a){"use strict";var i=a(415);a.n(i).a},521:function(t,e,a){"use strict";var i=a(416);a.n(i).a},522:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"readOnlyDetail"},[a("el-dialog",{attrs:{width:"1000px",visible:t.detailVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,top:"50px","show-close":!1},on:{"update:visible":function(e){t.detailVisible=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a(t.currComp,{tag:"component",attrs:{type:t.detailDialoaType,defaultData:t.defaultData,readOnly:!0,detailType:t.detailType,media:6==t.type?1:2}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},523:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("VaForm",{ref:"detailForm"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系ID:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.link_id,expression:"infoData.link_id"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.link_id},on:{input:function(e){e.target.composing||t.$set(t.infoData,"link_id",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系简介:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.author},on:{input:function(e){e.target.composing||t.$set(t.infoData,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系类别:")]),a("el-select",{attrs:{maxlength:"20",disabled:t.readOnly},model:{value:t.infoData.category,callback:function(e){t.$set(t.infoData,"category",e)},expression:"infoData.category"}},t._l(t.types,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*类别编号:")]),a("span",{attrs:{type:"text"},domProps:{textContent:t._s(t.getCode)}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*栏目设置:")]),a("el-checkbox-group",{attrs:{disabled:t.readOnly,min:1,max:100},model:{value:t.checkedSeries,callback:function(e){t.checkedSeries=e},expression:"checkedSeries"}},t._l(t.series,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id,value:e.id}},[t._v(t._s(e.name))])}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("封面:")]),a("img",{staticClass:"img",attrs:{src:t.previewImgUrl||t.infoData.img_src}})]),t.readOnly?t._e():a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("设置封面:")]),a("label",[a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(e){return t.$refs.cover.click()}}},[t._v("上传")]),a("input",{ref:"cover",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1)])])]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitInfo("detailForm")}}},[t._v("确定")])],1)])],1),a("el-tab-pane",{attrs:{label:"资源",name:"resource"}},[t.resourceDialog?a("Resource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:[],type:"20-1",isShowType:!0},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.checkedSeries&&t.series?a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small"},model:{value:t.currentType,callback:function(e){t.currentType=e},expression:"currentType"}},t._l(t.getNav,function(e){return a("el-radio-button",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])}),1):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("类型")]),a("th",[t._v("操作")])])]),a("tbody",t._l(t.resList,function(e){return a("tr",[a("td",[t._v(t._s(e.title||e.name))]),a("td",[t._v(t._s(e.type_name))]),a("td",[a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary"},on:{click:function(a){!t.readOnly&&t.del([e.rel_id])}}})])])}),0)]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.add()}}},[t._v("新增")])],1)],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},524:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-tabs",{attrs:{value:t.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){return t.$emit("saveok",e)}}})],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Structure",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData}})],1),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){return t.$emit("saveok")}}})],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},525:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{attrs:{type:t.resourceType,resourceDialog:t.resourceDialog,curSoucesList:t.curSoucesList},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.infoDialog?a("ContentDetail",{attrs:{infoData:t.infoData,infoDialog:t.infoDialog},on:{"update:infoDialog":function(e){t.infoDialog=e},"update:info-dialog":function(e){t.infoDialog=e}}}):t._e(),t.groupDialog?a("Group",{ref:"group",attrs:{item:t.currentItem,detailData:t.detailData,groupDialog:t.groupDialog,onlyShow:t.readOnly,isMedia:t.media},on:{"update:groupDialog":function(e){t.groupDialog=e},"update:group-dialog":function(e){t.groupDialog=e},open:t.openResources,detail:t.detail,del:t.del,save:t.saveAudioOK}}):t._e(),a("el-tabs",{attrs:{value:t.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{ref:"info",attrs:{detailData:t.detailData,services:t.services,readOnly:t.readOnly,defaultData:t.defaultData},on:{close:function(e){return t.$emit("update:detailDialog",!1)},saveok:function(e){return t.$emit("saveok",e)}}})],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Audio",{ref:"audio",attrs:{detailData:t.detailData,defaultData:t.defaultAList,media:t.media,readOnly:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addVideo()}}},[t._v("新增组")])],1),1==t.media?a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){return t.$emit("saveok")}}})],1):t._e()],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},526:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{attrs:{type:t.resourceType,resourceDialog:t.resourceDialog,curSoucesList:t.curSoucesList},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.infoDialog?a("ContentDetail",{attrs:{infoData:t.infoData,infoDialog:t.infoDialog},on:{"update:infoDialog":function(e){t.infoDialog=e},"update:info-dialog":function(e){t.infoDialog=e}}}):t._e(),a("el-tabs",{attrs:{value:t.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{ref:"info",attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData}}),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitDetail("detailForm")}}},[t._v("保存")])],1)],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Tab",{ref:"video",attrs:{dataType:"video",defaultList:t.curSoucesList,detailData:t.detailData,onlyShow:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.openResources("5")}}},[t._v("新增")])],1),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){return t.$emit("saveok")}}})],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},527:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[!t.readOnly&&t.detailReadOnly?a("el-button",{staticClass:"modifyBtn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.detailReadOnly=!1}}},[t._v("修改")]):t._e(),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"info"}},[a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly||t.detailReadOnly}},t._l(t.getMainList,function(e){return a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*"+t._s(e.label)+":")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{type:'required'}"},{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:e.isDdisabled&&e.value&&e.value.length>=10},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])}),0),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{ype:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitDetail()}}},[t._v("确定")])],1)])])],1)]),a("el-tab-pane",{attrs:{label:"元数据",name:"data"}},[a("MetaData",{attrs:{metadata:t.metadata,readOnly:t.readOnly||t.detailReadOnly},on:{submit:function(e){return t.submitDetail()},back:function(e){return t.$emit("update:detailDialog",!1)}}})],1),a("el-tab-pane",{attrs:{label:"目录",name:"ml"}},[a("div",{staticClass:"muluWrap"},[a("div",{staticClass:"left"},[a("el-tree",{staticClass:"muluList",attrs:{data:t.ml,props:t.defaultProps,"node-key":"id"},on:{"node-click":t.handleNodeClick}})],1),a("div",{staticClass:"right"},[a("fieldset",{attrs:{disabled:t.readOnly||t.detailReadOnly}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("序号")]),a("th",[t._v(" 名称")]),t.readOnly?t._e():a("th",{attrs:{width:"110"}},[t._v(" 调序")])])]),a("tbody",t._l(t.currMulu,function(e,i){return a("tr",[a("th",{domProps:{textContent:t._s(i+1)}}),a("th",{staticClass:"th-name",domProps:{textContent:t._s(e.chapter_name)}}),t.readOnly?t._e():a("th",[a("div",{staticClass:"div"},[a("el-button",{staticClass:"iconRotate up",attrs:{disabled:0==i,icon:"el-icon-back",size:"mini"},on:{click:function(a){0!=i&&t.muluSort(e,i,"up")}}}),a("el-button",{staticClass:"iconRotate down",attrs:{disabled:i+1==t.currMulu.length,icon:"el-icon-back",size:"mini"},on:{click:function(a){i+1!=t.currMulu.length&&t.muluSort(e,i,"down")}}})],1)])])}),0)])])])])])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},528:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:t.infoData.constitute,type:t.sourceType},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),a("el-dialog",{attrs:{visible:t.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.infoDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("Info",{attrs:{type:t.infoValue,infoDialog:t.infoDialog,isAuthor:!0,infoData:t.infoDetail}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.infoDialog=!1}}},[t._v("取消")])],1)]),t.practiceDialog?a("PracticeInfo",{attrs:{detailData:t.infoData,detailDialog:t.practiceDialog},on:{close:function(e){t.practiceDialog=!1}}}):t._e(),a("el-tabs",{attrs:{value:"info"}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{vali:"",name:"name",type:"text",disabled:t.readOnly},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("span",{domProps:{textContent:t._s(t.getType)}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*标签:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:t.readOnly},domProps:{value:t.infoData.tag},on:{input:function(e){e.target.composing||t.$set(t.infoData,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,name:"abs",type:"text",disabled:t.readOnly},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.infoData.abs?t.infoData.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*价格:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.price,expression:"infoData.price"}],staticClass:"form-control price",attrs:{name:"price",type:"text",disabled:t.readOnly},domProps:{value:t.infoData.price},on:{input:function(e){e.target.composing||t.$set(t.infoData,"price",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")])],1),a("div",{staticClass:"group fenmian"},[a("div",{staticClass:"label fenmain"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.infoData.img_src}}),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("构成:")]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.detailTopHandle}},[t._v("置顶")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.detailRemoveHandle()}}},[t._v("移除")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.detailAddHandle()}}},[t._v("添加")])],1)]),a("div",{staticClass:"group"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{width:"55"}},[a("input",{attrs:{type:"checkbox",name:"checkAll"},on:{click:function(e){return t.$checkAll(e)}}}),a("span",[t._v("全选")])]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",[t._v("创建时间")]),t.readOnly?t._e():a("th",{attrs:{width:"100"}},[t._v("调序")]),a("th",{attrs:{width:"100"}},[t._v("操作")])])]),a("tbody",t._l(t.infoData.constitute,function(e,i){return a("tr",[a("td",[a("input",{attrs:{type:"checkbox",name:"ids","data-type":e.type},domProps:{value:e.id}})]),a("td",[a("div",{staticClass:"th-name",attrs:{title:e.name},domProps:{innerHTML:t._s(e.name||e.question)}})]),a("td",[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[t._v(t._s(e.create_time))]),t.readOnly?t._e():a("td",[a("i",{staticClass:"el-icon-sort-up el-icon-sort",on:{click:function(a){return t.detailSort("up",e.id)}}}),i!=t.infoData.constitute.length-1?a("i",{staticClass:"el-icon-sort-down el-icon-sort",on:{click:function(a){return t.detailSort("down",e.id)}}}):t._e()]),a("td",[a("span",{staticClass:"icon icon-detail",attrs:{title:"详情",type:"primary",size:"mini",plain:""},on:{click:function(a){return t.bookDetailInfo(e,e.type,"info")}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{title:"移除","data-id":e.c_id,type:"primary",size:"mini",plain:""},on:{click:function(a){return t.detailRemoveHandle([e.c_id||e.id],e.type)}}})])])}),0)])])])])])],1),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitDetail}},[t._v("确定")])],1)])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},529:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{visible:t.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.infoDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("Info",{attrs:{type:t.infoValue,infoDialog:t.infoDialog,infoData:t.infoData},on:{infoClick:t.infoHandleClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.infoDialog=!1}}},[t._v("取消")])],1)]),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("div",{staticClass:"div"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailData.base.name,expression:"detailData.base.name"}],staticClass:"form-control",attrs:{name:"name",type:"text",disabled:""},domProps:{value:t.detailData.base.name},on:{blur:t.$vali,input:function(e){e.target.composing||t.$set(t.detailData.base,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailData.base.tag,expression:"detailData.base.tag"}],staticClass:"form-control",attrs:{name:"label",type:"text",disabled:""},domProps:{value:t.detailData.base.tag},on:{input:function(e){e.target.composing||t.$set(t.detailData.base,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.detailData.base.abs,expression:"detailData.base.abs"}],staticClass:"textarea",attrs:{name:"intro",type:"text",disabled:""},domProps:{value:t.detailData.base.abs},on:{input:function(e){e.target.composing||t.$set(t.detailData.base,"abs",e.target.value)}}})]),a("div",{staticClass:"group fenmian"},[a("div",{staticClass:"label"},[t._v("封面:")]),a("div",{staticClass:"wrap"},[a("img",{staticClass:"previewImgUrl",attrs:{src:t.detailData.base.img_src,alt:"暂无图片"}})])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主题构成:")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("div",{staticClass:"tableBox"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("作者")]),a("th",[t._v("发布时间")]),a("th",{attrs:{width:"30"}},[t._v("详情")])])]),a("tbody",t._l(t.detailData.components,function(e,i){return a("tr",[a("td",{domProps:{textContent:t._s(e.content.name)}}),a("td",{domProps:{textContent:t._s(e.content.tag)}}),a("td",{domProps:{textContent:t._s(e.content.author)}}),a("td",{domProps:{textContent:t._s(e.content.create_time)}}),a("td",[a("span",{staticClass:"icon icon-detail",attrs:{title:"详情",type:"primary",size:"mini",plain:""},on:{click:function(a){return t.bookDetailInfo(e,e.content.type,"info")}}})])])}),0)])])])])])]),a("el-tab-pane",{attrs:{label:"元数据",name:"metadata"}},[a("div",{staticClass:"meta"},t._l(t.detailData.attributes,function(e,i){return a("div",{staticClass:"group rowWrap"},[a("span",{domProps:{textContent:t._s(i+1)}}),a("span",{staticClass:"left",domProps:{textContent:t._s(e.key)}}),a("span",{staticClass:"centet",domProps:{textContent:t._s(e.name)}}),a("span",{staticClass:"right",domProps:{textContent:t._s(e.value)}})])}),0)]),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[t.gList?a("div",{staticClass:"KnowledgeWrap"},[a("ul",{staticClass:"left"},t._l(t.gList,function(e){return a("li",{on:{click:function(a){return t.handKnowledgeClick(e)}}},[t._v(t._s(e.name))])}),0),a("div",{staticClass:"right"},[a("p",{staticClass:"name",domProps:{textContent:t._s(t.currGroup.name)}}),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("知识点名称")]),a("th",[t._v("数量")]),a("th",[t._v("创建时间")])])]),a("tbody",t._l(t.list,function(e){return a("tr",[a("th",[t._v(t._s(e.name))]),a("th",[t._v(t._s(e.num))]),a("th",[t._v(t._s(e.create_time))])])}),0)])])]):t._e()])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},530:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{visible:t.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.infoDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("Info",{attrs:{type:t.infoValue,infoDialog:t.infoDialog,isAuthor:t.isShowAuthor,infoData:t.infoData},on:{infoClick:t.infoHandleClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.infoDialog=!1}}},[t._v("取消")])],1)]),t.resourceDialog?a("Resource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:t.chocesArray,isShowType:!0},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),a("el-tabs",{attrs:{value:t.type||"info"}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*资源名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.name,expression:"detail.name"}],staticClass:"form-control",attrs:{vali:"",name:"name",type:"text",disabled:t.readOnly},domProps:{value:t.detail.name},on:{input:function(e){e.target.composing||t.$set(t.detail,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*授权价格:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.price,expression:"detail.price"}],staticClass:"form-control",attrs:{name:"price",type:"text",disabled:t.readOnly},domProps:{value:t.detail.price},on:{input:function(e){e.target.composing||t.$set(t.detail,"price",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.abs,expression:"detail.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,name:"abs",type:"text",disabled:t.readOnly},domProps:{value:t.detail.abs},on:{input:function(e){e.target.composing||t.$set(t.detail,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.detail.abs?t.detail.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")])],1),a("div",{staticClass:"group fenmian"},[a("div",{staticClass:"label fenmain"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.detail.img_src,alt:"暂无图片"}}),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}}),a("input",{staticClass:"hide",attrs:{name:"img",type:"text"},domProps:{value:t.imgUrl}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：118*160px")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("构成:")]),t.readOnly?t._e():a("div",{staticClass:"btn-right"},[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.delDetail()}}},[t._v("移除")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.detailAddHandle()}}},[t._v("添加")])],1)]),a("div",{staticClass:"group"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{width:"55"}},[a("input",{attrs:{type:"checkbox",name:"checkAll"},on:{click:function(e){return t.$checkAll(e)}}}),a("span",[t._v("全选")])]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",{attrs:{width:"100"}},[t._v("操作")])])]),a("tbody",t._l(t.detail.constitute,function(e,i){return a("tr",[a("td",[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids","data-type":e.type},domProps:{value:e.id}})]),a("td",[a("div",{staticClass:"th-name",attrs:{title:e.name}},[t._v(t._s(e.name))])]),a("td",[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[a("span",{staticClass:"icon icon-detail",attrs:{title:"详情",type:"primary",size:"mini",plain:""},on:{click:function(a){return t.bookDetailInfo(e,e.type,"info")}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{title:"移除","data-id":e.c_id,type:"primary",size:"mini",plain:""},on:{click:function(a){return t.delDetail([e.c_id||e.id],e.type)}}})])])}),0)])])])])],1),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitDetail}},[t._v("确定")])],1)])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},531:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-tabs",{attrs:{value:t.type||"info"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"info"}},[a("Info",{attrs:{detailData:t.detailData,infoDate:t.infoDate,services:t.services,readOnly:t.readOnly},on:{close:function(e){return t.$emit("update:detailDialog",!1)},saveok:function(e){return t.$emit("saveok",e)}}})],1),a("el-tab-pane",{attrs:{label:"课时设置",name:"hour"}},[a("Hour",{attrs:{detailData:t.detailData,hourDate:t.hourDate,services:t.hourSever,readOnly:t.readOnly},on:{change:t.hourChange,restprice:t.restprice}})],1),a("el-tab-pane",{attrs:{label:"习题设置",name:"example"}},[a("Exercise",{attrs:{detailData:t.detailData,exerciseDate:t.exerciseDate,hourDate:t.hourDate,services:t.exerciseSever,readOnly:t.readOnly},on:{change:t.exerciseChange}})],1),a("el-tab-pane",{attrs:{label:"价格设置",name:"price"}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("使用授权课程价格:")]),a("span",[t._v(t._s(t.priceDate.share_course_price||0))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置你的课程价格:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.priceDate.price,expression:"priceDate.price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.priceDate.price},on:{input:function(e){e.target.composing||t.$set(t.priceDate,"price",e.target.value)}}}),a("span",{staticClass:"price"},[t._v("*管理员会审核你的价格,价格不能低于授权课程价格")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*预计收益:")]),a("span",[t._v("（设置价格 - 使用授权课程价格）* 80%")])]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.savePrice}},[t._v("保存")])],1)])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},532:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div box"},[t._m(0),a("el-tree",{attrs:{data:t.audioList,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,r=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[t._v(t._s(r.name))]),a("span",{staticClass:"options",staticStyle:{float:"right"}},[a("div",{staticClass:"icon icon-detail",attrs:{title:"详情"},on:{click:function(e){return t.$emit("detail",r,r.children)}}}),t.readOnly?t._e():a("div",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(e){return t.del(r,i)}}})])])}}])})],1)},r=[function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[this._v("组名称")]),e("th",{attrs:{width:"100"}},[this._v("操作")])])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},533:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.groupDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:t.setTitle,name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm rowWrap"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息(必填)")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("组名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.group_name,expression:"information.group_name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.group_name},on:{input:function(e){e.target.composing||t.$set(t.information,"group_name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.price,expression:"information.price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.price},on:{input:function(e){e.target.composing||t.$set(t.information,"price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("最低定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.min_price,expression:"information.min_price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.min_price},on:{input:function(e){e.target.composing||t.$set(t.information,"min_price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主讲人:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.speaker,expression:"information.speaker"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.speaker},on:{input:function(e){e.target.composing||t.$set(t.information,"speaker",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("试听地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.src,expression:"information.src"}],staticClass:"form-control",attrs:{type:"url",disabled:t.onlyShow},domProps:{value:t.information.src},on:{input:function(e){e.target.composing||t.$set(t.information,"src",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label",domProps:{textContent:t._s("2"==t.isMedia?"关联视频":"关联音频")}})]),a("div",{staticClass:"group"},[a("Tab",{ref:"video",attrs:{dataType:"audio",onlyShow:t.onlyShow,defaultList:t.list,detailData:t.item},on:{detail:function(e){return t.$emit("detail",e)},del:function(e){return t.del(e)}}}),t.onlyShow?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$emit("open",t.addMediaType)}}},[t._v("新增")])],1)])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.onlyShow?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},534:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.imageCropperDialog?a("ImageCropper",{ref:"imageCropper",attrs:{imageCropperDialog:t.imageCropperDialog,imgFile:t.imgFile},on:{"update:imageCropperDialog":function(e){t.imageCropperDialog=e},"update:image-cropper-dialog":function(e){t.imageCropperDialog=e},preview:t.preview}}):t._e(),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课程名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课程介绍:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*有效时长:")]),a("div",{staticClass:"inline"},[a("TimePicks",{attrs:{value:t.timePick},on:{getTime:t.getTime}})],1)]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*导师:")]),a("img",{staticClass:"previewImgUrl",attrs:{src:t.information.owenr_img_src||t.$config.userInfo.user.picture_absolute}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课程封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：250*140px")])])]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitInfo()}}},[t._v("保存")])],1)])])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},535:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：250*140px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.tag},on:{input:function(e){e.target.composing||t.$set(t.xRead,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.author},on:{input:function(e){e.target.composing||t.$set(t.xRead,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("元数据:")]),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)]),t.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"2"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主题词:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.subject_terms,expression:"retailers.subject_terms"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.subject_terms},on:{input:function(e){e.target.composing||t.$set(t.retailers,"subject_terms",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("读者对象:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.target_audience,expression:"retailers.target_audience"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.target_audience},on:{input:function(e){e.target.composing||t.$set(t.retailers,"target_audience",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("中图法分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.clc_category,expression:"retailers.clc_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.clc_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"clc_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("营销分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.cp_category,expression:"retailers.cp_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.cp_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"cp_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.describe,expression:"retailers.describe"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.describe},on:{input:function(e){e.target.composing||t.$set(t.retailers,"describe",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("编辑推荐:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.editor_recommend,expression:"retailers.editor_recommend"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.editor_recommend},on:{input:function(e){e.target.composing||t.$set(t.retailers,"editor_recommend",e.target.value)}}})])])]):t._e()],1)],1),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitDetail("detailForm")}}},[t._v("保存")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},536:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.hourInfoDialog?a("HourInfo",{ref:"info",attrs:{hourInfoDialog:t.hourInfoDialog,currentHour:t.currentHour,detailData:t.detailData,services:t.services,readOnly:t.readOnly},on:{"update:hourInfoDialog":function(e){t.hourInfoDialog=e},"update:hour-info-dialog":function(e){t.hourInfoDialog=e},saveok:t.saveok,restList:t.restList}}):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("序号")]),a("th",[t._v("课时名称")]),a("th",[t._v("知识点简介")]),t.readOnly?t._e():a("th",[t._v("排序")]),a("th",{staticClass:"operate"},[t._v("操作")])])]),t.list?a("tbody",t._l(t.list,function(e,i){return a("tr",[a("td",[t._v(t._s(i+1)),a("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden",name:"ids"},domProps:{value:e.id}})]),a("td",[t._v(t._s(e.name))]),a("td",{attrs:{title:e.ab}},[t._v(t._s(t._f("formateText")(e.abs,33)))]),t.readOnly?t._e():a("td",[0!=i?a("span",{staticClass:"icon el-icon-sort-up",attrs:{size:"mini",title:"上移"},on:{click:function(a){return t.sort(e,"up")}}}):t._e(),i!=t.list.length-1?a("span",{staticClass:"icon el-icon-sort-down",attrs:{size:"mini",title:"下移"},on:{click:function(a){return t.sort(e,"down")}}}):t._e()]),a("td",[a("div",{staticClass:"btns"},[a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){return t.showHour(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){return t.delChoosen(e.id)}}})])])])}),0):t._e()]),a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.showHour()}}},[t._v("新增课时")])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},537:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.exerciseDialog?a("ExerciseInfo",{attrs:{detailData:t.detailData,exerciseDialog:t.exerciseDialog,currentExerise:t.currentExerise,services:t.services,readOnly:t.readOnly},on:{"update:exerciseDialog":function(e){t.exerciseDialog=e},"update:exercise-dialog":function(e){t.exerciseDialog=e}}}):t._e(),a("table",{staticClass:"table"},[t._m(0),t.list?a("tbody",t._l(t.list,function(e,i){return a("tr",[a("td",[e.isShow?t._e():a("span",[t._v(t._s(e.name))]),e.isShow?a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticClass:"form-control",domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}}):t._e()]),a("td",[a("el-select",{attrs:{placeholder:"请选择",disabled:t.readOnly},model:{value:e.period_id,callback:function(a){t.$set(e,"period_id",a)},expression:"item.period_id"}},t._l(t.classHour,function(i){return a("el-option",{key:i.id,attrs:{label:i.name,value:i.id,disabled:t.isDisabled(i,e)}})}),1)],1),a("td",[a("div",{staticClass:"btns"},[e.id?a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){return t.openDetail(e)}}}):t._e(),t.readOnly?t._e():a("span",{staticClass:"icon icon-menu-publish",attrs:{size:"mini",title:"修改",type:"primary",plain:""},on:{click:function(a){return t.modify(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-upload",attrs:{size:"mini",title:"保存",type:"primary",plain:""},on:{click:function(a){return t.save(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){return t.delChoosen(e.id,i)}}}),t.readOnly?t._e():a("el-checkbox",{attrs:{value:"true"===e.is_auto||!0===e.is_auto,label:"true"},on:{change:function(e){return t.selecet(i,e)}}},[t._v("自动阅卷")])],1)])])}),0):t._e()]),a("div",{staticClass:"btns"},[t.list.length<t.hourDate.length&&!t.readOnly?a("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.add()}}},[t._v("新增习题")]):t._e()],1)],1)},r=[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("关联习题")]),e("th",[this._v("选择课时")]),e("th",{attrs:{width:"180"}},[this._v("操作")])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},538:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("div",{staticClass:"dialogs"},[t.readerDialog?a("Reader",{attrs:{readerDialog:t.readerDialog,readerId:t.readerId,version:"draft"},on:{"update:readerDialog":function(e){t.readerDialog=e},"update:reader-dialog":function(e){t.readerDialog=e}}}):t._e()],1),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("div",{staticClass:"div"},[a("form",{ref:"infoForm",staticClass:"infoForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("span",{staticClass:"types"},[a("span",[t._v(" "+t._s(t.infoData.type_name))]),a("span",[t._v(" 创建时间: "+t._s(t.infoData.create_time))])])]),t.isAuthor?t._e():a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.author},on:{input:function(e){e.target.composing||t.$set(t.infoData,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.tag},on:{input:function(e){e.target.composing||t.$set(t.infoData,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("详情:")]),1==t.infoData.type?a("el-button",{attrs:{title:"预览",size:"mini",type:"primary",plain:""},on:{click:function(e){return t.openReader(t.infoData)}}},[t._v("预览")]):t._e()],1),t.detailType&&3!=t.infoData.type?a("div",{staticClass:"group wailianinput"},[a("div",{staticClass:"label"}),a("span",[a("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.infoData.preview}})])]):t._e(),t.hassVideo||4==t.infoData.type?a("div",{staticClass:"group detailmain wailian"},[a("div",{staticClass:"label"}),a("div",{staticClass:"left"},[a("img",{staticClass:"coverImg",attrs:{src:t.infoData.img_src||t.infoData.img}}),3==t.infoData.type?a("img",{staticClass:"coverImg",attrs:{src:t.infoData.preview_path}}):t._e()]),a("div",{staticClass:"right"},[a("span",{staticClass:"wrap"},[t.hassVideo?a("video",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),4==t.infoData.type?a("audio",{attrs:{src:t.infoData.preview,controls:""}}):t._e()]),a("span",{staticClass:"msg"},[a("div",{staticClass:"type"},[t._v("格式:"),a("span",{staticClass:"val",domProps:{textContent:t._s(t.infoData.format)}})]),a("div",{staticClass:"size"},[t._v("大小:"),a("span",{staticClass:"val",domProps:{textContent:t._s((t.infoData.size/1024).toFixed(2)+"KB")}})])])])]):a("div",{staticClass:"group detailmain"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[a("img",{staticClass:"coverImg",attrs:{src:t.infoData.img_src||t.infoData.img}}),3==t.infoData.type?a("img",{staticClass:"coverImg",attrs:{src:t.infoData.preview_path}}):t._e()])]),10==t.infoData.type?a("div",{staticClass:"group"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("作者")]),a("th",[t._v("发布时间")])])]),a("tbody",t._l(t.infoData.constitute,function(e,i){return a("tr",[a("td",{domProps:{textContent:t._s(e.name)}}),a("td",{domProps:{textContent:t._s(e.tag)}}),a("td",{domProps:{textContent:t._s(e.author)}}),a("td",{domProps:{textContent:t._s(e.create_time)}})])}),0)])]):t._e()])])]),a("el-tab-pane",{attrs:{label:"元数据",name:"data"}},[a("MetaData",{attrs:{metadata:t.infoData.attributes,isShowBtn:!1,readOnly:!0}})],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},539:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{center:!1,visible:t.detailDialog,"close-on-click-modal":!1,"before-close":t.close,"append-to-body":"",top:"50px",width:"1000px"},on:{"update:visible":function(e){t.detailDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"查看题目",name:"detail"}})],1)],1),a("div",{staticClass:"content"},[a("div",{staticClass:"topic-title",domProps:{innerHTML:t._s(t.detailData.question)}}),a("ul",{staticClass:"answer-area"},t._l(t.detailData.option,function(e,i){return a("li",{staticClass:"answer-item"},[a("span",{staticClass:"answer-title",class:{active:t.getActive(i)}},[t._v(t._s(t.numberToLetter(i)))]),a("div",{staticClass:"answer-content-wrap"},[a("div",{staticClass:"answer-content",domProps:{innerHTML:t._s(e.title)}}),e.img?a("img",{staticClass:"img",attrs:{src:e.img}}):t._e()])])}),0),a("div",{staticClass:"analysis-area"},[a("p",{staticClass:"analysis-title"},[t._v("题目解析")]),a("div",{staticClass:"analysis",domProps:{innerHTML:t._s(t.detailData.analysis||"暂无解析")}})])]),a("div",{staticClass:"btns",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},540:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.infoDialog?a("ContentDetail",{attrs:{infoData:t.infoData,infoDialog:t.infoDialog,mediaType:t.mediaType},on:{"update:infoDialog":function(e){t.infoDialog=e},"update:info-dialog":function(e){t.infoDialog=e}}}):t._e(),t.groupDialog?a("Group",{ref:"group",attrs:{item:t.currentItem,detailData:t.detailData,groupDialog:t.groupDialog,onlyShow:t.readOnly},on:{"update:groupDialog":function(e){t.groupDialog=e},"update:group-dialog":function(e){t.groupDialog=e},open:t.openResources,detail:t.detail,del:t.del,save:t.saveAudioOK}}):t._e(),t.bookDialog?a("Book",{attrs:{item:t.currentItem,detailData:t.detailData,optional:t.optional,bookDialog:t.bookDialog,readOnly:t.readOnly},on:{"update:bookDialog":function(e){t.bookDialog=e},"update:book-dialog":function(e){t.bookDialog=e},saveok:t.saveOk}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.detailAddDialog,width:"1200px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.detailAddDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"添加",name:"detail"}})],1)],1),a("el-form",{staticClass:"addBookForm"},[a("div",{staticClass:"serachWrap"},[a("form",{attrs:{id:"detailSearchForm"}},[a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:"输入名称",name:"name",id:"text"}}),a("span",{staticClass:"clear",on:{click:function(e){return t.clear()}}},[t._v("x")])]),a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:"输入标签",name:"tag",id:"text2"}}),a("span",{staticClass:"clear2",on:{click:function(e){return t.clear2()}}},[t._v("x")])]),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),a("span",{staticClass:"group-inline right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:t.query}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.addSelection}},[t._v("添加选中")])],1)])]),a("table",{staticClass:"table",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{width:"80"}},[t.singleElection?a("input",{attrs:{type:"checkbox"},on:{click:function(e){return t.checkAll(e,"addBookForm")}}}):t._e(),a("span",{domProps:{textContent:t._s(t.singleElection?"全选":"选择")}})]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",[t._v("创建时间")])])]),t.dataList.length?a("tbody",t._l(t.dataList,function(e,i){return a("tr",[a("td",[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox","data-type":e.status,name:"ids"},domProps:{value:e.id,checked:t.isChecked(e.id)},on:{click:t.uncheckedAll}})]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[t._v(t._s(e.create_time))])])}),0):t._e()]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.detailAddDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addSelection}},[t._v("确定")])],1)],1),a("el-tabs",{staticClass:"release-tab",attrs:{type:"border-card",value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"纸质书籍",name:"book"}},[a("Tab",{ref:"book",attrs:{dataType:"book",defaultList:t.defaultBList,detailData:t.detailData,isLabelHide:!0,onlyShow:t.readOnly},on:{detail:t.detail,del:t.del}}),t.isShowBtn&&!t.readOnly?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addBook()}}},[t._v("新增")]):t._e()],1),a("el-tab-pane",{attrs:{label:"电子书",name:"e-book"}},[a("EBook",{ref:"ebook",attrs:{defaultData:t.defaultEList,detailData:t.detailData,readOnly:t.readOnly},on:{open:t.openResources}})],1),a("el-tab-pane",{attrs:{label:"听读",name:"audio"}},[a("Audio",{ref:"audio",attrs:{detailData:t.detailData,defaultData:t.defaultAList,readOnly:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addVideo()}}},[t._v("新增组")])],1),a("el-tab-pane",{attrs:{label:"视读",name:"video"}},[a("Tab",{ref:"video",attrs:{dataType:"video",defaultList:t.defaultVList,detailData:t.detailData,onlyShow:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.openResources("5")}}},[t._v("新增")])],1),a("el-tab-pane",{attrs:{label:"资源",name:"resource"}},[a("Tab",{ref:"resource",attrs:{dataType:"resource",defaultList:t.defaultRList,detailData:t.detailData,onlyShow:t.readOnly,isShow:!0},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.openResources("14")}}},[t._v("新增")])],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},541:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.list?a("div",{staticClass:"tableWrap"},[t.isShow&&!t.onlyShow?a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("图集")]),a("el-radio-button",{attrs:{label:"2"}},[t._v("视频集")]),a("el-radio-button",{attrs:{label:"3"}},[t._v("音频集")])],1):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("类型")]),t.isLabelHide?t._e():a("th",[t._v("标签")]),a("th",[t._v("创建时间")]),a("th",{attrs:{width:"100"}},[t._v("操作")])])]),a("tbody",[t.list.length?t._e():a("tr",[a("td",{staticClass:"colspan",attrs:{colspan:t.isLabelHide?4:5}},[t._v("暂无数据")])]),t._l(t.list,function(e,i){return a("tr",[a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.name))])]),a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.type_name))])]),t.isLabelHide?t._e():a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.tag))])]),a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.create_time))])]),a("th",[a("div",{staticClass:"icon icon-detail",attrs:{title:"详情"},on:{click:function(a){return t.$emit("detail",e)}}}),t.onlyShow?t._e():a("div",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(a){return t.$emit("del",e)}}})])])})],2)])],1):t._e()},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},542:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系ID:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.link_id,expression:"information.link_id"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.link_id},on:{input:function(e){e.target.composing||t.$set(t.information,"link_id",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系简介:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.author,expression:"information.author"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.author},on:{input:function(e){e.target.composing||t.$set(t.information,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系类别:")]),a("el-select",{attrs:{maxlength:"20",disabled:t.readOnly},model:{value:t.information.category_name,callback:function(e){t.$set(t.information,"category_name",e)},expression:"information.category_name"}},t._l(t.types,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*类别编号:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.category_code,expression:"information.category_code"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.category_code},on:{input:function(e){e.target.composing||t.$set(t.information,"category_code",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*栏目一:")]),a("el-checkbox-group",{attrs:{disabled:t.readOnly,min:1,max:100},model:{value:t.checkedSeries,callback:function(e){t.checkedSeries=e},expression:"checkedSeries"}},t._l(t.series,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.name}},[t._v(t._s(e.name))])}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("封面:")]),a("img",{attrs:{src:t.previewImgUrl||t.information.img_src}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("设置封面：")]),a("label",[t.readOnly?t._e():a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.$refs.cover.click()}}},[t._v("修改")]),a("input",{ref:"cover",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1)])])]),t.readOnly?t._e():a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitInfo("detailForm")}}},[t._v("确定")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},543:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.readerDialog?a("Reader",{attrs:{readerDialog:t.readerDialog,currId:t.currknowledgeId,readerId:t.readerId,detailData:t.detailData,version:"production",markBtn:"锚点"},on:{"update:readerDialog":function(e){t.readerDialog=e},"update:reader-dialog":function(e){t.readerDialog=e},addAnchorSuccess:t.addAnchorSuccess}}):t._e(),a("div",{staticClass:"dialogs"},[a("el-dialog",{attrs:{center:!1,visible:t.groupDialog,"close-on-click-modal":!1,top:"50px",width:"500px","append-to-body":""},on:{"update:visible":function(e){t.groupDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"知识点结构",name:"detail"}})],1)],1),a("VaForm",{ref:"groupFormVa"},[a("form",{ref:"groupForm"},[a("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:t.editGroup.id}}),t.groupDialog?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name",type:"text"},domProps:{value:t.editGroup.name}})]):t._e(),a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mediu",type:"primary"},on:{click:t.groupCommit}},[t._v("确定")]),a("el-button",{attrs:{size:"mediu",type:"info"},on:{click:function(e){t.groupDialog=!1}}},[t._v("取消")])],1)])])],1),a("el-dialog",{attrs:{center:!1,visible:t.knowledgeDialog,"close-on-click-modal":!1,top:"50px",width:"500px","append-to-body":""},on:{"update:visible":function(e){t.knowledgeDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"知识点",name:"detail"}})],1)],1),a("VaForm",{ref:"KnowledgeFormVa"},[a("form",{ref:"KnowledgeForm"},[a("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:t.editKnowledge.id}}),t.knowledgeDialog?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name",type:"text"},domProps:{value:t.editKnowledge.name}})]):t._e(),a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mediu",type:"primary"},on:{click:t.KnowledgeCommit}},[t._v("确定")]),a("el-button",{attrs:{size:"mediu",type:"info"},on:{click:function(e){t.knowledgeDialog=!1}}},[t._v("取消")])],1)])])],1),a("el-dialog",{attrs:{center:!1,visible:t.addAnchorDialog,"close-on-click-modal":!1,top:"50px",width:"80%","append-to-body":"",title:"锚点添加"},on:{"update:visible":function(e){t.addAnchorDialog=e}}},[t.addAnchorDialog?a("AnchorList",{attrs:{type:t.anchorType,bookInfo:t.bookInfo,themeId:t.detailData.id,currknowledgeId:t.currknowledgeId,detailData:t.detailData},on:{anchorListCancle:t.anchorListCancle}}):t._e()],1)],1),a("div",{staticClass:"topWrap"},[t.mount&&t.mount.number>0&&100!=t.mount.number&&!t.readOnly?a("div",{staticClass:"mount"},[a("el-progress",{staticClass:"mountProgress",attrs:{"text-inside":!0,"stroke-width":18,percentage:t.mount.number}}),t.mount.number>=100?a("span",[t._v("挂载完成")]):a("span",[t._v('正在挂载"'+t._s(t.mount.name)+'"')])],1):t._e(),a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.groupEdit({})}}},[t._v("新增知识结构")]),t.currGroupId&&!t.readOnly?a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:t.guaZai}},[t._v("一键挂载")]):t._e()],1)]),t.currGroupId?a("div",{staticClass:"content clearfix"},[a("div",{staticClass:"left"},[a("ul",t._l(t.glist,function(e){return a("div",{staticClass:"li",class:{currGroup:e.id==t.currGroupId},on:{click:function(a){return t.changeGroup(e)}}},[a("span",{staticClass:"name",attrs:{title:e.name+"(100)"},domProps:{textContent:t._s(e.name+"("+e.num+")")}}),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("span",{staticClass:"icon icon-menu-publish",on:{click:function(a){return a.stopPropagation(),t.groupEdit(e)}}}),a("span",{staticClass:"icon el-icon-delete",on:{click:function(a){return a.stopPropagation(),t.groupDel(e)}}})])])}),0)]),a("div",{staticClass:"tableWrap"},[a("div",{staticClass:"nav clearfix"},[a("div",{staticClass:"name",domProps:{textContent:t._s(t.currGroup.name)}}),t.openAnchorList?a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.openAnchorList=!1}}},[t._v("返回")]),t.isBook?t._e():a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.addAnchor}},[t._v("增加锚点")]),!t.bookInfo||t.anchorType!=t.Anchors_chapter&&t.anchorType!=t.Anchors_content?t._e():a("el-select",{attrs:{placeholder:"书籍设置",size:"small"},on:{change:t.bookinfoChange,"visible-change":t.bookinfoBlur},model:{value:t.bookInfo.value,callback:function(e){t.$set(t.bookInfo,"value",e)},expression:"bookInfo.value"}},t._l(t.bookInfo.list,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.removeAnchor()}}},[t._v("移除")])],1):a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.KnowledgeEdit({})}}},[t._v("新增知识点")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.toTop}},[t._v("置顶")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.knowDel()}}},[t._v("删除")])],1)]),t.openAnchorList?t._e():a("div",{ref:"mainListWrap",staticClass:"mainListWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[t.readOnly?t._e():a("th",[t._v("全选"),a("input",{attrs:{type:"checkbox"},on:{click:function(e){return t.checkedAllBtn(e,"checkedAll")}}})]),a("th",[t._v("名称")]),a("th",[t._v("数量")]),a("th",{attrs:{width:"160"}},[t._v("创建时间")]),t.readOnly?t._e():a("th",{staticStyle:{"text-align":"center"},attrs:{width:"250"}},[t._v("操作")])])]),a("tbody",t._l(t.list,function(e){return a("tr",[t.readOnly?t._e():a("th",[a("input",{attrs:{type:"checkbox",name:"ids"},domProps:{checked:t.checkedAll,value:e.id}})]),a("th",[t._v(t._s(e.name))]),a("th",[t._v(t._s(e.num))]),a("th",[t._v(t._s(e.create_time))]),t.readOnly?t._e():a("th",[a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.KnowledgeEdit(e)}}},[t._v("重命名")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.setAnchor(e.id)}}},[t._v("设置锚点")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.knowDel([e.id])}}},[t._v("删除")])],1)])])}),0)]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),a("div",{staticClass:"btns"})]),t.openAnchorList?a("div",{staticClass:"anchorListWrap"},[a("div",{staticClass:"article"},[t.openAnchorList?a("table",{ref:"anchorList",staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("全选"),a("input",{attrs:{type:"checkbox"},on:{click:function(e){return t.checkedAllBtn(e,"anchorCheckedAll")}}})]),a("th",[a("div",{staticClass:"title"},[a("span",{staticClass:"btns"},t._l(t.anchorsList,function(e,i){return e?a("span",{class:{currAnchorType:t.isShowAnchors(i)},domProps:{textContent:t._s(t.getAnchorsText(i))},on:{click:function(e){return t.changeAnchorType(i)}}}):t._e()}),0)])]),a("th",{directives:[{name:"show",rawName:"v-show",value:t.isBook,expression:"isBook"}],attrs:{width:"180"}},[t._v("所属图书")]),a("th",{staticClass:"btns",staticStyle:{"padding-right":"30px"},attrs:{width:"50"}},[t._v("操作")])])]),a("tbody",{staticClass:"contentAnchors"},t._l(t.anchorList,function(e){return a("tr",[a("td",[a("div",{staticClass:"input"},[a("input",{attrs:{type:"checkbox",name:"ids"},domProps:{checked:t.anchorCheckedAll,value:e.id}})])]),a("td",{staticClass:"point"},[t.anchorType==t.Anchors_content?a("div",{staticClass:"div"},[t._v(t._s(e.point))]):a("div",{staticClass:"div"},[t._v(t._s(e.name))])]),t.isBook?a("td",[t._v(t._s(e.book_name))]):t._e(),a("td",[a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.removeAnchor([e.n_info_id])}}},[t._v("移除")])],1)])])}),0)]):t._e()])]):t._e()])]):t._e()],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},544:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.imageCropperDialog?a("ImageCropper",{ref:"imageCropper",attrs:{imageCropperDialog:t.imageCropperDialog,imgFile:t.imgFile,autoCropWidth:290,autoCropHeight:400},on:{"update:imageCropperDialog":function(e){t.imageCropperDialog=e},"update:image-cropper-dialog":function(e){t.imageCropperDialog=e},preview:t.preview}}):t._e(),a("el-dialog",{attrs:{visible:t.choiceDialog,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.choiceDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"选择"+t.title,name:"detail"}})],1)],1),a("form",{staticClass:"rowWrap"},[a("div",{staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"form-control",attrs:{placeholder:"输入查询"+t.title,type:"text"},domProps:{value:t.keyWord},on:{input:[function(e){e.target.composing||(t.keyWord=e.target.value)},t.searchAuthor]}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.creatAuthor}},[t._v("创建新"+t._s(t.title))])],1),a("ul",{staticClass:"authorListForm"},t._l(t.gauthorList,function(e){return a("li",[a("input",{ref:"ids",refInFor:!0,attrs:{name:"ids",type:"checkbox",label:e.name,id:"author_"+e.id},domProps:{value:e.id}}),a("label",{attrs:{for:"author_"+e.id}},[t._v(t._s(e.name))])])}),0)]),a("div",{staticClass:"div dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.choiceDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.choiceAuthor}},[t._v("确定")])],1)]),a("el-dialog",{attrs:{visible:t.creatDialog,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.creatDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"创建"+t.title,name:"detail"}})],1)],1),a("form",{staticClass:"authorInfo"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("姓名:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.creatAuthorInfo.name,expression:"creatAuthorInfo.name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:t.creatAuthorInfo.name},on:{input:function(e){e.target.composing||t.$set(t.creatAuthorInfo,"name",e.target.value)}}})])]),a("div",{staticClass:"div dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.creatDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveAuthor}},[t._v("确定")])],1)]),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("ISBN:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.ISBN||t.information.book_isbn,expression:"information.ISBN||information.book_isbn"}],ref:"isbn",staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.ISBN||t.information.book_isbn},on:{input:function(e){e.target.composing||t.$set(t.information.ISBN||t.information,"book_isbn",e.target.value)}}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.syncInfo}},[t._v("同步")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：290*400px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("form",{staticClass:"readForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*标签:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.tag},on:{input:function(e){e.target.composing||t.$set(t.xRead,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.author},on:{input:function(e){e.target.composing||t.$set(t.xRead,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("元数据:")]),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]),t.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"2"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("绝版:")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"out_print",label:"1",disabled:t.readOnly},model:{value:t.out_print,callback:function(e){t.out_print=e},expression:"out_print"}},[t._v("是")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"out_print",label:"2",disabled:t.readOnly},model:{value:t.out_print,callback:function(e){t.out_print=e},expression:"out_print"}},[t._v("否")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("是否有版:")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"have_print",label:"1",disabled:t.readOnly},model:{value:t.have_print,callback:function(e){t.have_print=e},expression:"have_print"}},[t._v("是")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"have_print",label:"2",disabled:t.readOnly},model:{value:t.have_print,callback:function(e){t.have_print=e},expression:"have_print"}},[t._v("否")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("el-select",{staticStyle:{"margin-right":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择",size:"small",name:"author",disabled:t.readOnly},model:{value:t.authorValue,callback:function(e){t.authorValue=e},expression:"authorValue"}},t._l(t.authorOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addAuthor("作者")}}},[t._v("添加")])],1),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("译者:")]),a("el-select",{staticStyle:{"margin-right":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择",size:"small",name:"translator",disabled:t.readOnly},model:{value:t.translatorValue,callback:function(e){t.translatorValue=e},expression:"translatorValue"}},t._l(t.translatorOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.addAuthor("译者")}}},[t._v("添加")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主题词:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.subject_terms,expression:"retailers.subject_terms"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.subject_terms},on:{input:function(e){e.target.composing||t.$set(t.retailers,"subject_terms",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("读者对象:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.target_audience,expression:"retailers.target_audience"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.target_audience},on:{input:function(e){e.target.composing||t.$set(t.retailers,"target_audience",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("中图法分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.clc_category,expression:"retailers.clc_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.clc_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"clc_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("营销分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.cp_category,expression:"retailers.cp_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.cp_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"cp_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.describe,expression:"retailers.describe"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.describe},on:{input:function(e){e.target.composing||t.$set(t.retailers,"describe",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("编辑推荐:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.editor_recommend,expression:"retailers.editor_recommend"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.editor_recommend},on:{input:function(e){e.target.composing||t.$set(t.retailers,"editor_recommend",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("图书目录:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.book_directory,expression:"retailers.book_directory"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.book_directory},on:{input:function(e){e.target.composing||t.$set(t.retailers,"book_directory",e.target.value)}}})])])]):t._e(),a("el-tab-pane",{attrs:{name:"3"}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("收起"),a("i",{staticClass:"el-icon-arrow-up"})])])],1)],1),a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitInfo()}}},[t._v("保存")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},545:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.infoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:function(e){return t.$emit("update:infoDialog",!1)}}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"详情",name:"ff"}})],1)],1),a("form",{ref:"infoForm",staticClass:"infoForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("span",{staticClass:"types"},[a("span",[t._v(" "+t._s(t.infoData.type_name))]),a("span",[t._v(" 创建时间: "+t._s(t.infoData.create_time))])])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.tag},on:{input:function(e){e.target.composing||t.$set(t.infoData,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("详情:")])]),t.detailType&&3!=t.infoData.type?a("div",{staticClass:"group wailianinput"},[a("div",{staticClass:"label"}),a("span",[a("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.infoData.preview}})])]):t._e(),t.hassVideo||4==t.infoData.type?a("div",{staticClass:"group detailmain wailian"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[t.hassVideo?a("video",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),4==t.infoData.type?a("audio",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),a("span",{staticClass:"msg"},[a("div",{staticClass:"type"},[t._v("格式:"),a("span",{staticClass:"val",domProps:{textContent:t._s(t.infoData.format)}})]),a("div",{staticClass:"size"},[t._v("大小:"),a("span",{staticClass:"val",domProps:{textContent:t._s(((this.infoData.size||0)/1024).toFixed(2)+"KB")}})])])])]):t._e(),a("div",{staticClass:"group detailmain"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[3==t.infoData.type?a("img",{staticClass:"coverImg",attrs:{src:t.infoData.preview_path}}):t._e(),a("img",{staticClass:"coverImg",attrs:{src:t.infoData.img_src||t.infoData.img,"else-if":""}})])]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,isOption:!1}})],1)]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:infoDialog",!1)}}},[t._v("取消")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},546:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：250*140px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.author},on:{input:function(e){e.target.composing||t.$set(t.xRead,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.tag},on:{input:function(e){e.target.composing||t.$set(t.xRead,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("元数据:")]),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,disabled:t.readOnly,readOnly:t.readOnly}})],1)])])],1)],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},547:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{ref:"resource",attrs:{type:t.resourceType,parameter:t.parameter,resourceDialog:t.resourceDialog,curSoucesList:t.curSoucesList,isShowSearch:!0,idName:t.idName},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.ExerciseInfoDialog?a("ExerciseInfo",{attrs:{detailData:t.detailData,exerciseDialog:t.ExerciseInfoDialog,currentExerise:t.currentDate,services:t.services},on:{"update:exerciseDialog":function(e){t.ExerciseInfoDialog=e},"update:exercise-dialog":function(e){t.ExerciseInfoDialog=e},save:t.saveExamin}}):t._e(),t.detailDialog?a("ExerciseDetail",{attrs:{detailDialog:t.detailDialog,detailData:t.currentDate},on:{"update:detailDialog":function(e){t.detailDialog=e},"update:detail-dialog":function(e){t.detailDialog=e}}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.exerciseDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a("div",{staticClass:"total-score"},[t._v("总分 "),a("span",[t._v(t._s(t.totalScore))])]),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"习题",name:"ff"}})],1)],1),a("div",{staticClass:"content"},[a("ul",{staticClass:"exerciseInfo"},t._l(t.exerciseList,function(e,i){return a("li",{key:i},[a("div",{staticClass:"top"},[a("span",{staticClass:"title"},[t._v("第"+t._s(t._f("numberToChinese")(i+1))+"题")]),a("span",{staticClass:"score"},[t._v(t._s(e.score)+"分")]),a("span",{staticClass:"name"},[t._v(t._s(e.question_type_name))]),"subjective_item"!=e.question_type?a("span",{staticClass:"answer"},[t._v("正确答案："+t._s(t.getAnswer(e)))]):t._e()]),a("div",{staticClass:"exercise"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-name"},[t._v("题目：")]),a("div",{staticClass:"title-text",domProps:{innerHTML:t._s(e.question)}})]),"single"==e.question_type||"multi"==e.question_type?a("ul",{staticClass:"options"},t._l(e.option,function(e,i){return a("li",[a("span",{staticClass:"options-option"},[t._v(t._s(t._f("numberToLetter")(i)))]),a("div",{staticClass:"options-text",domProps:{innerHTML:t._s(e.title)}})])}),0):t._e()]),a("div",{staticClass:"relation"},[a("ul",[a("span",{staticClass:"title"},[t._v("课时计划链接")]),t._l(e.tp_constitute_info,function(r){return a("li",[a("span",[t._v(t._s(r.teaching_plan_info||r.tag)+" ")]),a("span",[t._v(t._s(r.resource_name||r.name)+" ")]),a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){return t.delConstitute(r,e,i)}}})])})],2)]),a("div",{staticClass:"analysis"},[a("div",{staticClass:"title"},[a("span",[t._v("【解析】:")]),a("div",{staticClass:"analysis_text",domProps:{innerHTML:t._s(e.analysis)}})])]),t.readOnly?t._e():a("div",{staticClass:"operation"},[a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){return t.detail(e,i)}}}),a("span",{staticClass:"icon icon-link",attrs:{size:"mini",title:"添加课时计划链接",type:"primary",plain:""},on:{click:function(a){return t.add(e,i)}}}),a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){return t.del(e,i)}}}),0!=i?a("span",{staticClass:"icon el-icon-sort-up",attrs:{size:"mini",title:"上移"},on:{click:function(a){return t.sort(e,"up")}}}):t._e(),i!=t.exerciseList.length-1?a("span",{staticClass:"icon el-icon-sort-down",attrs:{size:"mini",title:"下移"},on:{click:function(a){return t.sort(e,"down")}}}):t._e()])])}),0),a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.detail()}}},[t._v("新增题目")]),t.readOnly?t._e():a("el-button",{staticClass:"el-icon-search",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.addExercise()}}},[t._v("选择题目")])],1)]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.saveInfo}},[t._v("确定")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},548:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("div",{staticClass:"serachWrapd"},[a("div",{staticClass:"title"}),a("form",{ref:"mainForm"},[a("span",{staticClass:"group-inline"},[t.bookInfo&&"章节锚点"==t.type?a("el-select",{attrs:{placeholder:"选择所属书籍",size:"small",clearable:""},model:{value:t.bookInfo.value,callback:function(e){t.$set(t.bookInfo,"value",e)},expression:"bookInfo.value"}},t._l(t.bookInfo.list,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1):t._e()],1),a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:t._f("formatHolder")(t.type),name:"name"}})]),a("span",{staticClass:"group-inline btn"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search",plain:""},on:{click:t.seareHandeler}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.addAnchorCommit}},[t._v("添加选中")])],1)])]),a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("全选"),a("input",{attrs:{type:"checkbox"},on:{click:t.checkedAll}})]),a("th",[t._v("名称")]),a("th",[t._v("创建时间")])])]),a("tbody",t._l(t.list,function(e){return a("tr",[a("th",[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids"},domProps:{checked:!!t.obj[e.id],value:e.id},on:{click:function(a){return t.choose(a,e)}}})]),a("th",[t._v(t._s(e.chapter_name||e.name))]),a("th",[t._v(t._s(e.create_time))])])}),0)]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("anchorListCancle")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addAnchorCommit}},[t._v("确定")])],1)])},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},549:function(t,e,a){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-dialog",{attrs:{center:!1,visible:this.readerDialog,top:"50px",width:"1000px","show-close":!1,"append-to-body":""}},[e("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[e("i",{staticClass:"el-icon-close",on:{click:this.colse}}),e("el-tabs",{attrs:{value:"reader"}},[e("el-tab-pane",{attrs:{label:this.title,name:"reader"}})],1)],1),e("div",{ref:"readerIframe",staticClass:"content"},[e("div",{staticStyle:{height:"500px"},attrs:{id:"readerIframe"}})]),e("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"info"},on:{click:this.colse}},[this._v("关闭")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},550:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("AddResource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:[],type:"20",isShowType:!0},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":function(e){return t.$emit("handleClick")}}},[a("el-tab-pane",{attrs:{label:"指导案例",name:"example"}},[a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("编号")])])]),a("tbody",t._l(t.resList1,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.number))])])}),0)])])]),a("el-tab-pane",{attrs:{label:"栏目",name:"column"}},[a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("编号")])])]),a("tbody",t._l(t.resList2,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.number))])])}),0)])])])],1),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.resourceDialog=!0}}},[t._v("新增")])],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},551:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.bookDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:t.setTitle,name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm rowWrap"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息(必填)")])]),a("div",{staticClass:"left"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{name:"name",type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("ISBN:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.book_isbn,expression:"information.book_isbn"}],ref:"isbn",staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.book_isbn},on:{input:function(e){e.target.composing||t.$set(t.information,"book_isbn",e.target.value)}}}),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{type:"primary",size:"small"},on:{click:t.syncInfo}},[t._v("同步")])],1),t.optional.length?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("paperback")||t.readOnly,label:"paperback"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("平装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("hardcover")||t.readOnly,label:"hardcover"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("精装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("soft_hardcover")||t.readOnly,label:"soft_hardcover"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("软精装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("thread_bound")||t.readOnly,label:"thread_bound"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("线装")])],1):t._e(),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.price,expression:"information.price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.price},on:{input:function(e){e.target.composing||t.$set(t.information,"price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("最低定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.sales_price_min,expression:"information.sales_price_min"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.sales_price_min},on:{input:function(e){e.target.composing||t.$set(t.information,"sales_price_min",e.target.value)}}}),a("span",[t._v(" 元")])])]),a("div",{staticClass:"right"},[a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}}),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){return t.$refs.fenmian.click()}}},[t._v("选择封面")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){return t.previewImg(e)}}})],1),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("ISBN扩展:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.book_isbn_extension,expression:"information.book_isbn_extension"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.book_isbn_extension},on:{input:function(e){e.target.composing||t.$set(t.information,"book_isbn_extension",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("图书重量:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.book_weight,expression:"information.book_weight"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.book_weight},on:{input:function(e){e.target.composing||t.$set(t.information,"book_weight",e.target.value)}}}),a("span",[t._v(" KG")])]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},552:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.planInfoDialog?a("planInfo",{attrs:{planInfoDialog:t.planInfoDialog,currentPlan:t.currentPlan,currentHour:t.currentHour,services:t.services,readOnly:t.readOnly,detailData:t.detailData},on:{"update:planInfoDialog":function(e){t.planInfoDialog=e},"update:plan-info-dialog":function(e){t.planInfoDialog=e},saveok:function(e){return t.$emit("restList")}}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.hourInfoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"课时",name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课时名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*知识点简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*教学计划:")]),!t.readOnly&&t.information.id?a("el-button",{staticClass:"el-icon-plus",staticStyle:{float:"right"},attrs:{size:"small",plain:"",type:"primary"},on:{click:function(e){return t.showPlan()}}},[t._v("新增计划")]):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("序号")]),a("th",[t._v("计划名称")]),t.readOnly?t._e():a("th",[t._v("排序")]),a("th",{staticClass:"operate"},[t._v("操作")])])]),t.information.teaching_plan?a("tbody",t._l(t.information.teaching_plan,function(e,i){return a("tr",[a("td",[t._v(t._s(i+1)),a("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden",name:"ids"},domProps:{value:e.id}})]),a("td",[t._v(t._s(e.name))]),t.readOnly?t._e():a("td",[a("span",{staticClass:"icon el-icon-sort-up",attrs:{size:"mini",title:"上移"}}),a("span",{staticClass:"icon el-icon-sort-down",attrs:{size:"mini",title:"下移"}})]),a("td",[a("div",{staticClass:"btns"},[a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){return t.showPlan(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){return t.delChoosen(e.id)}}})])])])}),0):t._e()])],1)])])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.submitInfo}},[t._v("确定")])],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},553:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*关联书籍:")]),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.$emit("open","1")}}},[t._v("关联")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.author,expression:"information.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.author},on:{input:function(e){e.target.composing||t.$set(t.information,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*类型:")]),a("span",{staticClass:"types"},[a("span",[t._v(" "+t._s(t.information.type_name))]),a("span",[t._v(" 创建时间: "+t._s(t.information.create_time))])])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{rows:"3",type:"text",maxlength:t.$config.ABS_MAX_LENGTH,disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav restBody",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"first"}},[a("form",{staticClass:"readForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]),t.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"second"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("定价:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.sale_price,expression:"ebook_shop.sale_price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.sale_price},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"sale_price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("最低定价:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.min_sale_price,expression:"ebook_shop.min_sale_price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.min_sale_price},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"min_sale_price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容阅读地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.read_url,expression:"ebook_shop.read_url"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.read_url},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"read_url",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容试读地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.trial_url,expression:"ebook_shop.trial_url"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.trial_url},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"trial_url",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:t.shopMetadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]):t._e(),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("收起"),a("i",{staticClass:"el-icon-arrow-up"})])])],1)],1),t.book_id?a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit("detailForm")}}},[t._v("保存")])],1):t._e()])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},554:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"li"},[a("el-date-picker",{staticClass:"picker",attrs:{type:"daterange",align:"right","unlink-panels":!0,name:t.inputsName,"value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"-","start-placeholder":t.start,"end-placeholder":t.end,"default-time":["00:00:00","23:59:59"]},on:{change:function(e){return t.$emit("getTime",t.timePick)}},model:{value:t.timePick,callback:function(e){t.timePick=e},expression:"timePick"}})],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},555:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.exerciseDialog,"before-close":t.colse,top:"50px",width:"800px",title:(t.currentDetail.id?"修改":"新增")+"题目","append-to-body":""}},[a("div",{staticClass:"content"},[a("VaForm",{ref:"detailForm"},[a("form",[a("div",{staticClass:"group inline"},[a("div",{staticClass:"label"},[t._v("*分值:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentDetail.score,callback:function(e){t.$set(t.currentDetail,"score",e)},expression:"currentDetail.score"}},t._l(t.scoreList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),a("div",{staticClass:"group inline"},[a("div",{staticClass:"label"},[t._v("*题目类型:")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.slecetChange},model:{value:t.currentDetail.question_type,callback:function(e){t.$set(t.currentDetail,"question_type",e)},expression:"currentDetail.question_type"}},t._l(t.answerType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("div",{staticClass:"group inline"},[a("div",{staticClass:"label"},[t._v("*难易程度:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentDetail.level,callback:function(e){t.$set(t.currentDetail,"level",e)},expression:"currentDetail.level"}},t._l(t.answerLevel,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("div",{staticClass:"group inline"},[a("div",{staticClass:"label"},[t._v("*分组:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentDetail.group_id,callback:function(e){t.$set(t.currentDetail,"group_id",e)},expression:"currentDetail.group_id"}},t._l(t.groupList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*题目名称:")]),a("Ueditor",{attrs:{id:"question",isImage:!0,item:t.currentDetail,name:"question"},on:{uechange:t.uechange}})],1),"single"==t.currentDetail.question_type||"multi"==t.currentDetail.question_type?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*题目选项:")]),a("ul",{staticClass:"exerciseList",staticStyle:{display:"inline-block"}},t._l(t.defaultOption,function(e,i){return a("li",[a("span",{staticClass:"option"},[t._v(t._s(t.numberToLetter(i)))]),a("span",["single"==t.currentDetail.question_type?a("el-checkbox",{attrs:{value:"true"===e.isAnswer||!0===e.isAnswer,label:t.numberToLetter(i)},on:{change:function(e){return t.selecet(i,e)}}},[t._v("正确答案")]):t._e(),"multi"==t.currentDetail.question_type?a("el-checkbox",{attrs:{value:"true"===e.isAnswer||!0===e.isAnswer,label:t.numberToLetter(i)},on:{change:function(e){return t.selecet(i,e)}}},[t._v("正确答案")]):t._e()],1),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"danger",title:"删除选项",size:"mini"},on:{click:function(e){return t.removeOption(i)}}},[t._v("删除选项")]),a("div",[a("FileUpload",{attrs:{data:e},on:{change:t.change}}),a("Ueditor",{attrs:{id:"option"+i,item:e,name:"title"},on:{uechange:t.uechange}})],1)],1)}),0)]):t._e(),"single"==t.currentDetail.question_type||"multi"==t.currentDetail.question_type?a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",plain:"",size:"mini"},on:{click:t.addOption}},[t._v("新增选项")])],1):t._e(),"judgment"==t.currentDetail.question_type?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*答案:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentDetail.answer,callback:function(e){t.$set(t.currentDetail,"answer",e)},expression:"currentDetail.answer"}},[a("el-option",{key:"1",attrs:{label:"正确",value:"true"}}),a("el-option",{key:"2",attrs:{label:"错误",value:"false"}})],1)],1):t._e(),"fill"==t.currentDetail.question_type?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*答案:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.currentDetail.answer,expression:"currentDetail.answer"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentDetail.answer},on:{input:function(e){e.target.composing||t.$set(t.currentDetail,"answer",e.target.value)}}})]):t._e(),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("题目解析:")]),a("Ueditor",{attrs:{id:"analysis",isImage:!0,item:t.currentDetail,name:"analysis"},on:{uechange:t.uechange}})],1)])])],1),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},556:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:t.information.resources,singleElection:!0,isShowType:!0,isShowResource:!1,parameter:t.parameter},on:{"update:resourceDialog":function(e){t.resourceDialog=e},"update:resource-dialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.planInfoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"计划",name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*学习时长:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.time,expression:"information.time"}],staticClass:"form-control time",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.time},on:{input:function(e){e.target.composing||t.$set(t.information,"time",e.target.value)}}}),a("span",[t._v("秒")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("资源")]),a("ul",{staticClass:"preview"},t._l(t.information.resources,function(e){return a("li",[a("img",{staticClass:"previewImgUrl",attrs:{src:e.img_src||e.preview_path}}),a("p",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(a){return t.delChoosen(e.id)}}})])}),0),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.relation()}}},[t._v("关联")])],1)])])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.submitInfo}},[t._v("确定")])],1)],1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},557:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{center:!1,visible:t.detailDialog,"close-on-click-modal":!1,"before-close":t.close,"append-to-body":"",top:"50px",width:"1000px"},on:{"update:visible":function(e){t.detailDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"查看题目",name:"detail"}})],1)],1),a("div",{staticClass:"content"},[a("div",{staticClass:"topic-title",domProps:{innerHTML:t._s(t.detailData.question)}}),"subjective_item"==t.detailData.question_type||"fill"==t.detailData.question_type?a("div",{staticClass:"answer-area"},[t.detailData.answer?a("p",{staticClass:"answer"},[t._v(t._s(t.detailData.answer))]):t._e()]):"judgment"==t.detailData.question_type?a("div",{staticClass:"answer-area"},[a("li",{staticClass:"answer-item"},[a("span",{staticClass:"answer-title",class:{active:"true"==t.detailData.answer}},[t._v("A")]),a("div",{staticClass:"answer-content-wrap"},[a("div",{staticClass:"answer-content"},[t._v("正确")])])]),a("li",{staticClass:"answer-item"},[a("span",{staticClass:"answer-title",class:{active:"false"==t.detailData.answer}},[t._v("B")]),a("div",{staticClass:"answer-content-wrap"},[a("div",{staticClass:"answer-content"},[t._v("错误")])])])]):a("ul",{staticClass:"answer-area"},t._l(t.detailData.option,function(e,i){return a("li",{staticClass:"answer-item"},[a("span",{staticClass:"answer-title",class:{active:t.getActive(i)}},[t._v(t._s(t.numberToLetter(i)))]),a("div",{staticClass:"answer-content-wrap"},[a("div",{staticClass:"answer-content",domProps:{innerHTML:t._s(e.title)}}),e.img?a("img",{staticClass:"img",attrs:{src:e.img}}):t._e()])])}),0),a("div",{staticClass:"analysis-area"},[a("p",{staticClass:"analysis-title"},[t._v("题目解析")]),a("div",{staticClass:"analysis",domProps:{innerHTML:t._s(t.detailData.analysis||"暂无解析")}})])]),a("div",{staticClass:"btns",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("update:detailDialog",!1)}}},[t._v("取消")])],1)])],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},558:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editor-wapper"},[t.uploadDialog?a("el-dialog",{attrs:{center:!1,visible:t.uploadDialog,"close-on-click-modal":!1,"append-to-body":"",top:"50px",width:"800px",title:"上传"+t.switchTypeName},on:{"update:visible":function(e){t.uploadDialog=e}}},[a("UeUpload",{attrs:{ue:t.ue,type:t.uploadType},on:{cancle:function(e){t.uploadDialog=!1}}})],1):t._e(),a("div",{staticClass:"editor",attrs:{id:this.id}})],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},559:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fileUpload",on:{click:function(e){return t.$refs.file.click()}}},[t.previewImgUrl?a("img",{staticClass:"img",attrs:{src:t.previewImgUrl}}):a("div",{staticClass:"box"},[a("div",{staticClass:"el-icon-plus"}),a("div",{staticClass:"icon-name"},[t._v("添加图片")])]),a("input",{ref:"file",staticClass:"hide",attrs:{type:"file",accept:"image/*"},on:{change:t.previewImg}})])},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},560:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("div",{staticClass:"wrap"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("导入方式:")]),a("span",[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.importType,expression:"importType"}],attrs:{type:"radio",name:"methd",value:"local"},domProps:{checked:t._q(t.importType,"local")},on:{change:function(e){t.importType="local"}}}),t._v("本地")]),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.importType,expression:"importType"}],attrs:{type:"radio",name:"methd",value:"link"},domProps:{checked:t._q(t.importType,"link")},on:{change:function(e){t.importType="link"}}}),t._v("外链")])])]),"local"==t.importType?a("div",{staticClass:"local"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.$refs.media.click()}}},[t._v("选择")]),a("input",{ref:"media",staticClass:"hide",attrs:{type:"file",accept:t.accept},on:{change:t.showImgLocal}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("span",{staticClass:"imgShow"},["img"==t.type&&t.localUrl?a("img",{attrs:{src:t.localUrl}}):t._e(),"video"==t.type&&t.localUrl?a("video",{attrs:{src:t.localUrl,controls:""}}):t._e(),"audio"==t.type&&t.localUrl?a("audio",{attrs:{src:t.localUrl,controls:""}}):t._e()])])]):t._e(),"link"==t.importType?a("div",{staticClass:"link"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("外链")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.linkUrl,expression:"linkUrl"}],ref:"link",staticClass:"short form-control",domProps:{value:t.linkUrl},on:{input:function(e){e.target.composing||(t.linkUrl=e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("span",{staticClass:"imgShow"},["img"==t.type&&t.linkUrl?a("img",{attrs:{src:t.linkUrl}}):t._e(),"video"==t.type&&t.linkUrl?a("video",{attrs:{src:t.linkUrl,controls:""}}):t._e(),"audio"==t.type&&t.linkUrl?a("audio",{attrs:{src:t.linkUrl,controls:""}}):t._e()])])]):t._e()])]),a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:t.back}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.commit}},[t._v("确定")])],1)])},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},561:function(t,e,a){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return this.percentage?e("div",{staticClass:"progressWrap"},[e("div",{staticClass:"content"},[e("el-progress",{attrs:{type:"circle",percentage:this.percentage,color:"#F7793E",width:80}})],1)]):this._e()},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},607:function(t,e,a){"use strict";a.r(e);var i=a(608),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},608:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["groupList","currGroup"],data:function(){return{newGroupDialogOpen:!1,updateGroupDialogOpen:!1,currEditGroup:null}},created:function(){},computed:{},methods:{groupChange:function(t){this.$emit("groupChange",t)},addGroupDialog:function(){},delGroup:function(t){var e=this;this.$confirm("是否删除分组:"+t.name).then(function(a){dir(a),e.$emit("delGroup",t.id)}).catch(function(t){dir(t)})},updateGroupDialog:function(t){this.currEditGroup=t,log(t),this.updateGroupDialogOpen=!0},addGroup:function(){if(this.$refs.addGroupForm.valiAll()){var t=document.querySelector("#addGroupForm");this.$emit("addGroup",t),this.newGroupDialogOpen=!1}},updateGroup:function(){if(this.$refs.updateGroupForm.valiAll()){var t=document.querySelector("#updateGroupForm");this.$emit("updateGroup",t),this.updateGroupDialogOpen=!1}},moveToSubmit:function(){this.$emit("moveGroup")}}}},609:function(t,e,a){},610:function(t,e,a){"use strict";a.r(e);var i=a(611),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},611:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["groupList","currGroup"],created:function(){log("重庆插件")},data:function(){return{flag:!0}},methods:{submit:function(){var t=this.$refs.moveToId.value;this.$emit("submit",t)}},watch:{flag:function(){this.flag||this.$emit("back")}}}},667:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/data_subjects",t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_post)("/api/data_subjects/delete",t)},e.detail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)(c(t),t)},e.modifySeries=function(t){var e=t.id,a=o(t,["id"]);return(0,r.request_put)(c({id:e}),a)},e.put=function(t){return(0,r.request_put)("/api/data_subjects/put",t)},e.pull=function(t){return(0,r.request_put)("/api/data_subjects/pull",t)},e.putSave=function(t){return(0,r.request_put)("/api/data_subjects/set",t)},e.getColList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/data_subjects/class/books",t)},e.groupList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/data_subjects/groups",t)},e.group=function(t){var e=t.id,a=o(t,["id"]);if(e)return(0,r.request_put)(u({id:e}),a);return(0,r.request_post)("/api/data_subjects/groups",a)},e.groupDel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]);return(0,r.request_delete)(l({id:e}),a)},e.groupMove=function(t){return(0,r.request_put)("/api/groups/data_subjects",t)},e.getClass=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.request_get)("/api/data_categorys/books/class",t)};var i,r=a(16),n=a(21),s=(i=n)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}var l=s.default.compile("/api/data_subjects/groups/:id"),u=s.default.compile("/api/data_subjects/:id/groups"),c=s.default.compile("/api/data_subjects/:id")},748:function(t,e,a){"use strict";a.r(e);var i=a(971),r=a(607);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);a(749);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"01130e0a",null);e.default=o.exports},749:function(t,e,a){"use strict";var i=a(609);a.n(i).a},750:function(t,e,a){"use strict";a.r(e);var i=a(974),r=a(610);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);var s=a(0),o=Object(s.a)(r.default,i.a,i.b,!1,null,"66ea60dc",null);e.default=o.exports},774:function(t,e,a){"use strict";a.r(e);var i=a(775),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=r.a},775:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=c(a(748)),n=c(a(750)),s=a(293),o=(c(a(282)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(667))),l=c(a(443)),u=a(49);function c(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Detail:l.default,GroupList:r.default,MoveGroup:n.default},mixins:[s.main],data:function(){return{services:o,detailVisible:!1,detailDialoaType:"info",detailData:null,pustSetDialog:!1,currentPut:null,moveToOtherDiaolog:!1,moveIds:null,toId:null,columnBook:null}},created:function(){this.getColumn()},methods:i({setList:function(t){this.setSerieslist(t)},setGroupList:function(t){this.setSeriesGrouplist(t)},setPage:function(t){this.setSerieslistPage(t)},putSet:function(t){this.currentPut={theme_extend_list:t.theme_extend_list},this.pustSetDialog=!0},getColumn:function(){var t=this;this.services.getColList().then(function(e){t.columnBook=e.data})},pustSetSave:function(){var t=this;this.services.putSave(this.currentPut).then(function(e){t.pustSetDialog=!1,t.getList()})},shelfClass:function(t){i({},t,{id:this.currentShelf.id})}},(0,u.mapMutations)(["setSerieslist","setSerieslistPage","setSeriesGrouplist"])),computed:i({},(0,u.mapState)({list:function(t){return t.series.list},page:function(t){return t.series.page},groupList:function(t){return t.series.groupList}}))}},776:function(t,e,a){},971:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("div",{staticClass:"groupWrap"},[a("div",{staticClass:"list"},[a("ul",t._l(t.groupList,function(e){return a("li",{staticClass:"licontent",class:{red:e.id==t.currGroup}},[a("div",{staticClass:"name ellipsis",attrs:{title:e.name+"("+e.num+")"},on:{click:function(a){return t.groupChange(e.id)}}},[a("span",{staticClass:"title"},[t._v(t._s(e.name))]),a("span",[t._v(t._s("("+e.num+")"))])]),""!=e.id&&"non"!=e.id?a("div",{staticClass:"btns"},[a("span",{on:{click:function(a){return t.updateGroupDialog(e)}}},[a("i",{staticClass:"el-icon-edit"})]),a("span",{on:{click:function(a){return t.delGroup(e)}}},[a("i",{staticClass:"el-icon-delete"})])]):t._e()])}),0)]),a("div",{staticClass:"addGroupBtnWrap"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.newGroupDialogOpen=!0}}},[a("i",{staticClass:"el-icon-plus"},[t._v("新建分组")])])],1)]),a("div",{staticClass:"dialogs"},[t.newGroupDialogOpen?a("el-dialog",{attrs:{title:"新增",visible:t.newGroupDialogOpen,width:"500px"},on:{"update:visible":function(e){t.newGroupDialogOpen=e}}},[a("div",{staticClass:"formWrap"},[a("VaForm",{ref:"addGroupForm"},[a("form",{attrs:{id:"addGroupForm"}},[a("div",{staticClass:"group"},[a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"}})])])])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.newGroupDialogOpen=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addGroup}},[t._v("确定")])],1)]):t._e(),t.updateGroupDialogOpen?a("el-dialog",{attrs:{title:"修改",visible:t.updateGroupDialogOpen,width:"500px"},on:{"update:visible":function(e){t.updateGroupDialogOpen=e}}},[a("div",{staticClass:"formWrap"},[a("VaForm",{ref:"updateGroupForm"},[t.currEditGroup?a("form",{attrs:{id:"updateGroupForm"}},[a("div",{staticClass:"group"},[a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"},domProps:{value:t.currEditGroup.name}}),a("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:t.currEditGroup.id}})])]):t._e()])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.updateGroupDialogOpen=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.updateGroup}},[t._v("确定")])],1)]):t._e()],1)])},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},974:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.flag?a("el-dialog",{attrs:{center:!1,visible:t.flag,"close-on-click-modal":!1,title:"移动分组",width:"400px"},on:{"update:visible":function(e){t.flag=e}}},[a("span",{}),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("移动到")]),a("select",{ref:"moveToId",staticClass:"form-control",attrs:{placeholder:"请选择"}},t._l(t.groupList,function(e,i){return e.id!=t.currGroup&&""!=e.id?a("option",{domProps:{value:e.id,textContent:t._s(e.name)}}):t._e()}),0)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.flag=!1}}},[t._v("返回")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v(" 确定  ")])],1)]):t._e()],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})}}]);