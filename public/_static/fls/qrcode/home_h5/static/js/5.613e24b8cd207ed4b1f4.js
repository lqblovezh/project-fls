(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{225:function(e,t,n){"use strict";n.r(t);var o=n(226),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t.default=i.a},226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(97)),i=s(n(89)),a=n(88),r=(n(20),n(87));function s(e){return e&&e.__esModule?e:{default:e}}new i.default({phone:{type:Number,length:11,message:{type:"手机号码格式不正确",length:"手机号码长度应为11位"}}});var u=new i.default({name:{required:!0,type:String,length:{min:4,max:16},message:{required:"请输入用户名",type:"用户名只能是字符以及数字",length:"用户名长度应在4-16之间"}},pass:{required:!0,type:String,length:{min:6,max:16},message:{required:"请输入密码",type:"密码只能是字符以及数字",length:"密码长度应在6-16之间"}},phone:{required:!0,type:String,length:11,message:{required:"请输入手机号",type:"手机号码格式不正确",length:"手机号码长度应为11位"}},code_val:{required:!0,type:String,length:6,message:{required:"请输入验证码",type:"验证码格式不正确",length:"验证码长度不正确"}}});t.default={mixins:[a.code],data:function(){return{info:{name:null,pass:null,phone:null,code_id:null,code_val:null}}},components:{Head:o.default},mounted:function(){this.getImgCode()},methods:{backToLogin:function(){this.$router.replace({path:"login"})},regUser:function(){var e=this,t=u.validate(this.info);this.$check_form(t)&&(0,r.userReg)(this.info).then(function(t){e.$dialog.toast({mes:"注册成功",icon:"success",timeout:1500}),e.backToLogin()}).catch(function(t){e.$toast_err(t,"注册失败，请检查")})}}}},227:function(e,t,n){},436:function(e,t,n){"use strict";var o=n(227);n.n(o).a},470:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register pt88-static__vh c-bg-f"},[n("Head",{attrs:{text:"注册"}}),e._m(0),n("div",{staticClass:"p15rem"},[n("form",[n("div",{staticClass:"form-control"},[n("span",{staticClass:"icon-user"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.info.name,expression:"info.name"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.info.name},on:{input:function(t){t.target.composing||e.$set(e.info,"name",t.target.value)}}})]),n("div",{staticClass:"form-control"},[n("span",{staticClass:"icon-lock"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.info.pass,expression:"info.pass"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.info.pass},on:{input:function(t){t.target.composing||e.$set(e.info,"pass",t.target.value)}}})]),n("div",{staticClass:"form-control"},[n("span",{staticClass:"icon-phone"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.info.phone,expression:"info.phone"}],attrs:{type:"text",placeholder:"请输入手机号码"},domProps:{value:e.info.phone},on:{input:function(t){t.target.composing||e.$set(e.info,"phone",t.target.value)}}})]),n("div",{staticClass:"form-control"},[n("span",{staticClass:"icon-envelope"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.img_code_val,expression:"img_code_val"}],attrs:{type:"text",placeholder:"请输入图片验证码"},domProps:{value:e.img_code_val},on:{input:function(t){t.target.composing||(e.img_code_val=t.target.value)}}}),n("img",{attrs:{src:e.img_code.code_img},on:{click:e.getImgCode}})]),n("div",{staticClass:"form-control"},[n("span",{staticClass:"icon-code"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.info.code_val,expression:"info.code_val"}],attrs:{type:"text",placeholder:"请输入短信验证码"},domProps:{value:e.info.code_val},on:{input:function(t){t.target.composing||e.$set(e.info,"code_val",t.target.value)}}}),n("span",{staticClass:"btn-send",on:{click:e.sendCheckCode}},[e._v(e._s(e.code_tip))])])]),n("button",{staticClass:"btn-large",on:{click:e.regUser}},[e._v("注册")]),e._m(1)])],1)},i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"img-panel text-center"},[t("div",{staticClass:"img-login_bg"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"tip"},[this._v("用户注册即代表同意"),t("span",[this._v("《服务条款》")]),this._v("和"),t("span",[this._v("《隐私政策》")])])}];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},83:function(e,t,n){"use strict";n.r(t);var o=n(470),i=n(225);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n(436);var r=n(9),s=Object(r.a)(i.default,o.a,o.b,!1,null,null,null);t.default=s.exports},87:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/system/app_manager/managers",e)},t.del=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/system/app_manager/managers/delete",e)},t.detail=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(r(e),e)},t.save=function(e){var t=e.id,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["id"]);if(t)return(0,i.request_put)(r({id:t}),n);return(0,i.request_post)("/system/app_manager/managers",n).then(function(e){n.apps.forEach(function(t){s({manager_id:e.data.id,app_id:t.id})})})},t.getApps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/system/app/apps",e)},t.authorize=s,t.revoke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/system/app_manager/managers/app_revoke",e)},t.codeImage=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=Math.random().toFixed(3);return(0,i.request_get)("/common/api/captcha/image?code="+e)},t.codePhone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/captcha/mobile",e)},t.userLogin=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/auth/login/user",e).then(function(e){return window.sessionStorage.setItem("token",e.data.token),window.localStorage.setItem("token",e.data.token),config.token=e.data.token,e})},t.userReg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/user/register",e)},t.backPwdCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/user/pass_reset/send",e)},t.setPwd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/user/pass_reset/set",e)},t.phoneLogin=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/common/api/auth/login_by_phone/user",e).then(function(e){return window.sessionStorage.setItem("token",e.data.token),window.localStorage.setItem("token",e.data.token),config.token=e.data.token,e})};var o,i=n(5),a=n(10);var r=((o=a)&&o.__esModule?o:{default:o}).default.compile("/system/api/app_manager/managers/:id");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/system/app_manager/managers/app_authorize",e)}},88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.code=t.main=void 0;var o=s(n(8)),i=s(n(89)),a=n(17),r=(n(11),n(87));function s(e){return e&&e.__esModule?e:{default:e}}var u=new i.default({phone:{required:!0,length:11,message:{required:"请输入手机号",length:"手机号码长度应为11位"}}}),c={data:function(){return{list:[],info:{},qrcode_id:this.$route.query.qrcode_id,page:{}}},created:function(){var e,t=this;return(e=o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$route.query.token_id&&window.sessionStorage.setItem("token",t.$route.query.token_id),window.sessionStorage.getItem("token")){e.next=5;break}return alert(123456),t.$router.push({path:"/login"}),e.abrupt("return");case 5:t.getList();case 6:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(i,a){try{var r=t[i](a),s=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(s).then(function(e){o("next",e)},function(e){o("throw",e)});e(s)}("next")})})()},methods:{loadList:function(e){var t=this;e&&(0,a.setTimeout)(function(){t.list=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.list),[{txt:"xxxxx"}]),t.$refs.infinitescroll.$emit("ydui.infinitescroll.finishLoad")},1e3)},go:function(e,t){this.$router.push({name:e,params:t})},to:function(e,t){this.$router.push({path:e,query:t})},outLink:function(e){location.href=e},pay:function(){},fetch:function(){return JSON.parse(window.localStorage.getItem("params")||"[]")},save:function(e){window.localStorage.setItem("params",JSON.stringify(e))}},computed:{unescapeHTML:function(){return function(e){return(e=""+e).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'")}}},watch:{params:{handler:function(e){this.save(e)},deep:!0}}},l={data:function(){return{img_code:{code_id:null,code_img:null},img_code_val:null,code_tip:"发送验证码",duration:60,timer:null}},methods:{getImgCode:function(){var e=this;(0,r.codeImage)().then(function(t){e.img_code=t.data})},validatePhone:function(){var e=u.validate({phone:this.info.phone});return!(e.length>0)||(this.$Toast({message:e[0].toString()}),!1)},setTimer:function(){var e=this;if(null===this.timer){var t=this.duration;!function n(){e.code_tip=t+"秒后再试",t-- >0?e.timer=(0,a.setTimeout)(n,1e3):(e.code_tip="发送验证码",e.timer=null)}()}},sendCheckCode:function(){var e=this;null!==this.img_code_val?this.validatePhone()&&!this.timer&&(0,r.codePhone)({phone:this.info.phone,code_id_img:this.img_code.code_id,code_val_img:this.img_code_val,not_check_user_exist:1}).then(function(t){e.$dialog.toast({mes:t.message||"发送成功",icon:"success",timeout:1500}),e.setTimer(),e.info.code_id=t.data.code_id}).catch(function(t){e.$dialog.toast({icon:"error",timeout:1500,mes:"发送失败"})}):this.$dialog.toast({mes:"请输入图片验证码",timeout:1e3})}}};t.main=c,t.code=l},91:function(e,t,n){"use strict";n.r(t);var o=n(92),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t.default=i.a},92:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{text:{type:String,required:!0},needBack:{type:Boolean,default:!0}},methods:{back:function(){this.$router.push({path:"/login"})}}}},93:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var o=n(99),i=n(91);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n(98);var r=n(9),s=Object(r.a)(i.default,o.a,o.b,!1,null,null,null);t.default=s.exports},98:function(e,t,n){"use strict";var o=n(93);n.n(o).a},99:function(e,t,n){"use strict";var o=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"default-header f16"},[this._v(this._s(this.text)),t("div",{directives:[{name:"show",rawName:"v-show",value:this.needBack,expression:"needBack"}],staticClass:"icon icon-back",on:{click:this.back}})])},i=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})}}]);