(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{121:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowRUNFRDIzRjM0MDkxMUU5QTdCOEZBMERBNjBFRjZFQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowRUNFRDI0MDM0MDkxMUU5QTdCOEZBMERBNjBFRjZFQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjBFQ0VEMjNEMzQwOTExRTlBN0I4RkEwREE2MEVGNkVDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjBFQ0VEMjNFMzQwOTExRTlBN0I4RkEwREE2MEVGNkVDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+IhxHdgAAATRJREFUeNpi/J8ZyoAErIE4DUoLAfEdIN4MxJ1A/AtJXS4QhwCxDhD/BuIjQLyYYdqqjTAFjEgGNwJxHQN2cBeINaGGnABicxzqFgINTwAxmKACdXgMBQFlID4GxLvxGAoC8QxZYcthLlaGepmawBnk4nwG6oMKkMEeNDDYGGSwLA0M5mGCxjS1wR+QwRdoYPAzkMHLaGDwJpDB84H4O5UN7gYZ/BOIk6hoaD0w972A5bwVQNxHBUM3Aw1tQs7SIFAMLkjIB0eBhvrBOExoknFA3E9OZAENtUEWYMKiqAiI80gwtAdoqD+6IBMOxZOB2BWIP+Ax8B8QxwANLcUmyYRH4x5oGXwCi9wtaCG/FJdmJgLefAHElkA8B0lsNRDrAvF1fBpZiAzHVKjXBYA4nBgNAAEGAOZsQgCJ73E8AAAAAElFTkSuQmCC"},122:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxQ0IyNTI4RjM0MDkxMUU5QTFENEU1MUREMTdCQzFEMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxQ0IyNTI5MDM0MDkxMUU5QTFENEU1MUREMTdCQzFEMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFDQjI1MjhEMzQwOTExRTlBMUQ0RTUxREQxN0JDMUQyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFDQjI1MjhFMzQwOTExRTlBMUQ0RTUxREQxN0JDMUQyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+oOXaTQAAAfJJREFUeNqslU1IVFEUx2ceU7RIgkAyrFWWILgsjZLcWASiYejGWQjShBgkCC4MhBQxUNyMgTPootBFrrTPhS7cSIsWZSmGQVhC4SIEqY1K9Tvyf3Cx96YX04Hf3K9z/3Pm3nvOxDOZTMyxMmiF83AEPsFjGINdx68erkOFxgvwMJVKzfsOcUe4B+7Ggu0rXIbP8BwuhPhNIp60jqeJDke0EQrhAJyEe3AcXsMHic7CWTgEBzX3Hpqz2ey0H/FR2m8SLYXVgEhuQVr9B9DiLxDhXotgXOJnoMoiTsrndoio2Qi8Vb8lyIEv+EVzRcM7JlznRJLLBmEglwPiazQ/oDrBxwnN7/5FeCIWzbbsTizil5o4Fvs/VgTrJvxUEzfzVeQCL9qDgGcm/ETzXXo6+di42vsmvA1DmkjnEW2jntoil7jkJ0g3bNrFKkH+VfQUzZSGDW7m7cAl9aecJxhF1LLzjYZJov3oCpu9U3Exm4GmCLqnte+w1RpEJ/0Fb5+jVbIa9R/piMLsqjLVqmA3on3uohewYQ7K4Tv0K5332w1VObM2RP/ISC8kmiUogVfQDlZnC7Q2akcLP6EW0dEggUSOn7oB52BaZ7+iemx/Al+g0jIsbLMX4YKuwTAUS/SFLm0916ZExFfVCcsqWL1RNvwWYACQXHKYrDiNMwAAAABJRU5ErkJggg=="},123:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4MzMxOURDNDM0MDkxMUU5OTg1Nzk5QTI4QzlGMDMyQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4MzMxOURDNTM0MDkxMUU5OTg1Nzk5QTI4QzlGMDMyQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjgzMzE5REMyMzQwOTExRTk5ODU3OTlBMjhDOUYwMzJDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjgzMzE5REMzMzQwOTExRTk5ODU3OTlBMjhDOUYwMzJDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+gwyBnwAAAb5JREFUeNrMlU8oBHEUx2dZ+RtFuFDcpCwOSlbZu3JR2iRubhxcnOZgNkcHf1KWizYppJSSG4florSlHEQuohASdovl++o79WvsZNbuxKtP834z8/t93/zmvd/zGIahwbqADjpALkhqmZsXXIMFXdcnPRBqweCYDx/BB8jJUOSTVHAcFtVlDtrAUborIlrbZ6FQKB+XfTAskfvA6W9EHASRkK3TlC2Ka+5ZkSrkdVHIq2Xhpzu2PxcqAP1MFKtJzQVtsiwI2tMR2gErIAYalfsBsAdWQcQissX7h/CbnQoFFL9B8f2K32uZ06P4PqdCI+ACbPLrTJsHUXCeYvsGOWeX876nXgqbI1Z7AJ02xRmxbue/yjrXhBIuasRVoWoXhQpNoQ1Qy6zJqqGeanAZF18aXyXTsoSd9VXJxjx2yQmwZLNeFVhjd04qTU/8Yr4zKl90C5p4EtzzhTci6SxRLYKxFCKl4IzH0jN44bw4O7V07j6k/qwZ+SUYsIm4jEfRFHgHM0qfiVHMj8UOMk3vJyBn1xWYBt2y5eAE1EkB/ySSTh2ZYjdgG9yBem5LNNsFK/+vlf+0HAyBdaeTvwQYAAoGcLp/sgM2AAAAAElFTkSuQmCC"},171:function(t,e,i){"use strict";i.r(e);var n=i(172),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=o.a},172:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(8),r=(n=o)&&n.__esModule?n:{default:n},a=i(88),s=i(407),c=i(18);function u(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function n(o,r){try{var a=e[o](r),s=a.value}catch(t){return void i(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default={mixins:[a.main],data:function(){return{show:!1,id:"",getMoreData:c.circle_theme_list,form:{img_src:"",txt:"",img:[]},page:{}}},methods:{getList:function(){var t=this;return l(r.default.mark(function e(){var i,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.$route.query.id,n=t.$route.query.type,t.$dialog.loading.open("加载数据中..."),!n){e.next=8;break}return e.next=6,(0,c.circle_info)({circle_id:i}).then(function(e){t.info=e.data,t.id=e.data.resource_id},function(e){t.$dialog.loading.close()});case 6:e.next=10;break;case 8:return e.next=10,(0,c.get_content)({id:i}).then(function(e){t.info=e.data,t.id=e.data.id},function(e){t.$dialog.loading.close()});case 10:(0,c.circle_theme_list)({circle_id:t.id}).then(function(e){t.list=e.data,t.page=e.page,t.$dialog.loading.close()},function(e){t.$dialog.loading.close()});case 11:case"end":return e.stop()}},e,t)}))()},loadList:function(){var t=this,e=this.page.start+this.page.offset;this.getMoreData({circle_id:this.id,pageStart:e,pageOffset:this.page.offset}).then(function(e){t.list=[].concat(u(t.list),u(e.data)),t.list.length>=t.page.total?t.$refs.infinitescroll.$emit("ydui.infinitescroll.loadedDone"):t.$refs.infinitescroll.$emit("ydui.infinitescroll.finishLoad")})},open:function(){this.show=!0},getFileUrl:function(t){this.form.img_src=URL.createObjectURL(t.target.files[0])},send:function(){var t=this;return l(r.default.mark(function e(){var i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.show=!1,t.$dialog.loading.open("数据上传中..."),i=t.$refs.file.files[0],e.next=5,(0,s.getTask)(i).then(function(e){t.form.img.push(e.data.path)});case 5:return e.next=7,(0,c.circle_theme_add)({circle_id:t.id,img:t.form.img,abs:t.form.txt}).then(function(e){t.getList(),t.$dialog.toast({mes:"添加成功",timeout:1500})}).catch(function(e){var i=e.payload;t.$dialog.toast({mes:i.message,timeout:1500})});case 7:t.$dialog.loading.close();case 8:case"end":return e.stop()}},e,t)}))()},add_circle:function(){var t=this;(0,c.circle_join)({circle_id:this.info.info.circle_id}).then(function(e){t.$dialog.toast({mes:"添加成功",timeout:1500})}).catch(function(e){var i=e.payload;t.$dialog.toast({mes:i.message,timeout:1500})})},show_res:function(){"special"==this.info.type?this.to("/special",{qrcode_id:this.qrcode_id,id:this.info.resource_id,type:this.info.type}):this.to("/gather",{qrcode_id:this.qrcode_id,id:this.info.resource_id,type:this.info.type})},get_goods:function(t){(0,c.circle_praise)({_id:t.id,type:"theme"}).then(function(e){t.praise_state?(t.praise_num-=1,t.praise_state=!1):(t.praise_num+=1,t.praise_state=!0)})}}}},173:function(t,e,i){},407:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTask=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];return t.size,t.size>=1048576?(e.is_chunk=!0,(0,n.request_post)("/common/api/files/upload_task?r="+Math.random(5)).then(function(o){if(o.status)return e.task_id=o.data.task_id,(0,n.request_file)("/common/api/files/upload",{file:t,data:e},i);throw new Error(o.messages)}).catch(function(t){throw new Error("上传失败")})):(e.is_chunk=!1,(0,n.request_file)("/common/api/files/upload",{file:t,data:e}))},e.getAppId=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/common/api/app/search_name",t).then(function(t){return o.default.app_id=t.data.id,sessionStorage.app_id=t.data.id,t})},e.getClientToken=function(){return(0,n.request_post)("/common/api/auth/token/pcclient")},e.platInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(s(t)).then(function(t){return o.default.app_id=t.data.id,sessionStorage.app_id=t.data.id,document.title=t.data.name,t})},e.commonPreview=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(u(t))},e.getDefaultCover=function(){return(0,n.request_get)("/api/videos/images")},e.generate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/common/api/qr_code/generate",t)},e.commonPreviewCode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/preview",t)},e.getQrcode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/common/api/get_qrcode",t)},e.synchronization=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(c(t)).then(function(t){return t})},e.getAuthor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/ecommerce/author",t)},e.addAuthor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/ecommerce/author",t)},e.getWeixinConfig=function(t){return(0,n.request_get)("/common/api/third/wx_js_sdk/config",t)},e.getIndexInfo=function(){return(0,n.request_get)("/common/api/current")};a(i(6));var n=i(5),o=a(i(12)),r=a(i(10));function a(t){return t&&t.__esModule?t:{default:t}}r.default.compile("/common/api/files/upload_task/:id"),r.default.compile("/common/api/manager/managers/:id"),r.default.compile("/common/api/manager/roles/:id");var s=r.default.compile("/common/api/app/apps/:id"),c=r.default.compile("/common/api/dragon_infos/:id");var u=r.default.compile("/api/preview/:id")},408:function(t,e,i){"use strict";var n=i(173);i.n(n).a},451:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("yd-layout",{staticClass:"body"},[n("yd-navbar",{attrs:{slot:"navbar",title:"书圈",color:"#fff",bgcolor:"#3998e2"},slot:"navbar"},[n("a",{attrs:{slot:"left",href:"javascript:history.back(-1)"},slot:"left"},[n("yd-navbar-back-icon",{attrs:{color:"#fff"}},[t._v("返回")])],1)]),n("yd-infinitescroll",{ref:"infinitescroll",staticClass:"scroll",attrs:{callback:t.loadList}},[n("div",{staticClass:"content",attrs:{slot:"list"},slot:"list"},[n("div",{staticClass:"main"},[n("img",{attrs:{src:t.info.img_src}}),n("div",{staticClass:"info"},[n("div",{staticClass:"name"},[t._v(t._s(t.info.name))]),n("div",{staticClass:"instruct"},[t._v(t._s(t.info.abs))]),n("div",{staticClass:"btns"},[n("yd-button",{attrs:{bgcolor:"#3998e2",color:"#fff"},nativeOn:{click:function(e){return t.show_res(e)}}},[t._v("查看资源")]),n("yd-button",{attrs:{bgcolor:"#3998e2",color:"#fff"},nativeOn:{click:function(e){return t.add_circle(e)}}},[t._v(" 　加入　")])],1)])]),n("ul",{staticClass:"list"},t._l(t.list,function(e){return n("li",{on:{click:function(t){}}},[n("div",{staticClass:"title",on:{click:function(i){return t.to("/bookTheme",{id:e.id})}}},[n("img",{attrs:{src:e.img_src}}),n("span",{staticClass:"name"},[t._v(t._s(e.from_user_name))]),n("span",{staticClass:"time"},[t._v(t._s(e.create_time))])]),n("div",{staticClass:"discribe"},[t._v(t._s(e.abs))]),n("div",{staticClass:"handle"},[n("span",{staticClass:"item",on:{click:function(i){return t.get_goods(e)}}},[e.praise_state?n("img",{attrs:{src:i(121)}}):n("img",{attrs:{src:i(122)}}),n("span",[t._v(t._s(e.praise_num))])]),n("span",{staticClass:"item",on:{click:function(i){return t.to("/bookTheme",{id:e.id})}}},[n("img",{attrs:{src:i(123)}}),n("span",[t._v(t._s(e.comment_num))])])])])}),0),n("yd-popup",{attrs:{position:"center",width:"90%"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"dialog",staticStyle:{"background-color":"#fff"}},[n("form",[n("img",{attrs:{src:t.form.img_src}}),n("yd-button",{staticClass:"upload",attrs:{bgcolor:"#3998e2",color:"#fff"},nativeOn:{click:function(e){return t.$refs.file.click()}}},[t._v("点击上传图片")]),n("input",{ref:"file",staticClass:"hide",attrs:{type:"file"},on:{change:t.getFileUrl}}),n("yd-textarea",{staticClass:"w",attrs:{slot:"right",placeholder:"请填写主题相关内容",maxlength:"100"},slot:"right",model:{value:t.form.txt,callback:function(e){t.$set(t.form,"txt",e)},expression:"form.txt"}}),n("div",{staticClass:"send"},[n("yd-button",{attrs:{bgcolor:"#3998e2",color:"#fff"},nativeOn:{click:function(e){return t.send(e)}}},[t._v("确定")])],1)],1)])])],1),n("span",{attrs:{slot:"doneTip"},slot:"doneTip"},[t._v("没有数据啦 ~~~")])]),n("yd-button",{attrs:{slot:"tabbar",size:"large",bgcolor:"#3998e2",color:"#fff"},nativeOn:{click:function(e){return t.open(e)}},slot:"tabbar"},[t._v("发表主题")])],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},65:function(t,e,i){"use strict";i.r(e);var n=i(451),o=i(171);for(var r in o)"default"!==r&&function(t){i.d(e,t,function(){return o[t]})}(r);i(408);var a=i(9),s=Object(a.a)(o.default,n.a,n.b,!1,null,"27066e75",null);e.default=s.exports},87:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_get)("/system/app_manager/managers",t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/system/app_manager/managers/delete",t)},e.detail=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_get)(a(t),t)},e.save=function(t){var e=t.id,i=function(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}(t,["id"]);if(e)return(0,o.request_put)(a({id:e}),i);return(0,o.request_post)("/system/app_manager/managers",i).then(function(t){i.apps.forEach(function(e){s({manager_id:t.data.id,app_id:e.id})})})},e.getApps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_get)("/system/app/apps",t)},e.authorize=s,e.revoke=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/system/app_manager/managers/app_revoke",t)},e.codeImage=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=Math.random().toFixed(3);return(0,o.request_get)("/common/api/captcha/image?code="+t)},e.codePhone=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/common/api/captcha/mobile",t)},e.userLogin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/common/api/auth/login/user",t).then(function(t){return window.sessionStorage.setItem("token",t.data.token),window.localStorage.setItem("token",t.data.token),config.token=t.data.token,t})},e.userReg=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/common/api/user/register",t)},e.backPwdCode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/common/api/user/pass_reset/send",t)},e.setPwd=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/common/api/user/pass_reset/set",t)},e.phoneLogin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/common/api/auth/login_by_phone/user",t).then(function(t){return window.sessionStorage.setItem("token",t.data.token),window.localStorage.setItem("token",t.data.token),config.token=t.data.token,t})};var n,o=i(5),r=i(10);var a=((n=r)&&n.__esModule?n:{default:n}).default.compile("/system/api/app_manager/managers/:id");function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/system/app_manager/managers/app_authorize",t)}},88:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.code=e.main=void 0;var n=s(i(8)),o=s(i(89)),r=i(17),a=(i(11),i(87));function s(t){return t&&t.__esModule?t:{default:t}}var c=new o.default({phone:{required:!0,length:11,message:{required:"请输入手机号",length:"手机号码长度应为11位"}}}),u={data:function(){return{list:[],info:{},qrcode_id:this.$route.query.qrcode_id,page:{}}},created:function(){var t,e=this;return(t=n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$route.query.token_id&&window.sessionStorage.setItem("token",e.$route.query.token_id),window.sessionStorage.getItem("token")){t.next=5;break}return alert(123456),e.$router.push({path:"/login"}),t.abrupt("return");case 5:e.getList();case 6:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function n(o,r){try{var a=e[o](r),s=a.value}catch(t){return void i(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})})()},methods:{loadList:function(t){var e=this;t&&(0,r.setTimeout)(function(){e.list=[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(e.list),[{txt:"xxxxx"}]),e.$refs.infinitescroll.$emit("ydui.infinitescroll.finishLoad")},1e3)},go:function(t,e){this.$router.push({name:t,params:e})},to:function(t,e){this.$router.push({path:t,query:e})},outLink:function(t){location.href=t},pay:function(){},fetch:function(){return JSON.parse(window.localStorage.getItem("params")||"[]")},save:function(t){window.localStorage.setItem("params",JSON.stringify(t))}},computed:{unescapeHTML:function(){return function(t){return(t=""+t).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'")}}},watch:{params:{handler:function(t){this.save(t)},deep:!0}}},l={data:function(){return{img_code:{code_id:null,code_img:null},img_code_val:null,code_tip:"发送验证码",duration:60,timer:null}},methods:{getImgCode:function(){var t=this;(0,a.codeImage)().then(function(e){t.img_code=e.data})},validatePhone:function(){var t=c.validate({phone:this.info.phone});return!(t.length>0)||(this.$Toast({message:t[0].toString()}),!1)},setTimer:function(){var t=this;if(null===this.timer){var e=this.duration;!function i(){t.code_tip=e+"秒后再试",e-- >0?t.timer=(0,r.setTimeout)(i,1e3):(t.code_tip="发送验证码",t.timer=null)}()}},sendCheckCode:function(){var t=this;null!==this.img_code_val?this.validatePhone()&&!this.timer&&(0,a.codePhone)({phone:this.info.phone,code_id_img:this.img_code.code_id,code_val_img:this.img_code_val,not_check_user_exist:1}).then(function(e){t.$dialog.toast({mes:e.message||"发送成功",icon:"success",timeout:1500}),t.setTimer(),t.info.code_id=e.data.code_id}).catch(function(e){t.$dialog.toast({icon:"error",timeout:1500,mes:"发送失败"})}):this.$dialog.toast({mes:"请输入图片验证码",timeout:1e3})}}};e.main=u,e.code=l}}]);