(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1334:function(t,e,i){"use strict";var n=i(695);i.n(n).a},1411:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index clearfix"},[i("div",{staticClass:"mainRight"},[i("div",{staticClass:"contentWrap"},[i("div",{staticClass:"contentLeft"},[i("div",{staticClass:"maindata"},[i("div",{staticClass:"btnGroup"},[i("el-button-group",[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.$router.push({path:"/wms/userList",query:{index:t.$route.query.index,id:t.$route.query.id}})}}},[t._v("扫码用户列表")]),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.$router.push({path:"/wms/analys",query:{index:t.$route.query.index,id:t.$route.query.id}})}}},[t._v("数据分析")]),i("el-button",{attrs:{type:"primary"}},[t._v("扫码记录")])],1)],1),i("div",{staticClass:"tableWrap"},[i("div",{staticClass:"tableTop"},[i("div",{staticClass:"title vel-line"},[i("span",[t._v("全部 "),t.page?i("span",{staticClass:"totalNum"},[t._v("("+t._s(t.page.total)+")")]):t._e()]),i("div",{staticClass:"btns"},[i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.scanExport}},[t._v("导出")])],1)])]),i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",{attrs:{width:"70"}},[i("input",{attrs:{type:"checkbox"},on:{click:function(e){return t.$checkAll(e)}}}),i("span",[t._v("选择")])]),i("th",[t._v("昵称")]),i("th",[t._v("性别")]),i("th",[t._v("地域")]),i("th",[t._v("电话")]),i("th",[t._v("扫码时间")]),i("th",[t._v("停留时间")])])]),t.list?i("tbody",t._l(t.list,function(e){return i("tr",[i("th",[i("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids"},domProps:{value:e.id}})]),i("th",[i("img",{staticClass:"cover-photo"}),i("div",{staticClass:"th-name bookName",attrs:{title:e.name}},[t._v(t._s(e.nick_name))])]),i("th",[t._v(t._s(e.sex))]),i("th",[t._v(t._s(e.pro))]),i("th",[t._v(t._s(e.phone))]),i("th",[t._v(t._s(e.create_time))]),i("th",[t._v(t._s(e.duration))])])}),0):t._e()]),t.page?i("div",{staticClass:"pageWrap"},[i("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()])])])])])])},r=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r})},284:function(t,e,i){"use strict";i.r(e);var n=i(1411),r=i(693);for(var a in r)"default"!==a&&function(t){i.d(e,t,function(){return r[t]})}(a);i(1334);var s=i(0),o=Object(s.a)(r.default,n.a,n.b,!1,null,"41f6e4ba",null);e.default=o.exports},310:function(t,e){var i=/^(?:submit|button|image|reset|file)$/i,n=/^(?:input|select|textarea|keygen)/i,r=/(\[[^\[\]]*\])/g;function a(t,e,i){if(e.match(r)){!function t(e,i,n){if(0===i.length)return e=n;var r=i.shift(),a=r.match(/^\[(.+?)\]$/);if("[]"===r)return e=e||[],Array.isArray(e)?e.push(t(null,i,n)):(e._values=e._values||[],e._values.push(t(null,i,n))),e;if(a){var s=a[1],o=+s;isNaN(o)?(e=e||{})[s]=t(e[s],i,n):(e=e||[])[o]=t(e[o],i,n)}else e[r]=t(e[r],i,n);return e}(t,function(t){var e=[],i=new RegExp(r),n=/^([^\[\]]*)/.exec(t);for(n[1]&&e.push(n[1]);null!==(n=i.exec(t));)e.push(n[1]);return e}(e),i)}else{var n=t[e];n?(Array.isArray(n)||(t[e]=[n]),t[e].push(i)):t[e]=i}return t}function s(t,e,i){return i=i.replace(/(\r)?\n/g,"\r\n"),i=(i=encodeURIComponent(i)).replace(/%20/g,"+"),t+(t?"&":"")+encodeURIComponent(e)+"="+i}t.exports=function(t,e){"object"!=typeof e?e={hash:!!e}:void 0===e.hash&&(e.hash=!0);for(var r=e.hash?{}:"",o=e.serializer||(e.hash?a:s),u=t&&t.elements?t.elements:[],c=Object.create(null),l=0;l<u.length;++l){var p=u[l];if((e.disabled||!p.disabled)&&p.name&&n.test(p.nodeName)&&!i.test(p.type)){var d=p.name,f=p.value;if("checkbox"!==p.type&&"radio"!==p.type||p.checked||(f=void 0),e.empty){if("checkbox"!==p.type||p.checked||(f=""),"radio"===p.type&&(c[p.name]||p.checked?p.checked&&(c[p.name]=!0):c[p.name]=!1),void 0==f&&"radio"==p.type)continue}else if(!f)continue;if("select-multiple"!==p.type)r=o(r,d,f);else{f=[];for(var h=p.options,v=!1,g=0;g<h.length;++g){var _=h[g],y=e.empty&&!_.value,m=_.value||y;_.selected&&m&&(v=!0,r=e.hash&&"[]"!==d.slice(d.length-2)?o(r,d+"[]",_.value):o(r,d,_.value))}!v&&e.empty&&(r=o(r,d,""))}}}if(e.empty)for(var d in c)c[d]||(r=o(r,d,""));return r}},334:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.analysAll=e.analysisData=e.userStatics=void 0;var n,r,a,s=c(i(9));e.userStatics=(n=l(s.default.mark(function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(i).then(function(t){return t.data});case 2:return e=t.sent,t.abrupt("return",(0,o.request_get)("/api/statistics/user",i).then(function(t){return t.data.history=e,t}));case 4:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)}),e.analysisData=(r=l(s.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"/wms/proStatics"==e.type?e.product_id=e.id:"/wms/bookStatics"==e.type&&(e.book_id=e.id),t.abrupt("return",(0,o.request_get)("/api/statistics/data_analysis",e));case 2:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)}),e.analysAll=(a=l(s.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,o.request_get)("/api/statistics/all",e));case 1:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)});e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_get)("/api/statistics/product_list",t)},e.getBookList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_get)("/api/statistics/book_list",t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.request_post)("/api/statistics/product_list",t)},e.detail=p,e.scanList=d,e.userList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"/wms/proStatics"==t.type?t.product_id=t.id:"/wms/bookStatics"==t.type&&(t.book_id=t.id);return(0,o.request_get)("/api/statistics/user_list",t)},e.scanExport=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"/wms/proStatics"==t.type?t.product_id=t.ids:"/wms/bookStatics"==t.type&&(t.book_id=t.ids);return(0,o.request_get)("/api/statistics/scan_record_list_export",t)},e.userExport=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"/wms/proStatics"==t.type?t.product_id=t.ids:"/wms/bookStatics"==t.type&&(t.book_id=t.ids);return(0,o.request_get)("/api/statistics/user_list_export",t)};var o=i(16),u=c(i(22));function c(t){return t&&t.__esModule?t:{default:t}}function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function n(r,a){try{var s=e[r](a),o=s.value}catch(t){return void i(t)}if(!s.done)return Promise.resolve(o).then(function(t){n("next",t)},function(t){n("throw",t)});t(o)}("next")})}}u.default.compile("/api/statistics/product_list/:id");var p=u.default.compile("/api/statistics/product_list/:id");function p(t){var e=t.id,i=function(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}(t,["id"]);return(0,o.request_get)(p({id:e}),i)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"/wms/proStatics"==t.type?t.product_id=t.id:"/wms/bookStatics"==t.type&&(t.book_id=t.id),(0,o.request_get)("/api/statistics/scan_record_list",t)}},693:function(t,e,i){"use strict";i.r(e);var n=i(694),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e.default=r.a},694:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=(i(313),i(310)),s=((n=a)&&n.__esModule,function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(334))),o=i(50);e.default={data:function(){return{services:s,detailDialog:!1,detailDialoaType:"info",detailData:null}},created:function(){this.resetPage(),this.getList()},methods:r({getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services.scanList(r({type:this.$route.query.index,id:this.$route.query.id,pageNum:t,pageOffset:i},this.parameter,n)).then(function(t){e.setList(t.data),e.setPage(t.page)})},handleSizeChange:function(t){this.page.num=1,this.getList(1,t,this.query)},handleCurrentChange:function(t){t!==this.page.nun&&this.getList(t,this.page.offset,this.query)},scanExport:function(){var t;(t=this.$getChecked())&&s.scanExport({type:this.$route.query.index,ids:t}).then(function(t){window.location.href=t.data})},setList:function(t){this.setQrcodelist(t)},setPage:function(t){this.setQrcodelistPage(t)}},(0,o.mapMutations)(["setQrcodelist","setQrcodelistPage","resetPage"])),computed:r({},(0,o.mapState)({list:function(t){return t.qrcode.list},page:function(t){return t.qrcode.page}}))}},695:function(t,e,i){}}]);