(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1008:function(t,e,n){"use strict";var a=n(477);n.n(a).a},1009:function(t,e,n){"use strict";n.r(e);var a=n(1106),i=n(478);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(1010);var o=n(0),s=Object(o.a)(i.default,a.a,a.b,!1,null,"b0f7d592",null);s.options.__file="info.vue",e.default=s.exports},1010:function(t,e,n){"use strict";var a=n(480);n.n(a).a},1011:function(t,e,n){"use strict";n.r(e);var a=n(1105),i=n(481);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(1014);var o=n(0),s=Object(o.a)(i.default,a.a,a.b,!1,null,"5f842abc",null);s.options.__file="group.vue",e.default=s.exports},1012:function(t,e,n){"use strict";n.r(e);var a=n(1108),i=n(483);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(1013);var o=n(0),s=Object(o.a)(i.default,a.a,a.b,!1,null,"68ca030c",null);s.options.__file="tab.vue",e.default=s.exports},1013:function(t,e,n){"use strict";var a=n(485);n.n(a).a},1014:function(t,e,n){"use strict";var a=n(486);n.n(a).a},1015:function(t,e,n){"use strict";var a=n(487);n.n(a).a},1097:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div"},[t.groupDialog?n("Group",{ref:"group",attrs:{item:t.currentItem,detailData:t.detailData,groupDialog:t.groupDialog,onlyShow:!0},on:{"update:groupDialog":function(e){t.groupDialog=e},detail:t.preview}}):t._e(),n("el-dialog",{attrs:{visible:t.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.infoDialog=e}}},[n("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[t.infoDialog?n("Info",{attrs:{type:t.infoValue,infoDialog:t.infoDialog,infoData:t.infoData,typeDetail:t.typeDetail}}):t._e()],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"info"},on:{click:function(e){t.infoDialog=!1}}},[t._v("取消")])],1)]),t.detailData.version_list?n("div",{staticClass:"choiceVersion"},[n("span",[t._v("版本选择 ")]),n("select",{on:{change:function(e){t.$emit("change",e,t.bookInfo)}}},t._l(t.detailData.version_list,function(e,a){return n("option",{domProps:{value:e,selected:t.detailData.version_id==a}},[t._v(t._s(a))])})),"1"!=t.detailData.status?n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.$emit("delete",t.detailData)}}},[t._v("删除当前版本")]):t._e()],1):t._e(),n("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[n("el-tab-pane",{attrs:{label:"详情",name:"xq"}},[n("div",{staticClass:"div"},[n("VaForm",{ref:"detailForm"},[n("form",{ref:"detailForm",staticClass:"detailForm"},[n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("名称:")]),n("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.bookInfo.name,expression:"bookInfo.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.bookInfo.name},on:{input:function(e){e.target.composing||t.$set(t.bookInfo,"name",e.target.value)}}})]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("类型:")]),t.isTheme?n("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.bookInfo.theme_type,expression:"bookInfo.theme_type"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.bookInfo.theme_type},on:{input:function(e){e.target.composing||t.$set(t.bookInfo,"theme_type",e.target.value)}}}):t._e(),t.isTheme?t._e():n("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.typeDetail}})]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("作者:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.bookInfo.author,expression:"bookInfo.author"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.bookInfo.author},on:{input:function(e){e.target.composing||t.$set(t.bookInfo,"author",e.target.value)}}})]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("标签:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.bookInfo.tag,expression:"bookInfo.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.bookInfo.tag},on:{input:function(e){e.target.composing||t.$set(t.bookInfo,"tag",e.target.value)}}})]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("简介:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bookInfo.abs,expression:"bookInfo.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:t.bookInfo.abs},on:{input:function(e){e.target.composing||t.$set(t.bookInfo,"abs",e.target.value)}}})]),n("div",{staticClass:"group detailmain"},[n("div",{staticClass:"label"},[t._v("封面")]),n("span",{staticClass:"wrap"},[n("img",{staticClass:"coverImg",attrs:{src:t.bookInfo.img_src||t.bookInfo.img,disabled:""}})])]),t.isTheme?t._e():n("div",{staticClass:"group constiuteGroup"},[n("div",{staticClass:"label"},[t._v(t._s(t.typeDetail)+"构成:")]),n("span",{staticClass:"constiute"},["视读"!=t.typeDetail&&"听读"!=t.typeDetail&&"课件"!=t.typeDetail?[n("span",{staticClass:"li",class:{isCurrType:"1"==t.currType},on:{click:function(e){t.change("books","1")}}},[t._v("阅读")]),n("span",{staticClass:"li",class:{isCurrType:"2"==t.currType},on:{click:function(e){t.change("resources","2")}}},[t._v("资源")]),n("span",{staticClass:"li",class:{isCurrType:"4"==t.currType},on:{click:function(e){t.change("audios","4")}}},[t._v("音频")]),n("span",{staticClass:"li",class:{isCurrType:"5"==t.currType},on:{click:function(e){t.change("videos","5")}}},[t._v(" 视频")])]:t._e()],2)]),t.isTheme?n("div",{staticClass:"group constiuteGroup"},[n("div",{staticClass:"label"},[t._v("主题构成:")])]):t._e(),"课件"==t.typeDetail?n("div",{staticClass:"grouping"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("组名称")]),n("th",{attrs:{width:"100"}},[t._v("操作")])])])]),n("el-tree",{attrs:{data:t.bookInfo.components.videos,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var a=e.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[t._v(t._s(a.name))]),n("span",{staticClass:"options",staticStyle:{float:"right"}},[n("div",{staticClass:"icon icon-detail",attrs:{title:"详情"},on:{click:function(e){t.preview(a,a.children)}}})])])}}])})],1):t._e(),t.detailDataOwn&&"课件"!=t.typeDetail?n("div",{staticClass:"tableWrap"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("名称")]),n("th",[t._v("标签")]),n("th",[t._v("类型")]),n("th",[t._v("创建时间")]),n("th",[t._v("操作")])])]),n("tbody",t._l(t.detailDataOwn,function(e,a){return n("tr",[n("td",[n("div",{staticClass:"th-name"},[t._v(t._s(e.name))])]),n("td",[n("div",{staticClass:"th-name"},[t._v(t._s(e.tag))])]),n("td",[n("div",{staticClass:"th-name"},[t._v(t._s(e.type_name))])]),n("td",[n("div",{staticClass:"th-name"},[t._v(t._s(e.create_time))])]),n("td",[n("div",{staticClass:"th-name"},[n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){t.preview(e)}}},[t._v("预览")])],1)])])}))])]):t._e()])])],1)]),n("el-tab-pane",{attrs:{label:"元数据",name:"data"}},[n("div",{staticClass:"meta"},t._l(t.bookInfo.attributes,function(e,a){return n("div",{staticClass:"group rowWrap"},[n("span",{domProps:{textContent:t._s(a+1)}}),n("span",{staticClass:"left",domProps:{textContent:t._s(e.key)}}),n("span",{staticClass:"right",domProps:{textContent:t._s(e.value)}})])}))]),n("el-tab-pane",{attrs:{label:"知识点",name:"know"}},[t.list?n("div",{staticClass:"KnowledgeWrap"},[n("ul",{staticClass:"left"},t._l(t.gList,function(e){return n("li",{on:{click:function(n){t.handKnowledgeClick(e)}}},[t._v(t._s(e.name))])})),n("div",{staticClass:"right"},[n("p",{staticClass:"name",domProps:{textContent:t._s(t.currGroup.name)}}),n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("知识点名称")]),n("th",[t._v("数量")]),n("th",[t._v("创建时间")])])]),n("tbody",t._l(t.list,function(e){return n("tr",[n("th",[t._v(t._s(e.name))]),n("th",[t._v(t._s(e.num))]),n("th",[t._v(t._s(e.create_time))])])}))])])]):t._e()])],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},1102:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div"},[t.currGroupId?n("div",{staticClass:"content clearfix"},[n("div",{staticClass:"left"},[n("ul",t._l(t.glist,function(e){return n("div",{staticClass:"li",class:{currGroup:e.id==t.currGroupId},on:{click:function(n){t.changeGroup(e)}}},[n("span",{staticClass:"name",attrs:{title:e.name+"(100)"},domProps:{textContent:t._s(e.name+"("+e.num+")")}})])}))]),n("div",{staticClass:"tableWrap"},[n("div",{staticClass:"nav clearfix"},[n("div",{staticClass:"name",domProps:{textContent:t._s(t.currGroup.name)}}),t.openAnchorList?n("div",{staticClass:"btns"},[n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.openAnchorList=!1}}},[t._v("返回")]),t.isBook?t._e():n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.addAnchor}},[t._v("增加锚点")]),!t.bookInfo||t.anchorType!=t.Anchors_chapter&&t.anchorType!=t.Anchors_contetn?t._e():n("el-select",{attrs:{placeholder:"书籍设置",size:"small"},on:{change:t.bookinfoChange,"visible-change":t.bookinfoBlur},model:{value:t.bookInfo.value,callback:function(e){t.$set(t.bookInfo,"value",e)},expression:"bookInfo.value"}},t._l(t.bookInfo.list,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.removeAnchor()}}},[t._v("移除")])],1):n("div",{staticClass:"btns"},[n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.KnowledgeEdit({})}}},[t._v("新增知识点")]),n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.toTop}},[t._v("置顶")]),n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.knowDel()}}},[t._v("删除")])],1)]),t.openAnchorList?t._e():n("div",{ref:"mainListWrap",staticClass:"mainListWrap"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("全选"),n("input",{attrs:{type:"checkbox"},on:{click:function(e){t.checkedAll=!t.checkedAll}}})]),n("th",[t._v("名称")]),n("th",[t._v("数量")]),n("th",{attrs:{width:"160"}},[t._v("创建时间")]),n("th",{staticStyle:{"text-align":"center"},attrs:{width:"250"}},[t._v("操作")])])]),n("tbody",t._l(t.list,function(e){return n("tr",[n("th",[n("input",{attrs:{type:"checkbox",name:"ids"},domProps:{checked:t.checkedAll,value:e.id}})]),n("th",[t._v(t._s(e.name))]),n("th",[t._v(t._s(e.num))]),n("th",[t._v(t._s(e.create_time))]),n("th",[n("div",{staticClass:"btns"},[n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){t.KnowledgeEdit(e)}}},[t._v("重命名")]),n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){t.setAnchor(e.id)}}},[t._v("设置锚点")]),n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){t.knowDel([e.id])}}},[t._v("删除")])],1)])])}))]),t.page?n("div",{staticClass:"pageWrap"},[n("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e(),n("div",{staticClass:"btns"})]),t.openAnchorList?n("div",{staticClass:"anchorListWrap"},[n("div",{staticClass:"article"},[t.openAnchorList?n("table",{ref:"anchorList",staticClass:"table"},[n("thead",[n("tr",[n("th",{attrs:{colspan:"2"}},[n("div",{staticClass:"title"},[t._v("全选"),n("input",{attrs:{type:"checkbox"},on:{click:function(e){t.anchorCheckedAll=!t.anchorCheckedAll}}}),n("span",{staticClass:"btns"},[n("span",{class:{currAnchorType:t.anchorType==t.Anchors_chapter},on:{click:function(e){t.changeAnchorType(t.Anchors_chapter)}}},[t._v("章节锚点")]),n("span",{class:{currAnchorType:t.anchorType==t.Anchors_contetn},on:{click:function(e){t.changeAnchorType(t.Anchors_contetn)}}},[t._v("内容锚点")]),n("span",{class:{currAnchorType:t.anchorType==t.Anchors_audio},on:{click:function(e){t.changeAnchorType(t.Anchors_audio)}}},[t._v("音频锚点")]),n("span",{class:{currAnchorType:t.anchorType==t.Anchors_video},on:{click:function(e){t.changeAnchorType(t.Anchors_video)}}},[t._v("视频锚点")])])])]),n("th",{directives:[{name:"show",rawName:"v-show",value:t.isBook,expression:"isBook"}]},[t._v("所属图书")]),n("th",{staticClass:"btns",staticStyle:{"padding-right":"30px"},attrs:{width:"50"}},[t._v("操作")])])]),n("tbody",t._l(t.anchorList,function(e){return n("tr",[n("td",{staticStyle:{"padding-left":"50px",width:"100px","max-width":"100px"}},[n("input",{staticStyle:{"padding-left":"20px"},attrs:{type:"checkbox",name:"ids"},domProps:{checked:t.anchorCheckedAll,value:e.id}})]),n("td",{staticStyle:{"text-align":"left"}},[t._v(t._s(e.name))]),t.isBook?n("td",[t._v(t._s(e.book_name))]):t._e(),n("td",[n("div",{staticClass:"btns"},[n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){t.removeAnchor([e.n_info_id])}}},[t._v("移除")])],1)])])}))]):t._e()])]):t._e()])]):t._e()])},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},1105:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.groupDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[n("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-close",on:{click:t.colse}}),n("el-tabs",{attrs:{value:"ff"}},[n("el-tab-pane",{attrs:{label:t.setTitle,name:"ff"}})],1)],1),n("VaForm",{ref:"detailForm"},[n("form",{staticClass:"detailForm rowWrap"},[n("div",{staticClass:"group line"},[n("div",{staticClass:"label"},[t._v("基本信息(必填)")])]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("组名称:")]),n("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.group_name,expression:"information.group_name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.group_name},on:{input:function(e){e.target.composing||t.$set(t.information,"group_name",e.target.value)}}})]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("定价:")]),n("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.price,expression:"information.price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.price},on:{input:function(e){e.target.composing||t.$set(t.information,"price",e.target.value)}}}),n("span",[t._v(" 元")])]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("最低定价:")]),n("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.min_price,expression:"information.min_price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.min_price},on:{input:function(e){e.target.composing||t.$set(t.information,"min_price",e.target.value)}}}),n("span",[t._v(" 元")])]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("主讲人:")]),n("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.speaker,expression:"information.speaker"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.speaker},on:{input:function(e){e.target.composing||t.$set(t.information,"speaker",e.target.value)}}})]),n("div",{staticClass:"group line"},[n("div",{staticClass:"label"},[t._v("其他信息")])]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("试听地址:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.information.src,expression:"information.src"}],staticClass:"form-control",attrs:{type:"url",disabled:t.onlyShow},domProps:{value:t.information.src},on:{input:function(e){e.target.composing||t.$set(t.information,"src",e.target.value)}}})]),n("div",{staticClass:"group line"},[n("div",{staticClass:"label",domProps:{textContent:t._s("2"==t.isMedia?"关联视频":"关联音频")}})]),n("div",{staticClass:"group"},[n("Tab",{ref:"video",attrs:{dataType:"audio",onlyShow:t.onlyShow,defaultList:t.list,detailData:t.item},on:{detail:function(e){return t.$emit("detail",e)},del:function(e){return t.del(e)}}}),t.onlyShow?t._e():n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.$emit("open",t.addMediaType)}}},[t._v("新增")])],1)])]),n("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.onlyShow?t._e():n("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},1106:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div"},[n("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[n("el-tab-pane",{attrs:{label:"详情",name:"xq"}},[n("div",{staticClass:"div"},[n("form",{ref:"infoForm",staticClass:"infoForm"},[n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("名称:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("类型:")]),n("span",{staticClass:"types"},[n("span",[t._v(" "+t._s(t.infoData.type_name))]),n("span",[t._v(" 创建时间: "+t._s(t.infoData.create_time))])])]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("作者:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.author},on:{input:function(e){e.target.composing||t.$set(t.infoData,"author",e.target.value)}}})]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("标签:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.tag},on:{input:function(e){e.target.composing||t.$set(t.infoData,"tag",e.target.value)}}})]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("简介:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}})]),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("详情:")])]),t.detailType&&3!=t.infoData.type?n("div",{staticClass:"group wailianinput"},[n("div",{staticClass:"label"}),n("span",[n("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.infoData.preview}})])]):t._e(),t.hassVideo||4==t.infoData.type?n("div",{staticClass:"group detailmain wailian"},[n("div",{staticClass:"label"}),n("span",{staticClass:"wrap"},[t.hassVideo?n("video",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),4==t.infoData.type?n("audio",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),n("span",{staticClass:"msg"},[n("div",{staticClass:"type"},[t._v("格式:"),n("span",{staticClass:"val",domProps:{textContent:t._s(t.infoData.format)}})]),n("div",{staticClass:"size"},[t._v("大小:"),n("span",{staticClass:"val",domProps:{textContent:t._s((t.infoData.size/1024).toFixed(2)+"KB")}})])])])]):t._e(),n("div",{staticClass:"group detailmain"},[n("div",{staticClass:"label"}),n("span",{staticClass:"wrap"},[n("img",{staticClass:"coverImg",attrs:{src:t.infoData.img_src||t.infoData.img}}),3==t.infoData.type?n("img",{staticClass:"coverImg",attrs:{src:t.infoData.preview_path}}):t._e()])]),10==t.infoData.type?n("div",{staticClass:"group"},[n("table",{staticClass:"table border",attrs:{width:"100%"}},[n("thead",[n("tr",[n("th",[t._v("名称")]),n("th",[t._v("标签")]),n("th",[t._v("作者")]),n("th",[t._v("发布时间")])])]),n("tbody",t._l(t.infoData.constitute,function(e,a){return n("tr",[n("td",{domProps:{textContent:t._s(e.name)}}),n("td",{domProps:{textContent:t._s(e.tag)}}),n("td",{domProps:{textContent:t._s(e.author)}}),n("td",{domProps:{textContent:t._s(e.create_time)}})])}))])]):t._e()])])]),"视读"!=t.typeDetail&&"听读"!=t.typeDetail?n("el-tab-pane",{attrs:{label:"元数据",name:"data"}},[n("div",{staticClass:"meta"},t._l(t.infoData.attributes,function(e,a){return t.infoData?n("div",{staticClass:"group rowWrap"},[n("div",{staticClass:"label",domProps:{textContent:t._s(a+1)}}),n("span",{staticClass:"form-control left",domProps:{textContent:t._s(e.key)}}),n("span",{staticClass:"form-control right",domProps:{textContent:t._s(e.value)}})]):t._e()}))]):t._e()],1)],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},1107:function(t,e,n){"use strict";var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-dialog",{attrs:{center:!1,visible:this.readerDialog,top:"50px",width:"1000px","show-close":!1,"append-to-body":""}},[e("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[e("i",{staticClass:"el-icon-close",on:{click:this.colse}}),e("el-tabs",{attrs:{value:"reader"}},[e("el-tab-pane",{attrs:{label:this.title,name:"reader"}})],1)],1),e("div",{ref:"readerIframe",staticClass:"content"},[e("div",{staticStyle:{height:"500px"},attrs:{id:"readerIframe"}})]),e("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"info"},on:{click:this.colse}},[this._v("关闭")])],1)])],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},1108:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list?n("div",{staticClass:"tableWrap"},[t.isShow&&!t.onlyShow?n("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[n("el-radio-button",{attrs:{label:"1"}},[t._v("图集")]),n("el-radio-button",{attrs:{label:"2"}},[t._v("视频集")]),n("el-radio-button",{attrs:{label:"3"}},[t._v("音频集")])],1):t._e(),n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("名称")]),n("th",[t._v("类型")]),t.isLabelHide?t._e():n("th",[t._v("标签")]),n("th",[t._v("创建时间")]),n("th",{attrs:{width:"100"}},[t._v("操作")])])]),n("tbody",[t.list.length?t._e():n("tr",[n("td",{staticClass:"colspan",attrs:{colspan:t.isLabelHide?4:5}},[t._v("暂无数据")])]),t._l(t.list,function(e,a){return n("tr",[n("th",[n("div",{staticClass:"th-name"},[t._v(t._s(e.name))])]),n("th",[n("div",{staticClass:"th-name"},[t._v(t._s(e.type_name))])]),t.isLabelHide?t._e():n("th",[n("div",{staticClass:"th-name"},[t._v(t._s(e.tag))])]),n("th",[n("div",{staticClass:"th-name"},[t._v(t._s(e.create_time))])]),n("th",[n("div",{staticClass:"icon icon-detail",attrs:{title:"详情"},on:{click:function(n){t.$emit("detail",e)}}}),t.onlyShow?t._e():n("div",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(n){t.$emit("del",e)}}})])])})],2)])],1):t._e()},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},1109:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div"},[n("div",{staticClass:"serachWrapd"},[n("div",{staticClass:"title"}),n("form",{ref:"mainForm"},[n("span",{staticClass:"group-inline"},[t.bookInfo&&"章节锚点"==t.type?n("el-select",{attrs:{placeholder:"选择所属书籍",size:"small",clearable:""},model:{value:t.bookInfo.value,callback:function(e){t.$set(t.bookInfo,"value",e)},expression:"bookInfo.value"}},t._l(t.bookInfo.list,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})):t._e()],1),n("span",{staticClass:"group-inline"},[n("input",{staticClass:"form-control",attrs:{placeholder:t._f("formatHolder")(t.type),name:"name"}})]),n("span",{staticClass:"group-inline btn"},[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search",plain:""},on:{click:t.seareHandeler}},[t._v("搜索")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.addAnchorCommit}},[t._v("添加选中")])],1)])]),n("div",{staticClass:"tableWrap"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("全选"),n("input",{attrs:{type:"checkbox"},on:{click:t.checkedAll}})]),n("th",[t._v("名称")]),n("th",[t._v("创建时间")])])]),n("tbody",t._l(t.list,function(e){return n("tr",[n("th",[n("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids"},domProps:{checked:!!t.obj[e.id],value:e.id},on:{click:function(n){t.choose(n,e)}}})]),n("th",[t._v(t._s(e.chapter_name||e.name))]),n("th",[t._v(t._s(e.create_time))])])}))]),t.page?n("div",{staticClass:"pageWrap"},[n("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),n("div",{staticClass:"btns"},[n("el-button",{attrs:{type:"info"},on:{click:function(e){t.$emit("anchorListCancle")}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.addAnchorCommit}},[t._v("确定")])],1)])},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},342:function(t,e,n){"use strict";n.r(e);var a=n(587),i=n(343);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(464);var o=n(0),s=Object(o.a)(i.default,a.a,a.b,!1,null,"0da8010e",null);s.options.__file="GroupList.vue",e.default=s.exports},343:function(t,e,n){"use strict";n.r(e);var a=n(344),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},344:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["groupList","currGroup"],data:function(){return{newGroupDialogOpen:!1,updateGroupDialogOpen:!1,currEditGroup:null}},created:function(){},computed:{},methods:{groupChange:function(t){this.$emit("groupChange",t)},addGroupDialog:function(){},delGroup:function(t){var e=this;this.$confirm("是否删除分组:"+t.name).then(function(n){dir(n),e.$emit("delGroup",t.id)}).catch(function(t){dir(t)})},updateGroupDialog:function(t){this.currEditGroup=t,log(t),this.updateGroupDialogOpen=!0},addGroup:function(){if(this.$refs.addGroupForm.valiAll()){var t=document.querySelector("#addGroupForm");this.$emit("addGroup",t),this.newGroupDialogOpen=!1}},updateGroup:function(){if(this.$refs.updateGroupForm.valiAll()){var t=document.querySelector("#updateGroupForm");this.$emit("updateGroup",t),this.updateGroupDialogOpen=!1}},moveToSubmit:function(){this.$emit("moveGroup")}}}},345:function(t,e,n){},347:function(t,e,n){"use strict";n.r(e);var a=n(586),i=n(348);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(488);var o=n(0),s=Object(o.a)(i.default,a.a,a.b,!1,null,"76ee68aa",null);s.options.__file="moveGroup.vue",e.default=s.exports},348:function(t,e,n){"use strict";n.r(e);var a=n(349),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},349:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["groupList","currGroup"],created:function(){log("重庆插件")},data:function(){return{flag:!0}},methods:{submit:function(){var t=this.$refs.moveToId.value;this.$emit("submit",t)}},watch:{flag:function(){this.flag||this.$emit("back")}}}},350:function(t,e,n){},382:function(t,e,n){"use strict";n.r(e);var a=n(1097),i=n(466);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(1015);var o=n(0),s=Object(o.a)(i.default,a.a,a.b,!1,null,"17b5374f",null);s.options.__file="detail.vue",e.default=s.exports},407:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(15));e.modifyNowledges=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,r=u(e,["id"]);return(0,i.request_put)(l({id:n}),r).then((o=s(a.default.mark(function e(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({id:r.pid,type:r.type});case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}},e,t)})),function(t){return o.apply(this,arguments)}));var o},e.deleteNowledges=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/nowledges/delete",e).then((n=s(a.default.mark(function n(i){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({id:e.pid,type:e.type});case 2:return t.abrupt("return",i);case 3:case"end":return t.stop()}},n,t)})),function(t){return n.apply(this,arguments)}));var n},e.addNowledges=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/nowledges",e).then((n=s(a.default.mark(function n(i){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({id:e.pid,type:e.type});case 2:return t.abrupt("return",i);case 3:case"end":return t.stop()}},n,t)})),function(t){return n.apply(this,arguments)}));var n},e.upNowledges=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_put)("/api/nowledges",t)},e.modifyGroup=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,r=u(e,["id"]);return(0,i.request_put)(d({id:n}),r).then((o=s(a.default.mark(function e(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({id:r.pid,type:r.type});case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}},e,t)})),function(t){return o.apply(this,arguments)}));var o},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/api/nowledges/groups",t)},e.deleteGroup=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/nowledges/groups/delete",e).then((n=s(a.default.mark(function n(i){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({id:e.pid,type:e.type});case 2:return t.abrupt("return",i);case 3:case"end":return t.stop()}},n,t)})),function(t){return n.apply(this,arguments)}));var n},e.addGroup=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/nowledges/groups",e).then((n=s(a.default.mark(function n(i){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({id:e.pid,type:e.type});case 2:return t.abrupt("return",i);case 3:case"end":return t.stop()}},n,t)})),function(t){return n.apply(this,arguments)}));var n},e.listNowledges=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=u(t,["id"]);return(0,i.request_get)(c({id:e}),n)},e.audioNowledges=g,e.searchNowledges=_,e.videoNowledges=b,e.NowledgesList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,n=u(t,["type"]);if("章节锚点"==e)return _(n);if("音频锚点"==e)return g(n);if("视频锚点"==e)return b(n)},e.listKnowledge=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/api/nowledges",t)},e.addAnchor=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/nowledge_info",e).then((n=s(a.default.mark(function n(i){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({id:e.pid,type:e.ptype});case 2:return t.abrupt("return",i);case 3:case"end":return t.stop()}},n,t)})),function(t){return n.apply(this,arguments)}));var n},e.delAnchor=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/nowledge_info/delete",e).then((n=s(a.default.mark(function n(i){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({id:e.pid,type:e.type});case 2:return t.abrupt("return",i);case 3:case"end":return t.stop()}},n,t)})),function(t){return n.apply(this,arguments)}));var n},e.mount=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/nowledge_info/mount",t).then(function(e){var n=JSON.parse(window.localStorage.getItem("mounts"))||[],a=n.findIndex(function(e){return e.tid===t.id}),i={tid:t.id,id:e.data.id};a>-1&&n.splice(a,1),n.push(i),window.localStorage.setItem("mounts",JSON.stringify(n))})},e.nowledge_info=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/api/nowledge_info",t)},e.mountSchedule=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=(u(t,["id"]),arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){}),a=(JSON.parse(window.localStorage.getItem("mounts"))||[]).find(function(t){return t.tid===e});if(!a)return"";return(0,i.request_progress)(h({id:a.id}),n)},e.nowledge_btn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)("/api/nowledge_button",t)};var i=n(48),r=o(n(81));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(i,r){try{var o=e[i](r),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}("next")})}}function u(t,e){var n={};for(var a in t)e.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}var l=r.default.compile("/api/nowledges/:id"),c=r.default.compile("/api/nowledges/book/:id"),d=r.default.compile("/api/nowledges/groups/:id"),p=r.default.compile("/api/nowledges/audio/:id"),f=r.default.compile("/api/nowledges/video/:id"),v=r.default.compile("/api/nowledges/book/catalogs/:id"),h=r.default.compile("/api/nowledge_info/:id"),m=r.default.compile("/api/nowledge_status/:id");function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=u(t,["id"]);return(0,i.request_get)(p({id:e}),n)}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=u(t,["id"]);return(0,i.request_get)(v({id:e}),n)}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=u(t,["id"]);return(0,i.request_get)(f({id:e}),n)}function y(t){var e=t.id,n=t.type;return(0,i.request_get)(m({id:e}),{type:n})}},464:function(t,e,n){"use strict";var a=n(345);n.n(a).a},466:function(t,e,n){"use strict";n.r(e);var a=n(467),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},467:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=s(n(993)),r=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(n(407)),s(n(1009))),o=s(n(1011));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Knowledge:i.default,Info:r.default,Group:o.default},props:{type:String,detailData:Object,isTheme:{type:Boolean,default:!1},services:Object,typeDetail:{type:String,default:"图书"},isCourse:{type:Boolean,default:!1}},data:function(){return{list:null,gList:null,currGroup:null,currType:"1",currIndex:"books",detailDataOwn:null,isKnowledge:!1,infoDialog:!1,infoData:{},infoValue:"xq",bookInfo:{},groupDialog:!1}},created:function(){if(this.bookInfo=this.detailData.books_info,this.bookInfo.knowledge&&this.bookInfo.knowledge.length){this.isKnowledge=!0;var t=this.bookInfo.knowledge;this.gList=t,this.currGroup=t[0],this.list=t[0]?t[0].nowledge_info:""}this.isTheme?this.detailDataOwn=this.bookInfo.components:("视读"==this.typeDetail||"课件"==this.typeDetail?this.currIndex="videos":"听读"==this.typeDetail&&(this.currIndex="audios"),this.detailDataOwn=this.bookInfo.components[this.currIndex],log(this.detailDataOwn))},methods:{handleClick:function(t,e){},submit:function(){this.$emit("back")},handKnowledgeClick:function(t){this.list=t.nowledge_info},change:function(t,e){this.currType=e,this.currIndex=t,this.detailDataOwn=this.bookInfo.components[this.currIndex]},preview:function(t,e){var n=this;if(log(1111,t),"object"==(void 0===e?"undefined":a(e)))return this.currentItem=t,void(this.groupDialog=!0);this.infoValue="xq",this.services.preview({product_id:this.bookInfo.id,resource_id:t.id,type:2==this.currType?14:t.type}).then(function(t){n.infoData=t.data,n.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){n.$message.error(e.messages[a]);break}})}},watch:{detailData:function(t){if(this.bookInfo=t.books_info,this.bookInfo.knowledge&&this.bookInfo.knowledge.length){this.isKnowledge=!0;var e=this.bookInfo.knowledge;this.gList=e,this.currGroup=e[0],this.list=e[0]?e[0].nowledge_info:""}this.isTheme?this.detailDataOwn=t.books_info.components:this.detailDataOwn=t.books_info.components[this.currIndex]}}}},468:function(t,e,n){"use strict";n.r(e);var a=n(469),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},469:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=d(n(15)),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},r=d(n(295)),o=d(n(994)),s=d(n(996)),u=c(n(407)),l=c(n(476));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}function p(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(i,r){try{var o=e[i](r),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}("next")})}}e.default={components:{AnchorList:o.default,Reader:s.default},props:["type","constitute","detailId"],created:function(){var t=p(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),data:function(){return{list:null,glist:null,page:null,Anchors_chapter:"章节锚点",Anchors_contetn:"内容锚点",Anchors_audio:"音频锚点",Anchors_video:"视频锚点",checkedAll:!1,timePick:null,currGroupId:null,currknowledgeId:null,currGroup:{},openAnchorList:!1,anchorType:"章节锚点",anchorList:null,bookInfo:{value:"",lsit:[]},groupDialog:!1,knowledgeDialog:!1,addAnchorDialog:!1,readerDialog:!1,readerId:null,editGroup:{},editKnowledge:{},anchorCheckedAll:!1,mount:{number:0}}},computed:{isBook:function(){return"章节锚点"==this.anchorType||"内容锚点"==this.anchorType}},methods:{getGlist:function(){var t=p(a.default.mark(function t(){var e=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.listGroup({id:this.detailId}).then(function(t){var n=t.data.findIndex(function(t){return e.currGroupId===t.id}),a=n>-1?n:0;e.glist=t.data,e.glist&&e.glist.length>0?(e.currGroupId=t.data[a].id,e.currGroup=t.data[a],e.anchorType="章节锚点",e.getList()):(e.currGroupId=null,e.currGroup={})}).catch(function(t){var n=t.payload;for(var a in n.messages){e.$message.error(n.messages[a]);break}});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getList:function(){var t=p(a.default.mark(function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=arguments[2];return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.listKnowledge(i({pageNum:n,pageOffset:o},s,{id:this.detailId,group_id:this.currGroupId})).then(function(t){r.list=t.data,r.page=t.page}).catch(function(t){var e=t.payload;for(var n in e.messages){r.$message.error(e.messages[n]);break}});case 2:e=this.$refs.mainListWrap,e.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),groupDel:function(t){var e=this;this.$confirm("是否删除该分组?").then(function(n){u.deleteGroup({id:t.id}).then(function(t){e.getGlist()}).catch(function(t){for(var n in payload.messages){e.$message.error(payload.messages[n]);break}})})},KnowledgeEdit:function(t){this.editKnowledge=t,this.knowledgeDialog=!0},groupCommit:function(){var t=this;if(this.$refs.groupFormVa.valiAll()){var e=(0,r.default)(this.$refs.groupForm,{hash:!0});e.id?u.modifyGroup(e).then(function(e){t.groupDialog=!1,t.getGlist()}):(e.id=this.detailId,u.addGroup(e).then(function(e){t.groupDialog=!1,t.getGlist()}))}},KnowledgeCommit:function(){var t=this;if(this.$refs.KnowledgeFormVa.valiAll()){var e=(0,r.default)(this.$refs.KnowledgeForm,{hash:!0});try{e.id?u.modifyNowledges(e).then(function(e){t.knowledgeDialog=!1,t.getList()}):(e.t_id=this.detailId,e.group_id=this.currGroupId,u.addNowledges(e).then(function(e){t.knowledgeDialog=!1,t.getGlist(),t.getList()}))}catch(t){var n=t.payload;for(var a in n.messages){this.$message.error(n.messages[a]);break}}}},toTop:function(){var t=this,e=[];if(this.$refs.mainListWrap.querySelectorAll("[name='ids']:checked").forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要置顶的内容！");u.upNowledges({id:e}).then(function(e){t.getList()}).catch(function(e){var n=e.payload;for(var a in n.messages){t.$message.error(n.messages[a]);break}})},knowDel:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.$refs.mainListWrap.querySelectorAll("[name='ids']:checked");if(e.length||n.forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要删除的内容！");this.$confirm("是否删除选中知识点?").then(function(n){u.deleteNowledges({id:e}).then(function(e){t.getGlist()}).catch(function(e){var n=e.payload;for(var a in n.messages){t.$message.error(n.messages[a]);break}})})},removeAnchor:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.$refs.anchorList.querySelectorAll("[name='ids']:checked");if(e.length||n.forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要删除的锚点！");this.$confirm("是否删除选中锚点?").then(function(n){l.delAnchor({id:e}).then(function(e){t.getAnchorList()}).catch(function(e){var n=e.payload;for(var a in n.messages){t.$message.error(n.messages[a]);break}})})},handleSizeChange:function(t){this.getList(1,t)},handleCurrentChange:function(t){this.getList(t,this.page.offset)},changeGroup:function(t){this.currGroupId=t.id,this.currGroup=t,this.openAnchorList=!1,this.getList()},getbookList:function(){var t=p(a.default.mark(function t(){var e=this;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.listNowledges({id:this.detailId}).then(function(t){e.bookInfo.list=t.data}).catch(function(t){var n=t.payload;for(var a in n.messages){e.$message.error(n.messages[a]);break}});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),addAnchor:function(){this.addAnchorDialog=!0},setAnchor:function(){var t=p(a.default.mark(function t(e){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.currknowledgeId=e,t.next=3,this.getbookList();case 3:this.getAnchorList(),this.openAnchorList=!0;case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),changeAnchorType:function(t){this.anchorType=t,this.getAnchorList()},getAnchorList:function(){var t=this;u.nowledge_info({type:this.anchorType,id:this.currknowledgeId}).then(function(e){t.anchorList=e.data})},bookinfoChange:function(t){if("内容锚点"==this.anchorType)return this.readerId=t,void(this.readerDialog=!0);this.addAnchorDialog=!0},bookinfoBlur:function(t){this.bookInfo.value&&!t&&"章节锚点"==this.anchorType?this.addAnchorDialog=!0:this.bookInfo.value&&!t&&"内容锚点"==this.anchorType&&(this.readerDialog=!0)},anchorListCancle:function(){this.addAnchorDialog=!1,this.getAnchorList()},addAnchorSuccess:function(){this.getAnchorList()}}}},470:function(t,e,n){"use strict";n.r(e);var a=n(471),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},471:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(15)),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},r=s(n(295)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(407));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{},props:["type","bookInfo","themeId","currknowledgeId"],created:function(){var t,e=(t=a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.getList();case 1:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(i,r){try{var o=e[i](r),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}("next")})});return function(){return e.apply(this,arguments)}}(),data:function(){return{list:null,page:null,query:null,obj:{}}},computed:{},methods:{getList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments[2];return o.NowledgesList(i({pageNum:t,pageOffset:n},a,{id:"章节锚点"==this.type?this.bookInfo.value:this.themeId,type:this.type})).then(function(t){e.list=t.data,e.page=t.page})},checkedAll:function(t){var e=this;t.target.checked?this.list.forEach(function(t){e.obj[t.id]=t}):this.list.forEach(function(t){e.obj[t.id]=null}),this.$refs.ids.forEach(function(e){e.checked=t.target.checked}),log(this.obj)},choose:function(t,e){t.target.checked?this.obj[e.id]=e:this.obj[e.id]=null},addAnchorCommit:function(){var t=this,e=[];for(var n in this.obj)this.obj.hasOwnProperty(n)&&this.obj[n]&&e.push(this.obj[n]);o.addAnchor({n_id:this.currknowledgeId,b_id:"章节锚点"==this.type?e.map(function(t){return t.id}):"",c_id:"章节锚点"==this.type?[this.bookInfo.value]:e.map(function(t){return t.id}),type:this.type,name:e.map(function(t){return t.chapter_name||t.name})}).then(function(e){t.$emit("anchorListCancle")})},handleSizeChange:function(t){this.getList(1,t)},handleCurrentChange:function(t){this.getList(t,this.page.offset)},seareHandeler:function(){this.query=(0,r.default)(this.$refs.mainForm,{hash:!0}),log(this.query),this.getList(1,10,this.query)}},filters:{formatHolder:function(t){return t.substr(0,2)+"名称"}}}},472:function(t,e,n){},473:function(t,e,n){"use strict";n.r(e);var a=n(474),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},474:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=n(15),r=(a=i)&&a.__esModule?a:{default:a},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(997)),s=n(407);function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function a(i,r){try{var o=e[i](r),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}("next")})}}e.default={props:{readerDialog:{type:Boolean,default:!1},title:{type:String,default:"阅读器"},readerId:{type:String,default:""},currId:{type:String,default:""},version:{type:String,default:"production"},markBtn:{type:String,default:""}},data:function(){return{}},created:function(){var t=this;this.$nextTick(function(){var e={};e.do_mark=t.do_mark,e.get_chapter=t.get_chapter,e.get_book=t.get_book,new Reader3({imagePath:"http://xcloud.kf.gli.cn/pc/",markBtnText:t.markBtn,copyEnabled:!0,services:e,params:{bookId:t.readerId}}).mount(document.getElementById("readerIframe"),function(){})})},methods:{colse:function(){this.$emit("update:readerDialog",!1)},do_mark:function(t){var e=this,n=t.bookId,a=t.rangeJSON,i=t.selectedText,r=t.chapterRid,o=t.chapterName,u=void 0===o?"":o;(0,s.addAnchor)({name:[u],range:a,point:i,n_id:this.currId,b_id:[r],c_id:[n],type:"内容锚点"}).then(function(t){e.$emit("addAnchorSuccess")}).catch(function(t){var n=t.payload;for(var a in n.messages){e.$message.error(n.messages[a]);break}})},get_chapter:function(){var t=u(r.default.mark(function t(e){var n=e.bookId,a=e.chapterRid;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get_chapter({bookId:n,chapterRid:a,version:this.version});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),get_book:function(){var t=u(r.default.mark(function t(e){var n=e.bookId;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get_book({bookId:n,version:this.version});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}},475:function(t,e,n){},477:function(t,e,n){},478:function(t,e,n){"use strict";n.r(e);var a=n(479),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},479:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(84);var a,i=n(295);(a=i)&&a.__esModule,r(n(82)),r(n(671));function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.default={props:["type","infoData","infoDialog","typeDetail"],data:function(){return{}},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{handleClick:function(t,e){this.$emit("infoClick",t)}}}},480:function(t,e,n){},481:function(t,e,n){"use strict";n.r(e);var a=n(482),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},482:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(672)),o=n(1012),s=(a=o)&&a.__esModule?a:{default:a};e.default={components:{Tab:s.default},props:{groupDialog:{type:Boolean,default:!1},detailData:Object,item:{type:Object,default:{}},isMedia:{type:Number,default:1},onlyShow:Boolean,defaultData:Object},data:function(){return{information:{},list:[],addMediaType:"4"}},created:function(){Object.entries(this.item).length&&this.defaultData,this.information=this.item,this.list=this.item.children||[],2==this.isMedia&&(this.addMediaType="5")},computed:{setTitle:function(){return Object.entries(this.item).length?this.item.name||"修改组":"新增组"}},methods:{getInfo:function(){var t=this;r.groupDetail({id:this.item.id,type:this.isMedia}).then(function(e){t.information=e.data,t.list=e.data.constitute}).catch(function(e){var n=e.payload;for(var a in n.messages){t.$message.error(n.messages[a]);break}})},update:function(t){this.list=t},colse:function(){this.$emit("update:groupDialog",!1)},save:function(){var t=this;this.$refs.detailForm.valiAll()&&r.groupSave(i({id:this.item?this.item.id:""},this.information,{product_id:this.detailData.id,type:this.isMedia,constitute:this.list})).then(function(e){log(e),t.$message.success("保存成功"),t.$emit("save"),t.colse()}).catch(function(e){var n=e.payload;for(var a in n.messages){t.$message.error(n.messages[a]);break}})},del:function(t){var e=this.list.findIndex(function(e){return e.id===t.id});e>-1&&this.list.splice(e,1)}}}},483:function(t,e,n){"use strict";n.r(e);var a=n(484),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e.default=i.a},484:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=n(295),r=((a=i)&&a.__esModule,function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(672)));e.default={props:["dataType","isShow","detailData","defaultList","isLabelHide","onlyShow"],data:function(){return{services:r,type:"1",list:[]}},created:function(){this.defaultList?this.list=this.defaultList:this.getList(this.dataType)},computed:{},methods:function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({handleClick:function(){},getList:function(t){var e=this;this.detailData&&this.detailData.id&&this.services.getList({type:t,id:this.detailData.id,resource_type:this.type}).then(function(t){e.list=t.data})}},"handleClick",function(t){log(t)}),watch:{defaultList:function(){this.list=this.defaultList},type:function(t){this.getList(this.dataType)}}}},485:function(t,e,n){},486:function(t,e,n){},487:function(t,e,n){},488:function(t,e,n){"use strict";var a=n(350);n.n(a).a},586:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div"},[t.flag?n("el-dialog",{attrs:{center:!1,visible:t.flag,"close-on-click-modal":!1,title:"移动分组",width:"400px"},on:{"update:visible":function(e){t.flag=e}}},[n("span",{}),n("div",{staticClass:"group"},[n("div",{staticClass:"label"},[t._v("移动到")]),n("select",{ref:"moveToId",staticClass:"form-control",attrs:{placeholder:"请选择"}},t._l(t.groupList,function(e,a){return e.id!=t.currGroup&&""!=e.id?n("option",{domProps:{value:e.id,textContent:t._s(e.name)}}):t._e()}))]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"info"},on:{click:function(e){t.flag=!1}}},[t._v("返回")]),n("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v(" 确定  ")])],1)]):t._e()],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},587:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div"},[n("div",{staticClass:"groupWrap"},[n("div",{staticClass:"list"},[n("ul",t._l(t.groupList,function(e){return n("li",{staticClass:"licontent",class:{red:e.id==t.currGroup}},[n("div",{staticClass:"name ellipsis",attrs:{title:e.name+"("+e.num+")"},on:{click:function(n){t.groupChange(e.id)}}},[n("span",{staticClass:"title"},[t._v(t._s(e.name))]),n("span",[t._v(t._s("("+e.num+")"))])]),""!=e.id&&"non"!=e.id?n("div",{staticClass:"btns"},[n("span",{on:{click:function(n){t.updateGroupDialog(e)}}},[n("i",{staticClass:"el-icon-edit"})]),n("span",{on:{click:function(n){t.delGroup(e)}}},[n("i",{staticClass:"el-icon-delete"})])]):t._e()])}))]),n("div",{staticClass:"addGroupBtnWrap"},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.newGroupDialogOpen=!0}}},[n("i",{staticClass:"el-icon-plus"},[t._v("新建分组")])])],1)]),n("div",{staticClass:"dialogs"},[t.newGroupDialogOpen?n("el-dialog",{attrs:{title:"新增",visible:t.newGroupDialogOpen,width:"500px"},on:{"update:visible":function(e){t.newGroupDialogOpen=e}}},[n("div",{staticClass:"formWrap"},[n("VaForm",{ref:"addGroupForm"},[n("form",{attrs:{id:"addGroupForm"}},[n("div",{staticClass:"group"},[n("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"}})])])])],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"info"},on:{click:function(e){t.newGroupDialogOpen=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.addGroup}},[t._v("确定")])],1)]):t._e(),t.updateGroupDialogOpen?n("el-dialog",{attrs:{title:"修改",visible:t.updateGroupDialogOpen,width:"500px"},on:{"update:visible":function(e){t.updateGroupDialogOpen=e}}},[n("div",{staticClass:"formWrap"},[n("VaForm",{ref:"updateGroupForm"},[t.currEditGroup?n("form",{attrs:{id:"updateGroupForm"}},[n("div",{staticClass:"group"},[n("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"},domProps:{value:t.currEditGroup.name}}),n("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:t.currEditGroup.id}})])]):t._e()])],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"info"},on:{click:function(e){t.updateGroupDialogOpen=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.updateGroup}},[t._v("确定")])],1)]):t._e()],1)])},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},672:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(t){var e=t.type,n=t.id,a=t.resource_type;if("book"==e)return m({id:n});if("video"==e)return _({id:n});if("resource"==e)return k({id:n,resource_type:a})},e.del=function(t){var e=t.type,n=s(t,["type"]);if("book"==e)return g(n);if("video"==e)return y(n);if("resource"==e)return w(n);if("audio"==e)return x(n)},e.add=function(t){var e=t.type,n=s(t,["type"]);if("book"==e)return g(n);if("video"==e)return b(n);if("resource"==e)return C(n)},e.check=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(v(t))},e.bookList=m,e.bookInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(u(t))},e.bookDel=g,e.bookSave=function(t){var e=t.id,n=s(t,["id"]);if(e)return(0,i.request_put)(u({id:e}),n);return(0,i.request_post)("/api/components_paper",n)},e.videoList=_,e.videoAdd=b,e.videoDel=y,e.resourceList=k,e.resourceAdd=C,e.resourceDel=w,e.groupList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(p(t),t)},e.groupSave=function(t){var e=t.id,n=s(t,["id"]);if(e)return(0,i.request_put)(f({id:e}),n);return(0,i.request_post)("/api/components_groups",n)},e.groupDetail=function(t){var e=t.id;return(0,i.request_get)(f({id:e}))},e.audioDel=x,e.saveEBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.current_id)return(0,i.request_put)(h({id:t.current_id}),t);return(0,i.request_post)("/api/components_ebooks",t)},e.getEBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(h(t))};var a,i=n(48),r=n(81),o=(a=r)&&a.__esModule?a:{default:a};function s(t,e){var n={};for(var a in t)e.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n}var u=o.default.compile("/api/components_paper/:id"),l=o.default.compile("/api/components_paper/:id/list"),c=o.default.compile("/api/components/:id/video"),d=o.default.compile("/api/components/:id/resource"),p=o.default.compile("/api/components_groups/:id/list"),f=o.default.compile("/api/components_groups/:id"),v=o.default.compile("/api/components_paper/:id/check"),h=o.default.compile("/api/components_ebooks/:id");function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(l(t))}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_delete)(u(t))}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(c(t))}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/components/video",t)}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_delete)(c({id:t.constitute_id}))}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_get)(d(t),t)}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_post)("/api/components/resource",t)}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_delete)(d({id:t.constitute_id}))}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.request_delete)(f(t),t)}},993:function(t,e,n){"use strict";n.r(e);var a=n(1102),i=n(468);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(1008);var o=n(0),s=Object(o.a)(i.default,a.a,a.b,!1,null,"5db28e74",null);s.options.__file="knowledge.vue",e.default=s.exports},994:function(t,e,n){"use strict";n.r(e);var a=n(1109),i=n(470);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(995);var o=n(0),s=Object(o.a)(i.default,a.a,a.b,!1,null,"98be64ce",null);s.options.__file="anchorList.vue",e.default=s.exports},995:function(t,e,n){"use strict";var a=n(472);n.n(a).a},996:function(t,e,n){"use strict";n.r(e);var a=n(1107),i=n(473);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n(998);var o=n(0),s=Object(o.a)(i.default,a.a,a.b,!1,null,"566ff7c8",null);s.options.__file="Reader.vue",e.default=s.exports},997:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],a=!0,i=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};e.get_book=function(t,e){var n=t.bookId,a=e.extraParams;return(0,r.request_post)(o+"/reader/books",i({book_id:n},a)).then(function(t){var e=t.data;return e})},e.get_catalogs=function(t,e){var n=t.bookId,a=t.chapterId,s=e.extraParams;return(0,r.request_post)(o+"/reader/catalogs",i({book_id:n,catalog_pid:a},s)).then(function(t){var e=t.data;return e})},e.get_chapters=function(t,e){var n=t.bookId,a=t.chapterIds,s=e.extraParams;return(0,r.request_post)(o+"/reader/chapters",i({chapter_id:a,book_id:n},s)).then(function(t){var e=t.data;return e})},e.search=function(t,e){var n=t.keyword,a=t.bookId,s=t.page,u=t.chapterRid,l=e.extraParams;return(0,r.request_post)(o+"/reader/search",i({keyword:n,book_id:a,chapter_id:u,pageStart:s.start,pageOffset:s.offset},l)).then(function(t){var e=t.data,n=t.page;return{list:e,page:n}})},e.get_labels=function(t,e){var n=t.bookId,a=e.extraParams;return(0,r.request_get)("/api/book_notes",{book_id:n,user_id:a.user_id}).then(function(t){var e=t.data;return e})},e.add_label=function(t,e){var n=t.bookId,a=t.chapterRid,o=t.chapterName,s=t.userText,u=t.rangeJSON,l=t.selectedText,c=t.status,d=e.extraParams;return(0,r.request_post)("/api/book_notes",i({book_id:n,chapter_id:a,chapter_name:o,chapter_value:l,comm_text:s,range:u,protected:c},d)).then(function(t){var e=t.data;return e})},e.get_bookmarks=function(t,e){var n=t.bookId,a=e.extraParams;return(0,r.request_get)("/api/book_marks",{book_id:n,user_id:a.user_id}).then(function(t){var e=t.data;return e})},e.add_bookmark=function(t,e){var n=t.bookId,a=t.chapterRid,o=t.chapterName,s=t.rangeJSON,u=t.text,l=e.extraParams;return(0,r.request_post)("/api/book_marks",i({book_id:n,chapter_id:a,chapter_name:o,chapter_value:u,range:s},l)).then(function(t){var e=t.data;return e})},e.remove_bookmarks=function(t,e){s(t,e)},e.remove_labels=function(t,e){s(t,e)},e.modify_label=function(t,e){e.extraParams;return t.range=JSON.stringify(t.range),t.comm_text=t.userText,delete t.userText,(0,r.request_put)("/api/book_notes",i({},t)).then(function(t){return t.data})},e.backup_setting=function(t){return(0,r.request_post)("/api/user_read_setting",{data:JSON.stringify(t)})},e.restore_setting=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r.request_get)("/api/user_read_setting").then(function(t){var e=a(t.data,1),n=e[0];return n?JSON.parse(n):{}})},e.set_progress=function(t,e){var n=t.bookId,a=(t.chapterRid,t.progressJSON),i=t.percentJSON,o=e.extraParams;return(0,r.request_post)("/api/read_record",{data:a,proportion:i,release_id:o.release_id,book_id:n})},e.get_progress=function(t,e){var n=t.bookId,i=e.extraParams;return(0,r.request_get)("/api/read_record",{book_id:n,release_id:i.release_id}).then(function(t){var e=a(t.data,1),n=e[0];return n})};var r=n(48),o="publish"=="read"?"/api":"/common/api";function s(t,e){var n=t.ids,a=e.extraParams;return(0,r.request_post)("/api/book_exegesis/delete",i({id:n},a)).then(function(t){return t.data})}},998:function(t,e,n){"use strict";var a=n(475);n.n(a).a}}]);