(window.webpackJsonp=window.webpackJsonp||[]).push([[9,36],{1040:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_get)("/api/head_books",t)},e.save=function(t){var e=t.id,i=o(t,["id"]);if(e)return(0,a.request_put)(c({id:e}),i);return(0,a.request_post)("/api/head_books",i)},e.detail=function(t){var e=t.id,i=o(t,["id"]);return(0,a.request_get)(c({id:e}),i)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.request_post)("/api/head_books/delete",t)},e.sort=function(t){var e=t.id,i=o(t,["id"]);return(0,a.request_put)(u({id:e}),i)};var n,a=i(48),s=i(81),r=(n=s)&&n.__esModule?n:{default:n};function o(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}var c=r.default.compile("/api/head_books/:id"),u=r.default.compile("/api/head_books/sort/:id")},1041:function(t,e,i){"use strict";var n=i(539);i.n(n).a},1082:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Nav"),n("div",{staticClass:"content"},[t._m(0),t._l(t.list,function(e,a){return n("div",{staticClass:"list"},[n("div",{staticClass:"item"},[n("el-input",{staticClass:"txtInput",attrs:{disabled:!e.id},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"item.name"}}),n("span",{staticClass:"txt"},[n("a",{class:{decoration:!e.id},attrs:{href:"javascript:"},on:{click:function(i){e.id&&t.update(a)}}},[t._v(t._s(e.id?"修改":"       "))]),n("img",{staticClass:"iconc",attrs:{src:e.img_src}})]),n("span",{staticClass:"txt"},[t._v("顺序 :"),n("span",{staticClass:"color1"},[t._v("( "+t._s(a+1)+" )")])]),e.id?n("span",[1!=a?n("img",{staticClass:"icon up",attrs:{src:i(365),alt:"icon"},on:{click:function(e){t.up(a)}}}):t._e(),a!=t.list.length-1?n("img",{staticClass:"icon down",attrs:{src:i(366),alt:"icon"},on:{click:function(e){t.down(a)}}}):t._e(),n("img",{staticClass:"icon",attrs:{src:i(521),alt:"icon"},on:{click:function(e){t.del(a)}}})]):t._e()],1)])}),n("el-button",{staticClass:"add",attrs:{type:"text"},on:{click:t.add}},[n("img",{attrs:{src:i(522)}})]),n("el-dialog",{staticClass:"dialog",attrs:{title:t.name,visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",[n("el-form",{ref:"ruleForm",attrs:{rules:t.rules,model:t.addlist}},[n("el-form-item",{attrs:{label:"模块",prop:"name"}},[n("el-input",{attrs:{placeholder:"请写点什么..."},model:{value:t.addlist.name,callback:function(e){t.$set(t.addlist,"name",e)},expression:"addlist.name"}})],1),n("el-form-item",{attrs:{prop:"src_img"}},[n("input",{ref:"icon",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){t.previewImg(e)}}}),n("img",{staticClass:"icon",staticStyle:{"max-width":"200px"},attrs:{src:t.src_img}}),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.$refs.icon.click()}}},[t._v(" 上传")])],1),n("p",{staticClass:"imgSize"},[n("span",{staticClass:"bannerSize"},[t._v("建议图片大小:60*60px")])])],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticStyle:{"margin-bottom":"30px"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),n("el-button",{on:{click:function(e){t.submitForm("ruleForm")}}},[t._v(t._s(t.name))])],1)],1)])],2)],1)},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info"},[e("img",{attrs:{src:i(327)}}),e("span",[this._v("系统自动显示前4个书城头部设置，排序4及以上的将会被隐藏。栏目名称限制为2-6个汉字以内。")])])}];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},256:function(t,e,i){"use strict";i.r(e);var n=i(385),a=i(317);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i(383);var r=i(0),o=Object(r.a)(a.default,n.a,n.b,!1,null,"163bb089",null);o.options.__file="index.vue",e.default=o.exports},273:function(t,e,i){"use strict";i.r(e);var n=i(1082),a=i(537);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i(1041);var r=i(0),o=Object(r.a)(a.default,n.a,n.b,!1,null,"7e497260",null);o.options.__file="header.vue",e.default=o.exports},317:function(t,e,i){"use strict";i.r(e);var n=i(318),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e.default=a.a},318:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{navTab:[{txt:"书城头部设置",href:"/wms/bookSettings/header",active:"active"},{txt:"分类设置",href:"/wms/bookSettings/sort",active:""}]}},methods:{handleNavClick:function(t){this.$router.push({path:this.navTab[t].href})},checkSrc:function(){var t=!0,e=!1,i=void 0;try{for(var n,a=this.navTab[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var s=n.value;this.$route.path==s.href?s.active="active":"/wms/bookSettings"==this.$route.path?this.navTab[0].active="active":s.active=""}}catch(t){e=!0,i=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw i}}}},created:function(){this.checkSrc()},watch:{$route:function(){this.checkSrc()}}}},319:function(t,e,i){},327:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGPSURBVDhPhVO/S8NQEL57TwuZhEhpQRAEoVAsOOkg2oxOddLBraODiILiZGgXUVxc/CMsKAj+BwXBtRgMiEInoeAkDoXX865p07RN2sALvLvv7rsf30MY+fLusW1gdhsJ1wkg23UjtQjImwF68Co339EQjF5y7tk+EJTZlhpN3M2DaIjg0V/5vIO9muna+sCce1oFwuIgEH/Y2exVsMCB6dCH0NBgnXiVSluJMWCOBouVnt6rV0dyOPh5qCKCgqG/Q7Ep6blX9hCG2YP+Ez8s5d3zZSUDS+p5cgIAQ2ZHybTjgWhPS8ANrKlwVePocBOEMBefjLIKkfQ0JmaxkjB63tnYYmcmBtDOOMWvtLOZ7WDHicMgQkvx+vyE7HaHTFkOb2QxDiPqVBpNTRQ2CkDAj74OeM0vsSQaa0q0LfKcNodxAqj7F9eNQMr3uzr3tnTLTIUBUKRMr3InwFX+R4XV1GgdsJR/w7eQd91UIE8sTdQfQF2hdSnBght6jWIQeYrCRCR9Vpm2DAy4Zyk7SvAPCiiObi2O17AAAAAASUVORK5CYII="},328:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTask=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];return t.size,t.size>=1048576?(e.is_chunk=!0,(0,n.request_post)("/common/api/files/upload_task?r="+Math.random(5)).then(function(a){if(a.status)return e.task_id=a.data.task_id,(0,n.request_file)("/common/api/files/upload",{file:t,data:e},i);throw new Error(a.messages)}).catch(function(t){throw new Error("上传失败")})):(e.is_chunk=!1,(0,n.request_file)("/common/api/files/upload",{file:t,data:e}))},e.getAppId=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/common/api/app/search_name",t).then(function(t){return a.default.app_id=t.data.id,sessionStorage.app_id=t.data.id,t})},e.getClientToken=function(){return(0,n.request_post)("/common/api/auth/token/pcclient")},e.platInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(o(t)).then(function(t){return a.default.app_id=t.data.id,sessionStorage.app_id=t.data.id,document.title=t.data.name,t})},e.commonPreview=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(u(t))},e.commonPreviewCode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/preview",t)},e.getQrcode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/common/api/get_qrcode",t)},e.synchronization=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(c(t)).then(function(t){return t})},e.getAuthor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/ecommerce/author",t)},e.addAuthor=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/ecommerce/author",t)},e.getWeixinConfig=function(t){return(0,n.request_get)("/common/api/third/wx_js_sdk/config",t)};r(i(50));var n=i(48),a=r(i(51)),s=r(i(81));function r(t){return t&&t.__esModule?t:{default:t}}s.default.compile("/common/api/files/upload_task/:id"),s.default.compile("/common/api/manager/managers/:id"),s.default.compile("/common/api/manager/roles/:id");var o=s.default.compile("/common/api/app/apps/:id"),c=s.default.compile("/common/api/dragon_infos/:id");var u=s.default.compile("/api/preview/:id")},365:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEkSURBVEhLY2AYBcghoFZfJKJeX55ASqgw4VJsX1/PwvSfdTFQXoEqBr78/72egZHBgxTDQGqxulCjvtSHgZGxhlTDsBqoVl+p8f8/43JyDAPpYUTWqFVfz/P3/4/jjIwMOuQYeKOxkxHFy//+/5hPrmEwB8ANVK8vKwG6N4QclyHrARuoWV/hwvCfoZ1Sw+CR8pfhvwQjIyML1Qy81di5BOjCHqoZCDJInJGjkuH//wOUGgqPlIONjX+YGP9FAl36hBJDUdIhyCCN+jKL//8ZDsPC9D8DQ+PNxs4GYi3ByHo3GrtOMDL+zyTWAHR1WPPyjcbuOcDwXECOoTiLr++MnJnA8DxDqqE4DXzY2PjjPyNDKCPD/zekGopXPaigpaqBA24YADNRSiMxf6PpAAAAAElFTkSuQmCC"},366:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAERSURBVEhL7dS9DsFQFAfw/2k6Gg1sRoMH8AAGg5HBZkBSs0UiwWTxBCpBSLyGxMDgMQwGD0CI41SiUVpxb5tYdOly7q/no+cC/+e5A1xHnKuoqHTFCArmDkxmzEBIRQPu0SFCXgVzYn0zvFZRIEZbFfMFpW9pKXOhgzlnyDOEBmJ8xlpKzeiANAR5SuYLxrrYIwEXvNbQlHSLOpk9n7mDXENOXv2wmDsUJiSkVDMy0BhizsAgMvA+7iRagi7Dou5QqIcLmSgLuguDev5DB5ItycrfuXJ7yuiRje63H3lbPWOEjRy2vgVe43x32bAxktInOmjg9UUnWHJ9bVXRYHCKoyxmSTI9qKIf452LNlLw59gNK0U5AOXGWm0AAAAASUVORK5CYII="},383:function(t,e,i){"use strict";var n=i(319);i.n(n).a},385:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"settingsNavTab"},[i("ul",t._l(t.navTab,function(e,n){return i("li",{class:e.active,on:{click:function(e){t.handleNavClick(n)}}},[t._v(t._s(e.txt))])}))]),i("router-view")],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},521:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGcSURBVDhPpVW7SkNBFJyzF6wsxEJBJGhhI0YsLCSNiEWw8hNE1GgjfoL4FYJoZWnhB4hFOgtBCARSBLFSAhLFQoIku87eV655eDfJlmfPzHnNnhX0OXofsxBkeT0FhQnfzeCLtjqaKKsrVHtBpdNoCsgYQZ7gmX7BQnud4Du5QCXpFxOaU+bxhpwx2GAWKoWsfa3wINMkPoO2xjbQkgGbA5FZBo0184qtKIJP6JdpMxv2CFb1EZbiDP2eDVJmr8At5G3bvHCa68MmF+MEY/jGuwqlMTJfKKus6APskHQuEakqLZRdIhgP85TXcgL7KfoQJzQGwuURD9dyjmcXQr2HSXg4Tvoqjv2v5nSgJ5cjzW5f0QXsEpxJpF2i2p9cCKnbBVaXi335NG3J2zSuuBCk+hi8KPvQUx1dHYRLI9wadVfMP34N+UDJH4jdGiMTahTlBj8BoV1B3BojkFbUZYCPJcMVdM/hPA5BWmGptxGua8H6W4MPnX0YTyFvUIXFKLO+hPbCbg1TwyIzDr6A6CXZLwD8AjhNOwDbs86gvxcYdUQqR3YTAAAAAElFTkSuQmCC"},522:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANTSURBVFhHxVdBSBRhFH7v30ySlAohYamDaK5ll4QiRFqwU4cQKi8doluHvAi5Kuk4IuV68OapU1FBdBAEg6BAQeliByl0aG/CQpjRodJMZ57v/etuuzuz7jgr9sMuszPvve/9b977/m8RfK46o7PqEBy5RoC1QBRGhDAgVJKDa3yd5HtJDrXs4NbUF3Ns1U9YLGbUOPSg3rHVbQC6joAVxew5oQ0ieu+E8GliIL6wm31B8GbDqPgNf/rY+WZRwMIG02Ub2PtpZOSHl4kneP1wXzi0uTUOgJESgLUrAXxFUPct8/Hn/Fih/BuR/p5m5TjPATFcKrD48+6OEjk3qqMtK99n5hazY+aAy45TwFC5H8DpGIiouARXTkZb5r/NzElj6pUpe+odr7/0U2oiSCgF74jQToVxouzX5CPhVQc229PTkAGPGLFhv81ll4XaEg8fZXYgif+C9Vlf00D0wRoavSuJKvmScfILLPbZwPL7o2nKrHt2tKsaiJcbjBhXagc8NccHuBA1nhLmEgI5QGhAotazRuy0Esr09a72OTub4JbSXP1fFtViw0D3OM9hWz6+jJNzOHQvv7n2kucZo6taQdkY+1x0+5Gl9OnksWSOSwGWkDLPBDTpmTBhWMp+zOvhPwLZy17dtqjSRJT3jFlUaO9naeGDeXNF1qTsGabKCcPjIMwVLHTKq66zs5xsulqg7EmMDHT38wnmSTKSnRdzWYOjrgaNDHa/YJCaHCAHq3Y5pKaFXpcL7U7PPzeG6+PtUOOy2+V05HN+WYnmEulTSnmD+Do2TSg9Dqy5ggQI7EOwkBgeXdKnmoi9wIECODKpaTwNvqMyp/3GEebKtpWuBmkuX4uspnMX3oppRkyc7+k5/recJvhGbsd6BWRBQAhTaQKRcfKi6HxXmZ4QYPuiGddNnqNeI0ZvE5H9igO5hKWvTRUx4unpWjJH3qTNckBWZ2ZXRGWK2NOibx8XH1RPrKH4s+yQrh2KvBWVyZzfyoYlMZwAaRoFFcsHlmee5RV5eyJ6aRJJNTL7nQpeALL4Hd9ZMuPzXjGK/lfTYo/pV6SP7yR4jmWcpKtfd3TsyGu3d1HwtItoLpE+XMharQGEduVfKpeVr5NyQAllCnMJgfhJdBspdD4fQL9cNAAAAABJRU5ErkJggg=="},537:function(t,e,i){"use strict";i.r(e);var n=i(538),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e.default=a.a},538:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(15)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(1040)),s=i(328),r=o(i(256));function o(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Nav:r.default},data:function(){var t=this;return{list:[],underList:["项目模板","主题模板","普通模板"],value:"",name:"添加",visible:!0,dialogVisible:!1,addlist:{},src_img:"",rules:{name:[{required:!0,message:"模块名不能为空",trigger:"change"},{validator:function(t,e,i){if(!/^[\u4E00-\u9FA5 0-9 A-Z a-z]+$/.test(e))return i("模块名称只能是中文字母或数字");i()},trigger:"change"}],src_img:[{validator:function(e,i,n){if(log(t.src_img,111),!t.src_img)return n("未选择图标");n()},trigger:"change"}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;a.getList().then(function(e){t.list=e.data,log(t.list,111)})},previewImg:function(t){var e=t.target.files[0];this.src_img=URL.createObjectURL(e)},up:function(t){var e=this;a.sort({id:this.list[t].id,status:"up"}).then(function(t){e.getList(),e.$message.success("上移成功")})},down:function(t){var e=this;a.sort({id:this.list[t].id,status:"down"}).then(function(t){e.getList(),e.$message.success("下移成功")})},update:function(t){this.dialogVisible=!0,this.name="修改",this.addlist.id=this.list[t].id,this.addlist.name=this.list[t].name,this.src_img=this.list[t].img_src},del:function(t){var e=this;this.$confirm("你真的要删除吗？").then(function(){a.del({id:e.list[t].id}).then(function(t){e.getList()})})},add:function(){this.dialogVisible=!0,this.name="添加",this.addlist.id="",this.addlist.name="",this.src_img=""},save:function(){var t,e=(t=n.default.mark(function t(){var e,i,r=this;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.icon.files[0],i=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=2,!e){t.next=6;break}return t.next=6,(0,s.getTask)(e).then(function(t){r.addlist.img=t.data.path});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),i.close();case 11:this.dialogVisible=!1,setTimeout(function(){i.close()},500),a.save(this.addlist).then(function(t){r.getList()});case 14:case"end":return t.stop()}},t,this,[[2,8]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function n(a,s){try{var r=e[a](s),o=r.value}catch(t){return void i(t)}if(!r.done)return Promise.resolve(o).then(function(t){n("next",t)},function(t){n("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}(),submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.save()})}}}},539:function(t,e,i){}}]);