(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{249:function(e,t,a){"use strict";a.r(t);var n=a(792),s=a(354);for(var i in s)"default"!==i&&function(e){a.d(t,e,function(){return s[e]})}(i);a(785);var r=a(0),o=Object(r.a)(s.default,n.a,n.b,!1,null,"1a9fda60",null);o.options.__file="index.vue",t.default=o.exports},354:function(e,t,a){"use strict";a.r(t);var n=a(355),s=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);t.default=s.a},355:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(20)),s=a(484),i=(o(a(110)),o(a(485))),r=u(a(486));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}t.default={data:function(){return{seriverTime:"",timmer:null,yesterdayData:"",dialogVisible:!1,runDayData:{days:"",book_num:""},update:{user_value:0,browse_value:0,share_value:0,sale_value:0,sale_bution:0,read_value:0},rules:{user_value:[{required:!0,message:"请填写预期新增用户数",trigger:"change"}],browse_value:[{required:!0,message:"请填写预期PV数",trigger:"change"}],share_value:[{required:!0,message:"请填写预期分享数",trigger:"change"}],sale_value:[{required:!0,message:"请填写预期销售数",trigger:"change"}],sale_bution:[{required:!0,message:"请填写预期分销数",trigger:"change"}],read_value:[{required:!0,message:"请填写预期阅读数",trigger:"change"}]},chooseDate:["2018-06-01","2018-06-30"],chooseDate2:["0","0"],type:"",activeName:"first",color:["#2ca2fa","#1ABFAE","#FFB53C","#E96E5D"],plantInfo:this.$config.plantInfo}},computed:{},created:function(){this.getTotal(),this.getInfo(),this.draw(),this.draw2()},methods:{getInfo:function(){var e,t=(e=n.default.mark(function e(){var t,a,i=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.homeInfo)().then(function(e){i.seriverTime=e.data.now_time,i.time()});case 3:e.next=17;break;case 5:if(e.prev=5,e.t0=e.catch(0),t=e.t0.payload){e.next=10;break}return e.abrupt("return");case 10:e.t1=n.default.keys(t.messages);case 11:if((e.t2=e.t1()).done){e.next=17;break}return a=e.t2.value,this.$message.error(t.messages[a]),e.abrupt("break",17);case 17:case"end":return e.stop()}},e,this,[[0,5]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(s,i){try{var r=t[s](i),o=r.value}catch(e){return void a(e)}if(!r.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})});return function(){return t.apply(this,arguments)}}(),time:function(){var e=this;clearInterval(this.timmer),this.timmer=setInterval(function(){e.seriverTime=e.format()},1e3)},format:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=new Date(Date.parse(this.seriverTime.replace(/-/g,"/"))),t={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds()+1};return e.getSeconds()>=59&&(t.s=0,t.m+=1),e.getMinutes()>=59&&(t.s=0,t.m=0,t.h+=1),t.y+"-"+this.toMax(t.M)+"-"+this.toMax(t.d)+" "+this.toMax(t.h)+":"+this.toMax(t.m)+":"+this.toMax(t.s)},toMax:function(e){return e<10?"0"+e:e},getStyle:function(e){return"X-READ"==e?"Xbook":"WeChat"==e?"weChat":"sina"},getTotal:function(){var e=this;i.statistics().then(function(t){log(t),e.yesterdayData=Object.entries(t.data.yester),e.runDayData=t.data.count,e.yesterdayData.map(function(e){switch(e[0]){case"browse_value":e[0]="昨日访问";break;case"share_value":e[0]="昨日分享";break;case"sale_money":e[0]="昨日销售";break;case"distribute_money":e[0]="昨日分销";break;default:e[0]="未知"}})})},draw:function(e){var t=this;i.expected(this.update).then(function(e){var a={};i.statistics().then(function(e){var n,s,i=void 0;a.expect=Object.values(e.data.Expect),a.month=Object.values(e.data.month),n=Math.max.apply(Math,c(a.expect)),s=Math.max.apply(Math,c(a.month)),i=n>=s?n:s,log(i),setTimeout(function(e){r.default.init(t.$refs.charts).setOption({tooltip:{},legend:{data:["预期","实际"],left:0},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[{name:"新增用户",max:i},{name:"分享数",max:i},{name:"购买次数",max:i},{name:"PV数",max:i},{name:"阅读次数",max:i},{name:"分销次数",max:i}]},series:[{name:"预期 vs 实际",type:"radar",data:[{value:a.expect,name:"预期"},{value:a.month,name:"实际"}]}]})},10)}),t.dialogVisible=!1})},draw2:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browse";this.type=t,i.trend({type:this.type,start_time:this.chooseDate2[0],end_time:this.chooseDate2[1]}).then(function(t){log(t);var a={value:[],date:[],money:[],bution:[]};t.data.forEach(function(e){a.date.push(e.date),a.value.push(e.value)}),setTimeout(function(t){r.default.init(e.$refs.charts2).setOption({xAxis:{type:"category",data:a.date},yAxis:{type:"value"},series:[{data:a.value,type:"line",smooth:!0}]})},10)})},setting:function(){this.dialogVisible=!0}}}},380:function(e,t,a){},484:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.homeInfo=function(){return(0,s.request_get)("/api/home/statistics")},t.sendTemp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)("/api/articles/book_temp/import",e)},t.getTplUrl=function(){return(0,s.request_get)("/api/temp_address")};var n,s=a(77),i=a(78);(n=i)&&n.__esModule},485:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saleInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)("/api/sale_achievement_info",e)},t.saleByDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)("/api/book_sale",e)},t.statistics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)("/api/admin_index",e)},t.expected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_post)("/api/admin_index",e)},t.trend=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.request_get)("/api/admin_type",e)};var n,s=a(77),i=a(78);(n=i)&&n.__esModule},785:function(e,t,a){"use strict";var n=a(380);a.n(n).a},792:function(e,t,a){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mainRight"},[t("div",{staticClass:"headGuide"},[t("div",{staticClass:"logo"}),t("div",{staticClass:"guide"},[t("p",{domProps:{textContent:this._s("服务器当前时间："+this.seriverTime)}})])]),this._m(0)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("ul",[a("li",[a("div",{staticClass:"name"},[a("span",[e._v("数据概览")])]),a("div",{staticClass:"item first"},[a("span",[e._v("全部课程:")]),a("span",[e._v("99")])]),a("div",{staticClass:"item"},[a("span",[e._v("上架中课程:")]),a("span",[e._v("99")])]),a("div",{staticClass:"item"},[a("span",[e._v("个人资源:")]),a("span",[e._v("99")])]),a("div",{staticClass:"item"},[a("span",[e._v("班级数量:")]),a("span",[e._v("99")])]),a("div",{staticClass:"item"},[a("span",[e._v("上架中班级:")]),a("span",[e._v("99")])]),a("div",{staticClass:"item"},[a("span",[e._v("习题数量:")]),a("span",[e._v("20")])])]),a("li",[a("div",{staticClass:"name"},[a("span",[e._v("其他数据")])]),a("div",{staticClass:"item first"},[a("span",[e._v("已阅卷:")]),a("span",[e._v("99")])]),a("div",{staticClass:"item"},[a("span",[e._v("未阅卷:")]),a("span",[e._v("99")])]),a("div",{staticClass:"item"},[a("span",[e._v("已答疑:")]),a("span",[e._v("99")])]),a("div",{staticClass:"item"},[a("span",[e._v("未答疑:")]),a("span",[e._v("99")])])]),a("li",[a("div",{staticClass:"name"},[a("span",[e._v("快捷入口")])]),a("div",{staticClass:"item first"},[a("span",[e._v("课程库:")]),a("span",[e._v("99")])]),a("div",{staticClass:"item"},[a("span",[e._v("习题库:")]),a("span",[e._v("99")])]),a("div",{staticClass:"item"},[a("span",[e._v("阅卷:")]),a("span",[e._v("99")])]),a("div",{staticClass:"item"},[a("span",[e._v("答疑:")]),a("span",[e._v("99")])])])])])}];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})}}]);