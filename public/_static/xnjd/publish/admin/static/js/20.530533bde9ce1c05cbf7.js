(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1074:function(t,e,a){"use strict";var i=a(762);a.n(i).a},1075:function(t,e,a){"use strict";var i=a(763);a.n(i).a},1142:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index clearfix"},[a("Top",{attrs:{currentPlant:"X-PUBLISH"}}),a("Menu",{attrs:{curr:"/digitalProductLibrary/themeLibary"}}),a("div",{staticClass:"mainRight"},[a("div",{staticClass:"contentWrap"},[a("div",{staticClass:"contentLeft"},[a("div",{staticClass:"maindata"},[a("div",{staticClass:"serachWrap"},[a("form",{staticClass:"clearfix",attrs:{id:"mainForm"}},[a("span",{staticClass:"group-inline"},[a("el-input",{attrs:{placeholder:"名称",name:"name",clearable:""}})],1),a("span",{staticClass:"group-inline"},[a("el-input",{attrs:{placeholder:"标签",name:"tag",clearable:""}})],1),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),a("span",{staticClass:"group-inline"},[t.pushType?a("el-select",{attrs:{name:"status",placeholder:"审核状态",clearable:""},model:{value:t.pushType.value,callback:function(e){t.$set(t.pushType,"value",e)},expression:"pushType.value"}},t._l(t.pushType.list,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})):t._e()],1),a("span",{staticClass:"group-inline float-right"},[a("el-button",{attrs:{size:"mediu",type:"primary",icon:"el-icon-search",plain:""},on:{click:t.query}},[t._v("搜索")]),a("el-button",{attrs:{size:"mediu",type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.opneDetailDialog("info")}}},[t._v("新建")])],1)])]),a("div",{staticClass:"tableWrap"},[a("div",{staticClass:"tableTop"},[a("div",{staticClass:"title vel-line"},[a("span",[t._v("全部 "),t.page?a("span",{staticClass:"totalNum"},[t._v("("+t._s(t.page.total)+")")]):t._e()]),a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.audits()}}},[t._v("审核")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.urgentAudit}},[t._v("加急审核")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:t.moveToOther}},[t._v("移动分组")]),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.delChoosen(!1)}}},[t._v("删除")])],1)])]),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{staticClass:"allBtn",staticStyle:{"text-align":"left"}},[a("input",{attrs:{type:"checkbox"},on:{click:t.checkAll}})]),a("th",[t._v("名称")]),a("th",[t._v("主题所含数量")]),a("th",[t._v("标签")]),a("th",[t._v("创建时间")]),a("th",{attrs:{width:"70"}},[t._v("审核状态")]),a("th",{attrs:{width:"70"}},[t._v("发布状态")]),a("th",{staticClass:"time"},[t._v("分发时间")]),a("th",{staticClass:"operate"},[t._v("操作")])])]),t.list?a("tbody",t._l(t.list,function(e){return a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox","data-type":e.status,name:"ids"},domProps:{value:e.id}})]),a("td",[a("img",{staticClass:"cover-photo",attrs:{src:e.img_src}}),a("div",{staticClass:"th-name bookName",attrs:{title:e.name}},[t._v(t._s(e.name))])]),a("td",[t._v(t._s(e.theme_number))]),a("td",{attrs:{title:e.tag}},[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.create_time))]),a("td",{class:t.getColor(e.status)},[t._v(t._s(e.status))]),a("td",[t._v(t._s(e.release_status_name))]),a("td",[t._v(t._s(e.release_time||"-"))]),a("td",[a("div",{staticClass:"btns"},[a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){t.opneDetailDialog("info",e)}}}),1!=e.audits_status?a("span",{staticClass:"icon icon-publish",attrs:{size:"mini",title:"审核",type:"primary",plain:""},on:{click:function(a){t.audits(e.id)}}}):t._e(),"3"==e.audits_status?a("span",{staticClass:"icon icon-fenfa",attrs:{size:"mini",title:"分发",type:"primary",plain:""},on:{click:function(a){t.opnePublishDialog(e)}}}):t._e(),1!=e.audits_status?a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){t.delChoosen(e.id)}}}):t._e()])])])})):t._e()]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),a("div",{staticClass:"gruopList"},[a("GroupList",{attrs:{groupList:t.groupList,currGroup:t.currGroup},on:{addGroup:t.addGroup,updateGroup:t.updateGroup,delGroup:t.delGroup,groupChange:t.groupChange}})],1)])])])]),a("div",{staticClass:"dialogs"},[a("Examine",{attrs:{examineDialog:t.examineDialog},on:{"update:examineDialog":function(e){t.examineDialog=e},saveExamine:t.saveExamine}}),a("el-dialog",{attrs:{center:!1,visible:t.detailDialog,"close-on-click-modal":!1,top:"50px",width:"1100px"},on:{"update:visible":function(e){t.detailDialog=e}}},[a("div",{staticClass:"content",attrs:{slot:"title"},slot:"title"},[t.detailDialog?a("Detail",{attrs:{type:t.detailDialoaType,detailDialog:t.detailDialog,detailData:t.detailData,readOnly:t.readOnly},on:{"update:detailDialog":function(e){t.detailDialog=e},updateList:t.updateList}}):t._e()],1)]),t.publishDialog?a("Dispense",{attrs:{publishDialog:t.publishDialog,item:t.dispenseItem},on:{"update:publishDialog":function(e){t.publishDialog=e},dispenseOk:t.dispenseOk}}):t._e(),a("el-dialog",{attrs:{center:!1,visible:t.moveToOtherDiaolog,"close-on-click-modal":!1,title:"移动分组",width:"500px"},on:{"update:visible":function(e){t.moveToOtherDiaolog=e}}},[a("span",{}),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("移动到")]),a("select",{ref:"moveToId",staticClass:"form-control",attrs:{placeholder:"请选择"}},t._l(t.groupList,function(e,i){return e.id!=t.currGroup?a("option",{domProps:{value:e.id,textContent:t._s(e.name)}}):t._e()}))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.moveToSubmit}},[t._v(" 确定")]),a("el-button",{on:{click:function(e){t.moveToOtherDiaolog=!1}}},[t._v("返回")])],1)])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},1188:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{visible:t.infoDialog,width:"70%",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.infoDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("Info",{attrs:{type:t.infoValue,infoDialog:t.infoDialog,isAuthor:t.isShowAuthor,infoData:t.infoData},on:{infoClick:t.infoHandleClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.infoDialog=!1}}},[t._v("取消")])],1)]),a("el-dialog",{attrs:{center:!1,visible:t.detailAddDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.detailAddDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"添加",name:"detail"}})],1)],1),a("el-form",{staticClass:"addBookForm"},[a("span",{staticClass:"group-inline",staticStyle:{margin:"20px","margin-top":"0"}},[a("el-radio-group",{model:{value:t.currentType,callback:function(e){t.currentType=e},expression:"currentType"}},t._l(t.contentType,function(e){return a("el-radio-button",{key:e.id,attrs:{label:e.value}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"serachWrap"},[a("form",{attrs:{id:"detailSearchForm"}},[a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:"输入名称",name:"name",id:"text"}}),a("span",{staticClass:"clear",on:{click:function(e){t.clear()}}},[t._v("x")])]),a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:"输入标签",name:"tag",id:"text2"}}),a("span",{staticClass:"clear2",on:{click:function(e){t.clear2()}}},[t._v("x")])]),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),a("span",{staticClass:"group-inline"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:t.query}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.addSelection}},[t._v("添加选中")])],1)])]),a("table",{staticClass:"table",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",[a("input",{attrs:{type:"checkbox"},on:{click:function(e){t.checkAll(e,"addBookForm")}}}),a("span",[t._v("全选")])]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",[t._v("创建时间")])])]),t.dataList.length?a("tbody",t._l(t.dataList,function(e,i){return a("tr",[a("td",[a("input",{attrs:{type:"checkbox","data-type":e.status,name:"ids"},domProps:{value:e.id,checked:t.isChecked(e.id)},on:{click:function(a){t.singeCheck(a,e)}}})]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[t._v(t._s(e.create_time))])])})):t._e()]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.detailAddDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addSelection}},[t._v("确定")])],1)],1),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.name,expression:"detail.name"}],staticClass:"form-control",attrs:{vali:"",name:"name",type:"text",disabled:t.readOnly},domProps:{value:t.detail.name},on:{input:function(e){e.target.composing||t.$set(t.detail,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*标签:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.tag,expression:"detail.tag"}],staticClass:"form-control",attrs:{name:"tag",type:"text",disabled:t.readOnly},domProps:{value:t.detail.tag},on:{input:function(e){e.target.composing||t.$set(t.detail,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.abs,expression:"detail.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,name:"abs",type:"text",disabled:t.readOnly},domProps:{value:t.detail.abs},on:{input:function(e){e.target.composing||t.$set(t.detail,"abs",e.target.value)}}}),a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.detail.abs?t.detail.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){t.$refs.fenmian.click()}}},[t._v("上传")])],1),a("div",{staticClass:"group fenmian"},[a("div",{staticClass:"label fenmain"}),t.previewImgUrl?a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl,alt:"暂无图片"}}):t._e(),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){t.previewImg(e)}}}),a("input",{staticClass:"hide",attrs:{name:"img",type:"text"},domProps:{value:t.imgUrl}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：118*160px")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主题构成:")]),t.readOnly?t._e():a("div",{staticClass:"btn-right"},[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.detailTopHandle}},[t._v("置顶")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.detailRemoveHandle()}}},[t._v("移除")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.detailAddHandle()}}},[t._v("添加")])],1)]),a("div",{staticClass:"group"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{width:"55"}},[a("input",{attrs:{type:"checkbox",name:"checkAll"},on:{click:function(e){t.checkAll(e,"detailForm")}}}),a("span",[t._v("全选")])]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",[t._v("创建时间")]),t.readOnly?t._e():a("th",{attrs:{width:"100"}},[t._v("调序")]),a("th",{attrs:{width:"100"}},[t._v("操作")])])]),a("tbody",t._l(t.detail.constitute,function(e,i){return a("tr",[a("td",[a("input",{attrs:{type:"checkbox",name:"ids","data-type":e.type},domProps:{value:e.id}})]),a("td",[a("div",{staticClass:"th-name",attrs:{title:e.name}},[t._v(t._s(e.name))])]),a("td",[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[t._v(t._s(e.create_time))]),t.readOnly?t._e():a("td",[a("i",{staticClass:"el-icon-sort-up el-icon-sort",on:{click:function(a){t.detailSort("up",e.id)}}}),i!=t.detail.constitute.length-1?a("i",{staticClass:"el-icon-sort-down el-icon-sort",on:{click:function(a){t.detailSort("down",e.id)}}}):t._e()]),a("td",[a("span",{staticClass:"icon icon-detail",attrs:{title:"详情",type:"primary",size:"mini",plain:""},on:{click:function(a){t.bookDetailInfo(e,e.type,"info")}}}),a("span",{staticClass:"icon icon-data",attrs:{title:"元数据",type:"primary",size:"mini",plain:""},on:{click:function(a){t.bookDetailInfo(e,e.type,"data")}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{title:"移除","data-id":e.c_id,type:"primary",size:"mini",plain:""},on:{click:function(a){t.detailRemoveHandle([e.c_id||e.id],e.type)}}})])])}))])])])])],1),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitDetail}},[t._v("确定")])],1)]),a("el-tab-pane",{attrs:{label:"元数据",name:"data"}},[a("MetaData",{attrs:{metadata:t.attributes,isShowBtn:!1,readOnly:t.readOnly}}),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitDetail}},[t._v("确定")])],1)],1),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:t.detailData,readOnly:t.readOnly},on:{saveok:function(e){t.$emit("updateList")}}})],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},342:function(t,e,a){"use strict";a.r(e);var i=a(1142),n=a(747);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a(1075);var o=a(0),r=Object(o.a)(n.default,i.a,i.b,!1,null,"f3285b62",null);r.options.__file="index.vue",e.default=r.exports},362:function(t,e,a){"use strict";a.r(e);var i=a(363),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},363:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["groupList","currGroup"],data:function(){return{newGroupDialogOpen:!1,updateGroupDialogOpen:!1,currEditGroup:null}},created:function(){},computed:{},methods:{groupChange:function(t){this.$emit("groupChange",t)},addGroupDialog:function(){},delGroup:function(t){var e=this;this.$confirm("是否删除分组:"+t.name).then(function(a){dir(a),e.$emit("delGroup",t.id)}).catch(function(t){dir(t)})},updateGroupDialog:function(t){this.updateGroupDialogOpen=!0,this.currEditGroup=t},addGroup:function(){if(this.$refs.addGroupForm.valiAll()){var t=document.querySelector("#addGroupForm");this.$emit("addGroup",t),this.newGroupDialogOpen=!1}},updateGroup:function(){if(this.$refs.updateGroupForm.valiAll()){var t=document.querySelector("#updateGroupForm");this.$emit("updateGroup",t),this.updateGroupDialogOpen=!1}}}}},364:function(t,e,a){},365:function(t,e,a){"use strict";a.r(e);var i=a(370),n=a(362);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a(366);var o=a(0),r=Object(o.a)(n.default,i.a,i.b,!1,null,"176cd962",null);r.options.__file="GroupList.vue",e.default=r.exports},366:function(t,e,a){"use strict";var i=a(364);a.n(i).a},367:function(t,e,a){"use strict";a.r(e);var i=a(368),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},368:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(122),n=a(123);e.default={mixins:[i.getIconStyle],props:{publishDialog:{type:Boolean,default:!1},item:{type:Object,default:{}},is_release:Boolean},data:function(){return{list:null,coverDialog:!1,choiceDialog:!1,currentItem:null,currentVersion:null}},created:function(){this.getList()},methods:{getList:function(){var t=this;(0,n.getDispense)({entity_type:this.item.type_number||this.item.type,id:this.item.id}).then(function(e){t.list=e.data}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},colse:function(){this.$emit("update:publishDialog",!1)},save:function(){var t=[];this.$refs.dispense.querySelectorAll("input[type=checkbox]:checked").forEach(function(e){t.push(e.value)}),t.length?this.$emit("dispenseSave",t):this.$message.error("请选择你要发布的平台")},pushTime:function(t){return t?"最近"+t+"发布过":"最近暂无分发"},push:function(t){var e=this;this.currentItem=t,this.is_release&&t.release_msg.length?this.$confirm("信息不全是否分发?").then(function(a){t.version?e.coverDialog=!0:e.dispense()},function(t){var e=t.payload;log(e.message)}).catch(function(t){log("cancel")}):t.version&&t.version.length?this.coverDialog=!0:this.dispense()},dispense:function(t,e){var a=this;(0,n.dispense)({platform_id:this.currentItem.id,audits_id:this.item.audits_id,is_cover:t,version_id:e}).then(function(t){a.$message.success("分发提交成功,请稍后查看结果!"),a.$emit("dispenseOk")}).catch(function(t){var e=t.payload;for(var i in e.messages){a.$message.error(e.messages[i]);break}})},getdefect:function(t){return"缺失字段: "+t.release_msg.join("/")},getBtnName:function(t){return this.is_release&&!t.is_release?"缺少关键信息不能分发":t.release_msg&&t.release_msg.length?"确认分发":"分发"},coverDispense:function(){var t=this;if(!this.currentVersion)return this.$message.warning("请选择你要覆盖的版本号!");var e=this.currentItem.version.find(function(e){return e.xread_book_id===t.currentVersion}).version_id;this.dispense(this.currentVersion,e)}}}},369:function(t,e,a){},370:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("div",{staticClass:"groupWrap"},[a("div",{staticClass:"list"},[a("ul",t._l(t.groupList,function(e){return a("li",{staticClass:"licontent",class:{red:e.id==t.currGroup}},[a("div",{staticClass:"name ellipsis",attrs:{title:e.name+"("+e.num+")"},on:{click:function(a){t.groupChange(e.id)}}},[a("span",{staticClass:"title"},[t._v(t._s(e.name))]),a("span",[t._v(t._s("("+e.num+")"))])]),""!=e.id&&"non"!=e.id?a("div",{staticClass:"btns"},[a("span",{on:{click:function(a){t.updateGroupDialog(e)}}},[a("i",{staticClass:"el-icon-edit"})]),a("span",{on:{click:function(a){t.delGroup(e)}}},[a("i",{staticClass:"el-icon-delete"})])]):t._e()])}))]),a("div",{staticClass:"addGroupBtnWrap"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.newGroupDialogOpen=!0}}},[a("i",{staticClass:"el-icon-plus"},[t._v("新建分组")])])],1)]),a("div",{staticClass:"dialogs"},[t.newGroupDialogOpen?a("el-dialog",{attrs:{title:"新增",visible:t.newGroupDialogOpen,width:"500px"},on:{"update:visible":function(e){t.newGroupDialogOpen=e}}},[a("div",{staticClass:"formWrap"},[a("VaForm",{ref:"addGroupForm"},[a("form",{attrs:{id:"addGroupForm"}},[a("div",{staticClass:"group"},[a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"}})])])])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.newGroupDialogOpen=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addGroup}},[t._v("确定")])],1)]):t._e(),t.updateGroupDialogOpen?a("el-dialog",{attrs:{title:"修改",visible:t.updateGroupDialogOpen,width:"500px"},on:{"update:visible":function(e){t.updateGroupDialogOpen=e}}},[a("div",{staticClass:"formWrap"},[a("VaForm",{ref:"updateGroupForm"},[t.currEditGroup?a("form",{attrs:{id:"updateGroupForm"}},[a("div",{staticClass:"group"},[a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"}],staticClass:"form-control",attrs:{name:"name"},domProps:{value:t.currEditGroup.name}}),a("input",{staticClass:"hide",attrs:{name:"id"},domProps:{value:t.currEditGroup.id}})])]):t._e()])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.updateGroupDialogOpen=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.updateGroup}},[t._v("确定")])],1)]):t._e()],1)])},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},376:function(t,e,a){"use strict";a.r(e);var i=a(378),n=a(367);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a(377);var o=a(0),r=Object(o.a)(n.default,i.a,i.b,!1,null,"1fd5a38b",null);r.options.__file="Dispense.vue",e.default=r.exports},377:function(t,e,a){"use strict";var i=a(369);a.n(i).a},378:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{center:!1,visible:t.coverDialog,top:"50px",width:"500px","show-close":!1,title:"x-read系统中已有该产品，选择你的操作"}},[a("div",{staticClass:"coverContent"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.choiceDialog=!0}}},[t._v("覆盖原有产品")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dispense()}}},[t._v("创建新的产品版本")])],1),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.coverDialog=!1}}},[t._v("取消")])],1)]),t.choiceDialog?a("el-dialog",{attrs:{center:!1,visible:t.choiceDialog,top:"50px",width:"500px","show-close":!1,title:"选择版本号"}},[a("div",{staticClass:"coverContent"},[a("el-radio-group",{model:{value:t.currentVersion,callback:function(e){t.currentVersion=e},expression:"currentVersion"}},t._l(t.currentItem.version,function(e){return a("el-radio",{key:e.xread_book_id,attrs:{label:e.xread_book_id}},[t._v(t._s(e.version_id))])}))],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.coverDispense}},[t._v("确定")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.choiceDialog=!1}}},[t._v("取消")])],1)]):t._e(),a("el-dialog",{attrs:{center:!1,visible:t.publishDialog,top:"50px",width:"1000px","show-close":!1}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"分发",name:"ff"}})],1)],1),a("ul",{ref:"dispense",staticClass:"content modular"},t._l(t.list,function(e){return a("li",[a("div",{staticClass:"icon"},[a("div",{class:t.getStyle(e.type)}),a("span",{domProps:{textContent:t._s(e.name)}})]),a("ul",{staticClass:"defect"},[e.release_msg&&!e.release_msg.length?a("li",{staticClass:"pass"},[t._v("可正常分发")]):t._e(),e.release_msg&&e.release_msg.length?a("li",{domProps:{textContent:t._s(t.getdefect(e))}}):t._e()]),a("el-button",{attrs:{type:!t.is_release||e.is_release?"primary":"info",size:"mini",plain:""},domProps:{textContent:t._s(t.getBtnName(e))},on:{click:function(a){(!t.is_release||e.is_release)&&t.push(e)}}})],1)})),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")])],1)])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},386:function(t,e,a){"use strict";a.r(e);var i=a(387),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},387:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(156),n(a(82)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);e.default=t}(a(408));var i=n(a(407));function n(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","infoData","infoDialog","isAuthor"],data:function(){return{readerDialog:!1,readerId:null}},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{handleClick:function(t,e){this.$emit("infoClick",t)},openReader:function(t){log(t),this.readerId=t.b_id,this.readerDialog=!0}},components:{Reader:i.default}}},388:function(t,e,a){},430:function(t,e,a){"use strict";a.r(e);var i=a(480),n=a(386);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a(478);var o=a(0),r=Object(o.a)(n.default,i.a,i.b,!1,null,"1f2d0f19",null);r.options.__file="info.vue",e.default=r.exports},478:function(t,e,a){"use strict";var i=a(388);a.n(i).a},480:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("div",{staticClass:"dialogs"},[t.readerDialog?a("Reader",{attrs:{readerDialog:t.readerDialog,readerId:t.readerId,version:"draft"},on:{"update:readerDialog":function(e){t.readerDialog=e}}}):t._e()],1),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("div",{staticClass:"div"},[a("form",{ref:"infoForm",staticClass:"infoForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("span",{staticClass:"types"},[a("span",[t._v(" "+t._s(t.infoData.type_name))]),a("span",[t._v(" 创建时间: "+t._s(t.infoData.create_time))])])]),t.isAuthor?t._e():a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.author},on:{input:function(e){e.target.composing||t.$set(t.infoData,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.tag},on:{input:function(e){e.target.composing||t.$set(t.infoData,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("详情:")]),1==t.infoData.type?a("el-button",{attrs:{title:"预览",size:"mini",type:"primary",plain:""},on:{click:function(e){t.openReader(t.infoData)}}},[t._v("预览")]):t._e()],1),t.detailType&&3!=t.infoData.type?a("div",{staticClass:"group wailianinput"},[a("div",{staticClass:"label"}),a("span",[a("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.infoData.preview}})])]):t._e(),t.hassVideo||4==t.infoData.type?a("div",{staticClass:"group detailmain wailian"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[t.hassVideo?a("video",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),4==t.infoData.type?a("audio",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),a("span",{staticClass:"msg"},[a("div",{staticClass:"type"},[t._v("格式:"),a("span",{staticClass:"val",domProps:{textContent:t._s(t.infoData.format)}})]),a("div",{staticClass:"size"},[t._v("大小:"),a("span",{staticClass:"val",domProps:{textContent:t._s((t.infoData.size/1024).toFixed(2)+"KB")}})])])])]):t._e(),a("div",{staticClass:"group detailmain"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[a("img",{staticClass:"coverImg",attrs:{src:t.infoData.img_src||t.infoData.img}}),3==t.infoData.type?a("img",{staticClass:"coverImg",attrs:{src:t.infoData.preview}}):t._e()])]),10==t.infoData.type?a("div",{staticClass:"group"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("作者")]),a("th",[t._v("发布时间")])])]),a("tbody",t._l(t.infoData.constitute,function(e,i){return a("tr",[a("td",{domProps:{textContent:t._s(e.name)}}),a("td",{domProps:{textContent:t._s(e.tag)}}),a("td",{domProps:{textContent:t._s(e.author)}}),a("td",{domProps:{textContent:t._s(e.create_time)}})])}))])]):t._e()])])]),a("el-tab-pane",{attrs:{label:"元数据",name:"data"}},[a("div",{staticClass:"meta"},t._l(t.infoData.attributes,function(e,i){return t.infoData?a("div",{staticClass:"group rowWrap"},[a("div",{staticClass:"label",domProps:{textContent:t._s(i+1)}}),a("span",{staticClass:"form-control left",domProps:{textContent:t._s(e.key)}}),a("span",{staticClass:"form-control right",domProps:{textContent:t._s(e.value)}})]):t._e()}))])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},747:function(t,e,a){"use strict";a.r(e);var i=a(748),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},748:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},s=h(a(82)),o=h(a(155)),r=h(a(154)),l=h(a(376)),c=h(a(365)),u=h(a(954)),d=a(390),p=m(d),f=m(d),v=(a(123),a(122));function m(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[v.main],components:{Menu:o.default,Top:r.default,GroupList:c.default,Detail:u.default,Dispense:l.default},data:function(){return{services:f,list:null,page:null,querys:null,groupList:null,detailDialog:!1,detailDialoaType:"info",detailData:null,publishDialog:!1,dispenseItem:null,moveToOtherDiaolog:!1,moveIds:null,toId:null,pushType:{list:[{name:"已通过",value:"3"},{name:"待审核",value:"1"},{name:"未通过",value:"2"},{name:"未审核",value:"0"}],value:""},themeType:{value:"",list:["混合主题","阅读主题","视频主题","音频主题"]},publishList:null,currGroup:""}},methods:{getList:function(){var t,e=(t=i.default.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.ListTheme(n({pageNum:e,pageOffset:s},o,{group_id:this.currGroup,status:this.pushType.value})).then(function(t){a.list=t.data,a.page=t.page});case 2:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,s){try{var o=e[n](s),r=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})});return function(){return e.apply(this,arguments)}}(),urgentAudit:function(){var t=this,e=[],a=Array.from(document.querySelectorAll("input[name='ids']:checked"));return log(a),a.length?(a.forEach(function(t){"待审核"==t.getAttribute("data-type")&&e.push(t.value)}),e.length?void p.detailUrgent({id:e}).then(function(e){t.$message.success("加急成功!"),t.getGroupList()}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}}):this.$message.error("加急审核只对待审核有效！")):this.$message.error("请勾选你要加急的内容！")},opnePublishDialog:function(t){this.publishDialog=!0,this.dispenseItem=t},dispenseSave:function(t){var e=this;p.detailDistribute({id:t}).then(function(t){e.$message.success("分发成功"),e.getList()}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}})},updateList:function(){this.getList(),this.getGroupList()},delChoosens:function(t){var e=this,a=[];if(t)a.push(t);else{var i=Array.from(document.querySelectorAll('input[name="ids"]:checked'));if(i.forEach(function(t){a.push(t.value)}),!i.length)return void this.$message.error("请先选中!")}a.length>0&&this.$confirm("是否删除?").then(function(t){var i=(0,s.default)(document.querySelector("#mainForm"),{hash:!0});e.services.del({id:a}).then(function(t){e.getList(e.page.num,e.page.offset,i),e.getGroupList()}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}})}).catch(function(t){})},clear:function(){document.getElementById("text").value=""},clear2:function(){document.getElementById("text2").value=""}}}},749:function(t,e,a){"use strict";a.r(e);var i=a(750),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},750:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},s=d(a(158)),o=(a(484),a(27)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(390)),l=d(a(82)),c=d(a(402)),u=d(a(430));function d(t){return t&&t.__esModule?t:{default:t}}function p(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,s){try{var o=e[n](s),r=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}function f(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={props:["type","detailData","detailDialog","readOnly"],data:function(){return{Knowledge:{},detail:{type:"混合主题",constitute:[]},page:null,attributes:[],previewImgUrl:null,imgUrl:null,detailAddDialog:!1,infoDialog:!1,infoData:{},dataList:{},searchValue:null,infoValue:"info",themeType:{value:"",list:["混合主题","阅读主题","视频主题","音频主题"]},contentType:[{name:"数字图书",value:"book"},{name:"3D内容",value:"3d"},{name:"音频",value:"audio"},{name:"视频",value:"video"},{name:"AR和VR内容",value:"ar"}],currentType:"book",isShowAuthor:!1,chocesArray:[]}},created:function(){if(this.detailData.id)switch(this.type){case"info":case"data":this.getDetail();default:this.getDetail()}else log("进入新建")},mounted:function(){this.$nextTick(function(){Array.from(document.querySelectorAll("input[type=text]")).forEach(function(t){t.autocomplete="off"})})},methods:{getDetail:function(){var t=this;r.detailTheme({id:this.detailData.id}).then(function(e){t.detail=e.data,t.previewImgUrl=e.data.img_src,t.imgUrl=e.data.path,t.attributes=e.data.attributes,t.detail.img=e.data.path,t.detail.constitute=e.data.constitute,t.chocesArray=[].concat(f(e.data.constitute))})},handleClick:function(t,e){t.name},addattributes:function(){this.attributes.push({name:"",value:""})},delattributes:function(t){this.attributes.splice(t,1)},submitDetail:function(){var t=p(i.default.mark(function t(){var e,a,n,s,l=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(e=this.$refs.fenmian.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,!e){t.next=10;break}return t.next=10,(0,o.getTask)(e).then(function(t){l.detail.img=t.data.path});case 10:if(this.detail.attributes=this.attributes,!this.detail.id){t.next=16;break}return t.next=14,r.modifyTheme(this.detail).then(function(t){l.$emit("updateList")});case 14:t.next=18;break;case 16:return t.next=18,r.addTheme(this.detail).then(function(t){l.$emit("updateList")});case 18:this.$nextTick(function(){a.close(),l.$emit("update:detailDialog",!1)}),t.next=32;break;case 21:t.prev=21,t.t0=t.catch(6),n=t.t0.payload,a.close(),t.t1=i.default.keys(n.messages);case 26:if((t.t2=t.t1()).done){t.next=32;break}return s=t.t2.value,this.$message.error(n.messages[s]),t.abrupt("break",32);case 32:case"end":return t.stop()}},t,this,[[6,21]])}));return function(){return t.apply(this,arguments)}}(),previewImg:function(t){var e=t.target.files[0];this.previewImgUrl=URL.createObjectURL(e)},detailTopHandle:function(){var t=this;log(this.detail.constitute);var e=[],a=document.querySelector(".detailForm");if(a.querySelectorAll("[name='ids']:checked").forEach(function(t){e.push(t.value)}),!e.length)return this.$message.error("请确认你要置顶的内容！");for(var i=function(a){var i=t.detail.constitute.findIndex(function(t){return t.id==e[a]}),n=t.detail.constitute[i];t.detail.constitute.splice(i,1),t.detail.constitute.unshift(n)},n=e.length-1;n>=0;n--)i(n);a.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailRemoveHandle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],i={},n=this.$refs.detailForm.$el,s=n.querySelectorAll("[name='ids']:checked");if(e.length?i[e]=a:s.forEach(function(t){i[t.value]=t.getAttribute("data-type"),e.push(t.value)}),!e.length)return this.$message.error("请确认你要移除的内容！");e.forEach(function(e){var a=t.detail.constitute.findIndex(function(t){return t.c_id==e||t.id==e}),i=t.chocesArray.findIndex(function(t){return t.c_id==e||t.id==e});a>-1&&t.detail.constitute.splice(a,1),i>-1&&t.chocesArray.splice(a,1)}),n.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailAddHandle:function(){var t=p(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return log(this.detail.constitute),t.next=3,this.getAddList();case 3:this.detailAddDialog=!0;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getAddList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments[2],s=n({pageNum:t,pageOffset:a},i,{type:this.currentType||this.contentType[0].value});r._themeAdd(s).then(function(t){e.dataList=t.data,e.page=t.page})},detailSort:function(t,e){var a=this.detail.constitute.findIndex(function(t){return t.id==e}),i="up"==t?-1:1,n=this.detail.constitute;n.splice.apply(n,[a,1].concat(f(n.splice(a+i,1,n[a]))))},checkAll:function(t,e){var a=this;document.querySelector("."+e).querySelectorAll('input[name="ids"]').forEach(function(i,s){if("addBookForm"==e){var o=a.chocesArray.findIndex(function(t){return t.id==i.value||t.b_id==i.value});t.target.checked?-1==o&&a.chocesArray.push(n({},a.dataList.find(function(t){return t.id==i.value}),{action:"add"})):a.chocesArray.splice(o,1)}i.checked=t.target.checked})},singeCheck:function(t,e){var a=this.chocesArray.findIndex(function(t){return t.id==e.id||t.b_id==e.id});t.target.checked?-1==a&&this.chocesArray.push(e):this.chocesArray.splice(a,1)},bookDetailInfo:function(t,e,a){var i=this;log("1"==e),this.isShowAuthor="1"!=e;var n=t.id,s=t.c_id;r._themeDetail({c_id:s,id:n,type:e}).then(function(t){i.infoData=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},query:function(){var t=(0,l.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(1,this.page.offset,t)},addSelection:function(){this.detail.constitute=[].concat(f(this.chocesArray)),this.detailAddDialog=!1},isChecked:function(t){return!!this.chocesArray.find(function(e){return e.id===t||e.b_id===t})},handleSizeChange:function(t){var e=(0,l.default)(document.querySelector("#mainForm"),{hash:!0});this.getAddList(1,t,e)},handleCurrentChange:function(t){var e=(0,l.default)(document.querySelector("#mainForm"),{hash:!0});this.getAddList(t,this.page.offset,e)},infoHandleClick:function(t){this.infoValue=t.name},clear:function(){document.getElementById("text").value=""},clear2:function(){document.getElementById("text2").value=""}},components:{VaForm:s.default,Knowledge:c.default,Info:u.default},watch:{currentType:function(t){this.getAddList()}}}},762:function(t,e,a){},763:function(t,e,a){},954:function(t,e,a){"use strict";a.r(e);var i=a(1188),n=a(749);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a(1074);var o=a(0),r=Object(o.a)(n.default,i.a,i.b,!1,null,"47f8f542",null);r.options.__file="detail.vue",e.default=r.exports}}]);