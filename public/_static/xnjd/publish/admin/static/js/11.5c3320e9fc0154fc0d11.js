(window.webpackJsonp=window.webpackJsonp||[]).push([[11,7,8],{1143:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"indexs"},[a("Top",{attrs:{currentPlant:"X-PUBLISH"}}),a("Menu",{attrs:{curr:"/publishCheck"}}),a("div",{staticClass:"mainRight"},[a("div",{staticClass:"maindata"},[a("div",{staticClass:"serachWrap"},[a("form",{attrs:{id:"mainForm"}},[a("span",{staticClass:"group-inline"},[a("el-input",{attrs:{placeholder:"名称",name:"name",clearable:""}})],1),a("span",{staticClass:"group-inline"},[a("el-input",{attrs:{placeholder:"标签",name:"tag",clearable:""}})],1),a("span",{staticClass:"group-inline"},[a("el-input",{attrs:{placeholder:"审核提交人",name:"submit",clearable:""}})],1),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),a("span",{staticClass:"group-inline"},[t.roleInfo.roleList?a("el-select",{attrs:{name:"type",placeholder:"选择类型",clearable:""},model:{value:t.roleInfo.value,callback:function(e){t.$set(t.roleInfo,"value",e)},expression:"roleInfo.value"}},t._l(t.roleInfo.roleList,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})):t._e()],1),a("span",{staticClass:"group-inline right"},[a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-search"},on:{click:t.seareHandeler}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.handeler("pass")}}},[t._v("审核通过")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handeler("reject")}}},[t._v("审核驳回")])],1)])]),a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{staticClass:"allBtn"},[a("input",{attrs:{type:"checkbox",name:"AllCheckbox"},on:{click:t.selcetAll}})]),a("th",[t._v("名称")]),a("th",[t._v("产品类型")]),a("th",[t._v("标签")]),a("th",[t._v("说明")]),a("th",[t._v("审核提交时间")]),a("th",[t._v("审核提交人")]),a("th",{attrs:{width:"100"}},[t._v("操作")])])]),t.pageList.length?a("tbody",t._l(t.pageList,function(e){return a("tr",[a("td",[a("input",{attrs:{type:"checkbox",name:"checkbox"},domProps:{value:e.id}})]),a("td",[a("img",{staticClass:"cover-photo",attrs:{src:e.img_src}}),a("span",{staticClass:"bookName",attrs:{title:e.name},domProps:{textContent:t._s(e.name)}})]),a("td",{domProps:{textContent:t._s(e.type_name)}}),a("td",{attrs:{title:e.tag},domProps:{textContent:t._s(e.tag)}}),a("td",{domProps:{textContent:t._s(e.purpose)}}),a("td",{domProps:{textContent:t._s(e.create_time)}}),a("td",{domProps:{textContent:t._s(e.manager_name)}}),a("td",[a("span",{staticClass:"icon icon-detail",attrs:{type:"primary",title:"详情",plain:"",size:"mini"},on:{click:function(a){t.showDetail(e)}}}),a("span",{staticClass:"icon icon-pass",attrs:{type:"primary",title:"通过",plain:"",size:"mini"},on:{click:function(a){t.handeler("pass",[e.id])}}}),a("span",{staticClass:"icon icon-reject",attrs:{type:"primary",title:"驳回",plain:"",size:"mini"},on:{click:function(a){t.handeler("reject",[e.id])}}})])])})):t._e()])]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),t.detailVisible?a("Detail",{attrs:{detailVisible:t.detailVisible,defaultData:t.detailData,type:t.productType,detailValue:t.detailValue,detailType:t.detailType},on:{"update:detailVisible":function(e){t.detailVisible=e}}}):t._e()],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},341:function(t,e,a){"use strict";a.r(e);var i=a(1143),n=a(733);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(953);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"576a18c6",null);o.options.__file="index.vue",e.default=o.exports},371:function(t,e,a){"use strict";a.r(e);var i=a(372),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},372:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=a(379),s=o(a(82));function o(t){return t&&t.__esModule?t:{default:t}}function l(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={props:{resourceDialog:{type:Boolean,default:!1},singleElection:{type:Boolean,default:!0},type:{type:String,default:"1"},curSoucesList:{type:Array,default:[]},isShowType:{type:Boolean,default:!1},isShowSearch:Boolean,isShowResource:Boolean,isDebris:{default:!1},parameter:Object},data:function(){return{dataList:[],page:null,currentType:null,contentType:[{name:"电子书",value:"1"},{name:"图片",value:"3"},{name:"音频",value:"4"},{name:"视频",value:"5"},{name:"3D内容",value:"6"},{name:"VR",value:"7"},{name:"AR",value:"8"}],query:{}}},created:function(){this.currentType=this.type||"1",this.isShowResource&&this.contentType.push({name:"共享资源",value:"22"}),this.type.includes("20")&&(this.contentType=[{name:"权威案例",value:"20-1"},{name:"法律法规",value:"20-2"},{name:"法律观点",value:"20-3"},{name:"裁判文书",value:"20-4"}])},methods:{getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10;(0,r._addBooks)(n({pageNum:e,pageOffset:a,type:this.currentType||this.type},this.parameter,this.query)).then(function(e){t.dataList=e.data||[],t.page=e.page})},colse:function(){this.$emit("update:resourceDialog",!1)},save:function(){var t=[];this.$refs.dispense.querySelectorAll("input[type=checkbox]:checked").forEach(function(e){t.push(e.value)}),t.length?this.$emit("dispenseSave",t):this.$message.error("请选择你要发布的平台")},search:function(){this.query=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0}),this.getList(1,this.page.offset)},addSelection:function(){var t,e=(t=i.default.mark(function t(){var e,a,r,s,o,u,c,d,f,p=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.querySelector(".addBookForm"),a=e.querySelectorAll('input[name="ids"]:checked'),r=[],a.length){t.next=5;break}return t.abrupt("return",this.$message.warning("请选择添加内容"));case 5:s=!0,o=!1,u=void 0,t.prev=8,c=function(){var t=f.value;if(p.curSoucesList.findIndex(function(e){return e.id==t.value})>-1)return"continue";r.push(n({},p.dataList.find(function(e){return e.id==t.value}),{action:"add"}))},d=a[Symbol.iterator]();case 11:if(s=(f=d.next()).done){t.next=18;break}if("continue"!==c()){t.next=15;break}return t.abrupt("continue",15);case 15:s=!0,t.next=11;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(8),o=!0,u=t.t0;case 24:t.prev=24,t.prev=25,!s&&d.return&&d.return();case 27:if(t.prev=27,!o){t.next=30;break}throw u;case 30:return t.finish(27);case 31:return t.finish(24);case 32:this.$emit("select",[].concat(r,l(this.curSoucesList)));case 33:case"end":return t.stop()}},t,this,[[8,20,24,32],[25,,27,31]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}(),checkAll:function(t,e){var a=this;document.querySelector("."+e).querySelectorAll('input[name="ids"]').forEach(function(e,i){var r=a.curSoucesList.findIndex(function(t){return t.id==e.value||t.b_id==e.value});t.target.checked?-1==r&&a.curSoucesList.push(n({},a.dataList.find(function(t){return t.id==e.value}),{action:"add"})):a.curSoucesList.splice(r,1),e.checked=t.target.checked})},uncheckedAll:function(t,e){var a=this.curSoucesList.findIndex(function(t){return t.id==e.id||t.b_id==e.id});t.target.checked?-1==a&&this.curSoucesList.push(e):this.curSoucesList.splice(a,1),this.singleElection||(this.$refs.ids.forEach(function(t){return t.checked=!1}),t.target.checked=!0)},isChecked:function(t){return this.curSoucesList.findIndex(function(e){return e.id===t||e.b_id===t})>-1},handleSizeChange:function(t){this.query=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0}),this.getList(1,t)},handleCurrentChange:function(t){this.query=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0}),this.getList(t,this.page.offset)}},watch:{currentType:function(t){this.getList()}}}},373:function(t,e,a){},374:function(t,e,a){"use strict";a.r(e);var i=a(392),n=a(371);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(389);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"8d4001a2",null);o.options.__file="Resource.vue",e.default=o.exports},375:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(t){var e=t.type,a=t.id,i=t.resource_type;if("book"==e)return h({id:a});if("video"==e)return b({id:a});if("resource"==e)return C({id:a,resource_type:i})},e.del=function(t){var e=t.type,a=o(t,["type"]);if("book"==e)return g(a);if("video"==e)return y(a);if("resource"==e)return x(a);if("audio"==e)return k(a)},e.add=function(t){var e=t.type,a=o(t,["type"]);if("book"==e)return g(a);if("video"==e)return _(a);if("resource"==e)return D(a)},e.check=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(v(t))},e.bookList=h,e.bookInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(l(t))},e.bookDel=g,e.bookSave=function(t){var e=t.id,a=o(t,["id"]);if(e)return(0,n.request_put)(l({id:e}),a);return(0,n.request_post)("/api/components_paper",a)},e.videoList=b,e.videoAdd=_,e.videoDel=y,e.resourceList=C,e.resourceAdd=D,e.resourceDel=x,e.groupList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(f(t),t)},e.groupSave=function(t){var e=t.id,a=o(t,["id"]);if(e)return(0,n.request_put)(p({id:e}),a);return(0,n.request_post)("/api/components_groups",a)},e.groupDetail=function(t){var e=t.id;return(0,n.request_get)(p({id:e}))},e.audioDel=k,e.saveEBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.current_id)return(0,n.request_put)(m({id:t.current_id}),t);return(0,n.request_post)("/api/components_ebooks",t)},e.getEBook=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(m(t))};var i,n=a(4),r=a(8),s=(i=r)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}var l=s.default.compile("/api/components_paper/:id"),u=s.default.compile("/api/components_paper/:id/list"),c=s.default.compile("/api/components/:id/video"),d=s.default.compile("/api/components/:id/resource"),f=s.default.compile("/api/components_groups/:id/list"),p=s.default.compile("/api/components_groups/:id"),v=s.default.compile("/api/components_paper/:id/check"),m=s.default.compile("/api/components_ebooks/:id");function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(u(t))}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_delete)(l(t))}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(c(t))}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/components/video",t)}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_delete)(c({id:t.constitute_id}))}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(d(t),t)}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/components/resource",t)}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_delete)(d({id:t.constitute_id}))}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_delete)(p(t),t)}},380:function(t,e,a){"use strict";a.r(e);var i=a(381),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},381:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["infoData","mediaType","infoDialog"],data:function(){return{metadata:this.infoData.attributes||[]}},computed:{hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{detailType:function(){return this.infoData.img_status}},created:function(){}}},382:function(t,e,a){},383:function(t,e,a){"use strict";a.r(e);var i=a(384),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},384:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=a(82),r=((i=n)&&i.__esModule,function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(375)));e.default={props:["dataType","isShow","detailData","defaultList","isLabelHide","onlyShow"],data:function(){return{services:r,type:"1",list:[]}},created:function(){this.defaultList?this.list=this.defaultList:this.getList(this.dataType)},computed:{},methods:function(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}({handleClick:function(){},getList:function(t){var e=this;this.detailData&&this.detailData.id&&this.services.getList({type:t,id:this.detailData.id,resource_type:this.type}).then(function(t){e.list=t.data})}},"handleClick",function(t){log(t)}),watch:{defaultList:function(){this.list=this.defaultList},type:function(t){this.getList(this.dataType)}}}},385:function(t,e,a){},386:function(t,e,a){"use strict";a.r(e);var i=a(387),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},387:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(156),n(a(82)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);e.default=t}(a(408));var i=n(a(407));function n(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","infoData","infoDialog","isAuthor"],data:function(){return{readerDialog:!1,readerId:null}},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}},methods:{handleClick:function(t,e){this.$emit("infoClick",t)},openReader:function(t){log(t),this.readerId=t.b_id,this.readerDialog=!0}},components:{Reader:i.default}}},388:function(t,e,a){},389:function(t,e,a){"use strict";var i=a(373);a.n(i).a},391:function(t,e,a){"use strict";a.r(e);var i=a(481),n=a(383);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(476);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"68ca030c",null);o.options.__file="tab.vue",e.default=o.exports},392:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.resourceDialog,width:"1200px",top:"50px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"append-to-body":""},on:{"update:visible":function(e){t.resourceDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"添加",name:"detail"}})],1)],1),a("el-form",{staticClass:"addBookForm"},[t.isShowType?a("span",{staticClass:"group-inline",staticStyle:{margin:"20px","margin-top":"0"}},[a("el-radio-group",{model:{value:t.currentType,callback:function(e){t.currentType=e},expression:"currentType"}},t._l(t.contentType,function(e){return a("el-radio-button",{key:e.id,attrs:{label:e.value}},[t._v(t._s(e.name))])}))],1):t._e(),t.isShowSearch?t._e():a("div",{staticClass:"serachWrap"},[a("form",{attrs:{id:"detailSearchForm"}},[a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:"输入名称",name:"name"}})]),a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:"输入标签",name:"tag"}})]),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),a("span",{staticClass:"group-inline right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:t.search}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.addSelection}},[t._v("添加选中")])],1)])]),a("table",{staticClass:"table",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{width:"80"}},[t.singleElection?a("input",{attrs:{type:"checkbox"},on:{click:function(e){t.checkAll(e,"addBookForm")}}}):t._e(),a("span",{domProps:{textContent:t._s(t.singleElection?"全选":"选择")}})]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",[t._v("创建时间")])])]),t.dataList.length?a("tbody",t._l(t.dataList,function(e,i){return a("tr",[a("td",[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox","data-type":e.status,name:"ids"},domProps:{value:e.id,checked:t.isChecked(e.id)},on:{click:function(a){t.uncheckedAll(a,e)}}})]),a("td",[t._v(t._s(e.name||e.title))]),a("td",[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[t._v(t._s(e.create_time))])])})):a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"5"}},[t._v("暂无数据")])])])]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addSelection}},[t._v("确定")])],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},393:function(t,e,a){"use strict";a.r(e);var i=a(394),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},394:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=a(156),s=u(a(27)),o=u(a(404)),l=a(122);c(a(1));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}function d(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["type","detailData","detailDialog","detailType","defaultData","services","readOnly"],created:function(){var t=this;if(this.readOnly,this.detailType,!this.defaultData&&this.detailData)this.getDetail(),this.getMulu(this.detailData.id);else if(this.getMainList.forEach(function(e){for(var a in t.defaultData)a!==e.label&&a!==e.name||(e.value=t.defaultData[a])}),this.metadata=this.defaultData.attributes||[],this.readOnly&&this.defaultData.components){var e=(0,r.recursionTree)(this.defaultData.components,"pid","root");this.ml=e,this.currMulu=e}else this.getMulu(this.defaultData.id)},mixins:[l.getIconStyle],data:function(){return{detailDataOwn:{attributes:[]},metadata:[],ml:null,defaultProps:{children:"children",label:"chapter_name"},currMulu:null,previewImgUrl:null,file:null,viewpoint:[{label:"标题",value:""},{label:"副标题"},{label:"作者"},{label:"品类维度"},{label:"品类维度编号"},{label:"专业类别"},{label:"专业类别编号"},{label:"文集类别"},{label:"文集来源ID"},{label:"文献出处"},{label:"文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",isDdisabled:!0,NoNeed:!0}],statute:[{label:"标题",value:""},{label:"发文字号"},{label:"发布单位"},{label:"效力状态"},{label:"品类维度"},{label:"品类维度编号"},{label:"法规类别"},{label:"法规类别编号"},{label:"学科分类"},{label:"学科分类编号"},{label:"法规来源ID"},{label:"文献出处"},{label:"法规文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",isDdisabled:!0,NoNeed:!0}],case:[{label:"标题",value:""},{label:"主要问题(副标题)",name:"副标题"},{label:"案件类别"},{label:"案件类别编号"},{label:"案例编号"},{label:"效力状态"},{label:"品类维度"},{label:"品类维度编号"},{label:"案例来源ID"},{label:"案例(文献)出处",name:"出处"},{label:"文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",isDdisabled:!0,NoNeed:!0}],referee:[{label:"标题",value:""},{label:"案号"},{label:"品类维度"},{label:"品类维度编号"},{label:"案件类别"},{label:"案件类别编号"},{label:"审理法院"},{label:"裁判来源ID"},{label:"裁判文献出处"},{label:"裁判文献出处ID"},{label:"套系栏目"},{label:"价格"},{label:"创建时间",isDdisabled:!0,NoNeed:!0}]}},methods:{getDetail:function(){var t=this;this.services.detailResource({id:this.detailData.id}).then(function(e){t.detailDataOwn=e.data,t.getMainList.forEach(function(t){for(var a in e.data)a!==t.label&&a!==t.name||(t.value=e.data[a])}),t.metadata=e.data.attributes||[]})},getMulu:function(t){var e=this;o.getBookCatalog({id:t}).then(function(t){var a=(0,r.recursionTree)(t.data,"pid","root");e.ml=a,e.currMulu=a})},handleClick:function(t,e){"ml"==t.name&&(this.currMulu=this.ml)},handleNodeClick:function(t,e,a){this.currMulu=e.data.children},muluSort:function(t,e,a){var i=this.currMulu;"up"===a?e>0&&(i.splice(e,1),i.splice(e-1,0,t)):(i.splice(e,1),i.splice(e+1,0,t)),o.siblingSort({id:t.id,sort:a})},submitDetail:function(){var t=d(i.default.mark(function t(e){var a,r,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(a=this.$progress(),t.prev=4,!this.imgFile){t.next=8;break}return t.next=8,s.getTask(this.imgFile).then(function(t){o.detailDataOwn.img=t.data.path});case 8:return r={},this.getMainList.forEach(function(t){t.name?r[t.name]=t.value:r[t.label]=t.value}),t.next=12,this.services.save(n({id:this.detailData?this.detailData.id:null},r,{attributes:this.metadata,type:this.detailType,link_id:this.defaultData?this.defaultData.id:null}));case 12:this.$emit("detailBack"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),t.t0;case 18:a.close();case 19:case"end":return t.stop()}},t,this,[[4,15]])}));return function(e){return t.apply(this,arguments)}}(),previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},upLoadXml:function(){var t=d(i.default.mark(function t(){var e,a=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.file){t.next=5;break}return e=this.$progress(),t.next=4,s.getTask(this.file,{is_chunk:!0,size:1048576},function(t){e.percentage=t}).then(function(t){a.detailDataOwn.preview=t.data.path});case 4:e.close();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),previewBook:function(t){var e=t.target.files[0];this.file=e,dir(e,"file")}},computed:{getMainList:function(){switch(Number(this.detailType)){case 1:return this.case;case 2:return this.statute;case 3:return this.viewpoint;case 4:return this.referee}}}}},395:function(t,e,a){},396:function(t,e,a){"use strict";a.r(e);var i=a(397),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},397:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(375)),s=a(391),o=(i=s)&&i.__esModule?i:{default:i};e.default={components:{Tab:o.default},props:{groupDialog:{type:Boolean,default:!1},detailData:Object,item:{type:Object,default:{}},isMedia:{type:Number,default:1},onlyShow:Boolean,defaultData:Object},data:function(){return{information:{},list:[],addMediaType:"4"}},created:function(){Object.entries(this.item).length&&this.defaultData,this.information=this.item,this.list=this.item.children||[],2==this.isMedia&&(this.addMediaType="5")},computed:{setTitle:function(){return Object.entries(this.item).length?this.item.name||"修改组":"新增组"}},methods:{getInfo:function(){var t=this;r.groupDetail({id:this.item.id,type:this.isMedia}).then(function(e){t.information=e.data,t.list=e.data.constitute}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},update:function(t){this.list=t},colse:function(){this.$emit("update:groupDialog",!1)},save:function(){var t=this;this.$refs.detailForm.valiAll()&&r.groupSave(n({id:this.item?this.item.id:""},this.information,{product_id:this.detailData.id,type:this.isMedia,constitute:this.list})).then(function(e){log(e),t.$message.success("保存成功"),t.$emit("save"),t.colse()}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},del:function(t){var e=this.list.findIndex(function(e){return e.id===t.id});e>-1&&this.list.splice(e,1)}}}},398:function(t,e,a){},399:function(t,e,a){"use strict";a.r(e);var i=a(400),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},400:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(375));e.default={props:{detailData:Object,media:{type:Number,default:1},readOnly:{type:Boolean,default:!1},defaultData:Array},data:function(){return{audioList:[]}},created:function(){this.detailData&&this.detailData.id&&this.getAudio(),this.defaultData&&(this.audioList=this.defaultData)},computed:{},methods:{getAudio:function(){var t=this;n.groupList({id:this.detailData.id,type:this.media}).then(function(e){t.audioList=e.data})},del:function(t,e){var a=this,r=null,s=null;"object"==i(t.children)?r=t.id:(r=e.parent.data.id,s=t.id),log(r),n.audioDel({id:r,resource_id:s,product_id:this.detailData.id}).then(function(t){a.getAudio()})}}}},401:function(t,e,a){},405:function(t,e,a){"use strict";a.r(e);var i=a(482),n=a(380);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(474);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"f62c4482",null);o.options.__file="contentDetail.vue",e.default=o.exports},406:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/datasubjects",t)},e.urgentDigital=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)("/api/datasubjects/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)("/api/datasubjects/audits",t)},e.save=function(t){var e=t.id,a=o(t,["id"]);if(e)return(0,n.request_put)("/api/datasubjects/"+e,a);return(0,n.request_post)("/api/datasubjects",a)},e.detail=d,e.del=l,e.seriesResList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/datasubjects/class/books",t)},e.deleteSerRes=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/datasubjects/class/books/delete",t)},e.addSerRes=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/datasubjects/class/books",t)},e.seriesList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/datasubjects/class",t)},e.delSeries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]);return(0,n.request_delete)(l({id:e}),a)},e.saveSeries=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]);if(e)return(0,n.request_put)(u({id:e}),a);return(0,n.request_post)("/api/datasubjects/class",a)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]);return(0,n.request_put)(c({id:e}),a)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/datasubjects/groups",t)},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/datasubjects/groups",t)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=o(t,["id"]);return(0,n.request_delete)(c({id:e}),a)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)("/api/groups/datasubjects",t)};var i,n=a(4),r=a(8),s=(i=r)&&i.__esModule?i:{default:i};function o(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}var l=s.default.compile("/api/datasubjects/class/:id"),u=s.default.compile("/api/datasubjects/class/:id"),c=s.default.compile("/api/datasubjects/groups/:id"),d=s.default.compile("/api/datasubjects/:id");s.default.compile("/api/datasubjects/:id");function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(d(t),t)}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/datasubjects/delete",t)}},409:function(t,e,a){"use strict";a.r(e);var i=a(410),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},410:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);e.default=t}(a(379));var i=s(a(517)),n=s(a(402)),r=s(a(521));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:i.default,Structure:r.default,Knowledge:n.default},props:["type","detailData","detailDialog","readOnly","defaultData"],created:function(){},data:function(){return{}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name}}}},411:function(t,e,a){"use strict";a.r(e);var i=a(412),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},412:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(l(a(82)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(27))),s=a(518),o=a(736);function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{clc_category:"",clc_category_id:"",cp_category:"",cp_category_id:"",describe:"",editor_recommend:"",book_directory:""},xRead:{},activeName:"1",keyWord:"",title:"作者",metadata:[],creatAuthorInfo:{},choiceDialog:!1,creatDialog:!1,authorList:[],authorInfo:{},authorOptions:[],authorValue:[],translatorOptions:[],translatorValue:[],out_print:"2",have_print:"2"}},created:function(){this.detailData&&Object.entries(this.detailData).length&&this.getInfo(),this.defaultData&&this.setInfo(),this.init()},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type},gauthorList:function(){return this.authorList}},methods:{init:function(){var t=this;this.searchAuthor=(0,o.debounce)(function(){return t.getAuthors()},500)},setInfo:function(){this.information=this.xRead=this.defaultData.base||{},this.metadata=this.defaultData.attributes||[],this.retailers=this.defaultData.retailers||{},this.setEbookInfo()},getInfo:function(){var t=this;(0,s.getInfo)({id:this.detailData.id}).then(function(e){t.information=e.data,t.retailers=e.data.retailers,t.xRead=e.data["x-read"],t.metadata=e.data.pro_attributes,t.setEbookInfo()})},setEbookInfo:function(){this.out_print=this.retailers.out_print||"2",this.have_print=this.retailers.have_print||"2";var t=this.retailers.author?this.retailers.author.split(","):[],e=this.retailers.author_id?this.retailers.author_id.split(","):[],a=this.retailers.translator?this.retailers.translator.split(","):[],i=this.retailers.translator_id?this.retailers.translator_id.split(","):[];this.authorOptions=t.map(function(t,a){var i={};return i.value=e[a],i.label=t,i}),this.translatorOptions=a.map(function(t,e){var a={};return a.value=i[e],a.label=t,a}),this.authorValue=e,this.translatorValue=i},handleClick:function(t,e){this.$emit("infoClick",t)},previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,this.previewImgUrl=URL.createObjectURL(a)},addAuthor:function(t){this.title=t,this.keyWord="",this.authorList=[],this.choiceDialog=!0},choiceAuthor:function(){var t=this,e="作者"==this.title?"author":"translator",a=document.querySelector(".authorListForm").querySelectorAll('input[name="ids"]:checked');a.length||this.$message.warning("请选择你要添加的"+this.title);var i=!0,n=!1,r=void 0;try{for(var s,o=function(){var a=s.value;if(t[e+"Options"].find(function(t){return a.value==t.value}))return"continue";t[e+"Options"].push({value:a.value,label:a.getAttribute("label")}),t[e+"Value"].push(a.value)},l=a[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)o()}catch(t){n=!0,r=t}finally{try{!i&&l.return&&l.return()}finally{if(n)throw r}}this.$message.success("添加"+this.title+"成功!")},saveAuthor:function(){var t=u(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return log(1),t.next=3,r.addAuthor({author_name:this.creatAuthorInfo.name}).then(function(t){e.$message.success("创建成功")}).catch(function(t){e.$message.error(t.messages)});case 3:this.creatDialog=!1;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),searchAuthor:function(){log(11)},getAuthors:function(){var t=this;log(this.title),r.getAuthor({author_name:this.keyWord}).then(function(e){t.authorList=e.data,log(t.authorList)})},creatAuthor:function(){this.creatAuthorInfo={},this.creatDialog=!0},syncInfo:function(t){var e=this;this.$refs.isbn.value&&r.synchronization({id:this.$refs.isbn.value}).then(function(t){log(t);var a=t.data,i=a.bookname,n=a.writer,r=a.isbn,s=a.bookcatalog,o=a.majorword,l=a.bookbrief,u=a.readership,c=a.editornote,d=(a.price,a.price_min,a.weight,a.bookcategory),f=a.bookcategory2;e.information={name:i,book_isbn:r,abs:l},e.xRead={tag:"",author:n},e.retailers={subject_terms:o,target_audience:u,clc_category:d,cp_category:f,describe:l,editor_recommend:c,book_directory:s}}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}})},submitDetail:function(){var t=u(i.default.mark(function t(){var e,a,o,l,u=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.fenmian.files[0],this.$refs.detailForm.valiAll()){t.next=4;break}return t.abrupt("return");case 4:if(a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=5,!e){t.next=9;break}return t.next=9,r.getTask(e).then(function(t){u.information.img=t.data.path});case 9:return t.next=11,(0,s.save)(n({id:this.detailData.id},this.information)).then(function(t){u.$message.success("保存成功"),a.close(),u.$emit("saveok",t.data)});case 11:t.next=24;break;case 13:t.prev=13,t.t0=t.catch(5),o=t.t0.payload,a.close(),t.t1=i.default.keys(o.messages);case 18:if((t.t2=t.t1()).done){t.next=24;break}return l=t.t2.value,this.$message.error(o.messages[l]),t.abrupt("break",24);case 24:case"end":return t.stop()}},t,this,[[5,13]])}));return function(){return t.apply(this,arguments)}}(),submitInfo:function(){var t=u(i.default.mark(function t(){var e,a,o,l=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=this.$refs.fenmian.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),o=n({},this.information,{pro_attributes:this.metadata,attributes:{xRead:n({},this.xRead),eCommerce:n({},this.retailers,{author_id:this.authorValue.join(","),translator_id:this.translatorValue.join(","),author:this.authorOptions.map(function(t){if(l.authorValue.indexOf(t.value)>-1)return t.label}).filter(function(t){if(t)return t}).join(","),translator:this.translatorOptions.map(function(t){if(l.translatorValue.indexOf(t.value)>-1)return t.label}).filter(function(t){if(t)return t}).join(","),out_print:this.have_print,have_print:this.have_print})}}),!e){t.next=9;break}return t.next=9,r.getTask(e).then(function(t){o.img=t.data.path});case 9:return t.next=11,(0,s.save)(o).then(function(t){l.detailData.id||(l.information=t.data),a.close(),l.$message.success("操作成功!"),l.$emit("saveok",t.data)}).catch(function(t){a.close(),l.$message({message:t.message||"错误!",type:"error"})});case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}},413:function(t,e,a){},414:function(t,e,a){"use strict";a.r(e);var i=a(415),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},415:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=b(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=b(a(82)),o=g(a(375)),l=g(a(379)),u=b(a(405)),c=a(390),d=b(a(402)),f=b(a(522)),p=b(a(524)),v=b(a(475)),m=b(a(391)),h=b(a(477));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function b(t){return t&&t.__esModule?t:{default:t}}function _(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["detailData","readOnly","defaultData"],components:{Tab:m.default,Book:f.default,Group:v.default,ContentDetail:u.default,EBook:p.default,Audio:h.default,Knowledge:d.default},data:function(){return{type:"book",soucesType:"1",audioInfo:{},detailAddDialog:!1,bookDialog:!1,groupDialog:!1,infoDialog:!1,currentItem:{},curSoucesList:{},dataList:[],page:null,infoData:{},mediaType:null,optional:[],singleElection:!0,defaultBList:null,defaultEList:null,defaultAList:null,defaultVList:null,defaultRList:null}},created:function(){this.detailData&&this.detailData.id&&this.check(),this.defaultData&&(this.defaultBList=this.defaultData.structure.book,this.defaultEList=this.defaultData.structure.ebooks[0],this.defaultAList=this.defaultData.structure.audios,this.defaultVList=this.defaultData.structure.videos,this.defaultRList=this.defaultData.structure.resources)},computed:{isShowBtn:function(){return this.optional.length>0}},methods:{handleClick:function(t){this.type=t.name},check:function(){var t=this;this.detailData&&o.check({id:this.detailData.id}).then(function(e){t.optional=e.data})},getAudio:function(){var t=this;o.groupList({id:this.detailData.id,type:"1"}).then(function(e){t.audioList=e.data})},detail:function(t,e){"book"!=this.type?"audio"!=this.type||"object"!=(void 0===e?"undefined":r(e))?this.bookDetailInfo(t,t.type):this.addVideo(t):this.addBook(t)},del:function(t,e){var a=this;o.del(n({},t,{type:this.type})).then(function(t){a.getList()})},bookDetailInfo:function(t,e,a){var i=this,n=t.id,r=t.c_id;(0,c._themeDetail)({c_id:r,id:n,type:e}).then(function(t){i.infoData=t.data,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},getList:function(){this.$refs[this.type].getList(this.type),this.check()},query:function(){var t=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(1,this.page.offset,t)},openResources:function(){var t=_(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.singleElection=!0,this.soucesType=e,this.dataList=[],this.page=null,"audio"==this.type?this.curSoucesList=this.$refs.group.list:"e-book"==this.type?(this.singleElection=!1,this.curSoucesList=[]):this.curSoucesList=this.$refs[this.type].list,t.next=7,this.getAddList();case 7:this.detailAddDialog=!0;case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAddList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,i=arguments[2],r=this.soucesType,s=this.$refs.resource.type;if(14==r)switch(s){case"1":r="3";break;case"2":r="5";break;case"3":r="4";break;default:r="3"}l._addBooks(n({pageNum:t,pageOffset:a,type:r},i)).then(function(t){e.dataList=t.data,e.page=t.page})},addBook:function(){var t=_(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.check();case 2:this.currentItem=e||{},this.bookDialog=!0;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),addVideo:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");t||(this.curSoucesList=[]),this.currentItem=t||{},this.groupDialog=!0},saveOk:function(){this.bookDialog=!1,this.getList()},handleSizeChange:function(t){var e=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(1,t,e)},handleCurrentChange:function(t){var e=(0,s.default)(document.querySelector("#detailSearchForm"),{hash:!0});this.getAddList(t,this.page.offset,e)},isChecked:function(t){return this.curSoucesList.findIndex(function(e){return e.id===t})>-1},checkAll:function(t,e){document.querySelector("."+e).querySelectorAll('input[name="ids"]').forEach(function(e,a){e.checked=t.target.checked})},addSelection:function(){var t=_(i.default.mark(function t(){var e,a,r,s,l,u,c,d,f=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.detailData.id){t.next=2;break}return t.abrupt("return",this.$message.error("请保存产品信息后再做添加"));case 2:if(e=document.querySelector(".addBookForm"),(a=e.querySelectorAll('input[name="ids"]:checked')).length){t.next=6;break}return t.abrupt("return",this.$message.warning("请选择添加内容"));case 6:r=!0,s=!1,l=void 0,t.prev=9,u=function(){var t=d.value;if(f.curSoucesList.findIndex(function(e){return e.id==t.value})>-1)return"continue";f.curSoucesList.push(n({},f.dataList.find(function(e){return e.id==t.value}),{action:"add"}))},c=a[Symbol.iterator]();case 12:if(r=(d=c.next()).done){t.next=19;break}if("continue"!==u()){t.next=16;break}return t.abrupt("continue",16);case 16:r=!0,t.next=12;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(9),s=!0,l=t.t0;case 25:t.prev=25,t.prev=26,!r&&c.return&&c.return();case 28:if(t.prev=28,!s){t.next=31;break}throw l;case 31:return t.finish(28);case 32:return t.finish(25);case 33:if("audio"!=this.type){t.next=37;break}return this.$refs.group.update(this.curSoucesList),this.detailAddDialog=!1,t.abrupt("return");case 37:if("e-book"!=this.type){t.next=42;break}return t.next=40,this.$refs.ebook.getRelation(this.curSoucesList);case 40:return this.detailAddDialog=!1,t.abrupt("return");case 42:o.add({type:this.type,product_id:this.detailData.id,constitute:this.curSoucesList,resource_type:this.$refs.resource.type}).then(function(t){f.getList(),f.detailAddDialog=!1});case 43:case"end":return t.stop()}},t,this,[[9,21,25,33],[26,,28,32]])}));return function(){return t.apply(this,arguments)}}(),uncheckedAll:function(t){this.singleElection||(this.$refs.ids.forEach(function(t){return t.checked=!1}),t.target.checked=!0)},saveAudioOK:function(){this.$refs.audio.getAudio()},clear:function(){document.getElementById("text").value=""},clear2:function(){document.getElementById("text2").value=""}},watch:{detailData:function(){this.check()}}}},416:function(t,e,a){"use strict";a.r(e);var i=a(417),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},417:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(o(a(82)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(27))),s=a(375);function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:{bookDialog:{type:Boolean,default:!1},item:{type:Object,default:{}},detailData:Object,optional:Array,readOnly:Boolean},data:function(){return{information:{},previewImgUrl:null,metadata:[],radio:"paperback"}},created:function(){Object.entries(this.item).length?this.getInfo():this.radio=this.optional.length&&this.optional[0]||"paperback"},computed:{setTitle:function(){return Object.entries(this.item).length?this.item.name||"修改纸质书":"新增纸质书"}},methods:{getInfo:function(){var t=this;(0,s.bookInfo)({id:this.item.id}).then(function(e){t.information=e.data,t.metadata=e.data.attributes,t.radio=e.data.type}).catch(function(e){var a=e.payload;for(var i in a.messages){t.$message.error(a.messages[i]);break}})},colse:function(){this.$emit("update:bookDialog",!1)},save:function(){var t,e=(t=i.default.mark(function t(){var e,a,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(e=this.$refs.fenmian.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,!e){t.next=10;break}return t.next=10,r.getTask(e).then(function(t){o.information.img=t.data.path});case 10:if(this.information.img){t.next=14;break}return this.$message.error("封面必填"),a.close(),t.abrupt("return");case 14:return t.next=16,(0,s.bookSave)(n({},this.information,{attributes:this.metadata,product_id:this.detailData.id,type:this.radio})).then(function(t){a.close(),o.$emit("saveok")});case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(6),t.t0.payload,a.close();case 22:case"end":return t.stop()}},t,this,[[6,18]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}(),previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,e?this.previewPhotoUrl=URL.createObjectURL(a):this.previewImgUrl=URL.createObjectURL(a)},syncInfo:function(){var t=this;this.$refs.isbn.value&&r.synchronization({id:this.$refs.isbn.value}).then(function(e){log(e);var a=e.data,i=a.bookname,n=(a.writer,a.isbn),r=a.price,s=a.price_min,o=a.weight,l=a.isbn_ext;switch(a.bookbinding){case"平":t.radio="paperback";break;case"精":t.radio="hardcover";break;case"软":t.radio="soft_hardcover";break;case"线":t.radio="thread_bound"}t.information={name:i,book_isbn:n,price:r,sales_price_min:s,book_isbn_extension:l,book_weight:o}}).catch(function(e){var a=e.payload;for(var i in log(111,a),log(a),a.messages){t.$message.error(a.messages[i]);break}})},isShow:function(t){return!(this.optional.indexOf(t)>-1)}}}},418:function(t,e,a){},419:function(t,e,a){"use strict";a.r(e);var i=a(420),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},420:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(o(a(82)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(375))),s=(a(27),a(390));function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},activeName:"first",metadata:[],shopMetadata:[],book_id:null,retailer_id:null,constitute_id:null,ebook_shop:{},current_id:null}},created:function(){this.detailData&&this.detailData.id&&this.getEBook(),this.defaultData&&(this.information=this.defaultData,this.metadata=this.defaultData.attributes,this.ebook_shop=this.defaultData.ebook_shop||{},this.shopMetadata=this.defaultData.ebook_shop?this.defaultData.ebook_shop.attributes:[])},methods:{getEBook:function(){var t=this;r.getEBook({id:this.detailData.id}).then(function(e){var a=e.data;t.information=a,t.current_id=a.id,a.length||Object.entries(a).length?(t.constitute_id=a.constitute_id,t.book_id=a.book_id,t.metadata=a.attributes||[],t.ebook_shop=a.ebook_shop||{},a.ebook_shop&&(t.retailer_id=a.ebook_shop.id,t.shopMetadata=a.ebook_shop.attributes||[])):t.retailer_id=t.constitute_id=null})},getRelation:function(t){var e=this;if(t.length){var a=t[0],i=a.c_id,n=a.id,r=a.type;log(i,n,r),(0,s._themeDetail)({c_id:i,id:n,type:r}).then(function(t){e.information=t.data,e.metadata=e.information.attributes,e.constitute_id=null,e.book_id=n,log(e.information)}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}})}},submit:function(){var t,e=(t=i.default.mark(function t(){var e,a,s,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return",this.$message.error("电子书信息不全!"));case 3:return log(n({},this.information,this.ebook_shop,{book_id:this.book_id,components_id:this.detailData.id,attributes:this.metadata,shop_attributes:this.shopMetadata,constitute_id:this.constitute_id,retailer_id:this.retailer_id,current_id:this.current_id})),e=this.$progress(),t.prev=5,t.next=8,r.saveEBook(n({},this.information,this.ebook_shop,{book_id:this.book_id,components_id:this.detailData.id,attributes:this.metadata,shop_attributes:this.shopMetadata,constitute_id:this.constitute_id,retailer_id:this.retailer_id,id:this.information.id,current_id:this.current_id})).then(function(t){!o.current_id&&t.data&&(o.current_id=t.data.id)});case 8:this.$message.success("保存成功"),t.next=21;break;case 11:t.prev=11,t.t0=t.catch(5),a=t.t0.payload,t.t1=i.default.keys(a.messages);case 15:if((t.t2=t.t1()).done){t.next=21;break}return s=t.t2.value,this.$message.error(a.messages[s]),t.abrupt("break",21);case 21:e.close();case 22:case"end":return t.stop()}},t,this,[[5,11]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()},computed:{detailType:function(){return this.infoData.img_status},hassVideo:function(){return 6==this.infoData.type||5==this.infoData.type||8==this.infoData.type}}}},421:function(t,e,a){},422:function(t,e,a){},423:function(t,e,a){},424:function(t,e,a){"use strict";a.r(e);var i=a(425),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},425:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=m(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=m(a(528)),o=m(a(391)),l=m(a(477)),u=m(a(475)),c=m(a(374)),d=m(a(405)),f=m(a(402)),p=a(390),v=a(27);function m(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:s.default,Tab:o.default,Resource:c.default,ContentDetail:d.default,Audio:l.default,Group:u.default,Knowledge:f.default},props:{type:String,detailData:Object,detailDialog:Boolean,services:Object,media:{type:Number,default:1},defaultData:Object,readOnly:Boolean},created:function(){this.curSoucesList=this.detailData&&this.detailData.constitute||this.defaultData&&this.defaultData.structure||[],this.defaultData&&(this.defaultAList=this.defaultData.structure)},data:function(){return{resourceDialog:!1,curSoucesList:[],infoDialog:!1,infoData:null,metadata:[],currentItem:{},groupDialog:!1,defaultAList:null}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name},detail:function(t,e){if("object"==(void 0===e?"undefined":r(e)))return this.curSoucesList=t.children,void this.addVideo(t);this.bookDetailInfo(t,t.type)},del:function(t){var e=this.curSoucesList.findIndex(function(e){return e.id===t.id});e>-1&&this.curSoucesList.splice(e,1)},bookDetailInfo:function(t,e){var a=this,i=t.id,n=t.c_id;(0,p._themeDetail)({c_id:n,id:i,type:e}).then(function(t){a.infoData=t.data,a.infoDialog=!0}).catch(function(t){var e=t.payload;for(var i in e.messages){a.$message.error(e.messages[i]);break}})},openResources:function(t){this.resourceDialog=!0,log(t),this.resourceType=t},addSelcet:function(t){this.$refs.group.update(t),this.curSoucesList=t,this.resourceDialog=!1},addVideo:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");t||(this.curSoucesList=[]),this.currentItem=t||{},this.groupDialog=!0},saveAudioOK:function(){this.$refs.audio.getAudio(),this.$emit("saveok")},submitDetail:function(){var t,e=(t=i.default.mark(function t(){var e,a,r,s,o,l,u=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.info.$refs.fenmian.files[0],a=this.$refs.info.$refs.detailForm.valiAll(),r=this.$refs.info.information,a){t.next=5;break}return t.abrupt("return",this.$message.error("请完善产品信息后再提交!"));case 5:if(this.curSoucesList.length){t.next=7;break}return t.abrupt("return",this.$message.error("产品结构必传!"));case 7:if(s=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=8,!e){t.next=12;break}return t.next=12,(0,v.getTask)(e).then(function(t){r.img=t.data.path});case 12:if(r.img){t.next=14;break}return t.abrupt("return",this.$message.error("请上传封面!"));case 14:return t.next=16,this.services.save(n({id:this.detailData.id},r,{constitute:this.curSoucesList,attributes:{xRead:this.$refs.info.retailers},pro_attributes:this.$refs.info.metadata})).then(function(t){u.$message.success("保存成功"),s.close(),u.$emit("saveok",t.data)});case 16:t.next=29;break;case 18:t.prev=18,t.t0=t.catch(8),o=t.t0.payload,s.close(),t.t1=i.default.keys(o.messages);case 23:if((t.t2=t.t1()).done){t.next=29;break}return l=t.t2.value,this.$message.error(o.messages[l]),t.abrupt("break",29);case 29:case"end":return t.stop()}},t,this,[[8,18]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},426:function(t,e,a){"use strict";a.r(e);var i=a(427),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},427:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(s(a(82)),a(27));function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","services","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{},xRead:{},activeName:"1",metadata:[]}},created:function(){log("------",this.readOnly),this.detailData&&Object.entries(this.detailData).length&&this.getInfo(),this.defaultData&&(this.retailers=this.defaultData.retailers||{},this.information=this.defaultData.base||{},this.xRead=this.defaultData.xread||{},this.metadata=this.defaultData.attributes||[])},methods:{getInfo:function(){var t=this;this.services.getInfo({id:this.detailData.id}).then(function(e){t.retailers=e.data.retailers,t.information=e.data,t.xRead=e.data["x-read"],t.metadata=e.data.pro_attributes||[]})},previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,this.previewImgUrl=URL.createObjectURL(a)},submitDetail:function(){var t,e=(t=i.default.mark(function t(){var e,a,s,o,l=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.fenmian.files[0],this.$refs.detailForm.valiAll()){t.next=4;break}return t.abrupt("return");case 4:if(a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=5,!e){t.next=9;break}return t.next=9,(0,r.getTask)(e).then(function(t){l.information.img=t.data.path});case 9:return t.next=11,this.services.save(n({id:this.detailData.id},this.information,{attributes:{xRead:this.xRead,eCommerce:this.retailers},pro_attributes:this.metadata})).then(function(t){a.close(),l.$message.success("保存成功"),l.$emit("saveok",t.data)});case 11:t.next=24;break;case 13:t.prev=13,t.t0=t.catch(5),s=t.t0.payload,a.close(),t.t1=i.default.keys(s.messages);case 18:if((t.t2=t.t1()).done){t.next=24;break}return o=t.t2.value,this.$message.error(s.messages[o]),t.abrupt("break",24);case 24:case"end":return t.stop()}},t,this,[[5,13]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},428:function(t,e,a){},429:function(t,e,a){},430:function(t,e,a){"use strict";a.r(e);var i=a(480),n=a(386);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(478);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"1f2d0f19",null);o.options.__file="info.vue",e.default=o.exports},431:function(t,e,a){"use strict";a.r(e);var i=a(432),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},432:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(479)),s=p(a(532)),o=p(a(391)),l=p(a(374)),u=p(a(402)),c=a(390),d=p(a(405)),f=a(27);function p(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:s.default,Tab:o.default,Resource:l.default,ContentDetail:d.default,Knowledge:u.default},props:{type:String,detailData:Object,detailDialog:Boolean,defaultData:Object,readOnly:Boolean},created:function(){this.curSoucesList=this.detailData&&this.detailData.constitute||this.defaultData&&this.defaultData.structure||[]},data:function(){return{resourceDialog:!1,curSoucesList:[],infoDialog:!1,infoData:null}},computed:{},methods:{handleClick:function(t,e){this.activeName=t.name},detail:function(t){this.bookDetailInfo(t,t.type)},del:function(t){var e=this.curSoucesList.findIndex(function(e){return e.id===t.id});e>-1&&this.curSoucesList.splice(e,1)},bookDetailInfo:function(t,e){var a=this,i=t.id,n=t.c_id;(0,c._themeDetail)({c_id:n,id:i,type:e}).then(function(t){a.infoData=t.data,a.infoDialog=!0}).catch(function(t){var e=t.payload;for(var i in e.messages){a.$message.error(e.messages[i]);break}})},openResources:function(t){if(this.detailData&&!this.detailData.id)return this.$message.error("请保存产品信息后再做添加");this.resourceDialog=!0,this.resourceType=t},addSelcet:function(t){var e=this;r.add({product_id:this.detailData.id,constitutes:t}).then(function(a){e.curSoucesList=t,e.resourceDialog=!1}).catch(function(t){t.payload;e.$message.error("添加失败")})},submitDetail:function(){var t,e=(t=i.default.mark(function t(){var e,a,s,o,l,u,c=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.info.$refs.fenmian.files[0],a=this.$refs.info.$refs.detailForm.valiAll(),s=this.$refs.info.information,a){t.next=5;break}return t.abrupt("return",this.$message.error("请完善产品信息后再提交!"));case 5:if(o=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,!e){t.next=10;break}return t.next=10,(0,f.getTask)(e).then(function(t){s.img=t.data.path});case 10:if(s.img){t.next=13;break}return o.close(),t.abrupt("return",this.$message.error("请上传封面!"));case 13:return t.next=15,r.save(n({id:this.detailData.id},s,{attributes:{xRead:this.$refs.info.xRead},pro_attributes:this.$refs.info.metadata})).then(function(t){c.$message.success("保存成功"),o.close(),c.$emit("saveok",t.data)});case 15:t.next=28;break;case 17:t.prev=17,t.t0=t.catch(6),l=t.t0.payload,o.close(),t.t1=i.default.keys(l.messages);case 22:if((t.t2=t.t1()).done){t.next=28;break}return u=t.t2.value,this.$message.error(l.messages[u]),t.abrupt("break",28);case 28:case"end":return t.stop()}},t,this,[[6,17]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},433:function(t,e,a){"use strict";a.r(e);var i=a(434),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},434:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(o(a(82)),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(479))),s=a(27);function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","defaultData"],data:function(){return{information:{},previewImgUrl:null,retailers:{},xRead:{},activeName:"1",metadata:[]}},created:function(){this.detailData&&(this.information=this.detailData,this.xRead=this.detailData["x-read"]||{},this.metadata=this.detailData.pro_attributes||[]),this.defaultData&&(this.information=this.defaultData.base||{},this.xRead=this.defaultData.xread||{},this.metadata=this.defaultData.attributes||[])},methods:{previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,this.previewImgUrl=URL.createObjectURL(a)},submitDetail:function(){var t,e=(t=i.default.mark(function t(){var e,a,o,l,u=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.fenmian.files[0],this.$refs.detailForm.valiAll()){t.next=4;break}return t.abrupt("return");case 4:if(a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=5,!e){t.next=9;break}return t.next=9,(0,s.getTask)(e).then(function(t){u.information.img=t.data.path});case 9:return t.next=11,r.save(n({id:this.detailData.id},this.information,{attributes:{xRead:this.retailers}})).then(function(t){log(t),u.$message.success("保存成功"),a.close(),u.$emit("saveok",t.data)});case 11:t.next=24;break;case 13:t.prev=13,t.t0=t.catch(5),o=t.t0.payload,a.close(),t.t1=i.default.keys(o.messages);case 18:if((t.t2=t.t1()).done){t.next=24;break}return l=t.t2.value,this.$message.error(o.messages[l]),t.abrupt("break",24);case 24:case"end":return t.stop()}},t,this,[[5,13]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},435:function(t,e,a){},436:function(t,e,a){},437:function(t,e,a){"use strict";a.r(e);var i=a(438),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},438:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=o(a(535)),r=o(a(537)),s=o(a(543));function o(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Info:n.default,Hour:r.default,Exercise:s.default},props:["type","detailData","detailDialog","readOnly","services","hourSever","exerciseSever"],created:function(){log("-----",this.detailData)},data:function(){return{infoDate:this.detailData||{},hourDate:this.detailData.course_period_list||[],exerciseDate:this.detailData.examination_paper_list||[],priceDate:this.detailData.price||{}}},computed:{},methods:{exerciseChange:function(t){var e=this;this.exerciseSever.getList({id:this.detailData.id}).then(function(t){e.exerciseDate=t.data})},hourChange:function(){var t=this;this.hourSever.getList({course_id:this.detailData.id}).then(function(e){t.hourDate=e.data})},savePrice:function(){var t=this;if(!this.detailData.id)return this.$message.warning("请先保存基本信息后再保存!");this.services.savePrice(i({id:this.detailData.id},this.priceDate)).then(function(e){t.$message.success("价格保存成功!")})},restprice:function(){var t=this;this.services.getPrice({id:this.detailData.id}).then(function(e){t.priceDate=e.data})}}}},439:function(t,e,a){"use strict";a.r(e);var i=a(440),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},440:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(s(a(82)),a(27));function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","infoDate","services"],data:function(){return{information:this.infoDate,previewImgUrl:null}},created:function(){},methods:{previewImg:function(t,e){var a=t.target.files[0];this.imgFile=a,this.previewImgUrl=URL.createObjectURL(a)},submitInfo:function(){var t,e=(t=i.default.mark(function t(){var e,a,s,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=this.$refs.fenmian.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),s=n({},this.information),!e){t.next=9;break}return t.next=9,(0,r.getTask)(e).then(function(t){s.img=t.data.path});case 9:return t.next=11,this.services.save(s).then(function(t){o.detailData.id||(o.information=t.data),a.close(),o.$message.success("操作成功!"),o.$emit("saveok",t.data)}).catch(function(t){a.close(),o.$message({message:t.message||"错误!",type:"error"})});case 11:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},441:function(t,e,a){},442:function(t,e,a){"use strict";a.r(e);var i=a(443),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},443:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(a(3)),n=(r(a(82)),a(27),r(a(538)));function r(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={props:["detailData","readOnly","hourDate","services"],components:{HourInfo:n.default},data:function(){return{hourInfoDialog:!1,list:this.hourDate}},created:function(){},methods:{delChoosen:function(t){var e=this,a=[];a.push(t),a.length>0&&this.$confirm("是否删除?").then(function(t){e.services.del({id:a}).then(function(t){e.$emit("change"),e.$message.success("操作成功!")})}).catch(function(t){})},showHour:function(){var t=s(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=10;break}if(this.currentHour=e,!this.services){t.next=7;break}return t.next=5,this.getInfo();case 5:t.next=8;break;case 7:this.currentHour=e;case 8:t.next=13;break;case 10:if(this.detailData.id){t.next=12;break}return t.abrupt("return",this.$message.warning("请先保存基本信息后再保存!"));case 12:this.currentHour={};case 13:this.hourInfoDialog=!0;case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getInfo:function(){var t=s(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.services.getInfo({id:this.currentHour.id}).then(function(t){e.hourInfoDialog&&e.$refs.info.updateList(t.data),e.currentHour=t.data});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),saveok:function(t){this.currentHour.id||(this.currentHour=t),this.$emit("change")},sort:function(t,e){var a=this;this.services.sort({course_id:this.detailData.id,course_period_id:t.id,type:e}).then(function(t){a.$emit("change"),a.$message.success("操作成功!")})},restList:function(){this.getInfo(),this.$emit("restprice")}},watch:{hourDate:function(t){this.list=t}}}},444:function(t,e,a){"use strict";a.r(e);var i=a(445),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},445:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(s(a(82)),a(27),s(a(539)));function s(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={components:{planInfo:r.default},props:["detailData","readOnly","currentHour","hourInfoDialog","services"],data:function(){return{information:{},planInfoDialog:!1,currentPlan:null,list:[]}},created:function(){this.information=n({},this.currentHour)},methods:{colse:function(){this.$emit("update:hourInfoDialog",!1)},showPlan:function(){var t=o(i.default.mark(function t(e){var a=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=9;break}if(!this.services){t.next=6;break}return t.next=4,this.services.getPlanInfo({id:e.id}).then(function(t){a.currentPlan=t.data});case 4:t.next=7;break;case 6:this.currentPlan=e;case 7:t.next=10;break;case 9:this.currentPlan={};case 10:this.planInfoDialog=!0;case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),submitInfo:function(){var t=o(i.default.mark(function t(){var e,a,r=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:return e=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),a=n({},this.information,{course_id:this.detailData.id}),t.next=7,this.services.save(a).then(function(t){e.close(),r.$message.success("操作成功!"),r.$emit("saveok",t.data)}).catch(function(t){e.close(),r.$message({message:t.message||"错误!",type:"error"})});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),delChoosen:function(t){var e=this,a=[];if(t)a.push(t);else{var i=Array.from(document.querySelectorAll('input[name="ids"]:checked'));if(i.forEach(function(t){a.push(t.value)}),!i.length)return void this.$message.error("请先选中!")}a.length>0&&this.$confirm("是否删除?").then(function(t){e.services.delPlan({id:a}).then(function(t){e.$emit("restList")})}).catch(function(t){})},updateList:function(t){this.information=t}},watch:{currentHour:function(t){this.information=t}}}},446:function(t,e,a){"use strict";a.r(e);var i=a(447),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},447:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(r(a(82)),a(27),r(a(374)));function r(t){return t&&t.__esModule?t:{default:t}}e.default={props:["currentPlan","readOnly","currentHour","planInfoDialog","services","detailData"],components:{Resource:n.default},data:function(){return{information:{resources:[]},previewImgUrl:null,resourceDialog:!1,value2:null,list:[{name:"计划一",id:"12"}],parameter:null}},created:function(){this.information=i({},this.currentPlan,{resources:this.currentPlan.constitute||this.currentPlan.teaching_plan_info||[]})},methods:{colse:function(){this.$emit("update:planInfoDialog",!1)},submitInfo:function(){var t=this;if(this.$refs.detailForm.valiAll()){var e=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),a=i({},this.information,{period_id:this.currentHour.id,course_id:this.detailData.id});this.services.savePlan(a).then(function(a){e.close(),t.$message.success("操作成功!"),t.$emit("saveok",a.data)}).catch(function(a){e.close(),t.$message({message:a.message||"错误!",type:"error"})})}},addSelcet:function(t){log(t),this.information.resources=t,this.resourceDialog=!1},delChoosen:function(t){var e=this.information.resources.findIndex(function(e){return e.id===t});e>-1&&this.information.resources.splice(e,1)},relation:function(){this.parameter={course_id:this.detailData.id},this.resourceDialog=!0}}}},448:function(t,e,a){},449:function(t,e,a){},450:function(t,e,a){},451:function(t,e,a){"use strict";a.r(e);var i=a(452),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},452:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},n=(r(a(82)),a(27),r(a(544)));function r(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={props:["detailData","readOnly","exerciseDate","hourDate","services"],components:{ExerciseInfo:n.default},data:function(){return{information:{},exerciseDialog:!1,classHour:this.hourDate,currentExerise:null,list:[],selecetArray:[]}},created:function(){var t=this;this.exerciseDate.forEach(function(e){t.$set(e,"isShow",!1)}),this.list=[].concat(s(this.exerciseDate),s(this.list))},methods:{getInfo:function(){var t=this;this.services.getInfo({id:this.detailData.id}).then(function(e){t.information=e.data,t.retailers=e.data.retailers,t.xRead=e.data["x-read"],t.metadata=e.data.pro_attributes})},openDetail:function(t){this.currentExerise=t,this.exerciseDialog=!0},add:function(){this.list.push({name:"",id:"",is_auto:!1,isShow:!0,action:"add"})},save:function(t){var e=this;if(!this.detailData.id)return this.$message.warning("请先保存基本信息后再保存!");this.services.save(i({},t,{course_id:this.detailData.id})).then(function(t){e.services.getList({id:e.detailData.id}).then(function(t){e.$emit("change")})})},delChoosen:function(t,e){var a=this,i=[];t?(i.push(t),i.length>0&&this.$confirm("是否删除?").then(function(t){a.services.del({id:i}).then(function(t){a.$emit("change")})}).catch(function(t){})):this.list.splice(e,1)},modify:function(t){t.id&&(t.isShow=!t.isShow)},selecet:function(t,e){this.list[t].is_auto=e},isDisabled:function(t,e){var a=t.id==e.period_id;return a&&!this.selecetArray.includes(t.id)&&this.selecetArray.push(t.id),e.id||(a=!this.selecetArray.includes(t.id)),!a}},watch:{exerciseDate:function(t){var e=this;t.forEach(function(t){t.id&&e.$set(t,"isShow",!1)}),this.list=t},hourDate:function(t){this.classHour=t}}}},453:function(t,e,a){"use strict";a.r(e);var i=a(454),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},454:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(a(82));var i=r(a(545)),n=r(a(374));function r(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","readOnly","currentExerise","exerciseDialog","services"],components:{Examinations:i.default,Resource:n.default},data:function(){return{exerciseList:[],detailDialog:!1,currentDate:null,currentDateIndex:null,resourceDialog:!1,curSoucesList:[],parameter:{}}},created:function(){var t=this;this.services?this.services.getInfo({id:this.currentExerise.id}).then(function(e){t.exerciseList=e.data.practice_list||[]}):(log(this.currentExerise),this.exerciseList=this.currentExerise.practice_list)},methods:{colse:function(){this.$emit("update:exerciseDialog",!1)},getAnswer:function(t){return"judgment"==t.type?t.answer&&"false"!==t.answer?"正确":"错误":"multi"==t.type?t.answer.replace(/,/g,""):t.answer},saveExamin:function(t){Object.entries(this.currentDate).length?this.$set(this.exerciseList,this.currentDateIndex,t):this.exerciseList.push(t)},saveInfo:function(){var t=this;this.services.saveExercise({questions:this.exerciseList,paper_id:this.currentExerise.id}).then(function(e){t.$message.success("保存成功!")})},detail:function(t,e){this.currentDate=t||{};var a=this.exerciseList.findIndex(function(e){return t&&e.id===t.id});this.currentDateIndex=a>-1?a:e,this.detailDialog=!0},del:function(t,e){var a=this;this.$confirm("是否删除?").then(function(t){var i=a.exerciseList.findIndex(function(t){return t.id})||e;a.exerciseList.splice(i,1)}).catch(function(t){})},sort:function(t,e){var a=this.exerciseList.findIndex(function(e){return e.id==t.id}),i="up"==e?-1:1,n=this.exerciseList;n.splice.apply(n,[a,1].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(n.splice(a+i,1,n[a]))))},add:function(t,e){var a=this.exerciseList.findIndex(function(e){return e.id===t.id});this.currentDateIndex=a>-1?a:e,this.curSoucesList=t.tp_constitute_info||[],this.resourceDialog=!0,this.parameter.course_id=this.detailData.id},addSelcet:function(t){this.exerciseList[this.currentDateIndex].tp_constitute_info=t,this.exerciseList[this.currentDateIndex].tp_constitute_id=t.map(function(t){return t.tp_constitute_id}),this.resourceDialog=!1},delConstitute:function(t,e,a){log(e,e.tp_constitute_info),this.$confirm("你真的要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=e.tp_constitute_info||[],i=a.findIndex(function(e){return t.id===e.id}),n=e.tp_constitute_id||[],r=n.findIndex(function(e){return t.id===e.id});n.splice(r,1),a.splice(i,1)}).catch(function(){})}},computed:{totalScore:function(){var t=0;return this.exerciseList.forEach(function(e){t+=e.score}),t}},filters:{numberToChinese:function(t){if(!/^\d*$/.test(t))return"Null";"number"==typeof t&&(t=t.toString());var e=new RegExp("([0]*)([1-9]+[0-9]+)","g"),a="千百十亿千百十万千百十个";if((t=t.replace(e,"$2")).length>a.length)return"Null";var i="",n=t.length;a=a.substr(a.length-n);for(var r=0;r<n;r++)i+="零一二三四五六七八九".charAt(t[r])+a.charAt(r);for(var s=(i=(i=i.substr(0,i.length-1)).replace(/零(千|百|十)/g,"零").replace(/(零)+/g,"零").replace(/零(亿|万)/g,"$1")).length-1;s>0&&"零"==i[s];s--)i=i.replace(i[s],"");return i},numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]}}}},455:function(t,e,a){"use strict";a.r(e);var i=a(456),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},456:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=a(82);(i=r)&&i.__esModule;e.default={props:["readOnly","currentDate","detailDialog"],components:{},data:function(){return{answerType:[{label:"单选题",value:"single"},{label:"多选题",value:"multi"},{label:"主观题",value:"subjective_item"},{label:"判断题",value:"judgment"},{label:"填空题",value:"fill"}],scoreList:[1,2,3,4,5,6,7,8,9,10],defaultOption:[{title:"",isAnswer:!1},{title:"",isAnswer:!1},{title:"",isAnswer:!1},{title:"",isAnswer:!1}],currentDetail:n({},this.currentDate)}},created:function(){this.currentDetail.option&&(this.defaultOption=[].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(this.currentDetail.option)))},methods:{colse:function(){this.$emit("update:detailDialog",!1)},addOption:function(){if(this.defaultOption.length>26)return this.$message.warning("禁止添加太多!");this.defaultOption.push({title:"",isAnswer:!1,action:"add"})},removeOption:function(t){if(this.defaultOption.length<=2)return this.$message.warning("选择项不能少于2项");this.defaultOption.splice(t,1)},save:function(){var t=this;if(this.$refs.detailForm.valiAll()){var e=[];if("single"==this.currentDetail.type||"multi"==this.currentDetail.type){for(var a in this.defaultOption)!0!==this.defaultOption[a].isAnswer&&"true"!==this.defaultOption[a].isAnswer||e.push(this.numberToLetter(a));e=e.join(",")}else e=this.currentDetail[this.currentDetail.type];if(!this.currentDetail.score)return this.$message.error("分数不能为空!");if(log(e),"subjective_item"!=this.currentDetail.type&&0==e.length)return this.$message.error("答案不能为空!");var i=this.answerType.find(function(e){return e.value==t.currentDetail.type}).label;this.$emit("save",n({},this.currentDetail,{option:this.defaultOption,answer:e,type_name:i})),this.$emit("update:detailDialog",!1)}},selecet:function(t,e){"single"==this.currentDetail.type&&this.defaultOption.forEach(function(t){return t.isAnswer=!1}),this.defaultOption[t].isAnswer=e},numberToLetter:function(t){return["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][t]},slecetChange:function(){"single"==this.currentDetail.type&&(this.defaultOption.forEach(function(t){return t.isAnswer=!1}),this.defaultOption[0].isAnswer=!0)}}}},457:function(t,e,a){},458:function(t,e,a){},459:function(t,e,a){},460:function(t,e,a){},461:function(t,e,a){"use strict";a.r(e);var i=a(462),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},462:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=c(a(158)),s=a(27),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(509)),l=(c(a(82)),c(a(374))),u=c(a(430));function c(t){return t&&t.__esModule?t:{default:t}}function d(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}function f(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}e.default={props:["type","detailData","detailDialog","readOnly"],components:{Resource:l.default,VaForm:r.default,Info:u.default},data:function(){return{detail:{constitute:[]},previewImgUrl:null,imgUrl:null,resourceDialog:!1,infoDialog:!1,infoData:{},dataList:{},infoValue:"info",isShowAuthor:!1,chocesArray:[]}},created:function(){this.detail=n({},this.detailData),log(11111,this.detail)},methods:{getDetail:function(){var t=this;o.getInfo({id:this.detailData.id}).then(function(e){t.detail=e.data,t.previewImgUrl=e.data.img_src,t.imgUrl=e.data.path,t.detail.img=e.data.path,t.detail.constitute=e.data.constitute,t.chocesArray=[].concat(f(e.data.constitute)),log(11111,t.chocesArray)})},submitDetail:function(){var t=d(i.default.mark(function t(){var e,a,n,r,l=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=4;break}return log("验证失败"),t.abrupt("return");case 4:if(e=this.$refs.fenmian.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),t.prev=6,!e){t.next=10;break}return t.next=10,(0,s.getTask)(e).then(function(t){l.detail.img=t.data.path});case 10:return t.next=12,o.save(this.detail).then(function(t){l.$emit("saveok")});case 12:this.$nextTick(function(){a.close(),l.$emit("update:detailDialog",!1)}),t.next=26;break;case 15:t.prev=15,t.t0=t.catch(6),n=t.t0.payload,a.close(),t.t1=i.default.keys(n.messages);case 20:if((t.t2=t.t1()).done){t.next=26;break}return r=t.t2.value,this.$message.error(n.messages[r]),t.abrupt("break",26);case 26:case"end":return t.stop()}},t,this,[[6,15]])}));return function(){return t.apply(this,arguments)}}(),previewImg:function(t){var e=t.target.files[0];this.previewImgUrl=URL.createObjectURL(e)},delDetail:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],i={},n=this.$refs.detailForm.$el,r=n.querySelectorAll("[name='ids']:checked");if(e.length?i[e]=a:r.forEach(function(t){i[t.value]=t.getAttribute("data-type"),e.push(t.value)}),!e.length)return this.$message.error("请确认你要移除的内容！");e.forEach(function(e){var a=t.detail.constitute.findIndex(function(t){return t.c_id==e||t.id==e}),i=t.chocesArray.findIndex(function(t){return t.c_id==e||t.id==e});a>-1&&t.detail.constitute.splice(a,1),i>-1&&t.chocesArray.splice(a,1)}),n.querySelectorAll("input[type='checkbox']").forEach(function(t){t.checked=!1})},detailAddHandle:function(){var t=d(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.resourceDialog=!0;case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),bookDetailInfo:function(t,e,a){var i=this;this.isShowAuthor="1"!=e;var n=t.id,r=t.c_id;if(!o._themeDetail)return this.infoData=t,this.infoValue=a,void(this.infoDialog=!0);o._themeDetail({c_id:r,id:n,type:e}).then(function(t){i.infoData=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})},addSelcet:function(){this.detail.constitute=[].concat(f(this.chocesArray)),this.resourceDialog=!1},infoHandleClick:function(t){this.infoValue=t.name}}}},463:function(t,e,a){},464:function(t,e,a){"use strict";a.r(e);var i=a(465),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},465:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(u(a(82)),u(a(483))),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(406)),o=u(a(374)),l=a(27);function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:["type","detailData","detailDialog","readOnly","defaultData"],components:{Resource:o.default,Info:r.default},data:function(){return{infoData:this.detailData||{},resourceData:this.detailData,checkedSeries:[],file:null,types:null,series:null,previewImgUrl:null,resourceDialog:!1,resList:[],page:null,currentType:null}},created:function(){if(this.detailData&&this.detailData.id&&(this.getDetail(),this.getSerList(),this.getColList()),this.defaultData,this.defaultData){var t=this.defaultData,e=t.column_all,a=t.columns_info,i=t.category_all;this.infoData=this.defaultData,this.series=e,this.types=i,this.checkedSeries=a?a.map(function(t){return t.id}):[],this.currentType=a[0]?a[0].id:""}},methods:{getRrsouce:function(){var t=this;s.seriesResList({id:this.detailData.id,class_id:this.currentType}).then(function(e){t.resList=e.data})},getDetail:function(){var t=this;s.detail({id:this.detailData.id}).then(function(e){t.infoData=e.data,t.checkedSeries=e.data.columns_info?e.data.columns_info.map(function(t){return t.id}):[]})},getSerList:function(){var t=this;s.seriesList({type:"1"}).then(function(e){t.types=e.data})},getColList:function(){var t=this;s.seriesList({type:"2"}).then(function(e){t.series=e.data})},previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},submitInfo:function(){var t,e=(t=i.default.mark(function t(){var e,a,r,o=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=this.$refs.cover.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),r=n({},this.infoData,{columns:this.checkedSeries.join(",")}),!e){t.next=9;break}return t.next=9,(0,l.getTask)(e).then(function(t){r.img=t.data.path});case 9:return t.next=11,s.save(r).then(function(t){o.detailData.id||(o.infoData=t.data),a.close(),o.$message.success("操作成功!"),o.$emit("saveok",t.data)}).catch(function(t){a.close(),o.$message({message:t.message||"错误!",type:"error"})});case 11:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}(),addSelcet:function(t){var e=this;s.addSerRes({id:this.detailData.id,class_id:this.currentType,rel_id:t.map(function(t){return t.id})}).then(function(t){e.getRrsouce(),e.resourceDialog=!1})},handleClick:function(t,e){if("resource"==t.name){if(this.currentType=this.checkedSeries[0],!this.detailData||!this.detailData.id||!this.currentType)return;this.getRrsouce()}},add:function(){return this.detailData&&this.detailData.id?this.currentType?void(this.resourceDialog=!0):this.$message.warning("请先添加栏目"):this.$message.warning("请先保存资源")},del:function(t){var e=this;this.$confirm("是否删除?").then(function(a){s.deleteSerRes({id:e.detailData.id,class_id:e.currentType,rel_id:t}).then(function(t){e.getRrsouce()})}).catch(function(t){})}},computed:{getNav:function(){var t=this;return this.series.filter(function(e){if(t.checkedSeries.includes(e.id))return e})}},watch:{currentType:function(t,e){e&&t!=e&&(this.detailData,this.getRrsouce())}}}},466:function(t,e,a){"use strict";a.r(e);var i=a(467),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},467:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(u(a(82)),a(27)),s=(l(r),l(a(406))),o=u(a(552));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:["detailData","infoData","readOnly","detailDialog"],created:function(){this.detailData&&this.getDetail(),this.getSerList(),this.getColList()},components:{Resource:o.default},data:function(){return{information:this.infoData,previewImgUrl:null,imgUrl:null,file:null,isIndeterminate:!0,checkAll:!1,checkedSeries:[],types:null,series:null}},watch:{checkedSeries:function(){this.$emit("checkedSer")}},methods:{getDetail:function(){var t=this;s.detail({id:this.detailData.id}).then(function(e){t.information=e.data,t.checkedSeries=e.data.columns.split(",")})},getSerList:function(){var t=this;s.seriesList({type:"1"}).then(function(e){t.types=e.data})},getColList:function(){var t=this;s.seriesList({type:"2"}).then(function(e){t.series=e.data})},previewImg:function(t){var e=t.target.files[0];this.imgFile=e,this.previewImgUrl=URL.createObjectURL(e)},submitInfo:function(){var t,e=(t=i.default.mark(function t(){var e,a,o,l=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$refs.detailForm.valiAll()){t.next=3;break}return t.abrupt("return");case 3:if(e=this.$refs.cover.files[0],a=this.$loading({text:"正在上传",background:"rgba(0, 0, 0, 0.8)"}),o=n({},this.information,this.types,this.series,{columns:this.checkedSeries.join(",")}),!e){t.next=9;break}return t.next=9,(0,r.getTask)(e).then(function(t){o.img=t.data.path});case 9:return t.next=11,s.save(o).then(function(t){l.detailData.id||(l.information=t.data),a.close(),l.$message.success("操作成功!"),l.$emit("saveok",t.data)}).catch(function(t){a.close(),l.$message({message:t.message||"错误!",type:"error"})});case 11:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})});return function(){return e.apply(this,arguments)}}()}}},468:function(t,e,a){"use strict";a.r(e);var i=a(469),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},469:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(406)),n=s(a(374)),r=s(a(483));function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:["resourceData","detailData","checkedSeries"],created:function(){log("122",this.checkedSeries),this.getList()},data:function(){return{type:"example",reslist:this.resourceData,resourceDialog:!1,resList1:[{name:"杀人案",number:"A1"},{name:"纵火案",number:"V2"},{name:"盗窃案",number:"E3"}],resList2:[{name:"国情",number:"A1"},{name:"权律二",number:"B2"},{name:"法律",number:"C3"}]}},components:{AddResource:n.default,Info:r.default},methods:{getList:function(){var t=this;i.seriesResList({id:this.detailData.id}).then(function(e){t.reslist=e.data})},addSelcet:function(t){this.curSoucesList=t,this.resourceDialog=!1}}}},470:function(t,e,a){},471:function(t,e,a){},472:function(t,e,a){},474:function(t,e,a){"use strict";var i=a(382);a.n(i).a},475:function(t,e,a){"use strict";a.r(e);var i=a(505),n=a(396);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(495);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"5f842abc",null);o.options.__file="group.vue",e.default=o.exports},476:function(t,e,a){"use strict";var i=a(385);a.n(i).a},477:function(t,e,a){"use strict";a.r(e);var i=a(504),n=a(399);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(496);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"cdfb2aa0",null);o.options.__file="audio.vue",e.default=o.exports},478:function(t,e,a){"use strict";var i=a(388);a.n(i).a},479:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/video_product",t)},e.save=function(t){var e=t.id,a=l(t,["id"]);if(e)return(0,n.request_put)("/api/video_product/"+e,a);return(0,n.request_post)("/api/video_product",a)},e.getInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(d(t),t)},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/video_product/delete",t)},e.urgentDigital=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)("/api/video_product/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)("/api/video_product/audits",t)},e.issuance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]);return(0,n.request_put)(c({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})},e.addGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/video_product/groups",t)},e.modifyGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)(u(t),t)},e.deleteGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_delete)(f({id:t.id[0]}),t)},e.listGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/video_product/groups",t)},e.moveGroup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.rel_id=t.id,delete t.id,(0,n.request_put)("/api/groups/video_product",t)},e.add=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/video_product/component",t)};var i,n=a(4),r=a(8),s=(i=r)&&i.__esModule?i:{default:i},o=a(83);function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}s.default.compile("/api/video_product/:id");var u=s.default.compile("/api/video_product/:id/groups"),c=s.default.compile("/api/comproduct/:id/issuance"),d=(s.default.compile("/api/video_product/:id/audits"),s.default.compile("/api/video_product/:id")),f=s.default.compile("/api/video_product/:id/groups")},480:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("div",{staticClass:"dialogs"},[t.readerDialog?a("Reader",{attrs:{readerDialog:t.readerDialog,readerId:t.readerId,version:"draft"},on:{"update:readerDialog":function(e){t.readerDialog=e}}}):t._e()],1),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("div",{staticClass:"div"},[a("form",{ref:"infoForm",staticClass:"infoForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("span",{staticClass:"types"},[a("span",[t._v(" "+t._s(t.infoData.type_name))]),a("span",[t._v(" 创建时间: "+t._s(t.infoData.create_time))])])]),t.isAuthor?t._e():a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.author},on:{input:function(e){e.target.composing||t.$set(t.infoData,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.tag},on:{input:function(e){e.target.composing||t.$set(t.infoData,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("详情:")]),1==t.infoData.type?a("el-button",{attrs:{title:"预览",size:"mini",type:"primary",plain:""},on:{click:function(e){t.openReader(t.infoData)}}},[t._v("预览")]):t._e()],1),t.detailType&&3!=t.infoData.type?a("div",{staticClass:"group wailianinput"},[a("div",{staticClass:"label"}),a("span",[a("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.infoData.preview}})])]):t._e(),t.hassVideo||4==t.infoData.type?a("div",{staticClass:"group detailmain wailian"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[t.hassVideo?a("video",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),4==t.infoData.type?a("audio",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),a("span",{staticClass:"msg"},[a("div",{staticClass:"type"},[t._v("格式:"),a("span",{staticClass:"val",domProps:{textContent:t._s(t.infoData.format)}})]),a("div",{staticClass:"size"},[t._v("大小:"),a("span",{staticClass:"val",domProps:{textContent:t._s((t.infoData.size/1024).toFixed(2)+"KB")}})])])])]):t._e(),a("div",{staticClass:"group detailmain"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[a("img",{staticClass:"coverImg",attrs:{src:t.infoData.img_src||t.infoData.img}}),3==t.infoData.type?a("img",{staticClass:"coverImg",attrs:{src:t.infoData.preview}}):t._e()])]),10==t.infoData.type?a("div",{staticClass:"group"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("作者")]),a("th",[t._v("发布时间")])])]),a("tbody",t._l(t.infoData.constitute,function(e,i){return a("tr",[a("td",{domProps:{textContent:t._s(e.name)}}),a("td",{domProps:{textContent:t._s(e.tag)}}),a("td",{domProps:{textContent:t._s(e.author)}}),a("td",{domProps:{textContent:t._s(e.create_time)}})])}))])]):t._e()])])]),a("el-tab-pane",{attrs:{label:"元数据",name:"data"}},[a("div",{staticClass:"meta"},t._l(t.infoData.attributes,function(e,i){return t.infoData?a("div",{staticClass:"group rowWrap"},[a("div",{staticClass:"label",domProps:{textContent:t._s(i+1)}}),a("span",{staticClass:"form-control left",domProps:{textContent:t._s(e.key)}}),a("span",{staticClass:"form-control right",domProps:{textContent:t._s(e.value)}})]):t._e()}))])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},481:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.list?a("div",{staticClass:"tableWrap"},[t.isShow&&!t.onlyShow?a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("图集")]),a("el-radio-button",{attrs:{label:"2"}},[t._v("视频集")]),a("el-radio-button",{attrs:{label:"3"}},[t._v("音频集")])],1):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("类型")]),t.isLabelHide?t._e():a("th",[t._v("标签")]),a("th",[t._v("创建时间")]),a("th",{attrs:{width:"100"}},[t._v("操作")])])]),a("tbody",[t.list.length?t._e():a("tr",[a("td",{staticClass:"colspan",attrs:{colspan:t.isLabelHide?4:5}},[t._v("暂无数据")])]),t._l(t.list,function(e,i){return a("tr",[a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.name))])]),a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.type_name))])]),t.isLabelHide?t._e():a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.tag))])]),a("th",[a("div",{staticClass:"th-name"},[t._v(t._s(e.create_time))])]),a("th",[a("div",{staticClass:"icon icon-detail",attrs:{title:"详情"},on:{click:function(a){t.$emit("detail",e)}}}),t.onlyShow?t._e():a("div",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(a){t.$emit("del",e)}}})])])})],2)])],1):t._e()},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},482:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.infoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:function(e){t.$emit("update:infoDialog",!1)}}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"详情",name:"ff"}})],1)],1),a("form",{ref:"infoForm",staticClass:"infoForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("span",{staticClass:"types"},[a("span",[t._v(" "+t._s(t.infoData.type_name))]),a("span",[t._v(" 创建时间: "+t._s(t.infoData.create_time))])])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.infoData.tag,expression:"infoData.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.tag},on:{input:function(e){e.target.composing||t.$set(t.infoData,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:""},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("详情:")])]),t.detailType&&3!=t.infoData.type?a("div",{staticClass:"group wailianinput"},[a("div",{staticClass:"label"}),a("span",[a("input",{ref:"otherImgInput",staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.infoData.preview}})])]):t._e(),t.hassVideo||4==t.infoData.type?a("div",{staticClass:"group detailmain wailian"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[t.hassVideo?a("video",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),4==t.infoData.type?a("audio",{attrs:{src:t.infoData.preview,controls:""}}):t._e(),a("span",{staticClass:"msg"},[a("div",{staticClass:"type"},[t._v("格式:"),a("span",{staticClass:"val",domProps:{textContent:t._s(t.infoData.format)}})]),a("div",{staticClass:"size"},[t._v("大小:"),a("span",{staticClass:"val",domProps:{textContent:t._s(((this.infoData.size||0)/1024).toFixed(2)+"KB")}})])])])]):t._e(),a("div",{staticClass:"group detailmain"},[a("div",{staticClass:"label"}),a("span",{staticClass:"wrap"},[3==t.infoData.type?a("img",{staticClass:"coverImg",attrs:{src:t.infoData.preview_path}}):t._e(),a("img",{staticClass:"coverImg",attrs:{src:t.infoData.img_src||t.infoData.img,"else-if":""}})])]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,isOption:!1}})],1)]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$emit("update:infoDialog",!1)}}},[t._v("取消")])],1)])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},483:function(t,e,a){"use strict";a.r(e);var i=a(570),n=a(466);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(554);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"859fb5f4",null);o.options.__file="info.vue",e.default=o.exports},491:function(t,e,a){"use strict";a.r(e);var i=a(503),n=a(393);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(492);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"51535bf4",null);o.options.__file="detail.vue",e.default=o.exports},492:function(t,e,a){"use strict";var i=a(395);a.n(i).a},493:function(t,e,a){"use strict";a.r(e);var i=a(494),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},494:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(a(516)),n=d(a(506)),r=d(a(743)),s=d(a(531)),o=d(a(507)),l=d(a(508)),u=d(a(551)),c=d(a(491));function d(t){return t&&t.__esModule?t:{default:t}}e.default={components:{releaseDetail:i.default,audioDetail:n.default,themeDetail:r.default,videoDetail:s.default,courseDetail:o.default,resourceDetail:l.default,seriesDetail:u.default,articlesDetail:c.default},props:{detailVisible:Boolean,defaultData:Object,detailValue:String,detailType:String,type:{type:Number,default:1}},data:function(){return{detailDialoaType:"info"}},created:function(){log(this.type),1!=this.type&&"metadata"==this.detailValue?this.detailDialoaType="info":this.detailDialoaType=this.detailValue},computed:{},methods:{colse:function(){this.$emit("update:detailVisible",!1)},currComp:function(){switch(this.type){case 1:return"themeDetail";case 5:return"videoDetail";case 4:return"releaseDetail";case 7:case 9:return"courseDetail";case 8:return"resourceDetail";case 3:case 6:return"audioDetail";case 10:return"seriesDetail";case 11:return"articlesDetail"}}},mounted:function(){}}},495:function(t,e,a){"use strict";var i=a(398);a.n(i).a},496:function(t,e,a){"use strict";var i=a(401);a.n(i).a},497:function(t,e,a){"use strict";a.r(e);var i=a(498),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},498:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a(3)),n=o(a(511)),r=l(a(430)),s=o(a(390));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={components:{Info:r.default},props:{type:{type:String,default:"info"},isKnowledge:{type:Boolean,default:!1},isMetadata:{type:Boolean,default:!0},isAuthor:{type:Boolean,default:!0},item:Object,defaultData:Object},data:function(){return{currGroupId:null,currGroup:null,detailId:"",gList:null,list:null,infoDialog:!1,infoData:{},infoValue:"detail",detailData:{}}},created:function(){this.defaultData&&(this.detailData=this.defaultData,this.gList=this.detailData.knowledge,this.currGroup=this.gList[0],this.list=this.gList[0]?this.gList[0].nowledge_info:[])},methods:{handleClick:function(t,e){"Knowledge"===t.name&&this.gList},handKnowledgeClick:function(t){this.currGroupId=t.id,this.currGroup=t;var e=this.gList.findIndex(function(e){return e.id===t.id});this.list=this.gList[e].nowledge_info},getGlist:function(){var t=u(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.listGroup({id:this.item.entity_id||this.item.foreign_id}).then(function(t){var a=t.data.findIndex(function(t){return e.currGroupId===t.id}),i=a>-1?a:0;e.gList=t.data,t.data&&t.data.length>0?(e.currGroupId=t.data[i].id,e.currGroup=t.data[i],e.getList()):log("暂无分组!")}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getList:function(){var t=u(i.default.mark(function t(){var e=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.listKnowledge({id:this.item.entity_id||this.item.foreign_id,group_id:this.currGroupId}).then(function(t){e.list=t.data,e.page=t.page}).catch(function(t){var a=t.payload;for(var i in a.messages){e.$message.error(a.messages[i]);break}});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),infoHandleClick:function(t){this.infoValue=t.name},bookDetailInfo:function(t,e,a){var i=this,n=t.content,r=n.id,o=n.c_id;s._themeDetail({c_id:o,id:r,type:e}).then(function(t){i.infoData=t.data,i.infoValue=a,i.infoDialog=!0}).catch(function(t){var e=t.payload;for(var a in e.messages){i.$message.error(e.messages[a]);break}})}}}},499:function(t,e,a){},500:function(t,e,a){},503:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[!t.readOnly&&t.detailReadOnly?a("el-button",{staticClass:"modifyBtn",attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.detailReadOnly=!1}}},[t._v("修改")]):t._e(),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"info"}},[a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly||t.detailReadOnly}},t._l(t.getMainList,function(e){return a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*"+t._s(e.label)+":")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{type:'required'}"},{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:e.isDdisabled&&e.value&&e.value.length>=10},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])})),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{ype:"info"},on:{click:function(e){t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitDetail()}}},[t._v("确定")])],1)])])],1)]),a("el-tab-pane",{attrs:{label:"元数据",name:"data"}},[a("MetaData",{attrs:{metadata:t.metadata,readOnly:t.readOnly||t.detailReadOnly},on:{submit:function(e){t.submitDetail()},back:function(e){t.$emit("update:detailDialog",!1)}}})],1),a("el-tab-pane",{attrs:{label:"目录",name:"ml"}},[a("div",{staticClass:"muluWrap"},[a("div",{staticClass:"left"},[a("el-tree",{staticClass:"muluList",attrs:{data:t.ml,props:t.defaultProps,"node-key":"id"},on:{"node-click":t.handleNodeClick}})],1),a("div",{staticClass:"right"},[a("fieldset",{attrs:{disabled:t.readOnly||t.detailReadOnly}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"50"}},[t._v("序号")]),a("th",[t._v(" 名称")]),a("th",{attrs:{width:"110"}},[t._v(" 调序")])])]),a("tbody",t._l(t.currMulu,function(e,i){return a("tr",[a("th",{domProps:{textContent:t._s(i+1)}}),a("th",{staticClass:"th-name",domProps:{textContent:t._s(e.chapter_name)}}),a("th",[a("div",{staticClass:"div"},[a("el-button",{staticClass:"iconRotate up",attrs:{disabled:0==i,icon:"el-icon-back",size:"mini"},on:{click:function(a){0!=i&&t.muluSort(e,i,"up")}}}),a("el-button",{staticClass:"iconRotate down",attrs:{disabled:i+1==t.currMulu.length,icon:"el-icon-back",size:"mini"},on:{click:function(a){i+1!=t.currMulu.length&&t.muluSort(e,i,"down")}}})],1)])])}))])])])])])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},504:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div box"},[t._m(0),a("el-tree",{attrs:{data:t.audioList,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,n=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[t._v(t._s(n.name))]),a("span",{staticClass:"options",staticStyle:{float:"right"}},[a("div",{staticClass:"icon icon-detail",attrs:{title:"详情"},on:{click:function(e){t.$emit("detail",n,n.children)}}}),t.readOnly?t._e():a("div",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(e){t.del(n,i)}}})])])}}])})],1)},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[this._v("组名称")]),e("th",{attrs:{width:"100"}},[this._v("操作")])])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},505:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.groupDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:t.setTitle,name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm rowWrap"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息(必填)")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("组名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.group_name,expression:"information.group_name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.group_name},on:{input:function(e){e.target.composing||t.$set(t.information,"group_name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.price,expression:"information.price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.price},on:{input:function(e){e.target.composing||t.$set(t.information,"price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("最低定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.min_price,expression:"information.min_price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.min_price},on:{input:function(e){e.target.composing||t.$set(t.information,"min_price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主讲人:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.speaker,expression:"information.speaker"}],staticClass:"form-control",attrs:{type:"text",disabled:t.onlyShow},domProps:{value:t.information.speaker},on:{input:function(e){e.target.composing||t.$set(t.information,"speaker",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("试听地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.src,expression:"information.src"}],staticClass:"form-control",attrs:{type:"url",disabled:t.onlyShow},domProps:{value:t.information.src},on:{input:function(e){e.target.composing||t.$set(t.information,"src",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label",domProps:{textContent:t._s("2"==t.isMedia?"关联视频":"关联音频")}})]),a("div",{staticClass:"group"},[a("Tab",{ref:"video",attrs:{dataType:"audio",onlyShow:t.onlyShow,defaultList:t.list,detailData:t.item},on:{detail:function(e){return t.$emit("detail",e)},del:function(e){return t.del(e)}}}),t.onlyShow?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.$emit("open",t.addMediaType)}}},[t._v("新增")])],1)])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.onlyShow?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},506:function(t,e,a){"use strict";a.r(e);var i=a(559),n=a(424);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(530);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"6db31fe9",null);o.options.__file="detail.vue",e.default=o.exports},507:function(t,e,a){"use strict";a.r(e);var i=a(561),n=a(437);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(549);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"090170ef",null);o.options.__file="detail.vue",e.default=o.exports},508:function(t,e,a){"use strict";a.r(e);var i=a(562),n=a(461);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(550);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"464ddc8a",null);o.options.__file="detail.vue",e.default=o.exports},509:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/resource",t)},e.save=function(t){var e=t.id,a=l(t,["id"]);if(e)return(0,n.request_put)(u({id:e}),a);return(0,n.request_post)("/api/resource",a)},e.getInfo=function(t){return(0,n.request_get)(d({id:t}))},e.del=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/resource/delete",t)},e.urgentDigital=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)("/api/resource/urgent",t)},e.audits=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_put)("/api/resource/audits",t)},e.issuance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=l(t,["id"]);return(0,n.request_put)(c({id:e}),a).then(function(t){return(0,o.suance)({id:e,info:t.data}),t})};var i,n=a(4),r=a(8),s=(i=r)&&i.__esModule?i:{default:i},o=a(83);function l(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}var u=s.default.compile("/api/resource/:id"),c=s.default.compile("/api/comproduct/:id/issuance"),d=s.default.compile("/api/resource/:id")},516:function(t,e,a){"use strict";a.r(e);var i=a(558),n=a(409);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(527);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"a4ac0ef4",null);o.options.__file="detail.vue",e.default=o.exports},517:function(t,e,a){"use strict";a.r(e);var i=a(565),n=a(411);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(520);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"a0f8a500",null);o.options.__file="info.vue",e.default=o.exports},518:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.homeInfo=function(){return(0,n.request_get)("/api/home/statistics")},e.getInfo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)(o(t))},e.save=function(t){var e=t.id,a=s(t,["id"]);if(e)return(0,n.request_put)(o({id:e}),a);return(0,n.request_post)("/api/comproduct/add",a)},e.saveInfo=function(t){t.id;var e=s(t,["id"]);return(0,n.request_post)("/api/comproduct/attributes",e)};var i,n=a(4),r=a(8);function s(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}var o=((i=r)&&i.__esModule?i:{default:i}).default.compile("/api/comproduct/:id")},520:function(t,e,a){"use strict";var i=a(413);a.n(i).a},521:function(t,e,a){"use strict";a.r(e);var i=a(571),n=a(414);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(526);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"73fb31dc",null);o.options.__file="structure.vue",e.default=o.exports},522:function(t,e,a){"use strict";a.r(e);var i=a(572),n=a(416);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(523);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"60882cdf",null);o.options.__file="book.vue",e.default=o.exports},523:function(t,e,a){"use strict";var i=a(418);a.n(i).a},524:function(t,e,a){"use strict";a.r(e);var i=a(573),n=a(419);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(525);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"28b225ba",null);o.options.__file="eBook.vue",e.default=o.exports},525:function(t,e,a){"use strict";var i=a(421);a.n(i).a},526:function(t,e,a){"use strict";var i=a(422);a.n(i).a},527:function(t,e,a){"use strict";var i=a(423);a.n(i).a},528:function(t,e,a){"use strict";a.r(e);var i=a(569),n=a(426);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(529);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"6d1e53df",null);o.options.__file="info.vue",e.default=o.exports},529:function(t,e,a){"use strict";var i=a(428);a.n(i).a},530:function(t,e,a){"use strict";var i=a(429);a.n(i).a},531:function(t,e,a){"use strict";a.r(e);var i=a(560),n=a(431);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(534);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"3aca1e8a",null);o.options.__file="detail.vue",e.default=o.exports},532:function(t,e,a){"use strict";a.r(e);var i=a(568),n=a(433);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(533);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"60ee6b2c",null);o.options.__file="info.vue",e.default=o.exports},533:function(t,e,a){"use strict";var i=a(435);a.n(i).a},534:function(t,e,a){"use strict";var i=a(436);a.n(i).a},535:function(t,e,a){"use strict";a.r(e);var i=a(567),n=a(439);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(536);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"6ac60c4b",null);o.options.__file="info.vue",e.default=o.exports},536:function(t,e,a){"use strict";var i=a(441);a.n(i).a},537:function(t,e,a){"use strict";a.r(e);var i=a(566),n=a(442);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(542);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"ec7fbc10",null);o.options.__file="hour.vue",e.default=o.exports},538:function(t,e,a){"use strict";a.r(e);var i=a(575),n=a(444);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(541);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"60cae137",null);o.options.__file="hourInfo.vue",e.default=o.exports},539:function(t,e,a){"use strict";a.r(e);var i=a(577),n=a(446);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(540);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"39436701",null);o.options.__file="plan.vue",e.default=o.exports},540:function(t,e,a){"use strict";var i=a(448);a.n(i).a},541:function(t,e,a){"use strict";var i=a(449);a.n(i).a},542:function(t,e,a){"use strict";var i=a(450);a.n(i).a},543:function(t,e,a){"use strict";a.r(e);var i=a(564),n=a(451);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(548);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"089e0ba7",null);o.options.__file="exercise.vue",e.default=o.exports},544:function(t,e,a){"use strict";a.r(e);var i=a(576),n=a(453);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(547);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"3997d8b2",null);o.options.__file="exerciseInfo.vue",e.default=o.exports},545:function(t,e,a){"use strict";a.r(e);var i=a(557),n=a(455);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(546);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"3e7d149f",null);o.options.__file="examinations.vue",e.default=o.exports},546:function(t,e,a){"use strict";var i=a(457);a.n(i).a},547:function(t,e,a){"use strict";var i=a(458);a.n(i).a},548:function(t,e,a){"use strict";var i=a(459);a.n(i).a},549:function(t,e,a){"use strict";var i=a(460);a.n(i).a},550:function(t,e,a){"use strict";var i=a(463);a.n(i).a},551:function(t,e,a){"use strict";a.r(e);var i=a(563),n=a(464);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(555);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"43b7ec0a",null);o.options.__file="detail.vue",e.default=o.exports},552:function(t,e,a){"use strict";a.r(e);var i=a(574),n=a(468);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(553);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"2c3acff6",null);o.options.__file="resource.vue",e.default=o.exports},553:function(t,e,a){"use strict";var i=a(470);a.n(i).a},554:function(t,e,a){"use strict";var i=a(471);a.n(i).a},555:function(t,e,a){"use strict";var i=a(472);a.n(i).a},557:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.detailDialog,top:"50px",width:"800px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"content"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*题目:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.currentDetail.question,expression:"currentDetail.question"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentDetail.question},on:{input:function(e){e.target.composing||t.$set(t.currentDetail,"question",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*分数:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentDetail.score,callback:function(e){t.$set(t.currentDetail,"score",e)},expression:"currentDetail.score"}},t._l(t.scoreList,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*类型:")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.slecetChange},model:{value:t.currentDetail.type,callback:function(e){t.$set(t.currentDetail,"type",e)},expression:"currentDetail.type"}},t._l(t.answerType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),"single"==t.currentDetail.type||"multi"==t.currentDetail.type?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*选项:")]),a("ul",{staticClass:"exerciseList",staticStyle:{display:"inline-block"}},t._l(t.defaultOption,function(e,i){return a("li",[a("span",{staticClass:"option"},[t._v(t._s(t.numberToLetter(i)))]),a("span",[a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:e.title,expression:"item.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.title},on:{input:function(a){a.target.composing||t.$set(e,"title",a.target.value)}}})]),a("span",["single"==t.currentDetail.type?a("el-checkbox",{attrs:{value:"true"===e.isAnswer||!0===e.isAnswer,label:t.numberToLetter(i)},on:{change:function(e){t.selecet(i,e)}}},[t._v("正确答案")]):t._e(),"multi"==t.currentDetail.type?a("el-checkbox",{attrs:{value:"true"===e.isAnswer||!0===e.isAnswer,label:t.numberToLetter(i)},on:{change:function(e){t.selecet(i,e)}}},[t._v("正确答案")]):t._e()],1),a("span",{staticClass:"el-icon-remove",on:{click:function(e){t.removeOption(i)}}})])})),a("div",{staticClass:"label"}),a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.addOption}},[t._v("新增选项")])],1):t._e(),"judgment"==t.currentDetail.type?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*答案:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentDetail.judgment,callback:function(e){t.$set(t.currentDetail,"judgment",e)},expression:"currentDetail.judgment"}},[a("el-option",{key:"1",attrs:{label:"正确",value:!0}}),a("el-option",{key:"2",attrs:{label:"错误",value:!1}})],1)],1):t._e(),"fill"==t.currentDetail.type?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*答案:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.currentDetail.fill,expression:"currentDetail.fill"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentDetail.fill},on:{input:function(e){e.target.composing||t.$set(t.currentDetail,"fill",e.target.value)}}})]):t._e(),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("解析:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentDetail.analysis,expression:"currentDetail.analysis"}],staticClass:"textarea",attrs:{type:"text"},domProps:{value:t.currentDetail.analysis},on:{input:function(e){e.target.composing||t.$set(t.currentDetail,"analysis",e.target.value)}}})])])]),a("div",{staticClass:"btns"})],1),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},558:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-tabs",{attrs:{value:t.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){return t.$emit("saveok",e)}}})],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Structure",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData}})],1),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){t.$emit("saveok")}}})],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},559:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{attrs:{type:t.resourceType,resourceDialog:t.resourceDialog,curSoucesList:t.curSoucesList},on:{"update:resourceDialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.infoDialog?a("ContentDetail",{attrs:{infoData:t.infoData,infoDialog:t.infoDialog},on:{"update:infoDialog":function(e){t.infoDialog=e}}}):t._e(),t.groupDialog?a("Group",{ref:"group",attrs:{item:t.currentItem,detailData:t.detailData,groupDialog:t.groupDialog,onlyShow:t.readOnly,isMedia:t.media},on:{"update:groupDialog":function(e){t.groupDialog=e},open:t.openResources,detail:t.detail,del:t.del,save:t.saveAudioOK}}):t._e(),a("el-tabs",{attrs:{value:t.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{ref:"info",attrs:{detailData:t.detailData,services:t.services,readOnly:t.readOnly,defaultData:t.defaultData},on:{close:function(e){t.$emit("update:detailDialog",!1)},saveok:function(e){return t.$emit("saveok",e)}}})],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Audio",{ref:"audio",attrs:{detailData:t.detailData,defaultData:t.defaultAList,media:t.media,readOnly:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.addVideo()}}},[t._v("新增组")])],1),1==t.media?a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){t.$emit("saveok")}}})],1):t._e()],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},560:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{attrs:{type:t.resourceType,resourceDialog:t.resourceDialog,curSoucesList:t.curSoucesList},on:{"update:resourceDialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.infoDialog?a("ContentDetail",{attrs:{infoData:t.infoData,infoDialog:t.infoDialog},on:{"update:infoDialog":function(e){t.infoDialog=e}}}):t._e(),a("el-tabs",{attrs:{value:t.type}},[a("el-tab-pane",{attrs:{label:"产品信息",name:"info"}},[a("Info",{ref:"info",attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData}}),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitDetail("detailForm")}}},[t._v("保存")])],1)],1),a("el-tab-pane",{attrs:{label:"产品结构",name:"structure"}},[a("Tab",{ref:"video",attrs:{dataType:"video",defaultList:t.curSoucesList,detailData:t.detailData,onlyShow:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.openResources("5")}}},[t._v("新增")])],1),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[a("Knowledge",{attrs:{detailData:t.detailData,readOnly:t.readOnly,defaultData:t.defaultData},on:{saveok:function(e){t.$emit("saveok")}}})],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},561:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-tabs",{attrs:{value:t.type||"info"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"info"}},[a("Info",{attrs:{detailData:t.detailData,infoDate:t.infoDate,services:t.services,readOnly:t.readOnly},on:{close:function(e){t.$emit("update:detailDialog",!1)},saveok:function(e){return t.$emit("saveok",e)}}})],1),a("el-tab-pane",{attrs:{label:"课时设置",name:"hour"}},[a("Hour",{attrs:{detailData:t.detailData,hourDate:t.hourDate,services:t.hourSever,readOnly:t.readOnly},on:{change:t.hourChange,restprice:t.restprice}})],1),a("el-tab-pane",{attrs:{label:"习题设置",name:"example"}},[a("Exercise",{attrs:{detailData:t.detailData,exerciseDate:t.exerciseDate,hourDate:t.hourDate,services:t.exerciseSever,readOnly:t.readOnly},on:{change:t.exerciseChange}})],1),a("el-tab-pane",{attrs:{label:"价格设置",name:"price"}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("使用授权课程价格:")]),a("span",[t._v(t._s(t.priceDate.share_course_price||0))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("使用共享资源价格:")]),a("span",[t._v(t._s(t.priceDate.share_resource_price||0))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置你的课程价格:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.priceDate.price,expression:"priceDate.price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.priceDate.price},on:{input:function(e){e.target.composing||t.$set(t.priceDate,"price",e.target.value)}}}),a("span",{staticClass:"price"},[t._v("*管理员会审核你的价格,价格不能低于授权课程价格+共享资源价格")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*预计收益:")]),a("span",[t._v("（设置价格 - 共享资源价格 - 使用授权课程价格）* 80%")])]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.savePrice}},[t._v("保存")])],1)])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},562:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{visible:t.infoDialog,width:"70%",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.infoDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("Info",{attrs:{type:t.infoValue,infoDialog:t.infoDialog,isAuthor:t.isShowAuthor,infoData:t.infoData},on:{infoClick:t.infoHandleClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.infoDialog=!1}}},[t._v("取消")])],1)]),t.resourceDialog?a("Resource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:t.chocesArray,isShowType:!0},on:{"update:resourceDialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),a("el-tabs",{attrs:{value:t.type||"info"}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*资源名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.name,expression:"detail.name"}],staticClass:"form-control",attrs:{vali:"",name:"name",type:"text",disabled:t.readOnly},domProps:{value:t.detail.name},on:{input:function(e){e.target.composing||t.$set(t.detail,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*授权价格:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.price,expression:"detail.price"}],staticClass:"form-control",attrs:{name:"price",type:"text",disabled:t.readOnly},domProps:{value:t.detail.price},on:{input:function(e){e.target.composing||t.$set(t.detail,"price",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.detail.abs,expression:"detail.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,name:"abs",type:"text",disabled:t.readOnly},domProps:{value:t.detail.abs},on:{input:function(e){e.target.composing||t.$set(t.detail,"abs",e.target.value)}}}),t.readOnly?t._e():a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.detail.abs?t.detail.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){t.$refs.fenmian.click()}}},[t._v("上传")])],1),a("div",{staticClass:"group fenmian"},[a("div",{staticClass:"label fenmain"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.detail.img_src,alt:"暂无图片"}}),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){t.previewImg(e)}}}),a("input",{staticClass:"hide",attrs:{name:"img",type:"text"},domProps:{value:t.imgUrl}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：118*160px")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("构成:")]),t.readOnly?t._e():a("div",{staticClass:"btn-right"},[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.delDetail()}}},[t._v("移除")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.detailAddHandle()}}},[t._v("添加")])],1)]),a("div",{staticClass:"group"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{width:"55"}},[a("input",{attrs:{type:"checkbox",name:"checkAll"},on:{click:function(e){t.$checkAll(e)}}}),a("span",[t._v("全选")])]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",{attrs:{width:"100"}},[t._v("操作")])])]),a("tbody",t._l(t.detail.constitute,function(e,i){return a("tr",[a("td",[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox",name:"ids","data-type":e.type},domProps:{value:e.id}})]),a("td",[a("div",{staticClass:"th-name",attrs:{title:e.name}},[t._v(t._s(e.name))])]),a("td",[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[a("span",{staticClass:"icon icon-detail",attrs:{title:"详情",type:"primary",size:"mini",plain:""},on:{click:function(a){t.bookDetailInfo(e,e.type,"info")}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{title:"移除","data-id":e.c_id,type:"primary",size:"mini",plain:""},on:{click:function(a){t.delDetail([e.c_id||e.id],e.type)}}})])])}))])])])])],1),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submitDetail}},[t._v("确定")])],1)])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},563:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("VaForm",{ref:"detailForm"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.name,expression:"infoData.name"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.name},on:{input:function(e){e.target.composing||t.$set(t.infoData,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系ID:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.link_id,expression:"infoData.link_id"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.link_id},on:{input:function(e){e.target.composing||t.$set(t.infoData,"link_id",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系简介:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.abs,expression:"infoData.abs"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.abs},on:{input:function(e){e.target.composing||t.$set(t.infoData,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.infoData.author,expression:"infoData.author"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.infoData.author},on:{input:function(e){e.target.composing||t.$set(t.infoData,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系类别:")]),a("el-select",{attrs:{maxlength:"20",disabled:t.readOnly},model:{value:t.infoData.category,callback:function(e){t.$set(t.infoData,"category",e)},expression:"infoData.category"}},t._l(t.types,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*类别编号:")]),a("span",{attrs:{type:"text"},domProps:{textContent:t._s(t.infoData.category)}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*栏目设置:")]),a("el-checkbox-group",{attrs:{disabled:t.readOnly,min:1,max:100},model:{value:t.checkedSeries,callback:function(e){t.checkedSeries=e},expression:"checkedSeries"}},t._l(t.series,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id,value:e.id}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("封面:")]),a("img",{staticClass:"img",attrs:{src:t.previewImgUrl||t.infoData.img_src}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("设置封面:")]),a("label",[t.readOnly?t._e():a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(e){t.$refs.cover.click()}}},[t._v("上传")]),a("input",{ref:"cover",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){t.previewImg(e)}}})],1)])])]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$emit("update:detailDialog",!1)}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitInfo("detailForm")}}},[t._v("确定")])],1)])],1),a("el-tab-pane",{attrs:{label:"资源",name:"resource"}},[t.resourceDialog?a("Resource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:[],type:"20-1",isShowType:!0},on:{"update:resourceDialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.checkedSeries&&t.series?a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small"},model:{value:t.currentType,callback:function(e){t.currentType=e},expression:"currentType"}},t._l(t.getNav,function(e){return a("el-radio-button",{attrs:{label:e.id}},[t._v(t._s(e.name))])})):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("类型")]),a("th",[t._v("操作")])])]),a("tbody",t._l(t.resList,function(e){return a("tr",[a("td",[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.type_name))]),a("td",[a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary"},on:{click:function(a){!t.readOnly&&t.del([e.rel_id])}}})])])}))]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.add()}}},[t._v("新增")])],1)],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},564:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.exerciseDialog?a("ExerciseInfo",{attrs:{detailData:t.detailData,exerciseDialog:t.exerciseDialog,currentExerise:t.currentExerise,services:t.services,readOnly:t.readOnly},on:{"update:exerciseDialog":function(e){t.exerciseDialog=e}}}):t._e(),a("table",{staticClass:"table"},[t._m(0),t.list?a("tbody",t._l(t.list,function(e,i){return a("tr",[a("td",[e.isShow?t._e():a("span",[t._v(t._s(e.name))]),e.isShow?a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticClass:"form-control",domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}}):t._e()]),a("td",[a("el-select",{attrs:{placeholder:"请选择",disabled:t.readOnly},model:{value:e.period_id,callback:function(a){t.$set(e,"period_id",a)},expression:"item.period_id"}},t._l(t.classHour,function(i){return a("el-option",{key:i.id,attrs:{label:i.name,value:i.id,disabled:t.isDisabled(i,e)}})}))],1),a("td",[a("div",{staticClass:"btns"},[e.id?a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){t.openDetail(e)}}}):t._e(),t.readOnly?t._e():a("span",{staticClass:"icon icon-publish",attrs:{size:"mini",title:"修改",type:"primary",plain:""},on:{click:function(a){t.modify(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-upload",attrs:{size:"mini",title:"保存",type:"primary",plain:""},on:{click:function(a){t.save(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){t.delChoosen(e.id,i)}}}),t.readOnly?t._e():a("el-checkbox",{attrs:{value:"true"===e.is_auto||!0===e.is_auto,label:"true"},on:{change:function(e){t.selecet(i,e)}}},[t._v("自动阅卷")])],1)])])})):t._e()]),a("div",{staticClass:"btns"},[t.list.length<t.hourDate.length&&!t.readOnly?a("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){t.add()}}},[t._v("新增习题")]):t._e()],1)],1)},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("关联习题")]),e("th",[this._v("选择课时")]),e("th",{attrs:{width:"180"}},[this._v("操作")])])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},565:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{visible:t.choiceDialog,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.choiceDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"选择"+t.title,name:"detail"}})],1)],1),a("form",{staticClass:"rowWrap"},[a("div",{staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"form-control",attrs:{placeholder:"输入查询"+t.title,type:"text"},domProps:{value:t.keyWord},on:{input:[function(e){e.target.composing||(t.keyWord=e.target.value)},t.searchAuthor]}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.creatAuthor}},[t._v("创建新"+t._s(t.title))])],1),a("ul",{staticClass:"authorListForm"},t._l(t.gauthorList,function(e){return a("li",[a("input",{ref:"ids",refInFor:!0,attrs:{name:"ids",type:"checkbox",label:e.name,id:"author_"+e.id},domProps:{value:e.id}}),a("label",{attrs:{for:"author_"+e.id}},[t._v(t._s(e.name))])])}))]),a("div",{staticClass:"div dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.choiceDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.choiceAuthor}},[t._v("确定")])],1)]),a("el-dialog",{attrs:{visible:t.creatDialog,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.creatDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"创建"+t.title,name:"detail"}})],1)],1),a("form",{staticClass:"authorInfo"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("姓名:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.creatAuthorInfo.name,expression:"creatAuthorInfo.name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:t.creatAuthorInfo.name},on:{input:function(e){e.target.composing||t.$set(t.creatAuthorInfo,"name",e.target.value)}}})])]),a("div",{staticClass:"div dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.creatDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveAuthor}},[t._v("确定")])],1)]),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("ISBN:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.ISBN||t.information.book_isbn,expression:"information.ISBN||information.book_isbn"}],ref:"isbn",staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.ISBN||t.information.book_isbn},on:{input:function(e){e.target.composing||t.$set(t.information.ISBN||t.information,"book_isbn",e.target.value)}}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.syncInfo}},[t._v("同步")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：250*140px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("form",{staticClass:"readForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*标签:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.tag},on:{input:function(e){e.target.composing||t.$set(t.xRead,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.author},on:{input:function(e){e.target.composing||t.$set(t.xRead,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("元数据:")]),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]),t.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"2"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("绝版:")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"out_print",label:"1",disabled:t.readOnly},model:{value:t.out_print,callback:function(e){t.out_print=e},expression:"out_print"}},[t._v("是")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"out_print",label:"2",disabled:t.readOnly},model:{value:t.out_print,callback:function(e){t.out_print=e},expression:"out_print"}},[t._v("否")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("是否有版:")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"have_print",label:"1",disabled:t.readOnly},model:{value:t.have_print,callback:function(e){t.have_print=e},expression:"have_print"}},[t._v("是")]),a("el-radio",{staticClass:"el-radio",attrs:{name:"have_print",label:"2",disabled:t.readOnly},model:{value:t.have_print,callback:function(e){t.have_print=e},expression:"have_print"}},[t._v("否")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("el-select",{staticStyle:{"margin-right":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择",size:"small",name:"author",disabled:t.readOnly},model:{value:t.authorValue,callback:function(e){t.authorValue=e},expression:"authorValue"}},t._l(t.authorOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.addAuthor("作者")}}},[t._v("添加")])],1),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("译者:")]),a("el-select",{staticStyle:{"margin-right":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择",size:"small",name:"translator",disabled:t.readOnly},model:{value:t.translatorValue,callback:function(e){t.translatorValue=e},expression:"translatorValue"}},t._l(t.translatorOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.addAuthor("译者")}}},[t._v("添加")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主题词:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.subject_terms,expression:"retailers.subject_terms"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.subject_terms},on:{input:function(e){e.target.composing||t.$set(t.retailers,"subject_terms",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("读者对象:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.target_audience,expression:"retailers.target_audience"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.target_audience},on:{input:function(e){e.target.composing||t.$set(t.retailers,"target_audience",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("中图法分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.clc_category,expression:"retailers.clc_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.clc_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"clc_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("营销分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.cp_category,expression:"retailers.cp_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.cp_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"cp_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.describe,expression:"retailers.describe"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.describe},on:{input:function(e){e.target.composing||t.$set(t.retailers,"describe",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("编辑推荐:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.editor_recommend,expression:"retailers.editor_recommend"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.editor_recommend},on:{input:function(e){e.target.composing||t.$set(t.retailers,"editor_recommend",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("图书目录:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.book_directory,expression:"retailers.book_directory"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.book_directory},on:{input:function(e){e.target.composing||t.$set(t.retailers,"book_directory",e.target.value)}}})])])]):t._e(),a("el-tab-pane",{attrs:{name:"3"}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("收起"),a("i",{staticClass:"el-icon-arrow-up"})])])],1)],1),a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitInfo()}}},[t._v("保存")])],1)])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},566:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.hourInfoDialog?a("HourInfo",{ref:"info",attrs:{hourInfoDialog:t.hourInfoDialog,currentHour:t.currentHour,detailData:t.detailData,services:t.services,readOnly:t.readOnly},on:{"update:hourInfoDialog":function(e){t.hourInfoDialog=e},saveok:t.saveok,restList:t.restList}}):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("序号")]),a("th",[t._v("课时名称")]),a("th",[t._v("知识点简介")]),t.readOnly?t._e():a("th",[t._v("排序")]),a("th",{staticClass:"operate"},[t._v("操作")])])]),t.list?a("tbody",t._l(t.list,function(e,i){return a("tr",[a("td",[t._v(t._s(i+1)),a("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden",name:"ids"},domProps:{value:e.id}})]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.abs))]),t.readOnly?t._e():a("td",[0!=i?a("span",{staticClass:"icon el-icon-sort-up",attrs:{size:"mini",title:"上移"},on:{click:function(a){t.sort(e,"up")}}}):t._e(),i!=t.list.length-1?a("span",{staticClass:"icon el-icon-sort-down",attrs:{size:"mini",title:"下移"},on:{click:function(a){t.sort(e,"down")}}}):t._e()]),a("td",[a("div",{staticClass:"btns"},[a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){t.showHour(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){t.delChoosen(e.id)}}})])])])})):t._e()]),a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){t.showHour()}}},[t._v("新增课时")])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},567:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课程名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课程介绍:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*导师:")]),a("img",{staticClass:"previewImgUrl",attrs:{src:t.information.owenr_img_src||t.$config.userInfo.user.picture_absolute}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课程封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.information.img_src||t.previewImgUrl}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：250*140px")])])]),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$emit("close")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitInfo()}}},[t._v("保存")])],1)])])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},568:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：250*140px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.author},on:{input:function(e){e.target.composing||t.$set(t.xRead,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.tag},on:{input:function(e){e.target.composing||t.$set(t.xRead,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("元数据:")]),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,disabled:t.readOnly,readOnly:t.readOnly}})],1)])])],1)],1)])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},569:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*产品名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*内容简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{maxlength:t.$config.ABS_MAX_LENGTH,type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*设置封面:")]),t.readOnly?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.$refs.fenmian.click()}}},[t._v("上传")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){t.previewImg(e)}}})],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}})]),a("p",{staticClass:"imgSizeWrap"},[a("span",{staticClass:"imgSize"},[t._v("建议图片大小：250*140px")])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"1"}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.tag,expression:"xRead.tag"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.tag},on:{input:function(e){e.target.composing||t.$set(t.xRead,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("作者:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.xRead.author,expression:"xRead.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.xRead.author},on:{input:function(e){e.target.composing||t.$set(t.xRead,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("元数据:")]),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)]),t.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"2"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主题词:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.subject_terms,expression:"retailers.subject_terms"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.subject_terms},on:{input:function(e){e.target.composing||t.$set(t.retailers,"subject_terms",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("读者对象:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.target_audience,expression:"retailers.target_audience"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.target_audience},on:{input:function(e){e.target.composing||t.$set(t.retailers,"target_audience",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("中图法分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.clc_category,expression:"retailers.clc_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.clc_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"clc_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("营销分类:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.retailers.cp_category,expression:"retailers.cp_category"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.cp_category},on:{input:function(e){e.target.composing||t.$set(t.retailers,"cp_category",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.describe,expression:"retailers.describe"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.describe},on:{input:function(e){e.target.composing||t.$set(t.retailers,"describe",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("编辑推荐:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.retailers.editor_recommend,expression:"retailers.editor_recommend"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.retailers.editor_recommend},on:{input:function(e){e.target.composing||t.$set(t.retailers,"editor_recommend",e.target.value)}}})])])]):t._e()],1)],1),t.readOnly?t._e():a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$emit("close")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitDetail("detailForm")}}},[t._v("保存")])],1)])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},570:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系ID:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.link_id,expression:"information.link_id"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.link_id},on:{input:function(e){e.target.composing||t.$set(t.information,"link_id",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系简介:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.author,expression:"information.author"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.author},on:{input:function(e){e.target.composing||t.$set(t.information,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*套系类别:")]),a("el-select",{attrs:{maxlength:"20",disabled:t.readOnly},model:{value:t.information.category_name,callback:function(e){t.$set(t.information,"category_name",e)},expression:"information.category_name"}},t._l(t.types,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}))],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*类别编号:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required' }"},{name:"model",rawName:"v-model",value:t.information.category_code,expression:"information.category_code"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",disabled:t.readOnly},domProps:{value:t.information.category_code},on:{input:function(e){e.target.composing||t.$set(t.information,"category_code",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*栏目一:")]),a("el-checkbox-group",{attrs:{disabled:t.readOnly,min:1,max:100},model:{value:t.checkedSeries,callback:function(e){t.checkedSeries=e},expression:"checkedSeries"}},t._l(t.series,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.name}},[t._v(t._s(e.name))])}))],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("封面:")]),a("img",{attrs:{src:t.previewImgUrl||t.information.img_src}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("设置封面：")]),a("label",[t.readOnly?t._e():a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.$refs.cover.click()}}},[t._v("修改")]),a("input",{ref:"cover",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){t.previewImg(e)}}})],1)])])]),t.readOnly?t._e():a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.$emit("close")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitInfo("detailForm")}}},[t._v("确定")])],1)])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},571:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.infoDialog?a("ContentDetail",{attrs:{infoData:t.infoData,infoDialog:t.infoDialog,mediaType:t.mediaType},on:{"update:infoDialog":function(e){t.infoDialog=e}}}):t._e(),t.groupDialog?a("Group",{ref:"group",attrs:{item:t.currentItem,detailData:t.detailData,groupDialog:t.groupDialog,onlyShow:t.readOnly},on:{"update:groupDialog":function(e){t.groupDialog=e},open:t.openResources,detail:t.detail,del:t.del,save:t.saveAudioOK}}):t._e(),t.bookDialog?a("Book",{attrs:{item:t.currentItem,detailData:t.detailData,optional:t.optional,bookDialog:t.bookDialog,readOnly:t.readOnly},on:{"update:bookDialog":function(e){t.bookDialog=e},saveok:t.saveOk}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.detailAddDialog,width:"1200px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.detailAddDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("el-tabs",{attrs:{value:"detail"}},[a("el-tab-pane",{attrs:{label:"添加",name:"detail"}})],1)],1),a("el-form",{staticClass:"addBookForm"},[a("div",{staticClass:"serachWrap"},[a("form",{attrs:{id:"detailSearchForm"}},[a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:"输入名称",name:"name",id:"text"}}),a("span",{staticClass:"clear",on:{click:function(e){t.clear()}}},[t._v("x")])]),a("span",{staticClass:"group-inline"},[a("input",{staticClass:"form-control",attrs:{placeholder:"输入标签",name:"tag",id:"text2"}}),a("span",{staticClass:"clear2",on:{click:function(e){t.clear2()}}},[t._v("x")])]),a("span",{staticClass:"group-inline"},[a("TimePick",{attrs:{inputsName:["start_time","end_time"]}})],1),a("span",{staticClass:"group-inline right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:t.query}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.addSelection}},[t._v("添加选中")])],1)])]),a("table",{staticClass:"table",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",{attrs:{width:"80"}},[t.singleElection?a("input",{attrs:{type:"checkbox"},on:{click:function(e){t.checkAll(e,"addBookForm")}}}):t._e(),a("span",{domProps:{textContent:t._s(t.singleElection?"全选":"选择")}})]),a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("类型")]),a("th",[t._v("创建时间")])])]),t.dataList.length?a("tbody",t._l(t.dataList,function(e,i){return a("tr",[a("td",[a("input",{ref:"ids",refInFor:!0,attrs:{type:"checkbox","data-type":e.status,name:"ids"},domProps:{value:e.id,checked:t.isChecked(e.id)},on:{click:t.uncheckedAll}})]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.tag))]),a("td",[t._v(t._s(e.type_name))]),a("td",[t._v(t._s(e.create_time))])])})):t._e()]),t.page?a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{small:!1,background:"","current-page":t.page.num,"page-sizes":[10,50,100],"page-size":t.page.offset,layout:"total, sizes,prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.detailAddDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addSelection}},[t._v("确定")])],1)],1),a("el-tabs",{staticClass:"release-tab",attrs:{type:"border-card",value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"纸质书籍",name:"book"}},[a("Tab",{ref:"book",attrs:{dataType:"book",defaultList:t.defaultBList,detailData:t.detailData,isLabelHide:!0,onlyShow:t.readOnly},on:{detail:t.detail,del:t.del}}),t.isShowBtn&&!t.readOnly?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.addBook()}}},[t._v("新增")]):t._e()],1),a("el-tab-pane",{attrs:{label:"电子书",name:"e-book"}},[a("EBook",{ref:"ebook",attrs:{defaultData:t.defaultEList,detailData:t.detailData,readOnly:t.readOnly},on:{open:t.openResources}})],1),a("el-tab-pane",{attrs:{label:"听读",name:"audio"}},[a("Audio",{ref:"audio",attrs:{detailData:t.detailData,defaultData:t.defaultAList,readOnly:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.addVideo()}}},[t._v("新增组")])],1),a("el-tab-pane",{attrs:{label:"视读",name:"video"}},[a("Tab",{ref:"video",attrs:{dataType:"video",defaultList:t.defaultVList,detailData:t.detailData,onlyShow:t.readOnly},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.openResources("5")}}},[t._v("新增")])],1),a("el-tab-pane",{attrs:{label:"资源",name:"resource"}},[a("Tab",{ref:"resource",attrs:{dataType:"resource",defaultList:t.defaultRList,detailData:t.detailData,onlyShow:t.readOnly,isShow:!0},on:{detail:t.detail,del:t.del}}),t.readOnly?t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.openResources("14")}}},[t._v("新增")])],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},572:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.bookDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:t.setTitle,name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm rowWrap"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息(必填)")])]),a("div",{staticClass:"left"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{name:"name",type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("ISBN:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.book_isbn,expression:"information.book_isbn"}],ref:"isbn",staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.book_isbn},on:{input:function(e){e.target.composing||t.$set(t.information,"book_isbn",e.target.value)}}}),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{type:"primary",size:"small"},on:{click:t.syncInfo}},[t._v("同步")])],1),t.optional.length?a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("类型:")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("paperback")||t.readOnly,label:"paperback"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("平装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("hardcover")||t.readOnly,label:"hardcover"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("精装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("soft_hardcover")||t.readOnly,label:"soft_hardcover"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("软精装")]),a("el-radio",{staticClass:"el-radio",attrs:{disabled:t.isShow("thread_bound")||t.readOnly,label:"thread_bound"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("线装")])],1):t._e(),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.price,expression:"information.price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.price},on:{input:function(e){e.target.composing||t.$set(t.information,"price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("最低定价:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.sales_price_min,expression:"information.sales_price_min"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.sales_price_min},on:{input:function(e){e.target.composing||t.$set(t.information,"sales_price_min",e.target.value)}}}),a("span",[t._v(" 元")])])]),a("div",{staticClass:"right"},[a("img",{staticClass:"previewImgUrl",attrs:{src:t.previewImgUrl||t.information.img_src}}),a("input",{attrs:{type:"hidden",name:"img"},domProps:{value:t.information.img}}),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary",plain:""},on:{click:function(e){t.$refs.fenmian.click()}}},[t._v("选择封面")]),a("input",{ref:"fenmian",staticClass:"hide",attrs:{type:"file",accept:"image/jpeg,image/jpg,image/png"},on:{change:function(e){t.previewImg(e)}}})],1),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("ISBN扩展:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.book_isbn_extension,expression:"information.book_isbn_extension"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.book_isbn_extension},on:{input:function(e){e.target.composing||t.$set(t.information,"book_isbn_extension",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("图书重量:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.information.book_weight,expression:"information.book_weight"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.book_weight},on:{input:function(e){e.target.composing||t.$set(t.information,"book_weight",e.target.value)}}}),a("span",[t._v(" KG")])]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},573:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("基本信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*关联书籍:")]),a("img",{staticClass:"previewImgUrl",attrs:{src:t.information.img_src||t.information.constitute_img_src}}),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary"},on:{click:function(e){t.$emit("open","1")}}},[t._v("关联")])],1),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*作者:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.author,expression:"information.author"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.author},on:{input:function(e){e.target.composing||t.$set(t.information,"author",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*类型:")]),a("span",{staticClass:"types"},[a("span",[t._v(" "+t._s(t.information.type_name))]),a("span",[t._v(" 创建时间: "+t._s(t.information.create_time))])])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{rows:"3",type:"text",maxlength:t.$config.ABS_MAX_LENGTH,disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}}),a("span",{staticStyle:{"vertical-align":"bottom",color:"#606266","font-size":"12px"}},[t._v("您还可以输入"+t._s(t.$config.ABS_MAX_LENGTH-(t.information.abs?t.information.abs.length:0)))])])]),a("div",{staticClass:"info"},[a("el-tabs",{staticClass:"tabs-nav restBody",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"x-read信息",name:"first"}},[a("form",{staticClass:"readForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:t.metadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]),t.$config.isShowRetailers?a("el-tab-pane",{attrs:{label:"电商信息",name:"second"}},[a("form",{staticClass:"commerceForm"},[a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("必填信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("定价:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.sale_price,expression:"ebook_shop.sale_price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.sale_price},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"sale_price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("最低定价:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.min_sale_price,expression:"ebook_shop.min_sale_price"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.min_sale_price},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"min_sale_price",e.target.value)}}}),a("span",[t._v(" 元")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容阅读地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.read_url,expression:"ebook_shop.read_url"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.read_url},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"read_url",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("其他信息")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("内容试读地址:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ebook_shop.trial_url,expression:"ebook_shop.trial_url"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.ebook_shop.trial_url},on:{input:function(e){e.target.composing||t.$set(t.ebook_shop,"trial_url",e.target.value)}}})]),a("div",{staticClass:"group line"},[a("div",{staticClass:"label"},[t._v("元数据")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("MetaData",{attrs:{metadata:t.shopMetadata,isShowBtn:!1,readOnly:t.readOnly}})],1)])]):t._e(),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("收起"),a("i",{staticClass:"el-icon-arrow-up"})])])],1)],1),t.book_id?a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submit("detailForm")}}},[t._v("保存")])],1):t._e()])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},574:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("AddResource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:[],type:"20",isShowType:!0},on:{"update:resourceDialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":function(e){t.$emit("handleClick")}}},[a("el-tab-pane",{attrs:{label:"指导案例",name:"example"}},[a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("编号")])])]),a("tbody",t._l(t.resList1,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.number))])])}))])])]),a("el-tab-pane",{attrs:{label:"栏目",name:"column"}},[a("div",{staticClass:"tableWrap"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("编号")])])]),a("tbody",t._l(t.resList2,function(e){return a("tr",[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.number))])])}))])])])],1),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.resourceDialog=!0}}},[t._v("新增")])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},575:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.planInfoDialog?a("planInfo",{attrs:{planInfoDialog:t.planInfoDialog,currentPlan:t.currentPlan,currentHour:t.currentHour,services:t.services,readOnly:t.readOnly,detailData:t.detailData},on:{"update:planInfoDialog":function(e){t.planInfoDialog=e},saveok:function(e){t.$emit("restList")}}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.hourInfoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"课时",name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*课时名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*知识点简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*教学计划:")]),!t.readOnly&&t.information.id?a("el-button",{staticClass:"el-icon-plus",staticStyle:{float:"right"},attrs:{size:"small",plain:"",type:"primary"},on:{click:function(e){t.showPlan()}}},[t._v("新增计划")]):t._e(),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("序号")]),a("th",[t._v("计划名称")]),t.readOnly?t._e():a("th",[t._v("排序")]),a("th",{staticClass:"operate"},[t._v("操作")])])]),t.information.teaching_plan?a("tbody",t._l(t.information.teaching_plan,function(e,i){return a("tr",[a("td",[t._v(t._s(i+1)),a("input",{ref:"ids",refInFor:!0,attrs:{type:"hidden",name:"ids"},domProps:{value:e.id}})]),a("td",[t._v(t._s(e.name))]),t.readOnly?t._e():a("td",[a("span",{staticClass:"icon el-icon-sort-up",attrs:{size:"mini",title:"上移"}}),a("span",{staticClass:"icon el-icon-sort-down",attrs:{size:"mini",title:"下移"}})]),a("td",[a("div",{staticClass:"btns"},[a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){t.showPlan(e)}}}),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){t.delChoosen(e.id)}}})])])])})):t._e()])],1)])])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.submitInfo}},[t._v("确定")])],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},576:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{ref:"resource",attrs:{type:"19",parameter:t.parameter,resourceDialog:t.resourceDialog,curSoucesList:t.curSoucesList,isShowSearch:!0},on:{"update:resourceDialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),t.detailDialog?a("Examinations",{attrs:{detailDialog:t.detailDialog,currentDate:t.currentDate},on:{"update:detailDialog":function(e){t.detailDialog=e},save:t.saveExamin}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.exerciseDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a("div",{staticClass:"total-score"},[t._v("总分 "),a("span",[t._v(t._s(t.totalScore))])]),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"习题",name:"ff"}})],1)],1),a("div",{staticClass:"content"},[a("ul",{staticClass:"exerciseInfo"},t._l(t.exerciseList,function(e,i){return a("li",[a("div",{staticClass:"top"},[a("span",{staticClass:"title"},[t._v("第"+t._s(t._f("numberToChinese")(i+1))+"题")]),a("span",{staticClass:"score"},[t._v(t._s(e.score)+"分")]),a("span",{staticClass:"name"},[t._v(t._s(e.type_name))]),"subjective_item"!=e.type?a("span",{staticClass:"answer"},[t._v("正确答案："+t._s(t.getAnswer(e)))]):t._e()]),a("div",{staticClass:"exercise"},[a("div",{staticClass:"title"},[t._v("题目："+t._s(e.question))]),"single"==e.type||"multi"==e.type?a("ul",{staticClass:"options"},t._l(e.option,function(e,i){return a("li",[a("span",[t._v(t._s(t._f("numberToLetter")(i)))]),a("span",[t._v(t._s(e.title))])])})):t._e()]),a("div",{staticClass:"relation"},[a("ul",[a("span",{staticClass:"title"},[t._v("课时计划链接")]),t._l(e.tp_constitute_info,function(n){return a("li",[a("span",[t._v(t._s(n.teaching_plan_info||n.tag)+" ")]),a("span",[t._v(t._s(n.resource_name||n.name)+" ")]),a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){t.delConstitute(n,e,i)}}})])})],2)]),a("div",{staticClass:"analysis"},[a("div",{staticClass:"title"},[t._v("【解析】: "+t._s(e.analysis))])]),t.readOnly?t._e():a("div",{staticClass:"operation"},[a("span",{staticClass:"icon icon-detail",attrs:{size:"mini",title:"详情",type:"primary",plain:""},on:{click:function(a){t.detail(e,i)}}}),a("span",{staticClass:"icon icon-link",attrs:{size:"mini",title:"添加课时计划链接",type:"primary",plain:""},on:{click:function(a){t.add(e,i)}}}),a("span",{staticClass:"icon icon-delete",attrs:{size:"mini",title:"删除",type:"primary",plain:""},on:{click:function(a){t.del(e,i)}}}),0!=i?a("span",{staticClass:"icon el-icon-sort-up",attrs:{size:"mini",title:"上移"},on:{click:function(a){t.sort(e,"up")}}}):t._e(),i!=t.exerciseList.length-1?a("span",{staticClass:"icon el-icon-sort-down",attrs:{size:"mini",title:"下移"},on:{click:function(a){t.sort(e,"down")}}}):t._e()])])})),a("div",{staticClass:"btns"},[t.readOnly?t._e():a("el-button",{staticClass:"el-icon-plus",attrs:{size:"small",type:"primary"},on:{click:function(e){t.detail()}}},[t._v("新增题目")])],1)]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.saveInfo}},[t._v("确定")])],1)])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},577:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[t.resourceDialog?a("Resource",{attrs:{resourceDialog:t.resourceDialog,curSoucesList:t.information.resources,singleElection:!0,isShowType:!0,isShowResource:!0,parameter:t.parameter},on:{"update:resourceDialog":function(e){t.resourceDialog=e},select:t.addSelcet}}):t._e(),a("el-dialog",{staticClass:"restBody2",attrs:{center:!1,visible:t.planInfoDialog,top:"50px",width:"1200px","show-close":!1,"append-to-body":""}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a("el-tabs",{attrs:{value:"ff"}},[a("el-tab-pane",{attrs:{label:"计划",name:"ff"}})],1)],1),a("VaForm",{ref:"detailForm"},[a("form",{staticClass:"detailForm"},[a("fieldset",{attrs:{disabled:t.readOnly}},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*名称:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.name,expression:"information.name"}],staticClass:"form-control",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.name},on:{input:function(e){e.target.composing||t.$set(t.information,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*简介:")]),a("textarea",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.abs,expression:"information.abs"}],staticClass:"textarea",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.abs},on:{input:function(e){e.target.composing||t.$set(t.information,"abs",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("*学习时长:")]),a("input",{directives:[{name:"va",rawName:"v-va",value:{type:"required"},expression:"{ type:'required'}"},{name:"model",rawName:"v-model",value:t.information.time,expression:"information.time"}],staticClass:"form-control time",attrs:{type:"text",disabled:t.readOnly},domProps:{value:t.information.time},on:{input:function(e){e.target.composing||t.$set(t.information,"time",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("资源")]),a("ul",{staticClass:"preview"},t._l(t.information.resources,function(e){return a("li",[a("img",{staticClass:"previewImgUrl",attrs:{src:e.img_src||e.preview_path}}),a("p",{staticClass:"name",attrs:{title:e.name}},[t._v(t._s(e.name))]),t.readOnly?t._e():a("span",{staticClass:"icon icon-delete",attrs:{title:"删除"},on:{click:function(a){t.delChoosen(e.id)}}})])})),t.readOnly?t._e():a("el-button",{staticClass:"margin",attrs:{size:"mini",type:"primary"},on:{click:function(e){t.relation()}}},[t._v("关联")])],1)])])]),a("div",{staticClass:"footer dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")]),t.readOnly?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.submitInfo}},[t._v("确定")])],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},733:function(t,e,a){"use strict";a.r(e);var i=a(734),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e.default=n.a},734:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(a(3)),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=(d(a(82)),d(a(155))),s=d(a(154)),o=d(a(735)),l=c(a(952)),u=(c(a(123)),a(122));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}function f(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function i(n,r){try{var s=e[n](r),o=s.value}catch(t){return void a(t)}if(!s.done)return Promise.resolve(o).then(function(t){i("next",t)},function(t){i("throw",t)});t(o)}("next")})}}e.default={mixins:[u.publicMixin,u.getIconStyle],data:function(){return{pageList:[],page:null,query:null,timeValue:null,detailVisible:!1,detailValue:"detail",item:null,roleInfo:{value:"",roleList:[{name:"融合发布库产品",value:"4"},{name:"主题产品",value:"1"},{name:"文章推送产品",value:"2"},{name:"视读产品",value:"5"},{name:"听读产品",value:"6"},{name:"课件产品",value:"3"}]},detailData:{id:null,detail:{},metadata:{}},isShowAuthor:!1,productType:null,detailType:null}},methods:{getList:function(){var t=f(i.default.mark(function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page&&this.page.num||1,r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.page&&this.page.offset||10,o=arguments[2];return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n({pageNum:a,pageOffset:s},o,{type:this.roleInfo.value}),t.next=3,l.listAudit(e).then(function(t){r.page=t.page,r.pageList=t.data});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),clear:function(){document.getElementById("text").value=""},clear2:function(){document.getElementById("text2").value=""},clear3:function(){document.getElementById("text3").value=""},handeler:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];a.length||Array.from(document.querySelectorAll("[name='checkbox']:checked")).forEach(function(t){a.push(t.value)});var n,r="pass"==t?"通过":"驳回";if(!a.length)return this.$message.error("请确认你要"+r+"的内容！");this.$confirm("是否确认"+r+"？").then((n=f(i.default.mark(function n(r){var s,o,u;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s="pass"==t?l.auditPass:l.auditReject,n.next=4,s({id:a}).then(function(t){e.$message.success("成功");var i=e.page,n=i.total,r=i.start,s=i.num;n-a.length==r&&(e.page.num=r?s-1:1),e.getList()});case 4:n.next=16;break;case 6:n.prev=6,n.t0=n.catch(0),o=n.t0.payload,n.t1=i.default.keys(o.messages);case 10:if((n.t2=n.t1()).done){n.next=16;break}return u=n.t2.value,e.$message.error(o.messages[u]),n.abrupt("break",16);case 16:case"end":return n.stop()}},n,e,[[0,6]])})),function(t){return n.apply(this,arguments)})).catch(function(t){})}},components:{Menu:r.default,Top:s.default,Detail:o.default}}},735:function(t,e,a){"use strict";a.r(e);var i=a(842),n=a(493);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(745);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"cbef30ac",null);o.options.__file="readOnlyDetail.vue",e.default=o.exports},743:function(t,e,a){"use strict";a.r(e);var i=a(844),n=a(497);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(744);var s=a(0),o=Object(s.a)(n.default,i.a,i.b,!1,null,"e41ba780",null);o.options.__file="detail.vue",e.default=o.exports},744:function(t,e,a){"use strict";var i=a(499);a.n(i).a},745:function(t,e,a){"use strict";var i=a(500);a.n(i).a},746:function(t,e,a){},842:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"readOnlyDetail"},[a("el-dialog",{attrs:{width:"1000px",visible:t.detailVisible,top:"50px","show-close":!1},on:{"update:visible":function(e){t.detailVisible=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"el-icon-close",on:{click:t.colse}}),a(t.currComp(),{tag:"component",attrs:{type:t.detailDialoaType,defaultData:t.defaultData,readOnly:!0,detailType:t.detailType,media:6==t.type?1:2}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:t.colse}},[t._v("取消")])],1)])],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},844:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div"},[a("el-dialog",{attrs:{visible:t.infoDialog,width:"1000px",top:"50px","append-to-body":""},on:{"update:visible":function(e){t.infoDialog=e}}},[a("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[a("Info",{attrs:{type:t.infoValue,infoDialog:t.infoDialog,infoData:t.infoData},on:{infoClick:t.infoHandleClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.infoDialog=!1}}},[t._v("取消")])],1)]),a("el-tabs",{attrs:{value:t.type},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"详情",name:"info"}},[a("div",{staticClass:"div"},[a("form",{ref:"detailForm",staticClass:"detailForm"},[a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("名称:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailData.base.name,expression:"detailData.base.name"}],staticClass:"form-control",attrs:{name:"name",type:"text",disabled:""},domProps:{value:t.detailData.base.name},on:{blur:t.$vali,input:function(e){e.target.composing||t.$set(t.detailData.base,"name",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("标签:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailData.base.tag,expression:"detailData.base.tag"}],staticClass:"form-control",attrs:{name:"label",type:"text",disabled:""},domProps:{value:t.detailData.base.tag},on:{input:function(e){e.target.composing||t.$set(t.detailData.base,"tag",e.target.value)}}})]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("简介:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.detailData.base.abs,expression:"detailData.base.abs"}],staticClass:"textarea",attrs:{name:"intro",type:"text",disabled:""},domProps:{value:t.detailData.base.abs},on:{input:function(e){e.target.composing||t.$set(t.detailData.base,"abs",e.target.value)}}})]),a("div",{staticClass:"group fenmian"},[a("div",{staticClass:"label"},[t._v("封面:")]),a("div",{staticClass:"wrap"},[a("img",{staticClass:"previewImgUrl",attrs:{src:t.detailData.base.img_src,alt:"暂无图片"}})])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"},[t._v("主题构成:")])]),a("div",{staticClass:"group"},[a("div",{staticClass:"label"}),a("div",{staticClass:"tableBox"},[a("table",{staticClass:"table border",attrs:{width:"100%"}},[a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("标签")]),a("th",[t._v("作者")]),a("th",[t._v("发布时间")]),a("th",{attrs:{width:"30"}},[t._v("详情")])])]),a("tbody",t._l(t.detailData.components,function(e,i){return a("tr",[a("td",{domProps:{textContent:t._s(e.content.name)}}),a("td",{domProps:{textContent:t._s(e.content.tag)}}),a("td",{domProps:{textContent:t._s(e.content.author)}}),a("td",{domProps:{textContent:t._s(e.content.create_time)}}),a("td",[a("span",{staticClass:"icon icon-detail",attrs:{title:"详情",type:"primary",size:"mini",plain:""},on:{click:function(a){t.bookDetailInfo(e,e.content.type,"info")}}})])])}))])])])])])]),a("el-tab-pane",{attrs:{label:"元数据",name:"metadata"}},[a("div",{staticClass:"meta"},t._l(t.detailData.attributes,function(e,i){return a("div",{staticClass:"group rowWrap"},[a("span",{domProps:{textContent:t._s(i+1)}}),a("span",{staticClass:"left",domProps:{textContent:t._s(e.key)}}),a("span",{staticClass:"centet",domProps:{textContent:t._s(e.name)}}),a("span",{staticClass:"right",domProps:{textContent:t._s(e.value)}})])}))]),a("el-tab-pane",{attrs:{label:"知识点",name:"Knowledge"}},[t.gList?a("div",{staticClass:"KnowledgeWrap"},[a("ul",{staticClass:"left"},t._l(t.gList,function(e){return a("li",{on:{click:function(a){t.handKnowledgeClick(e)}}},[t._v(t._s(e.name))])})),a("div",{staticClass:"right"},[a("p",{staticClass:"name",domProps:{textContent:t._s(t.currGroup.name)}}),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("知识点名称")]),a("th",[t._v("数量")]),a("th",[t._v("创建时间")])])]),a("tbody",t._l(t.list,function(e){return a("tr",[a("th",[t._v(t._s(e.name))]),a("th",[t._v(t._s(e.num))]),a("th",[t._v(t._s(e.create_time))])])}))])])]):t._e()])],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},952:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modifyAudit=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,a=function(t,e){var a={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}(t,["id"]);return(0,n.request_get)(s({id:e}),a)},e.addOneAudit=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/audits",t)},e.listAudit=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_get)("/api/audits",t)},e.auditPass=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/audits/pass",t)},e.auditReject=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.request_post)("/api/audits/reject",t)};var i,n=a(4),r=a(8);var s=((i=r)&&i.__esModule?i:{default:i}).default.compile("/api/audits/:id")},953:function(t,e,a){"use strict";var i=a(746);a.n(i).a}}]);